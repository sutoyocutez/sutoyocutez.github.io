const __vite__fileDeps=["assets/Error404-CLdvFoxr.js","assets/reachHideWarning-BuDFsbAY.js","assets/reachHideWarning-BI6Ru80y.css","assets/Error500-Bp7gnC2_.js","assets/Login-lBQk8Jp9.js","assets/ui-5y7KCIwL.js","assets/slugify-qXYEE26i.js","assets/send-BYHlx9KJ.js","assets/moment-DknGAOAq.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var nl=Object.defineProperty;var ol=(tr,Ot,Nt)=>Ot in tr?nl(tr,Ot,{enumerable:!0,configurable:!0,writable:!0,value:Nt}):tr[Ot]=Nt;var Li=(tr,Ot,Nt)=>(ol(tr,typeof Ot!="symbol"?Ot+"":Ot,Nt),Nt);import{r as reactExports,t as t$2,P as PropTypes,z as getDefaultExportFromCjs,a2 as ReactDOM,j as jsxRuntimeExports,a3 as getAugmentedNamespace,K as commonjsGlobal,a4 as propTypesExports,a5 as useLocation,b as useDispatch,a as useSelector,a6 as contentSlice,A as settingSlice,a7 as addListener,a8 as defaultFooter,a9 as process$1,aa as useNavigate,h as crc32id,ab as explorerSlice,ac as Buffer,u as useLoaderData,L as Link,O as Outlet,ad as Navigate,d as createHashRouter,e as createRoutesFromChildren,g as RouterProvider,R as Route,Z as client$1,_ as Provider_default,$ as store,a0 as PersistGate,a1 as persistor}from"./reachHideWarning-BuDFsbAY.js";import{n as getDoc,o as doc$1,p as firebase,_ as _objectWithoutPropertiesLoose$v,q as createChainedFunction,r as _extends$v,t as classNames,u as useEventCallback,x as useUncontrolledProp,y as qsa,z as useForceUpdate,A as useBootstrapPrefix,S as SelectableContext,N as NavContext,B as makeEventKey,C as SafeAnchor,D as useMergedRefs,E as Button,G as createWithBsPrefix,H as useUncontrolled,I as AbstractNavItem,J as context$1,K as AbstractNav,T as TabContext,O as dataURItoBlob,P as getTemplate,Q as TranslatableString,R as global,U as customizeValidator,F as Form,V as DBGitSingle,c as createGit,l as footerSchema,m as footerUiSchema,W as __assign$2,X as __spreadArray,Y as DBGit,Z as gitInstance,w as welcomeMessageSchema,k as welcomeMessageUiSchema,M as MCompany,a as companySchema,f as contactPersonSchema,s as socialNetworkLinkSchema,b as companyUiSchema,g as contactPersonUiSchema,j as socialNetworkLinkUiSchema,h as galerySchema,i as galeryUiSchema,$ as safeBufferExports,a0 as inherits_browserExports,a1 as require$$1$3,a2 as hash$4,a3 as sha1$1,a4 as FormImpl,d as beritaSchema,e as beritaUiSchema,a5 as base64,L as LoadingDot}from"./ui-5y7KCIwL.js";import{n as arrayToBlockData,i as isBlockData,B as BlockData,c as asc,e as desc,f as eq,h as and,l as like,o as or,j as count,d as drizzle,b as schema,m as calculateTotalPages,k as calculateOffset,a as BeritaSchema,s as slugify,p as sql,q as inArray,g as getBlocksReadingTime,P as ProdukSchema,U as User}from"./slugify-qXYEE26i.js";import{b as buildExports,S as Send}from"./send-BYHlx9KJ.js";import{c as commonjsRequire,h as hooks}from"./moment-DknGAOAq.js";function _extends$u(){return _extends$u=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$u.apply(this,arguments)}function _objectWithoutProperties$u(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$u(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$u(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Archive=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$u(tr,["color","size"]);return t$2.createElement("svg",_extends$u({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("polyline",{points:"21 8 21 21 3 21 3 8"}),t$2.createElement("rect",{x:"1",y:"3",width:"22",height:"5"}),t$2.createElement("line",{x1:"10",y1:"12",x2:"14",y2:"12"}))});Archive.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Archive.displayName="Archive";function _extends$t(){return _extends$t=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$t.apply(this,arguments)}function _objectWithoutProperties$t(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$t(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$t(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Check=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$t(tr,["color","size"]);return t$2.createElement("svg",_extends$t({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("polyline",{points:"20 6 9 17 4 12"}))});Check.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Check.displayName="Check";function _extends$s(){return _extends$s=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$s.apply(this,arguments)}function _objectWithoutProperties$s(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$s(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$s(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var CloudDrizzle=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$s(tr,["color","size"]);return t$2.createElement("svg",_extends$s({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("line",{x1:"8",y1:"19",x2:"8",y2:"21"}),t$2.createElement("line",{x1:"8",y1:"13",x2:"8",y2:"15"}),t$2.createElement("line",{x1:"16",y1:"19",x2:"16",y2:"21"}),t$2.createElement("line",{x1:"16",y1:"13",x2:"16",y2:"15"}),t$2.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),t$2.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"17"}),t$2.createElement("path",{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"}))});CloudDrizzle.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};CloudDrizzle.displayName="CloudDrizzle";function _extends$r(){return _extends$r=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$r.apply(this,arguments)}function _objectWithoutProperties$r(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$r(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$r(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var CloudRain=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$r(tr,["color","size"]);return t$2.createElement("svg",_extends$r({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("line",{x1:"16",y1:"13",x2:"16",y2:"21"}),t$2.createElement("line",{x1:"8",y1:"13",x2:"8",y2:"21"}),t$2.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"23"}),t$2.createElement("path",{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"}))});CloudRain.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};CloudRain.displayName="CloudRain";function _extends$q(){return _extends$q=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$q.apply(this,arguments)}function _objectWithoutProperties$q(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$q(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$q(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var CloudSnow=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$q(tr,["color","size"]);return t$2.createElement("svg",_extends$q({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),t$2.createElement("line",{x1:"8",y1:"16",x2:"8.01",y2:"16"}),t$2.createElement("line",{x1:"8",y1:"20",x2:"8.01",y2:"20"}),t$2.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}),t$2.createElement("line",{x1:"12",y1:"22",x2:"12.01",y2:"22"}),t$2.createElement("line",{x1:"16",y1:"16",x2:"16.01",y2:"16"}),t$2.createElement("line",{x1:"16",y1:"20",x2:"16.01",y2:"20"}))});CloudSnow.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};CloudSnow.displayName="CloudSnow";function _extends$p(){return _extends$p=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$p.apply(this,arguments)}function _objectWithoutProperties$p(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$p(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$p(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Cloud=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$p(tr,["color","size"]);return t$2.createElement("svg",_extends$p({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"}))});Cloud.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Cloud.displayName="Cloud";function _extends$o(){return _extends$o=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$o.apply(this,arguments)}function _objectWithoutProperties$o(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$o(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$o(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Edit=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$o(tr,["color","size"]);return t$2.createElement("svg",_extends$o({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t$2.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});Edit.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Edit.displayName="Edit";function _extends$n(){return _extends$n=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$n.apply(this,arguments)}function _objectWithoutProperties$n(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$n(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$n(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Folder$2=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$n(tr,["color","size"]);return t$2.createElement("svg",_extends$n({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}))});Folder$2.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Folder$2.displayName="Folder";function _extends$m(){return _extends$m=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$m.apply(this,arguments)}function _objectWithoutProperties$m(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$m(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$m(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Grid=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$m(tr,["color","size"]);return t$2.createElement("svg",_extends$m({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),t$2.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),t$2.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),t$2.createElement("rect",{x:"3",y:"14",width:"7",height:"7"}))});Grid.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Grid.displayName="Grid";function _extends$l(){return _extends$l=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$l.apply(this,arguments)}function _objectWithoutProperties$l(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$l(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$l(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Image=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$l(tr,["color","size"]);return t$2.createElement("svg",_extends$l({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t$2.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),t$2.createElement("polyline",{points:"21 15 16 10 5 21"}))});Image.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Image.displayName="Image";function _extends$k(){return _extends$k=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$k.apply(this,arguments)}function _objectWithoutProperties$k(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$k(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$k(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var LogOut=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$k(tr,["color","size"]);return t$2.createElement("svg",_extends$k({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t$2.createElement("polyline",{points:"16 17 21 12 16 7"}),t$2.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}))});LogOut.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};LogOut.displayName="LogOut";function _extends$j(){return _extends$j=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$j.apply(this,arguments)}function _objectWithoutProperties$j(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$j(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$j(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Octagon=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$j(tr,["color","size"]);return t$2.createElement("svg",_extends$j({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}))});Octagon.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Octagon.displayName="Octagon";function _extends$i(){return _extends$i=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$i.apply(this,arguments)}function _objectWithoutProperties$i(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$i(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$i(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var PhoneCall=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$i(tr,["color","size"]);return t$2.createElement("svg",_extends$i({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))});PhoneCall.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};PhoneCall.displayName="PhoneCall";function _extends$h(){return _extends$h=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$h.apply(this,arguments)}function _objectWithoutProperties$h(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$h(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$h(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Plus=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$h(tr,["color","size"]);return t$2.createElement("svg",_extends$h({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t$2.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Plus.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Plus.displayName="Plus";function _extends$g(){return _extends$g=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$g.apply(this,arguments)}function _objectWithoutProperties$g(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$g(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$g(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var RefreshCcw=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$g(tr,["color","size"]);return t$2.createElement("svg",_extends$g({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("polyline",{points:"1 4 1 10 7 10"}),t$2.createElement("polyline",{points:"23 20 23 14 17 14"}),t$2.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});RefreshCcw.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};RefreshCcw.displayName="RefreshCcw";function _extends$f(){return _extends$f=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$f.apply(this,arguments)}function _objectWithoutProperties$f(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$f(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$f(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var RefreshCw=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$f(tr,["color","size"]);return t$2.createElement("svg",_extends$f({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("polyline",{points:"23 4 23 10 17 10"}),t$2.createElement("polyline",{points:"1 20 1 14 7 14"}),t$2.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}))});RefreshCw.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};RefreshCw.displayName="RefreshCw";function _extends$e(){return _extends$e=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$e.apply(this,arguments)}function _objectWithoutProperties$e(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$e(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$e(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Save=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$e(tr,["color","size"]);return t$2.createElement("svg",_extends$e({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),t$2.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),t$2.createElement("polyline",{points:"7 3 7 8 15 8"}))});Save.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Save.displayName="Save";function _extends$d(){return _extends$d=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$d.apply(this,arguments)}function _objectWithoutProperties$d(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$d(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$d(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var ShoppingBag=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$d(tr,["color","size"]);return t$2.createElement("svg",_extends$d({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),t$2.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t$2.createElement("path",{d:"M16 10a4 4 0 0 1-8 0"}))});ShoppingBag.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};ShoppingBag.displayName="ShoppingBag";function _extends$c(){return _extends$c=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$c.apply(this,arguments)}function _objectWithoutProperties$c(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$c(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$c(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Slack=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$c(tr,["color","size"]);return t$2.createElement("svg",_extends$c({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"}),t$2.createElement("path",{d:"M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),t$2.createElement("path",{d:"M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"}),t$2.createElement("path",{d:"M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"}),t$2.createElement("path",{d:"M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"}),t$2.createElement("path",{d:"M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"}),t$2.createElement("path",{d:"M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"}),t$2.createElement("path",{d:"M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"}))});Slack.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Slack.displayName="Slack";function _extends$b(){return _extends$b=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$b.apply(this,arguments)}function _objectWithoutProperties$b(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$b(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$b(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Table=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$b(tr,["color","size"]);return t$2.createElement("svg",_extends$b({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"}))});Table.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Table.displayName="Table";function _extends$a(){return _extends$a=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$a.apply(this,arguments)}function _objectWithoutProperties$a(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$a(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$a(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Trash=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$a(tr,["color","size"]);return t$2.createElement("svg",_extends$a({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("polyline",{points:"3 6 5 6 21 6"}),t$2.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))});Trash.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Trash.displayName="Trash";function _extends$9(){return _extends$9=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$9.apply(this,arguments)}function _objectWithoutProperties$9(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$9(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$9(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Trello=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$9(tr,["color","size"]);return t$2.createElement("svg",_extends$9({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t$2.createElement("rect",{x:"7",y:"7",width:"3",height:"9"}),t$2.createElement("rect",{x:"14",y:"7",width:"3",height:"5"}))});Trello.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Trello.displayName="Trello";function _extends$8(){return _extends$8=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$8.apply(this,arguments)}function _objectWithoutProperties$8(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$8(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$8(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Upload=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$8(tr,["color","size"]);return t$2.createElement("svg",_extends$8({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t$2.createElement("polyline",{points:"17 8 12 3 7 8"}),t$2.createElement("line",{x1:"12",y1:"3",x2:"12",y2:"15"}))});Upload.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Upload.displayName="Upload";function _extends$7(){return _extends$7=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$7.apply(this,arguments)}function _objectWithoutProperties$7(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$7(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$7(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Wind=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=Nt===void 0?"currentColor":Nt,rr=tr.size,ir=rr===void 0?24:rr,nr=_objectWithoutProperties$7(tr,["color","size"]);return t$2.createElement("svg",_extends$7({ref:Ot,xmlns:"http://www.w3.org/2000/svg",width:ir,height:ir,viewBox:"0 0 24 24",fill:"none",stroke:er,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},nr),t$2.createElement("path",{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"}))});Wind.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number])};Wind.displayName="Wind";const ROUTER_BASE$1="/",DEFAULT_DATA_URL="data:image/gif;name=DEFAULT_DATA_URL_FILENAME;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",BASE_URL$3="https://ponpeskanzululumcirebon.com",ENABLE_AUTH=!1,AUTH_BACKEND="firebase",CONFIG={ROUTER_BASE:ROUTER_BASE$1,DEFAULT_DATA_URL,BASE_URL:BASE_URL$3,ENABLE_AUTH,AUTH_BACKEND};var _excluded$m=["color","size","title","className"];function _extends$6(){return _extends$6=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$6.apply(this,arguments)}function _objectWithoutProperties$6(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$6(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$6(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var CaretDown=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=tr.size,rr=tr.title,ir=tr.className,nr=_objectWithoutProperties$6(tr,_excluded$m);return t$2.createElement("svg",_extends$6({ref:Ot,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:er,height:er,fill:Nt,className:["bi","bi-caret-down",ir].filter(Boolean).join(" ")},nr),rr?t$2.createElement("title",null,rr):null,t$2.createElement("path",{d:"M3.204 5h9.592L8 10.481zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659"}))});CaretDown.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.string,className:PropTypes.string};CaretDown.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var _excluded$l=["color","size","title","className"];function _extends$5(){return _extends$5=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$5.apply(this,arguments)}function _objectWithoutProperties$5(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$5(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$5(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var CaretRight=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=tr.size,rr=tr.title,ir=tr.className,nr=_objectWithoutProperties$5(tr,_excluded$l);return t$2.createElement("svg",_extends$5({ref:Ot,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:er,height:er,fill:Nt,className:["bi","bi-caret-right",ir].filter(Boolean).join(" ")},nr),rr?t$2.createElement("title",null,rr):null,t$2.createElement("path",{d:"M6 12.796V3.204L11.481 8zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753"}))});CaretRight.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.string,className:PropTypes.string};CaretRight.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var _excluded$k=["color","size","title","className"];function _extends$4(){return _extends$4=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$4.apply(this,arguments)}function _objectWithoutProperties$4(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$4(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$4(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var FilePlus=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=tr.size,rr=tr.title,ir=tr.className,nr=_objectWithoutProperties$4(tr,_excluded$k);return t$2.createElement("svg",_extends$4({ref:Ot,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:er,height:er,fill:Nt,className:["bi","bi-file-plus",ir].filter(Boolean).join(" ")},nr),rr?t$2.createElement("title",null,rr):null,t$2.createElement("path",{d:"M8.5 6a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V10a.5.5 0 0 0 1 0V8.5H10a.5.5 0 0 0 0-1H8.5z"}),t$2.createElement("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"}))});FilePlus.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.string,className:PropTypes.string};FilePlus.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var _excluded$j=["color","size","title","className"];function _extends$3(){return _extends$3=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$3.apply(this,arguments)}function _objectWithoutProperties$3(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$3(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$3(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var File$1=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=tr.size,rr=tr.title,ir=tr.className,nr=_objectWithoutProperties$3(tr,_excluded$j);return t$2.createElement("svg",_extends$3({ref:Ot,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:er,height:er,fill:Nt,className:["bi","bi-file",ir].filter(Boolean).join(" ")},nr),rr?t$2.createElement("title",null,rr):null,t$2.createElement("path",{d:"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1"}))});File$1.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.string,className:PropTypes.string};File$1.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var _excluded$i=["color","size","title","className"];function _extends$2(){return _extends$2=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$2.apply(this,arguments)}function _objectWithoutProperties$2(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$2(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$2(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var FolderPlus=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=tr.size,rr=tr.title,ir=tr.className,nr=_objectWithoutProperties$2(tr,_excluded$i);return t$2.createElement("svg",_extends$2({ref:Ot,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:er,height:er,fill:Nt,className:["bi","bi-folder-plus",ir].filter(Boolean).join(" ")},nr),rr?t$2.createElement("title",null,rr):null,t$2.createElement("path",{d:"m.5 3 .04.87a2 2 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2m5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19q-.362.002-.683.12L1.5 2.98a1 1 0 0 1 1-.98z"}),t$2.createElement("path",{d:"M13.5 9a.5.5 0 0 1 .5.5V11h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V12h-1.5a.5.5 0 0 1 0-1H13V9.5a.5.5 0 0 1 .5-.5"}))});FolderPlus.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.string,className:PropTypes.string};FolderPlus.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var _excluded$h=["color","size","title","className"];function _extends$1(){return _extends$1=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends$1.apply(this,arguments)}function _objectWithoutProperties$1(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose$1(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose$1(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Folder$1=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=tr.size,rr=tr.title,ir=tr.className,nr=_objectWithoutProperties$1(tr,_excluded$h);return t$2.createElement("svg",_extends$1({ref:Ot,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:er,height:er,fill:Nt,className:["bi","bi-folder",ir].filter(Boolean).join(" ")},nr),rr?t$2.createElement("title",null,rr):null,t$2.createElement("path",{d:"M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a2 2 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139q.323-.119.684-.12h5.396z"}))});Folder$1.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.string,className:PropTypes.string};Folder$1.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var _excluded$g=["color","size","title","className"];function _extends(){return _extends=Object.assign||function(tr){for(var Ot=1;Ot<arguments.length;Ot++){var Nt=arguments[Ot];for(var er in Nt)Object.prototype.hasOwnProperty.call(Nt,er)&&(tr[er]=Nt[er])}return tr},_extends.apply(this,arguments)}function _objectWithoutProperties(tr,Ot){if(tr==null)return{};var Nt=_objectWithoutPropertiesLoose(tr,Ot),er,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(tr);for(rr=0;rr<ir.length;rr++)er=ir[rr],!(Ot.indexOf(er)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,er)&&(Nt[er]=tr[er])}return Nt}function _objectWithoutPropertiesLoose(tr,Ot){if(tr==null)return{};var Nt={},er=Object.keys(tr),rr,ir;for(ir=0;ir<er.length;ir++)rr=er[ir],!(Ot.indexOf(rr)>=0)&&(Nt[rr]=tr[rr]);return Nt}var Folder2Open=reactExports.forwardRef(function(tr,Ot){var Nt=tr.color,er=tr.size,rr=tr.title,ir=tr.className,nr=_objectWithoutProperties(tr,_excluded$g);return t$2.createElement("svg",_extends({ref:Ot,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:er,height:er,fill:Nt,className:["bi","bi-folder2-open",ir].filter(Boolean).join(" ")},nr),rr?t$2.createElement("title",null,rr):null,t$2.createElement("path",{d:"M1 3.5A1.5 1.5 0 0 1 2.5 2h2.764c.958 0 1.76.56 2.311 1.184C7.985 3.648 8.48 4 9 4h4.5A1.5 1.5 0 0 1 15 5.5v.64c.57.265.94.876.856 1.546l-.64 5.124A2.5 2.5 0 0 1 12.733 15H3.266a2.5 2.5 0 0 1-2.481-2.19l-.64-5.124A1.5 1.5 0 0 1 1 6.14zM2 6h12v-.5a.5.5 0 0 0-.5-.5H9c-.964 0-1.71-.629-2.174-1.154C6.374 3.334 5.82 3 5.264 3H2.5a.5.5 0 0 0-.5.5zm-.367 1a.5.5 0 0 0-.496.562l.64 5.124A1.5 1.5 0 0 0 3.266 14h9.468a1.5 1.5 0 0 0 1.489-1.314l.64-5.124A.5.5 0 0 0 14.367 7z"}))});Folder2Open.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.string,className:PropTypes.string};Folder2Open.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);function _setPrototypeOf(tr,Ot){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Nt,er){return Nt.__proto__=er,Nt},_setPrototypeOf(tr,Ot)}function _inheritsLoose(tr,Ot){tr.prototype=Object.create(Ot.prototype),tr.prototype.constructor=tr,_setPrototypeOf(tr,Ot)}const getCurrentSetting=async(tr="fHv6vH2qC9BBnucPdo62")=>{let Ot,Nt;try{Ot=(await getDoc(doc$1(firebase.firestore(),"settings",tr))).data()}catch{}return Ot?{...Ot,id:Nt==null?void 0:Nt.id}:null},scriptRel="modulepreload",assetsURL=function(tr){return"/"+tr},seen={},__vitePreload=function(Ot,Nt,er){let rr=Promise.resolve();if(Nt&&Nt.length>0){document.getElementsByTagName("link");const ir=document.querySelector("meta[property=csp-nonce]"),nr=(ir==null?void 0:ir.nonce)||(ir==null?void 0:ir.getAttribute("nonce"));rr=Promise.all(Nt.map(sr=>{if(sr=assetsURL(sr),sr in seen)return;seen[sr]=!0;const ar=sr.endsWith(".css"),lr=ar?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${sr}"]${lr}`))return;const cr=document.createElement("link");if(cr.rel=ar?"stylesheet":scriptRel,ar||(cr.as="script",cr.crossOrigin=""),cr.href=sr,nr&&cr.setAttribute("nonce",nr),document.head.appendChild(cr),ar)return new Promise((dr,ur)=>{cr.addEventListener("load",dr),cr.addEventListener("error",()=>ur(new Error(`Unable to preload CSS for ${sr}`)))})}))}return rr.then(()=>Ot()).catch(ir=>{const nr=new Event("vite:preloadError",{cancelable:!0});if(nr.payload=ir,window.dispatchEvent(nr),!nr.defaultPrevented)throw ir})};function ownerDocument$1(tr){return tr&&tr.ownerDocument||document}function ownerWindow(tr){var Ot=ownerDocument$1(tr);return Ot&&Ot.defaultView||window}function getComputedStyle$2(tr,Ot){return ownerWindow(tr).getComputedStyle(tr,Ot)}var rUpper=/([A-Z])/g;function hyphenate(tr){return tr.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(tr){return hyphenate(tr).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(tr){return!!(tr&&supportedTransforms.test(tr))}function style(tr,Ot){var Nt="",er="";if(typeof Ot=="string")return tr.style.getPropertyValue(hyphenateStyleName(Ot))||getComputedStyle$2(tr).getPropertyValue(hyphenateStyleName(Ot));Object.keys(Ot).forEach(function(rr){var ir=Ot[rr];!ir&&ir!==0?tr.style.removeProperty(hyphenateStyleName(rr)):isTransform(rr)?er+=rr+"("+ir+") ":Nt+=hyphenateStyleName(rr)+": "+ir+";"}),er&&(Nt+="transform: "+er+";"),tr.style.cssText+=";"+Nt}const config$e={disabled:!1},TransitionGroupContext=t$2.createContext(null);var forceReflow=function(Ot){return Ot.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(tr){_inheritsLoose(Ot,tr);function Ot(er,rr){var ir;ir=tr.call(this,er,rr)||this;var nr=rr,sr=nr&&!nr.isMounting?er.enter:er.appear,ar;return ir.appearStatus=null,er.in?sr?(ar=EXITED,ir.appearStatus=ENTERING):ar=ENTERED:er.unmountOnExit||er.mountOnEnter?ar=UNMOUNTED:ar=EXITED,ir.state={status:ar},ir.nextCallback=null,ir}Ot.getDerivedStateFromProps=function(rr,ir){var nr=rr.in;return nr&&ir.status===UNMOUNTED?{status:EXITED}:null};var Nt=Ot.prototype;return Nt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},Nt.componentDidUpdate=function(rr){var ir=null;if(rr!==this.props){var nr=this.state.status;this.props.in?nr!==ENTERING&&nr!==ENTERED&&(ir=ENTERING):(nr===ENTERING||nr===ENTERED)&&(ir=EXITING)}this.updateStatus(!1,ir)},Nt.componentWillUnmount=function(){this.cancelNextCallback()},Nt.getTimeouts=function(){var rr=this.props.timeout,ir,nr,sr;return ir=nr=sr=rr,rr!=null&&typeof rr!="number"&&(ir=rr.exit,nr=rr.enter,sr=rr.appear!==void 0?rr.appear:nr),{exit:ir,enter:nr,appear:sr}},Nt.updateStatus=function(rr,ir){if(rr===void 0&&(rr=!1),ir!==null)if(this.cancelNextCallback(),ir===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var nr=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);nr&&forceReflow(nr)}this.performEnter(rr)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},Nt.performEnter=function(rr){var ir=this,nr=this.props.enter,sr=this.context?this.context.isMounting:rr,ar=this.props.nodeRef?[sr]:[ReactDOM.findDOMNode(this),sr],lr=ar[0],cr=ar[1],dr=this.getTimeouts(),ur=sr?dr.appear:dr.enter;if(!rr&&!nr||config$e.disabled){this.safeSetState({status:ENTERED},function(){ir.props.onEntered(lr)});return}this.props.onEnter(lr,cr),this.safeSetState({status:ENTERING},function(){ir.props.onEntering(lr,cr),ir.onTransitionEnd(ur,function(){ir.safeSetState({status:ENTERED},function(){ir.props.onEntered(lr,cr)})})})},Nt.performExit=function(){var rr=this,ir=this.props.exit,nr=this.getTimeouts(),sr=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!ir||config$e.disabled){this.safeSetState({status:EXITED},function(){rr.props.onExited(sr)});return}this.props.onExit(sr),this.safeSetState({status:EXITING},function(){rr.props.onExiting(sr),rr.onTransitionEnd(nr.exit,function(){rr.safeSetState({status:EXITED},function(){rr.props.onExited(sr)})})})},Nt.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},Nt.safeSetState=function(rr,ir){ir=this.setNextCallback(ir),this.setState(rr,ir)},Nt.setNextCallback=function(rr){var ir=this,nr=!0;return this.nextCallback=function(sr){nr&&(nr=!1,ir.nextCallback=null,rr(sr))},this.nextCallback.cancel=function(){nr=!1},this.nextCallback},Nt.onTransitionEnd=function(rr,ir){this.setNextCallback(ir);var nr=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),sr=rr==null&&!this.props.addEndListener;if(!nr||sr){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var ar=this.props.nodeRef?[this.nextCallback]:[nr,this.nextCallback],lr=ar[0],cr=ar[1];this.props.addEndListener(lr,cr)}rr!=null&&setTimeout(this.nextCallback,rr)},Nt.render=function(){var rr=this.state.status;if(rr===UNMOUNTED)return null;var ir=this.props,nr=ir.children;ir.in,ir.mountOnEnter,ir.unmountOnExit,ir.appear,ir.enter,ir.exit,ir.timeout,ir.addEndListener,ir.onEnter,ir.onEntering,ir.onEntered,ir.onExit,ir.onExiting,ir.onExited,ir.nodeRef;var sr=_objectWithoutPropertiesLoose$v(ir,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return t$2.createElement(TransitionGroupContext.Provider,{value:null},typeof nr=="function"?nr(rr,sr):t$2.cloneElement(t$2.Children.only(nr),sr))},Ot}(t$2.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$3(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$3,onEntering:noop$3,onEntered:noop$3,onExit:noop$3,onExiting:noop$3,onExited:noop$3};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition,canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener(tr,Ot,Nt,er){if(er&&typeof er!="boolean"&&!onceSupported){var rr=er.once,ir=er.capture,nr=Nt;!onceSupported&&rr&&(nr=Nt.__once||function sr(ar){this.removeEventListener(Ot,sr,ir),Nt.call(this,ar)},Nt.__once=nr),tr.addEventListener(Ot,nr,optionsSupported?er:ir)}tr.addEventListener(Ot,Nt,er)}function removeEventListener(tr,Ot,Nt,er){var rr=er&&typeof er!="boolean"?er.capture:er;tr.removeEventListener(Ot,Nt,rr),Nt.__once&&tr.removeEventListener(Ot,Nt.__once,rr)}function listen(tr,Ot,Nt,er){return addEventListener(tr,Ot,Nt,er),function(){removeEventListener(tr,Ot,Nt,er)}}function triggerEvent(tr,Ot,Nt,er){if(er===void 0&&(er=!0),tr){var rr=document.createEvent("HTMLEvents");rr.initEvent(Ot,Nt,er),tr.dispatchEvent(rr)}}function parseDuration$1(tr){var Ot=style(tr,"transitionDuration")||"",Nt=Ot.indexOf("ms")===-1?1e3:1;return parseFloat(Ot)*Nt}function emulateTransitionEnd(tr,Ot,Nt){Nt===void 0&&(Nt=5);var er=!1,rr=setTimeout(function(){er||triggerEvent(tr,"transitionend",!0)},Ot+Nt),ir=listen(tr,"transitionend",function(){er=!0},{once:!0});return function(){clearTimeout(rr),ir()}}function transitionEnd(tr,Ot,Nt,er){Nt==null&&(Nt=parseDuration$1(tr)||0);var rr=emulateTransitionEnd(tr,Nt,er),ir=listen(tr,"transitionend",Ot);return function(){rr(),ir()}}function parseDuration(tr,Ot){var Nt=style(tr,Ot)||"",er=Nt.indexOf("ms")===-1?1e3:1;return parseFloat(Nt)*er}function transitionEndListener(tr,Ot){var Nt=parseDuration(tr,"transitionDuration"),er=parseDuration(tr,"transitionDelay"),rr=transitionEnd(tr,function(ir){ir.target===tr&&(rr(),Ot(ir))},Nt+er)}function triggerBrowserReflow(tr){tr.offsetHeight}var _excluded$f=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],_collapseStyles,MARGINS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function getDefaultDimensionValue(tr,Ot){var Nt="offset"+tr[0].toUpperCase()+tr.slice(1),er=Ot[Nt],rr=MARGINS[tr];return er+parseInt(style(Ot,rr[0]),10)+parseInt(style(Ot,rr[1]),10)}var collapseStyles=(_collapseStyles={},_collapseStyles[EXITED]="collapse",_collapseStyles[EXITING]="collapsing",_collapseStyles[ENTERING]="collapsing",_collapseStyles[ENTERED]="collapse show",_collapseStyles),defaultProps$b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:getDefaultDimensionValue},Collapse=t$2.forwardRef(function(tr,Ot){var Nt=tr.onEnter,er=tr.onEntering,rr=tr.onEntered,ir=tr.onExit,nr=tr.onExiting,sr=tr.className,ar=tr.children,lr=tr.dimension,cr=lr===void 0?"height":lr,dr=tr.getDimensionValue,ur=dr===void 0?getDefaultDimensionValue:dr,fr=_objectWithoutPropertiesLoose$v(tr,_excluded$f),hr=typeof cr=="function"?cr():cr,pr=reactExports.useMemo(function(){return createChainedFunction(function(Sr){Sr.style[hr]="0"},Nt)},[hr,Nt]),gr=reactExports.useMemo(function(){return createChainedFunction(function(Sr){var Cr="scroll"+hr[0].toUpperCase()+hr.slice(1);Sr.style[hr]=Sr[Cr]+"px"},er)},[hr,er]),br=reactExports.useMemo(function(){return createChainedFunction(function(Sr){Sr.style[hr]=null},rr)},[hr,rr]),vr=reactExports.useMemo(function(){return createChainedFunction(function(Sr){Sr.style[hr]=ur(hr,Sr)+"px",triggerBrowserReflow(Sr)},ir)},[ir,ur,hr]),kr=reactExports.useMemo(function(){return createChainedFunction(function(Sr){Sr.style[hr]=null},nr)},[hr,nr]);return t$2.createElement(Transition$1,_extends$v({ref:Ot,addEndListener:transitionEndListener},fr,{"aria-expanded":fr.role?fr.in:null,onEnter:pr,onEntering:gr,onEntered:br,onExit:vr,onExiting:kr}),function(Sr,Cr){return t$2.cloneElement(ar,_extends$v({},Cr,{className:classNames(sr,ar.props.className,collapseStyles[Sr],hr==="width"&&"width")}))})});Collapse.defaultProps=defaultProps$b;var _excluded$e=["className","children"],_fadeStyles,defaultProps$a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},fadeStyles=(_fadeStyles={},_fadeStyles[ENTERING]="show",_fadeStyles[ENTERED]="show",_fadeStyles),Fade=t$2.forwardRef(function(tr,Ot){var Nt=tr.className,er=tr.children,rr=_objectWithoutPropertiesLoose$v(tr,_excluded$e),ir=reactExports.useCallback(function(nr){triggerBrowserReflow(nr),rr.onEnter&&rr.onEnter(nr)},[rr]);return t$2.createElement(Transition$1,_extends$v({ref:Ot,addEndListener:transitionEndListener},rr,{onEnter:ir}),function(nr,sr){return t$2.cloneElement(er,_extends$v({},sr,{className:classNames("fade",Nt,er.props.className,fadeStyles[nr])}))})});Fade.defaultProps=defaultProps$a;Fade.displayName="Fade";var _excluded$d=["label","onClick","className"],propTypes$4={label:PropTypes.string.isRequired,onClick:PropTypes.func},defaultProps$9={label:"Close"},CloseButton=t$2.forwardRef(function(tr,Ot){var Nt=tr.label,er=tr.onClick,rr=tr.className,ir=_objectWithoutPropertiesLoose$v(tr,_excluded$d);return t$2.createElement("button",_extends$v({ref:Ot,type:"button",className:classNames("close",rr),onClick:er},ir),t$2.createElement("span",{"aria-hidden":"true"},"×"),t$2.createElement("span",{className:"sr-only"},Nt))});CloseButton.displayName="CloseButton";CloseButton.propTypes=propTypes$4;CloseButton.defaultProps=defaultProps$9;function useMounted(){const tr=reactExports.useRef(!0),Ot=reactExports.useRef(()=>tr.current);return reactExports.useEffect(()=>(tr.current=!0,()=>{tr.current=!1}),[]),Ot.current}function useUpdatedRef(tr){const Ot=reactExports.useRef(tr);return Ot.current=tr,Ot}function useWillUnmount(tr){const Ot=useUpdatedRef(tr);reactExports.useEffect(()=>()=>Ot.current(),[])}const MAX_DELAY_MS=2**31-1;function setChainedTimeout(tr,Ot,Nt){const er=Nt-Date.now();tr.current=er<=MAX_DELAY_MS?setTimeout(Ot,er):setTimeout(()=>setChainedTimeout(tr,Ot,Nt),MAX_DELAY_MS)}function useTimeout(){const tr=useMounted(),Ot=reactExports.useRef();return useWillUnmount(()=>clearTimeout(Ot.current)),reactExports.useMemo(()=>{const Nt=()=>clearTimeout(Ot.current);function er(rr,ir=0){tr()&&(Nt(),ir<=MAX_DELAY_MS?Ot.current=setTimeout(rr,ir):setChainedTimeout(Ot,rr,Date.now()+ir))}return{set:er,clear:Nt,handleRef:Ot}},[])}function map(tr,Ot){var Nt=0;return t$2.Children.map(tr,function(er){return t$2.isValidElement(er)?Ot(er,Nt++):er})}function forEach(tr,Ot){var Nt=0;t$2.Children.forEach(tr,function(er){t$2.isValidElement(er)&&Ot(er,Nt++)})}var matchesImpl;function matches(tr,Ot){if(!matchesImpl){var Nt=document.body,er=Nt.matches||Nt.matchesSelector||Nt.webkitMatchesSelector||Nt.mozMatchesSelector||Nt.msMatchesSelector;matchesImpl=function(ir,nr){return er.call(ir,nr)}}return matchesImpl(tr,Ot)}function usePrevious(tr){const Ot=reactExports.useRef(null);return reactExports.useEffect(()=>{Ot.current=tr}),Ot.current}function useEventListener(tr,Ot,Nt,er=!1){const rr=useEventCallback(Nt);reactExports.useEffect(()=>{const ir=typeof tr=="function"?tr():tr;return ir.addEventListener(Ot,rr,er),()=>ir.removeEventListener(Ot,rr,er)},[tr])}function useGlobalListener(tr,Ot,Nt=!1){const er=reactExports.useCallback(()=>document,[]);return useEventListener(er,tr,Ot,Nt)}var DropdownContext=t$2.createContext(null);function useCallbackRef(){return reactExports.useState(null)}function useSafeState(tr){const Ot=useMounted();return[tr[0],reactExports.useCallback(Nt=>{if(Ot())return tr[1](Nt)},[Ot,tr[1]])]}var top$1="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top$1,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(tr,Ot){return tr.concat([Ot+"-"+start,Ot+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(tr,Ot){return tr.concat([Ot,Ot+"-"+start,Ot+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main$1="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main$1,afterMain,beforeWrite,write,afterWrite];function getBasePlacement(tr){return tr.split("-")[0]}function getWindow(tr){if(tr==null)return window;if(tr.toString()!=="[object Window]"){var Ot=tr.ownerDocument;return Ot&&Ot.defaultView||window}return tr}function isElement(tr){var Ot=getWindow(tr).Element;return tr instanceof Ot||tr instanceof Element}function isHTMLElement(tr){var Ot=getWindow(tr).HTMLElement;return tr instanceof Ot||tr instanceof HTMLElement}function isShadowRoot(tr){if(typeof ShadowRoot>"u")return!1;var Ot=getWindow(tr).ShadowRoot;return tr instanceof Ot||tr instanceof ShadowRoot}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var tr=navigator.userAgentData;return tr!=null&&tr.brands&&Array.isArray(tr.brands)?tr.brands.map(function(Ot){return Ot.brand+"/"+Ot.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(tr,Ot,Nt){Ot===void 0&&(Ot=!1),Nt===void 0&&(Nt=!1);var er=tr.getBoundingClientRect(),rr=1,ir=1;Ot&&isHTMLElement(tr)&&(rr=tr.offsetWidth>0&&round(er.width)/tr.offsetWidth||1,ir=tr.offsetHeight>0&&round(er.height)/tr.offsetHeight||1);var nr=isElement(tr)?getWindow(tr):window,sr=nr.visualViewport,ar=!isLayoutViewport()&&Nt,lr=(er.left+(ar&&sr?sr.offsetLeft:0))/rr,cr=(er.top+(ar&&sr?sr.offsetTop:0))/ir,dr=er.width/rr,ur=er.height/ir;return{width:dr,height:ur,top:cr,right:lr+dr,bottom:cr+ur,left:lr,x:lr,y:cr}}function getLayoutRect(tr){var Ot=getBoundingClientRect(tr),Nt=tr.offsetWidth,er=tr.offsetHeight;return Math.abs(Ot.width-Nt)<=1&&(Nt=Ot.width),Math.abs(Ot.height-er)<=1&&(er=Ot.height),{x:tr.offsetLeft,y:tr.offsetTop,width:Nt,height:er}}function contains$2(tr,Ot){var Nt=Ot.getRootNode&&Ot.getRootNode();if(tr.contains(Ot))return!0;if(Nt&&isShadowRoot(Nt)){var er=Ot;do{if(er&&tr.isSameNode(er))return!0;er=er.parentNode||er.host}while(er)}return!1}function getNodeName(tr){return tr?(tr.nodeName||"").toLowerCase():null}function getComputedStyle$1(tr){return getWindow(tr).getComputedStyle(tr)}function isTableElement(tr){return["table","td","th"].indexOf(getNodeName(tr))>=0}function getDocumentElement(tr){return((isElement(tr)?tr.ownerDocument:tr.document)||window.document).documentElement}function getParentNode(tr){return getNodeName(tr)==="html"?tr:tr.assignedSlot||tr.parentNode||(isShadowRoot(tr)?tr.host:null)||getDocumentElement(tr)}function getTrueOffsetParent(tr){return!isHTMLElement(tr)||getComputedStyle$1(tr).position==="fixed"?null:tr.offsetParent}function getContainingBlock(tr){var Ot=/firefox/i.test(getUAString()),Nt=/Trident/i.test(getUAString());if(Nt&&isHTMLElement(tr)){var er=getComputedStyle$1(tr);if(er.position==="fixed")return null}var rr=getParentNode(tr);for(isShadowRoot(rr)&&(rr=rr.host);isHTMLElement(rr)&&["html","body"].indexOf(getNodeName(rr))<0;){var ir=getComputedStyle$1(rr);if(ir.transform!=="none"||ir.perspective!=="none"||ir.contain==="paint"||["transform","perspective"].indexOf(ir.willChange)!==-1||Ot&&ir.willChange==="filter"||Ot&&ir.filter&&ir.filter!=="none")return rr;rr=rr.parentNode}return null}function getOffsetParent(tr){for(var Ot=getWindow(tr),Nt=getTrueOffsetParent(tr);Nt&&isTableElement(Nt)&&getComputedStyle$1(Nt).position==="static";)Nt=getTrueOffsetParent(Nt);return Nt&&(getNodeName(Nt)==="html"||getNodeName(Nt)==="body"&&getComputedStyle$1(Nt).position==="static")?Ot:Nt||getContainingBlock(tr)||Ot}function getMainAxisFromPlacement(tr){return["top","bottom"].indexOf(tr)>=0?"x":"y"}function within(tr,Ot,Nt){return max(tr,min(Ot,Nt))}function withinMaxClamp(tr,Ot,Nt){var er=within(tr,Ot,Nt);return er>Nt?Nt:er}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(tr){return Object.assign({},getFreshSideObject(),tr)}function expandToHashMap(tr,Ot){return Ot.reduce(function(Nt,er){return Nt[er]=tr,Nt},{})}var toPaddingObject=function(Ot,Nt){return Ot=typeof Ot=="function"?Ot(Object.assign({},Nt.rects,{placement:Nt.placement})):Ot,mergePaddingObject(typeof Ot!="number"?Ot:expandToHashMap(Ot,basePlacements))};function arrow(tr){var Ot,Nt=tr.state,er=tr.name,rr=tr.options,ir=Nt.elements.arrow,nr=Nt.modifiersData.popperOffsets,sr=getBasePlacement(Nt.placement),ar=getMainAxisFromPlacement(sr),lr=[left,right].indexOf(sr)>=0,cr=lr?"height":"width";if(!(!ir||!nr)){var dr=toPaddingObject(rr.padding,Nt),ur=getLayoutRect(ir),fr=ar==="y"?top$1:left,hr=ar==="y"?bottom:right,pr=Nt.rects.reference[cr]+Nt.rects.reference[ar]-nr[ar]-Nt.rects.popper[cr],gr=nr[ar]-Nt.rects.reference[ar],br=getOffsetParent(ir),vr=br?ar==="y"?br.clientHeight||0:br.clientWidth||0:0,kr=pr/2-gr/2,Sr=dr[fr],Cr=vr-ur[cr]-dr[hr],Ar=vr/2-ur[cr]/2+kr,Ir=within(Sr,Ar,Cr),qr=ar;Nt.modifiersData[er]=(Ot={},Ot[qr]=Ir,Ot.centerOffset=Ir-Ar,Ot)}}function effect$1(tr){var Ot=tr.state,Nt=tr.options,er=Nt.element,rr=er===void 0?"[data-popper-arrow]":er;rr!=null&&(typeof rr=="string"&&(rr=Ot.elements.popper.querySelector(rr),!rr)||contains$2(Ot.elements.popper,rr)&&(Ot.elements.arrow=rr))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(tr){return tr.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(tr,Ot){var Nt=tr.x,er=tr.y,rr=Ot.devicePixelRatio||1;return{x:round(Nt*rr)/rr||0,y:round(er*rr)/rr||0}}function mapToStyles(tr){var Ot,Nt=tr.popper,er=tr.popperRect,rr=tr.placement,ir=tr.variation,nr=tr.offsets,sr=tr.position,ar=tr.gpuAcceleration,lr=tr.adaptive,cr=tr.roundOffsets,dr=tr.isFixed,ur=nr.x,fr=ur===void 0?0:ur,hr=nr.y,pr=hr===void 0?0:hr,gr=typeof cr=="function"?cr({x:fr,y:pr}):{x:fr,y:pr};fr=gr.x,pr=gr.y;var br=nr.hasOwnProperty("x"),vr=nr.hasOwnProperty("y"),kr=left,Sr=top$1,Cr=window;if(lr){var Ar=getOffsetParent(Nt),Ir="clientHeight",qr="clientWidth";if(Ar===getWindow(Nt)&&(Ar=getDocumentElement(Nt),getComputedStyle$1(Ar).position!=="static"&&sr==="absolute"&&(Ir="scrollHeight",qr="scrollWidth")),Ar=Ar,rr===top$1||(rr===left||rr===right)&&ir===end){Sr=bottom;var Qr=dr&&Ar===Cr&&Cr.visualViewport?Cr.visualViewport.height:Ar[Ir];pr-=Qr-er.height,pr*=ar?1:-1}if(rr===left||(rr===top$1||rr===bottom)&&ir===end){kr=right;var Wr=dr&&Ar===Cr&&Cr.visualViewport?Cr.visualViewport.width:Ar[qr];fr-=Wr-er.width,fr*=ar?1:-1}}var jr=Object.assign({position:sr},lr&&unsetSides),Or=cr===!0?roundOffsetsByDPR({x:fr,y:pr},getWindow(Nt)):{x:fr,y:pr};if(fr=Or.x,pr=Or.y,ar){var yr;return Object.assign({},jr,(yr={},yr[Sr]=vr?"0":"",yr[kr]=br?"0":"",yr.transform=(Cr.devicePixelRatio||1)<=1?"translate("+fr+"px, "+pr+"px)":"translate3d("+fr+"px, "+pr+"px, 0)",yr))}return Object.assign({},jr,(Ot={},Ot[Sr]=vr?pr+"px":"",Ot[kr]=br?fr+"px":"",Ot.transform="",Ot))}function computeStyles(tr){var Ot=tr.state,Nt=tr.options,er=Nt.gpuAcceleration,rr=er===void 0?!0:er,ir=Nt.adaptive,nr=ir===void 0?!0:ir,sr=Nt.roundOffsets,ar=sr===void 0?!0:sr,lr={placement:getBasePlacement(Ot.placement),variation:getVariation(Ot.placement),popper:Ot.elements.popper,popperRect:Ot.rects.popper,gpuAcceleration:rr,isFixed:Ot.options.strategy==="fixed"};Ot.modifiersData.popperOffsets!=null&&(Ot.styles.popper=Object.assign({},Ot.styles.popper,mapToStyles(Object.assign({},lr,{offsets:Ot.modifiersData.popperOffsets,position:Ot.options.strategy,adaptive:nr,roundOffsets:ar})))),Ot.modifiersData.arrow!=null&&(Ot.styles.arrow=Object.assign({},Ot.styles.arrow,mapToStyles(Object.assign({},lr,{offsets:Ot.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ar})))),Ot.attributes.popper=Object.assign({},Ot.attributes.popper,{"data-popper-placement":Ot.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(tr){var Ot=tr.state,Nt=tr.instance,er=tr.options,rr=er.scroll,ir=rr===void 0?!0:rr,nr=er.resize,sr=nr===void 0?!0:nr,ar=getWindow(Ot.elements.popper),lr=[].concat(Ot.scrollParents.reference,Ot.scrollParents.popper);return ir&&lr.forEach(function(cr){cr.addEventListener("scroll",Nt.update,passive)}),sr&&ar.addEventListener("resize",Nt.update,passive),function(){ir&&lr.forEach(function(cr){cr.removeEventListener("scroll",Nt.update,passive)}),sr&&ar.removeEventListener("resize",Nt.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$3={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(tr){return tr.replace(/left|right|bottom|top/g,function(Ot){return hash$3[Ot]})}var hash$2={start:"end",end:"start"};function getOppositeVariationPlacement(tr){return tr.replace(/start|end/g,function(Ot){return hash$2[Ot]})}function getWindowScroll(tr){var Ot=getWindow(tr),Nt=Ot.pageXOffset,er=Ot.pageYOffset;return{scrollLeft:Nt,scrollTop:er}}function getWindowScrollBarX(tr){return getBoundingClientRect(getDocumentElement(tr)).left+getWindowScroll(tr).scrollLeft}function getViewportRect(tr,Ot){var Nt=getWindow(tr),er=getDocumentElement(tr),rr=Nt.visualViewport,ir=er.clientWidth,nr=er.clientHeight,sr=0,ar=0;if(rr){ir=rr.width,nr=rr.height;var lr=isLayoutViewport();(lr||!lr&&Ot==="fixed")&&(sr=rr.offsetLeft,ar=rr.offsetTop)}return{width:ir,height:nr,x:sr+getWindowScrollBarX(tr),y:ar}}function getDocumentRect(tr){var Ot,Nt=getDocumentElement(tr),er=getWindowScroll(tr),rr=(Ot=tr.ownerDocument)==null?void 0:Ot.body,ir=max(Nt.scrollWidth,Nt.clientWidth,rr?rr.scrollWidth:0,rr?rr.clientWidth:0),nr=max(Nt.scrollHeight,Nt.clientHeight,rr?rr.scrollHeight:0,rr?rr.clientHeight:0),sr=-er.scrollLeft+getWindowScrollBarX(tr),ar=-er.scrollTop;return getComputedStyle$1(rr||Nt).direction==="rtl"&&(sr+=max(Nt.clientWidth,rr?rr.clientWidth:0)-ir),{width:ir,height:nr,x:sr,y:ar}}function isScrollParent(tr){var Ot=getComputedStyle$1(tr),Nt=Ot.overflow,er=Ot.overflowX,rr=Ot.overflowY;return/auto|scroll|overlay|hidden/.test(Nt+rr+er)}function getScrollParent(tr){return["html","body","#document"].indexOf(getNodeName(tr))>=0?tr.ownerDocument.body:isHTMLElement(tr)&&isScrollParent(tr)?tr:getScrollParent(getParentNode(tr))}function listScrollParents(tr,Ot){var Nt;Ot===void 0&&(Ot=[]);var er=getScrollParent(tr),rr=er===((Nt=tr.ownerDocument)==null?void 0:Nt.body),ir=getWindow(er),nr=rr?[ir].concat(ir.visualViewport||[],isScrollParent(er)?er:[]):er,sr=Ot.concat(nr);return rr?sr:sr.concat(listScrollParents(getParentNode(nr)))}function rectToClientRect(tr){return Object.assign({},tr,{left:tr.x,top:tr.y,right:tr.x+tr.width,bottom:tr.y+tr.height})}function getInnerBoundingClientRect(tr,Ot){var Nt=getBoundingClientRect(tr,!1,Ot==="fixed");return Nt.top=Nt.top+tr.clientTop,Nt.left=Nt.left+tr.clientLeft,Nt.bottom=Nt.top+tr.clientHeight,Nt.right=Nt.left+tr.clientWidth,Nt.width=tr.clientWidth,Nt.height=tr.clientHeight,Nt.x=Nt.left,Nt.y=Nt.top,Nt}function getClientRectFromMixedType(tr,Ot,Nt){return Ot===viewport?rectToClientRect(getViewportRect(tr,Nt)):isElement(Ot)?getInnerBoundingClientRect(Ot,Nt):rectToClientRect(getDocumentRect(getDocumentElement(tr)))}function getClippingParents(tr){var Ot=listScrollParents(getParentNode(tr)),Nt=["absolute","fixed"].indexOf(getComputedStyle$1(tr).position)>=0,er=Nt&&isHTMLElement(tr)?getOffsetParent(tr):tr;return isElement(er)?Ot.filter(function(rr){return isElement(rr)&&contains$2(rr,er)&&getNodeName(rr)!=="body"}):[]}function getClippingRect(tr,Ot,Nt,er){var rr=Ot==="clippingParents"?getClippingParents(tr):[].concat(Ot),ir=[].concat(rr,[Nt]),nr=ir[0],sr=ir.reduce(function(ar,lr){var cr=getClientRectFromMixedType(tr,lr,er);return ar.top=max(cr.top,ar.top),ar.right=min(cr.right,ar.right),ar.bottom=min(cr.bottom,ar.bottom),ar.left=max(cr.left,ar.left),ar},getClientRectFromMixedType(tr,nr,er));return sr.width=sr.right-sr.left,sr.height=sr.bottom-sr.top,sr.x=sr.left,sr.y=sr.top,sr}function computeOffsets(tr){var Ot=tr.reference,Nt=tr.element,er=tr.placement,rr=er?getBasePlacement(er):null,ir=er?getVariation(er):null,nr=Ot.x+Ot.width/2-Nt.width/2,sr=Ot.y+Ot.height/2-Nt.height/2,ar;switch(rr){case top$1:ar={x:nr,y:Ot.y-Nt.height};break;case bottom:ar={x:nr,y:Ot.y+Ot.height};break;case right:ar={x:Ot.x+Ot.width,y:sr};break;case left:ar={x:Ot.x-Nt.width,y:sr};break;default:ar={x:Ot.x,y:Ot.y}}var lr=rr?getMainAxisFromPlacement(rr):null;if(lr!=null){var cr=lr==="y"?"height":"width";switch(ir){case start:ar[lr]=ar[lr]-(Ot[cr]/2-Nt[cr]/2);break;case end:ar[lr]=ar[lr]+(Ot[cr]/2-Nt[cr]/2);break}}return ar}function detectOverflow(tr,Ot){Ot===void 0&&(Ot={});var Nt=Ot,er=Nt.placement,rr=er===void 0?tr.placement:er,ir=Nt.strategy,nr=ir===void 0?tr.strategy:ir,sr=Nt.boundary,ar=sr===void 0?clippingParents:sr,lr=Nt.rootBoundary,cr=lr===void 0?viewport:lr,dr=Nt.elementContext,ur=dr===void 0?popper:dr,fr=Nt.altBoundary,hr=fr===void 0?!1:fr,pr=Nt.padding,gr=pr===void 0?0:pr,br=mergePaddingObject(typeof gr!="number"?gr:expandToHashMap(gr,basePlacements)),vr=ur===popper?reference:popper,kr=tr.rects.popper,Sr=tr.elements[hr?vr:ur],Cr=getClippingRect(isElement(Sr)?Sr:Sr.contextElement||getDocumentElement(tr.elements.popper),ar,cr,nr),Ar=getBoundingClientRect(tr.elements.reference),Ir=computeOffsets({reference:Ar,element:kr,strategy:"absolute",placement:rr}),qr=rectToClientRect(Object.assign({},kr,Ir)),Qr=ur===popper?qr:Ar,Wr={top:Cr.top-Qr.top+br.top,bottom:Qr.bottom-Cr.bottom+br.bottom,left:Cr.left-Qr.left+br.left,right:Qr.right-Cr.right+br.right},jr=tr.modifiersData.offset;if(ur===popper&&jr){var Or=jr[rr];Object.keys(Wr).forEach(function(yr){var xr=[right,bottom].indexOf(yr)>=0?1:-1,wr=[top$1,bottom].indexOf(yr)>=0?"y":"x";Wr[yr]+=Or[wr]*xr})}return Wr}function computeAutoPlacement(tr,Ot){Ot===void 0&&(Ot={});var Nt=Ot,er=Nt.placement,rr=Nt.boundary,ir=Nt.rootBoundary,nr=Nt.padding,sr=Nt.flipVariations,ar=Nt.allowedAutoPlacements,lr=ar===void 0?placements:ar,cr=getVariation(er),dr=cr?sr?variationPlacements:variationPlacements.filter(function(hr){return getVariation(hr)===cr}):basePlacements,ur=dr.filter(function(hr){return lr.indexOf(hr)>=0});ur.length===0&&(ur=dr);var fr=ur.reduce(function(hr,pr){return hr[pr]=detectOverflow(tr,{placement:pr,boundary:rr,rootBoundary:ir,padding:nr})[getBasePlacement(pr)],hr},{});return Object.keys(fr).sort(function(hr,pr){return fr[hr]-fr[pr]})}function getExpandedFallbackPlacements(tr){if(getBasePlacement(tr)===auto)return[];var Ot=getOppositePlacement(tr);return[getOppositeVariationPlacement(tr),Ot,getOppositeVariationPlacement(Ot)]}function flip(tr){var Ot=tr.state,Nt=tr.options,er=tr.name;if(!Ot.modifiersData[er]._skip){for(var rr=Nt.mainAxis,ir=rr===void 0?!0:rr,nr=Nt.altAxis,sr=nr===void 0?!0:nr,ar=Nt.fallbackPlacements,lr=Nt.padding,cr=Nt.boundary,dr=Nt.rootBoundary,ur=Nt.altBoundary,fr=Nt.flipVariations,hr=fr===void 0?!0:fr,pr=Nt.allowedAutoPlacements,gr=Ot.options.placement,br=getBasePlacement(gr),vr=br===gr,kr=ar||(vr||!hr?[getOppositePlacement(gr)]:getExpandedFallbackPlacements(gr)),Sr=[gr].concat(kr).reduce(function(Hr,Gr){return Hr.concat(getBasePlacement(Gr)===auto?computeAutoPlacement(Ot,{placement:Gr,boundary:cr,rootBoundary:dr,padding:lr,flipVariations:hr,allowedAutoPlacements:pr}):Gr)},[]),Cr=Ot.rects.reference,Ar=Ot.rects.popper,Ir=new Map,qr=!0,Qr=Sr[0],Wr=0;Wr<Sr.length;Wr++){var jr=Sr[Wr],Or=getBasePlacement(jr),yr=getVariation(jr)===start,xr=[top$1,bottom].indexOf(Or)>=0,wr=xr?"width":"height",Br=detectOverflow(Ot,{placement:jr,boundary:cr,rootBoundary:dr,altBoundary:ur,padding:lr}),_r=xr?yr?right:left:yr?bottom:top$1;Cr[wr]>Ar[wr]&&(_r=getOppositePlacement(_r));var Mr=getOppositePlacement(_r),Tr=[];if(ir&&Tr.push(Br[Or]<=0),sr&&Tr.push(Br[_r]<=0,Br[Mr]<=0),Tr.every(function(Hr){return Hr})){Qr=jr,qr=!1;break}Ir.set(jr,Tr)}if(qr)for(var Er=hr?3:1,Pr=function(Gr){var Ur=Sr.find(function(Nr){var Fr=Ir.get(Nr);if(Fr)return Fr.slice(0,Gr).every(function(Xr){return Xr})});if(Ur)return Qr=Ur,"break"},Rr=Er;Rr>0;Rr--){var Lr=Pr(Rr);if(Lr==="break")break}Ot.placement!==Qr&&(Ot.modifiersData[er]._skip=!0,Ot.placement=Qr,Ot.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(tr,Ot,Nt){return Nt===void 0&&(Nt={x:0,y:0}),{top:tr.top-Ot.height-Nt.y,right:tr.right-Ot.width+Nt.x,bottom:tr.bottom-Ot.height+Nt.y,left:tr.left-Ot.width-Nt.x}}function isAnySideFullyClipped(tr){return[top$1,right,bottom,left].some(function(Ot){return tr[Ot]>=0})}function hide(tr){var Ot=tr.state,Nt=tr.name,er=Ot.rects.reference,rr=Ot.rects.popper,ir=Ot.modifiersData.preventOverflow,nr=detectOverflow(Ot,{elementContext:"reference"}),sr=detectOverflow(Ot,{altBoundary:!0}),ar=getSideOffsets(nr,er),lr=getSideOffsets(sr,rr,ir),cr=isAnySideFullyClipped(ar),dr=isAnySideFullyClipped(lr);Ot.modifiersData[Nt]={referenceClippingOffsets:ar,popperEscapeOffsets:lr,isReferenceHidden:cr,hasPopperEscaped:dr},Ot.attributes.popper=Object.assign({},Ot.attributes.popper,{"data-popper-reference-hidden":cr,"data-popper-escaped":dr})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(tr,Ot,Nt){var er=getBasePlacement(tr),rr=[left,top$1].indexOf(er)>=0?-1:1,ir=typeof Nt=="function"?Nt(Object.assign({},Ot,{placement:tr})):Nt,nr=ir[0],sr=ir[1];return nr=nr||0,sr=(sr||0)*rr,[left,right].indexOf(er)>=0?{x:sr,y:nr}:{x:nr,y:sr}}function offset(tr){var Ot=tr.state,Nt=tr.options,er=tr.name,rr=Nt.offset,ir=rr===void 0?[0,0]:rr,nr=placements.reduce(function(cr,dr){return cr[dr]=distanceAndSkiddingToXY(dr,Ot.rects,ir),cr},{}),sr=nr[Ot.placement],ar=sr.x,lr=sr.y;Ot.modifiersData.popperOffsets!=null&&(Ot.modifiersData.popperOffsets.x+=ar,Ot.modifiersData.popperOffsets.y+=lr),Ot.modifiersData[er]=nr}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(tr){var Ot=tr.state,Nt=tr.name;Ot.modifiersData[Nt]=computeOffsets({reference:Ot.rects.reference,element:Ot.rects.popper,strategy:"absolute",placement:Ot.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(tr){return tr==="x"?"y":"x"}function preventOverflow(tr){var Ot=tr.state,Nt=tr.options,er=tr.name,rr=Nt.mainAxis,ir=rr===void 0?!0:rr,nr=Nt.altAxis,sr=nr===void 0?!1:nr,ar=Nt.boundary,lr=Nt.rootBoundary,cr=Nt.altBoundary,dr=Nt.padding,ur=Nt.tether,fr=ur===void 0?!0:ur,hr=Nt.tetherOffset,pr=hr===void 0?0:hr,gr=detectOverflow(Ot,{boundary:ar,rootBoundary:lr,padding:dr,altBoundary:cr}),br=getBasePlacement(Ot.placement),vr=getVariation(Ot.placement),kr=!vr,Sr=getMainAxisFromPlacement(br),Cr=getAltAxis(Sr),Ar=Ot.modifiersData.popperOffsets,Ir=Ot.rects.reference,qr=Ot.rects.popper,Qr=typeof pr=="function"?pr(Object.assign({},Ot.rects,{placement:Ot.placement})):pr,Wr=typeof Qr=="number"?{mainAxis:Qr,altAxis:Qr}:Object.assign({mainAxis:0,altAxis:0},Qr),jr=Ot.modifiersData.offset?Ot.modifiersData.offset[Ot.placement]:null,Or={x:0,y:0};if(Ar){if(ir){var yr,xr=Sr==="y"?top$1:left,wr=Sr==="y"?bottom:right,Br=Sr==="y"?"height":"width",_r=Ar[Sr],Mr=_r+gr[xr],Tr=_r-gr[wr],Er=fr?-qr[Br]/2:0,Pr=vr===start?Ir[Br]:qr[Br],Rr=vr===start?-qr[Br]:-Ir[Br],Lr=Ot.elements.arrow,Hr=fr&&Lr?getLayoutRect(Lr):{width:0,height:0},Gr=Ot.modifiersData["arrow#persistent"]?Ot.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Ur=Gr[xr],Nr=Gr[wr],Fr=within(0,Ir[Br],Hr[Br]),Xr=kr?Ir[Br]/2-Er-Fr-Ur-Wr.mainAxis:Pr-Fr-Ur-Wr.mainAxis,Jr=kr?-Ir[Br]/2+Er+Fr+Nr+Wr.mainAxis:Rr+Fr+Nr+Wr.mainAxis,Vr=Ot.elements.arrow&&getOffsetParent(Ot.elements.arrow),Zr=Vr?Sr==="y"?Vr.clientTop||0:Vr.clientLeft||0:0,Kr=(yr=jr==null?void 0:jr[Sr])!=null?yr:0,Ci=_r+Xr-Kr-Zr,Mi=_r+Jr-Kr,Ti=within(fr?min(Mr,Ci):Mr,_r,fr?max(Tr,Mi):Tr);Ar[Sr]=Ti,Or[Sr]=Ti-_r}if(sr){var Ii,ji=Sr==="x"?top$1:left,Si=Sr==="x"?bottom:right,zi=Ar[Cr],Di=Cr==="y"?"height":"width",Fi=zi+gr[ji],Vi=zi-gr[Si],Ni=[top$1,left].indexOf(br)!==-1,rn=(Ii=jr==null?void 0:jr[Cr])!=null?Ii:0,ln=Ni?Fi:zi-Ir[Di]-qr[Di]-rn+Wr.altAxis,qi=Ni?zi+Ir[Di]+qr[Di]-rn-Wr.altAxis:Vi,fn=fr&&Ni?withinMaxClamp(ln,zi,qi):within(fr?ln:Fi,zi,fr?qi:Vi);Ar[Cr]=fn,Or[Cr]=fn-zi}Ot.modifiersData[er]=Or}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(tr){return{scrollLeft:tr.scrollLeft,scrollTop:tr.scrollTop}}function getNodeScroll(tr){return tr===getWindow(tr)||!isHTMLElement(tr)?getWindowScroll(tr):getHTMLElementScroll(tr)}function isElementScaled(tr){var Ot=tr.getBoundingClientRect(),Nt=round(Ot.width)/tr.offsetWidth||1,er=round(Ot.height)/tr.offsetHeight||1;return Nt!==1||er!==1}function getCompositeRect(tr,Ot,Nt){Nt===void 0&&(Nt=!1);var er=isHTMLElement(Ot),rr=isHTMLElement(Ot)&&isElementScaled(Ot),ir=getDocumentElement(Ot),nr=getBoundingClientRect(tr,rr,Nt),sr={scrollLeft:0,scrollTop:0},ar={x:0,y:0};return(er||!er&&!Nt)&&((getNodeName(Ot)!=="body"||isScrollParent(ir))&&(sr=getNodeScroll(Ot)),isHTMLElement(Ot)?(ar=getBoundingClientRect(Ot,!0),ar.x+=Ot.clientLeft,ar.y+=Ot.clientTop):ir&&(ar.x=getWindowScrollBarX(ir))),{x:nr.left+sr.scrollLeft-ar.x,y:nr.top+sr.scrollTop-ar.y,width:nr.width,height:nr.height}}function order(tr){var Ot=new Map,Nt=new Set,er=[];tr.forEach(function(ir){Ot.set(ir.name,ir)});function rr(ir){Nt.add(ir.name);var nr=[].concat(ir.requires||[],ir.requiresIfExists||[]);nr.forEach(function(sr){if(!Nt.has(sr)){var ar=Ot.get(sr);ar&&rr(ar)}}),er.push(ir)}return tr.forEach(function(ir){Nt.has(ir.name)||rr(ir)}),er}function orderModifiers(tr){var Ot=order(tr);return modifierPhases.reduce(function(Nt,er){return Nt.concat(Ot.filter(function(rr){return rr.phase===er}))},[])}function debounce(tr){var Ot;return function(){return Ot||(Ot=new Promise(function(Nt){Promise.resolve().then(function(){Ot=void 0,Nt(tr())})})),Ot}}function mergeByName(tr){var Ot=tr.reduce(function(Nt,er){var rr=Nt[er.name];return Nt[er.name]=rr?Object.assign({},rr,er,{options:Object.assign({},rr.options,er.options),data:Object.assign({},rr.data,er.data)}):er,Nt},{});return Object.keys(Ot).map(function(Nt){return Ot[Nt]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var tr=arguments.length,Ot=new Array(tr),Nt=0;Nt<tr;Nt++)Ot[Nt]=arguments[Nt];return!Ot.some(function(er){return!(er&&typeof er.getBoundingClientRect=="function")})}function popperGenerator(tr){tr===void 0&&(tr={});var Ot=tr,Nt=Ot.defaultModifiers,er=Nt===void 0?[]:Nt,rr=Ot.defaultOptions,ir=rr===void 0?DEFAULT_OPTIONS:rr;return function(sr,ar,lr){lr===void 0&&(lr=ir);var cr={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,ir),modifiersData:{},elements:{reference:sr,popper:ar},attributes:{},styles:{}},dr=[],ur=!1,fr={state:cr,setOptions:function(br){var vr=typeof br=="function"?br(cr.options):br;pr(),cr.options=Object.assign({},ir,cr.options,vr),cr.scrollParents={reference:isElement(sr)?listScrollParents(sr):sr.contextElement?listScrollParents(sr.contextElement):[],popper:listScrollParents(ar)};var kr=orderModifiers(mergeByName([].concat(er,cr.options.modifiers)));return cr.orderedModifiers=kr.filter(function(Sr){return Sr.enabled}),hr(),fr.update()},forceUpdate:function(){if(!ur){var br=cr.elements,vr=br.reference,kr=br.popper;if(areValidElements(vr,kr)){cr.rects={reference:getCompositeRect(vr,getOffsetParent(kr),cr.options.strategy==="fixed"),popper:getLayoutRect(kr)},cr.reset=!1,cr.placement=cr.options.placement,cr.orderedModifiers.forEach(function(Wr){return cr.modifiersData[Wr.name]=Object.assign({},Wr.data)});for(var Sr=0;Sr<cr.orderedModifiers.length;Sr++){if(cr.reset===!0){cr.reset=!1,Sr=-1;continue}var Cr=cr.orderedModifiers[Sr],Ar=Cr.fn,Ir=Cr.options,qr=Ir===void 0?{}:Ir,Qr=Cr.name;typeof Ar=="function"&&(cr=Ar({state:cr,options:qr,name:Qr,instance:fr})||cr)}}}},update:debounce(function(){return new Promise(function(gr){fr.forceUpdate(),gr(cr)})}),destroy:function(){pr(),ur=!0}};if(!areValidElements(sr,ar))return fr;fr.setOptions(lr).then(function(gr){!ur&&lr.onFirstUpdate&&lr.onFirstUpdate(gr)});function hr(){cr.orderedModifiers.forEach(function(gr){var br=gr.name,vr=gr.options,kr=vr===void 0?{}:vr,Sr=gr.effect;if(typeof Sr=="function"){var Cr=Sr({state:cr,name:br,instance:fr,options:kr}),Ar=function(){};dr.push(Cr||Ar)}})}function pr(){dr.forEach(function(gr){return gr()}),dr=[]}return fr}}var createPopper=popperGenerator({defaultModifiers:[hide$1,popperOffsets$1,computeStyles$1,eventListeners,offset$1,flip$1,preventOverflow$1,arrow$1]}),initialPopperStyles=function(Ot){return{position:Ot,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},disabledApplyStylesModifier={name:"applyStyles",enabled:!1},ariaDescribedByModifier={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(Ot){var Nt=Ot.state;return function(){var er=Nt.elements,rr=er.reference,ir=er.popper;if("removeAttribute"in rr){var nr=(rr.getAttribute("aria-describedby")||"").split(",").filter(function(sr){return sr.trim()!==ir.id});nr.length?rr.setAttribute("aria-describedby",nr.join(",")):rr.removeAttribute("aria-describedby")}}},fn:function(Ot){var Nt,er=Ot.state,rr=er.elements,ir=rr.popper,nr=rr.reference,sr=(Nt=ir.getAttribute("role"))==null?void 0:Nt.toLowerCase();if(ir.id&&sr==="tooltip"&&"setAttribute"in nr){var ar=nr.getAttribute("aria-describedby");if(ar&&ar.split(",").indexOf(ir.id)!==-1)return;nr.setAttribute("aria-describedby",ar?ar+","+ir.id:ir.id)}}},EMPTY_MODIFIERS=[];function usePopper(tr,Ot,Nt){var er=Nt===void 0?{}:Nt,rr=er.enabled,ir=rr===void 0?!0:rr,nr=er.placement,sr=nr===void 0?"bottom":nr,ar=er.strategy,lr=ar===void 0?"absolute":ar,cr=er.modifiers,dr=cr===void 0?EMPTY_MODIFIERS:cr,ur=_objectWithoutPropertiesLoose$v(er,["enabled","placement","strategy","modifiers"]),fr=reactExports.useRef(),hr=reactExports.useCallback(function(){var Sr;(Sr=fr.current)==null||Sr.update()},[]),pr=reactExports.useCallback(function(){var Sr;(Sr=fr.current)==null||Sr.forceUpdate()},[]),gr=useSafeState(reactExports.useState({placement:sr,update:hr,forceUpdate:pr,attributes:{},styles:{popper:initialPopperStyles(lr),arrow:{}}})),br=gr[0],vr=gr[1],kr=reactExports.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(Cr){var Ar=Cr.state,Ir={},qr={};Object.keys(Ar.elements).forEach(function(Qr){Ir[Qr]=Ar.styles[Qr],qr[Qr]=Ar.attributes[Qr]}),vr({state:Ar,styles:Ir,attributes:qr,update:hr,forceUpdate:pr,placement:Ar.placement})}}},[hr,pr,vr]);return reactExports.useEffect(function(){!fr.current||!ir||fr.current.setOptions({placement:sr,strategy:lr,modifiers:[].concat(dr,[kr,disabledApplyStylesModifier])})},[lr,sr,kr,ir]),reactExports.useEffect(function(){if(!(!ir||tr==null||Ot==null))return fr.current=createPopper(tr,Ot,_extends$v({},ur,{placement:sr,strategy:lr,modifiers:[].concat(dr,[ariaDescribedByModifier,kr])})),function(){fr.current!=null&&(fr.current.destroy(),fr.current=void 0,vr(function(Sr){return _extends$v({},Sr,{attributes:{},styles:{popper:initialPopperStyles(lr)}})}))}},[ir,tr,Ot]),br}function contains$1(tr,Ot){if(tr.contains)return tr.contains(Ot);if(tr.compareDocumentPosition)return tr===Ot||!!(tr.compareDocumentPosition(Ot)&16)}function safeFindDOMNode(tr){return tr&&"setState"in tr?ReactDOM.findDOMNode(tr):tr??null}const ownerDocument=function(tr){return ownerDocument$1(safeFindDOMNode(tr))};var escapeKeyCode=27,noop$2=function(){};function isLeftClickEvent(tr){return tr.button===0}function isModifiedEvent(tr){return!!(tr.metaKey||tr.altKey||tr.ctrlKey||tr.shiftKey)}var getRefTarget=function(Ot){return Ot&&("current"in Ot?Ot.current:Ot)};function useRootClose(tr,Ot,Nt){var er=Nt===void 0?{}:Nt,rr=er.disabled,ir=er.clickTrigger,nr=ir===void 0?"click":ir,sr=reactExports.useRef(!1),ar=Ot||noop$2,lr=reactExports.useCallback(function(ur){var fr,hr=getRefTarget(tr);warning$1(!!hr,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),sr.current=!hr||isModifiedEvent(ur)||!isLeftClickEvent(ur)||!!contains$1(hr,(fr=ur.composedPath==null?void 0:ur.composedPath()[0])!=null?fr:ur.target)},[tr]),cr=useEventCallback(function(ur){sr.current||ar(ur)}),dr=useEventCallback(function(ur){ur.keyCode===escapeKeyCode&&ar(ur)});reactExports.useEffect(function(){if(!(rr||tr==null)){var ur=window.event,fr=ownerDocument(getRefTarget(tr)),hr=listen(fr,nr,lr,!0),pr=listen(fr,nr,function(vr){if(vr===ur){ur=void 0;return}cr(vr)}),gr=listen(fr,"keyup",function(vr){if(vr===ur){ur=void 0;return}dr(vr)}),br=[];return"ontouchstart"in fr.documentElement&&(br=[].slice.call(fr.body.children).map(function(vr){return listen(vr,"mousemove",noop$2)})),function(){hr(),pr(),gr(),br.forEach(function(vr){return vr()})}}},[tr,rr,nr,lr,cr,dr])}function toModifierMap(tr){var Ot={};return Array.isArray(tr)?(tr==null||tr.forEach(function(Nt){Ot[Nt.name]=Nt}),Ot):tr||Ot}function toModifierArray(tr){return tr===void 0&&(tr={}),Array.isArray(tr)?tr:Object.keys(tr).map(function(Ot){return tr[Ot].name=Ot,tr[Ot]})}function mergeOptionsWithPopperConfig(tr){var Ot,Nt,er,rr,ir=tr.enabled,nr=tr.enableEvents,sr=tr.placement,ar=tr.flip,lr=tr.offset,cr=tr.fixed,dr=tr.containerPadding,ur=tr.arrowElement,fr=tr.popperConfig,hr=fr===void 0?{}:fr,pr=toModifierMap(hr.modifiers);return _extends$v({},hr,{placement:sr,enabled:ir,strategy:cr?"fixed":hr.strategy,modifiers:toModifierArray(_extends$v({},pr,{eventListeners:{enabled:nr},preventOverflow:_extends$v({},pr.preventOverflow,{options:dr?_extends$v({padding:dr},(Ot=pr.preventOverflow)==null?void 0:Ot.options):(Nt=pr.preventOverflow)==null?void 0:Nt.options}),offset:{options:_extends$v({offset:lr},(er=pr.offset)==null?void 0:er.options)},arrow:_extends$v({},pr.arrow,{enabled:!!ur,options:_extends$v({},(rr=pr.arrow)==null?void 0:rr.options,{element:ur})}),flip:_extends$v({enabled:!!ar},pr.flip)}))})}var noop$1=function(){};function useDropdownMenu(tr){tr===void 0&&(tr={});var Ot=reactExports.useContext(DropdownContext),Nt=useCallbackRef(),er=Nt[0],rr=Nt[1],ir=reactExports.useRef(!1),nr=tr,sr=nr.flip,ar=nr.offset,lr=nr.rootCloseEvent,cr=nr.fixed,dr=cr===void 0?!1:cr,ur=nr.popperConfig,fr=ur===void 0?{}:ur,hr=nr.usePopper,pr=hr===void 0?!!Ot:hr,gr=(Ot==null?void 0:Ot.show)==null?!!tr.show:Ot.show,br=(Ot==null?void 0:Ot.alignEnd)==null?tr.alignEnd:Ot.alignEnd;gr&&!ir.current&&(ir.current=!0);var vr=function(yr){Ot==null||Ot.toggle(!1,yr)},kr=Ot||{},Sr=kr.drop,Cr=kr.setMenu,Ar=kr.menuElement,Ir=kr.toggleElement,qr=br?"bottom-end":"bottom-start";Sr==="up"?qr=br?"top-end":"top-start":Sr==="right"?qr=br?"right-end":"right-start":Sr==="left"&&(qr=br?"left-end":"left-start");var Qr=usePopper(Ir,Ar,mergeOptionsWithPopperConfig({placement:qr,enabled:!!(pr&&gr),enableEvents:gr,offset:ar,flip:sr,fixed:dr,arrowElement:er,popperConfig:fr})),Wr=_extends$v({ref:Cr||noop$1,"aria-labelledby":Ir==null?void 0:Ir.id},Qr.attributes.popper,{style:Qr.styles.popper}),jr={show:gr,alignEnd:br,hasShown:ir.current,toggle:Ot==null?void 0:Ot.toggle,popper:pr?Qr:null,arrowProps:pr?_extends$v({ref:rr},Qr.attributes.arrow,{style:Qr.styles.arrow}):{}};return useRootClose(Ar,vr,{clickTrigger:lr,disabled:!gr}),[Wr,jr]}var propTypes$3={children:PropTypes.func.isRequired,show:PropTypes.bool,alignEnd:PropTypes.bool,flip:PropTypes.bool,usePopper:PropTypes.oneOf([!0,!1]),popperConfig:PropTypes.object,rootCloseEvent:PropTypes.string},defaultProps$8={usePopper:!0};function DropdownMenu$1(tr){var Ot=tr.children,Nt=_objectWithoutPropertiesLoose$v(tr,["children"]),er=useDropdownMenu(Nt),rr=er[0],ir=er[1];return t$2.createElement(t$2.Fragment,null,ir.hasShown?Ot(rr,ir):null)}DropdownMenu$1.displayName="ReactOverlaysDropdownMenu";DropdownMenu$1.propTypes=propTypes$3;DropdownMenu$1.defaultProps=defaultProps$8;var noop=function(){};function useDropdownToggle(){var tr=reactExports.useContext(DropdownContext)||{},Ot=tr.show,Nt=Ot===void 0?!1:Ot,er=tr.toggle,rr=er===void 0?noop:er,ir=tr.setToggle,nr=reactExports.useCallback(function(sr){rr(!Nt,sr)},[Nt,rr]);return[{ref:ir||noop,onClick:nr,"aria-haspopup":!0,"aria-expanded":!!Nt},{show:Nt,toggle:rr}]}var propTypes$2={children:PropTypes.func.isRequired};function DropdownToggle$1(tr){var Ot=tr.children,Nt=useDropdownToggle(),er=Nt[0],rr=Nt[1];return t$2.createElement(t$2.Fragment,null,Ot(er,rr))}DropdownToggle$1.displayName="ReactOverlaysDropdownToggle";DropdownToggle$1.propTypes=propTypes$2;var propTypes$1={children:PropTypes.node,drop:PropTypes.oneOf(["up","left","right","down"]),focusFirstItemOnShow:PropTypes.oneOf([!1,!0,"keyboard"]),itemSelector:PropTypes.string,alignEnd:PropTypes.bool,show:PropTypes.bool,defaultShow:PropTypes.bool,onToggle:PropTypes.func};function useRefWithUpdate(){var tr=useForceUpdate(),Ot=reactExports.useRef(null),Nt=reactExports.useCallback(function(er){Ot.current=er,tr()},[tr]);return[Ot,Nt]}function Dropdown$1(tr){var Ot=tr.drop,Nt=tr.alignEnd,er=tr.defaultShow,rr=tr.show,ir=tr.onToggle,nr=tr.itemSelector,sr=nr===void 0?"* > *":nr,ar=tr.focusFirstItemOnShow,lr=tr.children,cr=useUncontrolledProp(rr,er,ir),dr=cr[0],ur=cr[1],fr=useRefWithUpdate(),hr=fr[0],pr=fr[1],gr=hr.current,br=useRefWithUpdate(),vr=br[0],kr=br[1],Sr=vr.current,Cr=usePrevious(dr),Ar=reactExports.useRef(null),Ir=reactExports.useRef(!1),qr=reactExports.useCallback(function(yr,xr){ur(yr,xr)},[ur]),Qr=reactExports.useMemo(function(){return{toggle:qr,drop:Ot,show:dr,alignEnd:Nt,menuElement:gr,toggleElement:Sr,setMenu:pr,setToggle:kr}},[qr,Ot,dr,Nt,gr,Sr,pr,kr]);gr&&Cr&&!dr&&(Ir.current=gr.contains(document.activeElement));var Wr=useEventCallback(function(){Sr&&Sr.focus&&Sr.focus()}),jr=useEventCallback(function(){var yr=Ar.current,xr=ar;if(xr==null&&(xr=hr.current&&matches(hr.current,"[role=menu]")?"keyboard":!1),!(xr===!1||xr==="keyboard"&&!/^key.+$/.test(yr))){var wr=qsa(hr.current,sr)[0];wr&&wr.focus&&wr.focus()}});reactExports.useEffect(function(){dr?jr():Ir.current&&(Ir.current=!1,Wr())},[dr,Ir,Wr,jr]),reactExports.useEffect(function(){Ar.current=null});var Or=function(xr,wr){if(!hr.current)return null;var Br=qsa(hr.current,sr),_r=Br.indexOf(xr)+wr;return _r=Math.max(0,Math.min(_r,Br.length)),Br[_r]};return useGlobalListener("keydown",function(yr){var xr,wr,Br=yr.key,_r=yr.target,Mr=(xr=hr.current)==null?void 0:xr.contains(_r),Tr=(wr=vr.current)==null?void 0:wr.contains(_r),Er=/input|textarea/i.test(_r.tagName);if(!(Er&&(Br===" "||Br!=="Escape"&&Mr))&&!(!Mr&&!Tr)&&!(!hr.current&&Br==="Tab"))switch(Ar.current=yr.type,Br){case"ArrowUp":{var Pr=Or(_r,-1);Pr&&Pr.focus&&Pr.focus(),yr.preventDefault();return}case"ArrowDown":if(yr.preventDefault(),!dr)ur(!0,yr);else{var Rr=Or(_r,1);Rr&&Rr.focus&&Rr.focus()}return;case"Tab":addEventListener(document,"keyup",function(Lr){var Hr;(Lr.key==="Tab"&&!Lr.target||!((Hr=hr.current)!=null&&Hr.contains(Lr.target)))&&ur(!1,yr)},{once:!0});break;case"Escape":yr.preventDefault(),yr.stopPropagation(),ur(!1,yr);break}}),t$2.createElement(DropdownContext.Provider,{value:Qr},lr)}Dropdown$1.displayName="ReactOverlaysDropdown";Dropdown$1.propTypes=propTypes$1;Dropdown$1.Menu=DropdownMenu$1;Dropdown$1.Toggle=DropdownToggle$1;var _excluded$c=["bsPrefix","className","children","eventKey","disabled","href","onClick","onSelect","active","as"],defaultProps$7={as:SafeAnchor,disabled:!1},DropdownItem=t$2.forwardRef(function(tr,Ot){var Nt=tr.bsPrefix,er=tr.className,rr=tr.children,ir=tr.eventKey,nr=tr.disabled,sr=tr.href,ar=tr.onClick,lr=tr.onSelect,cr=tr.active,dr=tr.as,ur=_objectWithoutPropertiesLoose$v(tr,_excluded$c),fr=useBootstrapPrefix(Nt,"dropdown-item"),hr=reactExports.useContext(SelectableContext),pr=reactExports.useContext(NavContext),gr=pr||{},br=gr.activeKey,vr=makeEventKey(ir,sr),kr=cr==null&&vr!=null?makeEventKey(br)===vr:cr,Sr=useEventCallback(function(Cr){nr||(ar&&ar(Cr),hr&&hr(vr,Cr),lr&&lr(vr,Cr))});return t$2.createElement(dr,_extends$v({},ur,{ref:Ot,href:sr,disabled:nr,className:classNames(er,fr,kr&&"active",nr&&"disabled"),onClick:Sr}),rr)});DropdownItem.displayName="DropdownItem";DropdownItem.defaultProps=defaultProps$7;var context=t$2.createContext(null);context.displayName="NavbarContext";function useWrappedRefWithWarning(tr,Ot){return tr}function hasClass(tr,Ot){return tr.classList?!!Ot&&tr.classList.contains(Ot):(" "+(tr.className.baseVal||tr.className)+" ").indexOf(" "+Ot+" ")!==-1}function getMargins(tr){var Ot=window.getComputedStyle(tr),Nt=parseFloat(Ot.marginTop)||0,er=parseFloat(Ot.marginRight)||0,rr=parseFloat(Ot.marginBottom)||0,ir=parseFloat(Ot.marginLeft)||0;return{top:Nt,right:er,bottom:rr,left:ir}}function usePopperMarginModifiers(){var tr=reactExports.useRef(null),Ot=reactExports.useRef(null),Nt=reactExports.useRef(null),er=useBootstrapPrefix(void 0,"popover"),rr=useBootstrapPrefix(void 0,"dropdown-menu"),ir=reactExports.useCallback(function(lr){!lr||!(hasClass(lr,er)||hasClass(lr,rr))||(Ot.current=getMargins(lr),lr.style.margin="0",tr.current=lr)},[er,rr]),nr=reactExports.useMemo(function(){return{name:"offset",options:{offset:function(cr){var dr=cr.placement;if(!Ot.current)return[0,0];var ur=Ot.current,fr=ur.top,hr=ur.left,pr=ur.bottom,gr=ur.right;switch(dr.split("-")[0]){case"top":return[0,pr];case"left":return[0,gr];case"bottom":return[0,fr];case"right":return[0,hr];default:return[0,0]}}}}},[Ot]),sr=reactExports.useMemo(function(){return{name:"arrow",options:{padding:function(){if(!Nt.current)return 0;var cr=Nt.current,dr=cr.top,ur=cr.right,fr=dr||ur;return{top:fr,left:fr,right:fr,bottom:fr}}}}},[Nt]),ar=reactExports.useMemo(function(){return{name:"popoverArrowMargins",enabled:!0,phase:"main",fn:function(){},requiresIfExists:["arrow"],effect:function(cr){var dr=cr.state;if(!(!tr.current||!dr.elements.arrow||!hasClass(tr.current,er))){if(dr.modifiersData["arrow#persistent"]){var ur=getMargins(dr.elements.arrow),fr=ur.top,hr=ur.right,pr=fr||hr;dr.modifiersData["arrow#persistent"].padding={top:pr,left:pr,right:pr,bottom:pr}}else Nt.current=getMargins(dr.elements.arrow);return dr.elements.arrow.style.margin="0",function(){dr.elements.arrow&&(dr.elements.arrow.style.margin="")}}}}},[er]);return[ir,[nr,sr,ar]]}var _excluded$b=["bsPrefix","className","align","alignRight","rootCloseEvent","flip","show","renderOnMount","as","popperConfig"],alignDirection=PropTypes.oneOf(["left","right"]);PropTypes.oneOfType([alignDirection,PropTypes.shape({sm:alignDirection}),PropTypes.shape({md:alignDirection}),PropTypes.shape({lg:alignDirection}),PropTypes.shape({xl:alignDirection})]);var defaultProps$6={align:"left",alignRight:!1,flip:!0},DropdownMenu=t$2.forwardRef(function(tr,Ot){var Nt=tr.bsPrefix,er=tr.className,rr=tr.align,ir=tr.alignRight,nr=tr.rootCloseEvent,sr=tr.flip,ar=tr.show,lr=tr.renderOnMount,cr=tr.as,dr=cr===void 0?"div":cr,ur=tr.popperConfig,fr=_objectWithoutPropertiesLoose$v(tr,_excluded$b),hr=reactExports.useContext(context),pr=useBootstrapPrefix(Nt,"dropdown-menu"),gr=usePopperMarginModifiers(),br=gr[0],vr=gr[1],kr=[];if(rr)if(typeof rr=="object"){var Sr=Object.keys(rr);if(Sr.length){var Cr=Sr[0],Ar=rr[Cr];ir=Ar==="left",kr.push(pr+"-"+Cr+"-"+Ar)}}else rr==="right"&&(ir=!0);var Ir=useDropdownMenu({flip:sr,rootCloseEvent:nr,show:ar,alignEnd:ir,usePopper:!hr&&kr.length===0,popperConfig:_extends$v({},ur,{modifiers:vr.concat((ur==null?void 0:ur.modifiers)||[])})}),qr=Ir[0],Qr=Ir[1],Wr=Qr.hasShown,jr=Qr.popper,Or=Qr.show,yr=Qr.alignEnd,xr=Qr.toggle;if(qr.ref=useMergedRefs(br,useMergedRefs(useWrappedRefWithWarning(Ot),qr.ref)),!Wr&&!lr)return null;typeof dr!="string"&&(qr.show=Or,qr.close=function(){return xr==null?void 0:xr(!1)},qr.alignRight=yr);var wr=fr.style;return jr!=null&&jr.placement&&(wr=_extends$v({},fr.style,qr.style),fr["x-placement"]=jr.placement),t$2.createElement(dr,_extends$v({},fr,qr,{style:wr,className:classNames.apply(void 0,[er,pr,Or&&"show",yr&&pr+"-right"].concat(kr))}))});DropdownMenu.displayName="DropdownMenu";DropdownMenu.defaultProps=defaultProps$6;var isRequiredForA11y={exports:{}};(function(tr,Ot){Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.default=Nt;function Nt(er){return function(ir,nr,sr,ar,lr){var cr=sr||"<<anonymous>>",dr=lr||nr;if(ir[nr]==null)return new Error("The "+ar+" `"+dr+"` is required to make "+("`"+cr+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var ur=arguments.length,fr=Array(ur>5?ur-5:0),hr=5;hr<ur;hr++)fr[hr-5]=arguments[hr];return er.apply(void 0,[ir,nr,sr,ar,lr].concat(fr))}}tr.exports=Ot.default})(isRequiredForA11y,isRequiredForA11y.exports);var _excluded$a=["bsPrefix","split","className","childBsPrefix","as"],DropdownToggle=t$2.forwardRef(function(tr,Ot){var Nt=tr.bsPrefix,er=tr.split,rr=tr.className,ir=tr.childBsPrefix,nr=tr.as,sr=nr===void 0?Button:nr,ar=_objectWithoutPropertiesLoose$v(tr,_excluded$a),lr=useBootstrapPrefix(Nt,"dropdown-toggle");ir!==void 0&&(ar.bsPrefix=ir);var cr=useDropdownToggle(),dr=cr[0];return dr.ref=useMergedRefs(dr.ref,useWrappedRefWithWarning(Ot)),t$2.createElement(sr,_extends$v({className:classNames(rr,lr,er&&lr+"-split")},dr,ar))});DropdownToggle.displayName="DropdownToggle";var _excluded$9=["bsPrefix","drop","show","className","alignRight","onSelect","onToggle","focusFirstItemOnShow","as","navbar"],DropdownHeader=createWithBsPrefix("dropdown-header",{defaultProps:{role:"heading"}}),DropdownDivider=createWithBsPrefix("dropdown-divider",{defaultProps:{role:"separator"}}),DropdownItemText=createWithBsPrefix("dropdown-item-text",{Component:"span"}),defaultProps$5={navbar:!1},Dropdown=t$2.forwardRef(function(tr,Ot){var Nt=useUncontrolled(tr,{show:"onToggle"}),er=Nt.bsPrefix,rr=Nt.drop,ir=Nt.show,nr=Nt.className,sr=Nt.alignRight,ar=Nt.onSelect,lr=Nt.onToggle,cr=Nt.focusFirstItemOnShow,dr=Nt.as,ur=dr===void 0?"div":dr;Nt.navbar;var fr=_objectWithoutPropertiesLoose$v(Nt,_excluded$9),hr=reactExports.useContext(SelectableContext),pr=useBootstrapPrefix(er,"dropdown"),gr=useEventCallback(function(vr,kr,Sr){Sr===void 0&&(Sr=kr.type),kr.currentTarget===document&&(Sr!=="keydown"||kr.key==="Escape")&&(Sr="rootClose"),lr&&lr(vr,kr,{source:Sr})}),br=useEventCallback(function(vr,kr){hr&&hr(vr,kr),ar&&ar(vr,kr),gr(!1,kr,"select")});return t$2.createElement(SelectableContext.Provider,{value:br},t$2.createElement(Dropdown$1,{drop:rr,show:ir,alignEnd:sr,onToggle:gr,focusFirstItemOnShow:cr,itemSelector:"."+pr+"-item:not(.disabled):not(:disabled)"},t$2.createElement(ur,_extends$v({},fr,{ref:Ot,className:classNames(nr,ir&&"show",(!rr||rr==="down")&&pr,rr==="up"&&"dropup",rr==="right"&&"dropright",rr==="left"&&"dropleft")}))))});Dropdown.displayName="Dropdown";Dropdown.defaultProps=defaultProps$5;Dropdown.Divider=DropdownDivider;Dropdown.Header=DropdownHeader;Dropdown.Item=DropdownItem;Dropdown.ItemText=DropdownItemText;Dropdown.Menu=DropdownMenu;Dropdown.Toggle=DropdownToggle;var _excluded$8=["bsPrefix","className","children","as"],NavItem=t$2.forwardRef(function(tr,Ot){var Nt=tr.bsPrefix,er=tr.className,rr=tr.children,ir=tr.as,nr=ir===void 0?"div":ir,sr=_objectWithoutPropertiesLoose$v(tr,_excluded$8);return Nt=useBootstrapPrefix(Nt,"nav-item"),t$2.createElement(nr,_extends$v({},sr,{ref:Ot,className:classNames(er,Nt)}),rr)});NavItem.displayName="NavItem";var _excluded$7=["bsPrefix","disabled","className","href","eventKey","onSelect","as"],defaultProps$4={disabled:!1,as:SafeAnchor},NavLink=t$2.forwardRef(function(tr,Ot){var Nt=tr.bsPrefix,er=tr.disabled,rr=tr.className,ir=tr.href,nr=tr.eventKey,sr=tr.onSelect,ar=tr.as,lr=_objectWithoutPropertiesLoose$v(tr,_excluded$7);return Nt=useBootstrapPrefix(Nt,"nav-link"),t$2.createElement(AbstractNavItem,_extends$v({},lr,{href:ir,ref:Ot,eventKey:nr,as:ar,disabled:er,onSelect:sr,className:classNames(rr,Nt,er&&"disabled")}))});NavLink.displayName="NavLink";NavLink.defaultProps=defaultProps$4;var _excluded$6=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","children","activeKey"],defaultProps$3={justify:!1,fill:!1},Nav=t$2.forwardRef(function(tr,Ot){var Nt,er=useUncontrolled(tr,{activeKey:"onSelect"}),rr=er.as,ir=rr===void 0?"div":rr,nr=er.bsPrefix,sr=er.variant,ar=er.fill,lr=er.justify,cr=er.navbar,dr=er.navbarScroll,ur=er.className,fr=er.children,hr=er.activeKey,pr=_objectWithoutPropertiesLoose$v(er,_excluded$6),gr=useBootstrapPrefix(nr,"nav"),br,vr,kr=!1,Sr=reactExports.useContext(context),Cr=reactExports.useContext(context$1);return Sr?(br=Sr.bsPrefix,kr=cr??!0):Cr&&(vr=Cr.cardHeaderBsPrefix),t$2.createElement(AbstractNav,_extends$v({as:ir,ref:Ot,activeKey:hr,className:classNames(ur,(Nt={},Nt[gr]=!kr,Nt[br+"-nav"]=kr,Nt[br+"-nav-scroll"]=kr&&dr,Nt[vr+"-"+sr]=!!vr,Nt[gr+"-"+sr]=!!sr,Nt[gr+"-fill"]=ar,Nt[gr+"-justified"]=lr,Nt))},pr),fr)});Nav.displayName="Nav";Nav.defaultProps=defaultProps$3;Nav.Item=NavItem;Nav.Link=NavLink;var TabContainer=function(Ot){var Nt=useUncontrolled(Ot,{activeKey:"onSelect"}),er=Nt.id,rr=Nt.generateChildId,ir=Nt.onSelect,nr=Nt.activeKey,sr=Nt.transition,ar=Nt.mountOnEnter,lr=Nt.unmountOnExit,cr=Nt.children,dr=reactExports.useMemo(function(){return rr||function(fr,hr){return er?er+"-"+hr+"-"+fr:null}},[er,rr]),ur=reactExports.useMemo(function(){return{onSelect:ir,activeKey:nr,transition:sr,mountOnEnter:ar||!1,unmountOnExit:lr||!1,getControlledId:function(hr){return dr(hr,"tabpane")},getControllerId:function(hr){return dr(hr,"tab")}}},[ir,nr,sr,ar,lr,dr]);return t$2.createElement(TabContext.Provider,{value:ur},t$2.createElement(SelectableContext.Provider,{value:ir||null},cr))},_excluded$5=["bsPrefix","as","className"],TabContent=t$2.forwardRef(function(tr,Ot){var Nt=tr.bsPrefix,er=tr.as,rr=er===void 0?"div":er,ir=tr.className,nr=_objectWithoutPropertiesLoose$v(tr,_excluded$5),sr=useBootstrapPrefix(Nt,"tab-content");return t$2.createElement(rr,_extends$v({ref:Ot},nr,{className:classNames(ir,sr)}))}),_excluded$4=["activeKey","getControlledId","getControllerId"],_excluded2=["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"];function useTabContext(tr){var Ot=reactExports.useContext(TabContext);if(!Ot)return tr;var Nt=Ot.activeKey,er=Ot.getControlledId,rr=Ot.getControllerId,ir=_objectWithoutPropertiesLoose$v(Ot,_excluded$4),nr=tr.transition!==!1&&ir.transition!==!1,sr=makeEventKey(tr.eventKey);return _extends$v({},tr,{active:tr.active==null&&sr!=null?makeEventKey(Nt)===sr:tr.active,id:er(tr.eventKey),"aria-labelledby":rr(tr.eventKey),transition:nr&&(tr.transition||ir.transition||Fade),mountOnEnter:tr.mountOnEnter!=null?tr.mountOnEnter:ir.mountOnEnter,unmountOnExit:tr.unmountOnExit!=null?tr.unmountOnExit:ir.unmountOnExit})}var TabPane=t$2.forwardRef(function(tr,Ot){var Nt=useTabContext(tr),er=Nt.bsPrefix,rr=Nt.className,ir=Nt.active,nr=Nt.onEnter,sr=Nt.onEntering,ar=Nt.onEntered,lr=Nt.onExit,cr=Nt.onExiting,dr=Nt.onExited,ur=Nt.mountOnEnter,fr=Nt.unmountOnExit,hr=Nt.transition,pr=Nt.as,gr=pr===void 0?"div":pr;Nt.eventKey;var br=_objectWithoutPropertiesLoose$v(Nt,_excluded2),vr=useBootstrapPrefix(er,"tab-pane");if(!ir&&!hr&&fr)return null;var kr=t$2.createElement(gr,_extends$v({},br,{ref:Ot,role:"tabpanel","aria-hidden":!ir,className:classNames(rr,vr,{active:ir})}));return hr&&(kr=t$2.createElement(hr,{in:ir,onEnter:nr,onEntering:sr,onEntered:ar,onExit:lr,onExiting:cr,onExited:dr,mountOnEnter:ur,unmountOnExit:fr},kr)),t$2.createElement(TabContext.Provider,{value:null},t$2.createElement(SelectableContext.Provider,{value:null},kr))});TabPane.displayName="TabPane";var Tab=function(tr){_inheritsLoose(Ot,tr);function Ot(){return tr.apply(this,arguments)||this}var Nt=Ot.prototype;return Nt.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},Ot}(t$2.Component);Tab.Container=TabContainer;Tab.Content=TabContent;Tab.Pane=TabPane;var _excluded$3=["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"],defaultProps$2={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1};function getDefaultActiveKey(tr){var Ot;return forEach(tr,function(Nt){Ot==null&&(Ot=Nt.props.eventKey)}),Ot}function renderTab(tr){var Ot=tr.props,Nt=Ot.title,er=Ot.eventKey,rr=Ot.disabled,ir=Ot.tabClassName,nr=Ot.id;return Nt==null?null:t$2.createElement(NavItem,{as:NavLink,eventKey:er,disabled:rr,id:nr,className:ir},Nt)}var Tabs=function(Ot){var Nt=useUncontrolled(Ot,{activeKey:"onSelect"}),er=Nt.id,rr=Nt.onSelect,ir=Nt.transition,nr=Nt.mountOnEnter,sr=Nt.unmountOnExit,ar=Nt.children,lr=Nt.activeKey,cr=lr===void 0?getDefaultActiveKey(ar):lr,dr=_objectWithoutPropertiesLoose$v(Nt,_excluded$3);return t$2.createElement(TabContainer,{id:er,activeKey:cr,onSelect:rr,transition:ir,mountOnEnter:nr,unmountOnExit:sr},t$2.createElement(Nav,_extends$v({},dr,{role:"tablist",as:"nav"}),map(ar,renderTab)),t$2.createElement(TabContent,null,map(ar,function(ur){var fr=_extends$v({},ur.props);return delete fr.title,delete fr.disabled,delete fr.tabClassName,t$2.createElement(TabPane,fr)})))};Tabs.defaultProps=defaultProps$2;Tabs.displayName="Tabs";var ToastContext=t$2.createContext({onClose:function(){}}),_excluded$2=["bsPrefix","closeLabel","closeButton","className","children"],defaultProps$1={closeLabel:"Close",closeButton:!0},ToastHeader=t$2.forwardRef(function(tr,Ot){var Nt=tr.bsPrefix,er=tr.closeLabel,rr=tr.closeButton,ir=tr.className,nr=tr.children,sr=_objectWithoutPropertiesLoose$v(tr,_excluded$2);Nt=useBootstrapPrefix(Nt,"toast-header");var ar=reactExports.useContext(ToastContext),lr=useEventCallback(function(cr){ar&&ar.onClose&&ar.onClose(cr)});return t$2.createElement("div",_extends$v({ref:Ot},sr,{className:classNames(Nt,ir)}),nr,rr&&t$2.createElement(CloseButton,{label:er,onClick:lr,className:"ml-2 mb-1","data-dismiss":"toast"}))});ToastHeader.displayName="ToastHeader";ToastHeader.defaultProps=defaultProps$1;const ToastBody=createWithBsPrefix("toast-body");var _excluded$1=["bsPrefix","className","children","transition","show","animation","delay","autohide","onClose"],Toast=t$2.forwardRef(function(tr,Ot){var Nt=tr.bsPrefix,er=tr.className,rr=tr.children,ir=tr.transition,nr=ir===void 0?Fade:ir,sr=tr.show,ar=sr===void 0?!0:sr,lr=tr.animation,cr=lr===void 0?!0:lr,dr=tr.delay,ur=dr===void 0?3e3:dr,fr=tr.autohide,hr=fr===void 0?!1:fr,pr=tr.onClose,gr=_objectWithoutPropertiesLoose$v(tr,_excluded$1);Nt=useBootstrapPrefix(Nt,"toast");var br=reactExports.useRef(ur),vr=reactExports.useRef(pr);reactExports.useEffect(function(){br.current=ur,vr.current=pr},[ur,pr]);var kr=useTimeout(),Sr=!!(hr&&ar),Cr=reactExports.useCallback(function(){Sr&&(vr.current==null||vr.current())},[Sr]);reactExports.useEffect(function(){kr.set(Cr,br.current)},[kr,Cr]);var Ar=reactExports.useMemo(function(){return{onClose:pr}},[pr]),Ir=!!(nr&&cr),qr=t$2.createElement("div",_extends$v({},gr,{ref:Ot,className:classNames(Nt,er,!Ir&&(ar?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}),rr);return t$2.createElement(ToastContext.Provider,{value:Ar},Ir&&nr?t$2.createElement(nr,{in:ar,unmountOnExit:!0},qr):qr)});Toast.displayName="Toast";const Toast$1=Object.assign(Toast,{Body:ToastBody,Header:ToastHeader}),formatBytes=tr=>{if(tr===0)return"0 Bytes";const Ot=["Bytes","KB","MB","GB","TB"];let Nt=Math.floor(Math.log(tr)/Math.log(1024)),er=parseFloat((tr/Math.pow(1024,Nt)).toFixed(2));return(isNaN(er)||!isFinite(tr))&&(er=0,Nt=0),`${er} ${Ot[Nt]}`};function addNameToDataURL(tr,Ot){return tr===null?null:tr.replace(";base64",`;name=${encodeURIComponent(Ot)};base64`)}var dist$2={},common$2={};Object.defineProperty(common$2,"__esModule",{value:!0});common$2.makeDataUriToBuffer=void 0;const makeDataUriToBuffer=tr=>Ot=>{if(Ot=String(Ot),!/^data:/i.test(Ot))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');Ot=Ot.replace(/\r?\n/g,"");const Nt=Ot.indexOf(",");if(Nt===-1||Nt<=4)throw new TypeError("malformed data: URI");const er=Ot.substring(5,Nt).split(";");let rr="",ir=!1;const nr=er[0]||"text/plain";let sr=nr;for(let cr=1;cr<er.length;cr++)er[cr]==="base64"?ir=!0:er[cr]&&(sr+=`;${er[cr]}`,er[cr].indexOf("charset=")===0&&(rr=er[cr].substring(8)));!er[0]&&!rr.length&&(sr+=";charset=US-ASCII",rr="US-ASCII");const ar=unescape(Ot.substring(Nt+1)),lr=ir?tr.base64ToArrayBuffer(ar):tr.stringToBuffer(ar);return{type:nr,typeFull:sr,charset:rr,buffer:lr}};common$2.makeDataUriToBuffer=makeDataUriToBuffer;Object.defineProperty(dist$2,"__esModule",{value:!0});var dataUriToBuffer=dist$2.dataUriToBuffer=void 0;const common_1=common$2;function base64ToArrayBuffer(tr){const Ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nt=[];for(let ir=0;ir<tr.length;ir+=4){const nr=Ot.indexOf(tr.charAt(ir)),sr=Ot.indexOf(tr.charAt(ir+1)),ar=tr.charAt(ir+2)==="="?0:Ot.indexOf(tr.charAt(ir+2)),lr=tr.charAt(ir+3)==="="?0:Ot.indexOf(tr.charAt(ir+3)),cr=nr<<2|sr>>4,dr=(sr&15)<<4|ar>>2,ur=(ar&3)<<6|lr;Nt.push(cr),tr.charAt(ir+2)!=="="&&Nt.push(dr),tr.charAt(ir+3)!=="="&&Nt.push(ur)}const er=new ArrayBuffer(Nt.length);return new Uint8Array(er).set(Nt),er}function stringToBuffer(tr){const Ot=new ArrayBuffer(tr.length),Nt=new Uint8Array(Ot);for(let er=0;er<tr.length;er++)Nt[er]=tr.charCodeAt(er);return Ot}dataUriToBuffer=dist$2.dataUriToBuffer=(0,common_1.makeDataUriToBuffer)({stringToBuffer,base64ToArrayBuffer});function getFileInfo(tr,Ot=!1){const{blob:Nt,name:er}=dataURItoBlob(tr);let rr=null;if(Ot)try{rr=dataUriToBuffer(tr).buffer}catch(ir){console.log("extractFileInfo could not convrt base64 data to ArrayBuffer",ir)}return{dataURL:tr,name:er,size:Nt.size,type:Nt.type,buffer:rr}}function dataURLtoFile(tr,Ot=null){const{name:Nt}=getFileInfo(tr);for(var er=tr.split(","),rr=er[0].match(/:(.*?);/)[1],ir=atob(er[1]),nr=ir.length,sr=new Uint8Array(nr);nr--;)sr[nr]=ir.charCodeAt(nr);return new File([sr],Ot||Nt,{type:rr})}function processFile(tr){const{name:Ot,size:Nt,type:er}=tr;return new Promise((rr,ir)=>{const nr=new window.FileReader;nr.onerror=ir,nr.onload=sr=>{var ar;typeof((ar=sr.target)==null?void 0:ar.result)=="string"?rr({dataURL:addNameToDataURL(sr.target.result,Ot),name:Ot,size:Nt,type:er}):rr({dataURL:null,name:Ot,size:Nt,type:er})},nr.readAsDataURL(tr)})}function processFiles(tr){return Promise.all(Array.from(tr).map(processFile))}function FileInfoPreview({fileInfo:tr,registry:Ot}){const{translateString:Nt}=Ot,{dataURL:er,type:rr,name:ir}=tr;return!er||ir==="DEFAULT_DATA_URL_FILENAME"?null:rr.startsWith("image/")?jsxRuntimeExports.jsx("img",{src:er,style:{maxWidth:"100%"},className:"file-preview"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx("a",{download:`preview-${ir}`,href:er,className:"file-download",children:Nt(TranslatableString.PreviewLabel)})]})}function FilesInfo({filesInfo:tr,registry:Ot,preview:Nt,onRemove:er,options:rr,onUpload:ir}){return tr.length===0?null:(getTemplate("ButtonTemplates",Ot,rr),jsxRuntimeExports.jsx("ul",{className:"file-info",children:tr.map((nr,sr)=>{const{name:ar,size:lr,type:cr}=nr,dr=ar==="DEFAULT_DATA_URL_FILENAME";return jsxRuntimeExports.jsxs("li",{className:"upload-items",children:[jsxRuntimeExports.jsx("div",{className:`top-action-btn-container ${dr?"empty":""}`,children:jsxRuntimeExports.jsxs(Button,{title:"Upload File",onClick:ur=>ir(),size:"sm",variant:"primary",className:"btn-upload",children:[jsxRuntimeExports.jsx(Upload,{className:"feather-sm"})," Upload File"]})}),Nt&&jsxRuntimeExports.jsxs("div",{className:"file-preview-container",children:[jsxRuntimeExports.jsx("div",{className:"file-container",children:jsxRuntimeExports.jsx(FileInfoPreview,{fileInfo:nr,registry:Ot})}),jsxRuntimeExports.jsx("div",{className:"description-container",children:!dr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ar,"(",cr,", ",formatBytes(lr),")"]})})]})]},sr)})}))}function extractFileInfo(tr){return tr.reduce((Ot,Nt)=>{if(!Nt)return Ot;try{const{blob:er,name:rr}=dataURItoBlob(Nt);return[...Ot,{dataURL:Nt,name:rr,size:er.size,type:er.type}]}catch{return Ot}},[])}function CustomFileWidget(tr){const Ot=reactExports.useRef(null);Ot.current=DEFAULT_DATA_URL;const{disabled:Nt,readonly:er,required:rr,multiple:ir,onChange:nr,value:sr,options:ar,registry:lr}=tr,cr=getTemplate("BaseInputTemplate",lr,ar),dr=reactExports.useCallback(pr=>{pr.target.files&&processFiles(pr.target.files).then(gr=>{const br=gr.map(vr=>vr.dataURL);nr(ir?sr.concat(br[0]):br[0])})},[ir,sr,nr]),ur=reactExports.useMemo(()=>extractFileInfo(Array.isArray(sr)?sr:[sr]),[sr]),fr=()=>{document.querySelector(`input[name=${tr.id}]`).click()},hr=reactExports.useCallback(pr=>{if(ir){const gr=sr.filter((br,vr)=>vr!==pr);nr(gr)}else nr(void 0)},[ir,sr,nr]);return reactExports.useEffect(()=>{let pr=dataURLtoFile(Ot.current);try{pr=dataURLtoFile(sr)}catch{console.log("CustomFileWidget-error: value is not valid data-url")}processFiles([pr]).then(br=>{const vr=br.map(kr=>kr.dataURL);nr(ir?sr.concat(vr[0]):vr[0])})},[nr,ir,sr]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(cr,{...tr,disabled:Nt||er,type:"file",required:sr?!1:rr,onChangeOverride:dr,value:"",accept:ar.accept?String(ar.accept):void 0}),jsxRuntimeExports.jsx(FilesInfo,{filesInfo:ur,onRemove:hr,onUpload:fr,registry:lr,preview:ar.filePreview,options:ar})]})}var Rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe$2(tr){return tr&&tr.__esModule&&Object.prototype.hasOwnProperty.call(tr,"default")?tr.default:tr}function Te$2(){}Object.assign(Te$2,{default:Te$2,register:Te$2,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(tr){const Ot=(this.document||this.ownerDocument).querySelectorAll(tr);let Nt=Ot.length;for(;--Nt>=0&&Ot.item(Nt)!==this;);return Nt>-1});Element.prototype.closest||(Element.prototype.closest=function(tr){let Ot=this;if(!document.documentElement.contains(Ot))return null;do{if(Ot.matches(tr))return Ot;Ot=Ot.parentElement||Ot.parentNode}while(Ot!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(tr){const Ot=document.createDocumentFragment();Array.isArray(tr)||(tr=[tr]),tr.forEach(Nt=>{const er=Nt instanceof Node;Ot.appendChild(er?Nt:document.createTextNode(Nt))}),this.insertBefore(Ot,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(tr){tr=arguments.length===0?!0:!!tr;const Ot=this.parentNode,Nt=window.getComputedStyle(Ot,null),er=parseInt(Nt.getPropertyValue("border-top-width")),rr=parseInt(Nt.getPropertyValue("border-left-width")),ir=this.offsetTop-Ot.offsetTop<Ot.scrollTop,nr=this.offsetTop-Ot.offsetTop+this.clientHeight-er>Ot.scrollTop+Ot.clientHeight,sr=this.offsetLeft-Ot.offsetLeft<Ot.scrollLeft,ar=this.offsetLeft-Ot.offsetLeft+this.clientWidth-rr>Ot.scrollLeft+Ot.clientWidth,lr=ir&&!nr;(ir||nr)&&tr&&(Ot.scrollTop=this.offsetTop-Ot.offsetTop-Ot.clientHeight/2-er+this.clientHeight/2),(sr||ar)&&tr&&(Ot.scrollLeft=this.offsetLeft-Ot.offsetLeft-Ot.clientWidth/2-rr+this.clientWidth/2),(ir||nr||sr||ar)&&!tr&&this.scrollIntoView(lr)});window.requestIdleCallback=window.requestIdleCallback||function(tr){const Ot=Date.now();return setTimeout(function(){tr({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-Ot))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(tr){clearTimeout(tr)};let Dt=(tr=21)=>crypto.getRandomValues(new Uint8Array(tr)).reduce((Ot,Nt)=>(Nt&=63,Nt<36?Ot+=Nt.toString(36):Nt<62?Ot+=(Nt-26).toString(36).toUpperCase():Nt>62?Ot+="-":Ot+="_",Ot),"");var at$1=(tr=>(tr.VERBOSE="VERBOSE",tr.INFO="INFO",tr.WARN="WARN",tr.ERROR="ERROR",tr))(at$1||{});const v$3={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},Pt={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function me$1(tr,Ot,Nt="log",er,rr="color: inherit"){if(!("console"in window)||!window.console[Nt])return;const ir=["info","log","warn","error"].includes(Nt),nr=[];switch(me$1.logLevel){case"ERROR":if(Nt!=="error")return;break;case"WARN":if(!["error","warn"].includes(Nt))return;break;case"INFO":if(!ir||tr)return;break}er&&nr.push(er);const sr="Editor.js 2.29.1";tr&&(ir?(nr.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,rr),Ot=`%c${sr}%c ${Ot}`):Ot=`( ${sr} )${Ot}`);try{ir?er?console[Nt](`${Ot} %o`,...nr):console[Nt](Ot,...nr):console[Nt](Ot)}catch{}}me$1.logLevel="VERBOSE";function Ft(tr){me$1.logLevel=tr}const T$3=me$1.bind(window,!1),Y$2=me$1.bind(window,!0);function oe$2(tr){return Object.prototype.toString.call(tr).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function M$4(tr){return oe$2(tr)==="function"||oe$2(tr)==="asyncfunction"}function D$3(tr){return oe$2(tr)==="object"}function G$2(tr){return oe$2(tr)==="string"}function Ht(tr){return oe$2(tr)==="boolean"}function Je$1(tr){return oe$2(tr)==="number"}function Qe$2(tr){return oe$2(tr)==="undefined"}function W$2(tr){return tr?Object.keys(tr).length===0&&tr.constructor===Object:!0}function lt$2(tr){return tr>47&&tr<58||tr===32||tr===13||tr===229||tr>64&&tr<91||tr>95&&tr<112||tr>185&&tr<193||tr>218&&tr<223}async function zt(tr,Ot=()=>{},Nt=()=>{}){async function er(rr,ir,nr){try{await rr.function(rr.data),await ir(Qe$2(rr.data)?{}:rr.data)}catch{nr(Qe$2(rr.data)?{}:rr.data)}}return tr.reduce(async(rr,ir)=>(await rr,er(ir,Ot,Nt)),Promise.resolve())}function ct$1(tr){return Array.prototype.slice.call(tr)}function xe$2(tr,Ot){return function(){const Nt=this,er=arguments;window.setTimeout(()=>tr.apply(Nt,er),Ot)}}function Ut(tr){return tr.name.split(".").pop()}function jt(tr){return/^[-\w]+\/([-+\w]+|\*)$/.test(tr)}function et(tr,Ot,Nt){let er;return(...rr)=>{const ir=this,nr=()=>{er=null,tr.apply(ir,rr)};window.clearTimeout(er),er=window.setTimeout(nr,Ot)}}function Ie$2(tr,Ot,Nt=void 0){let er,rr,ir,nr=null,sr=0;Nt||(Nt={});const ar=function(){sr=Nt.leading===!1?0:Date.now(),nr=null,ir=tr.apply(er,rr),nr||(er=rr=null)};return function(){const lr=Date.now();!sr&&Nt.leading===!1&&(sr=lr);const cr=Ot-(lr-sr);return er=this,rr=arguments,cr<=0||cr>Ot?(nr&&(clearTimeout(nr),nr=null),sr=lr,ir=tr.apply(er,rr),nr||(er=rr=null)):!nr&&Nt.trailing!==!1&&(nr=setTimeout(ar,cr)),ir}}function $t(){const tr={win:!1,mac:!1,x11:!1,linux:!1},Ot=Object.keys(tr).find(Nt=>window.navigator.appVersion.toLowerCase().indexOf(Nt)!==-1);return Ot&&(tr[Ot]=!0),tr}function re$2(tr){return tr[0].toUpperCase()+tr.slice(1)}function Me$2(tr,...Ot){if(!Ot.length)return tr;const Nt=Ot.shift();if(D$3(tr)&&D$3(Nt))for(const er in Nt)D$3(Nt[er])?(tr[er]||Object.assign(tr,{[er]:{}}),Me$2(tr[er],Nt[er])):Object.assign(tr,{[er]:Nt[er]});return Me$2(tr,...Ot)}function ye$2(tr){const Ot=$t();return tr=tr.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),Ot.mac?tr=tr.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):tr=tr.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),tr}function Wt(tr){try{return new URL(tr).href}catch{}return tr.substring(0,2)==="//"?window.location.protocol+tr:window.location.origin+tr}function Yt(){return Dt(10)}function Kt(tr){window.open(tr,"_blank")}function Xt(tr=""){return`${tr}${Math.floor(Math.random()*1e8).toString(16)}`}function Le$2(tr,Ot,Nt){const er=`«${Ot}» is deprecated and will be removed in the next major release. Please use the «${Nt}» instead.`;tr&&Y$2(er,"warn")}function le$2(tr,Ot,Nt){const er=Nt.value?"value":"get",rr=Nt[er],ir=`#${Ot}Cache`;if(Nt[er]=function(...nr){return this[ir]===void 0&&(this[ir]=rr.apply(this,...nr)),this[ir]},er==="get"&&Nt.set){const nr=Nt.set;Nt.set=function(sr){delete tr[ir],nr.apply(this,sr)}}return Nt}const dt=650;function te$2(){return window.matchMedia(`(max-width: ${dt}px)`).matches}const tt=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function Vt(tr,Ot){const Nt=Array.isArray(tr)||D$3(tr),er=Array.isArray(Ot)||D$3(Ot);return Nt||er?JSON.stringify(tr)===JSON.stringify(Ot):tr===Ot}let c$6=class Yn{static isSingleTag(Ot){return Ot.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(Ot.tagName)}static isLineBreakTag(Ot){return Ot&&Ot.tagName&&["BR","WBR"].includes(Ot.tagName)}static make(Ot,Nt=null,er={}){const rr=document.createElement(Ot);Array.isArray(Nt)?rr.classList.add(...Nt):Nt&&rr.classList.add(Nt);for(const ir in er)Object.prototype.hasOwnProperty.call(er,ir)&&(rr[ir]=er[ir]);return rr}static text(Ot){return document.createTextNode(Ot)}static append(Ot,Nt){Array.isArray(Nt)?Nt.forEach(er=>Ot.appendChild(er)):Ot.appendChild(Nt)}static prepend(Ot,Nt){Array.isArray(Nt)?(Nt=Nt.reverse(),Nt.forEach(er=>Ot.prepend(er))):Ot.prepend(Nt)}static swap(Ot,Nt){const er=document.createElement("div"),rr=Ot.parentNode;rr.insertBefore(er,Ot),rr.insertBefore(Ot,Nt),rr.insertBefore(Nt,er),rr.removeChild(er)}static find(Ot=document,Nt){return Ot.querySelector(Nt)}static get(Ot){return document.getElementById(Ot)}static findAll(Ot=document,Nt){return Ot.querySelectorAll(Nt)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(Ot=>`input[type="${Ot}"]`).join(", ")}static findAllInputs(Ot){return ct$1(Ot.querySelectorAll(Yn.allInputsSelector)).reduce((Nt,er)=>Yn.isNativeInput(er)||Yn.containsOnlyInlineElements(er)?[...Nt,er]:[...Nt,...Yn.getDeepestBlockElements(er)],[])}static getDeepestNode(Ot,Nt=!1){const er=Nt?"lastChild":"firstChild",rr=Nt?"previousSibling":"nextSibling";if(Ot&&Ot.nodeType===Node.ELEMENT_NODE&&Ot[er]){let ir=Ot[er];if(Yn.isSingleTag(ir)&&!Yn.isNativeInput(ir)&&!Yn.isLineBreakTag(ir))if(ir[rr])ir=ir[rr];else if(ir.parentNode[rr])ir=ir.parentNode[rr];else return ir.parentNode;return this.getDeepestNode(ir,Nt)}return Ot}static isElement(Ot){return Je$1(Ot)?!1:Ot&&Ot.nodeType&&Ot.nodeType===Node.ELEMENT_NODE}static isFragment(Ot){return Je$1(Ot)?!1:Ot&&Ot.nodeType&&Ot.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(Ot){return Ot.contentEditable==="true"}static isNativeInput(Ot){const Nt=["INPUT","TEXTAREA"];return Ot&&Ot.tagName?Nt.includes(Ot.tagName):!1}static canSetCaret(Ot){let Nt=!0;if(Yn.isNativeInput(Ot))switch(Ot.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":Nt=!1;break}else Nt=Yn.isContentEditable(Ot);return Nt}static isNodeEmpty(Ot,Nt){let er;return this.isSingleTag(Ot)&&!this.isLineBreakTag(Ot)?!1:(this.isElement(Ot)&&this.isNativeInput(Ot)?er=Ot.value:er=Ot.textContent.replace("​",""),Nt&&(er=er.replace(new RegExp(Nt,"g"),"")),er.trim().length===0)}static isLeaf(Ot){return Ot?Ot.childNodes.length===0:!1}static isEmpty(Ot,Nt){Ot.normalize();const er=[Ot];for(;er.length>0;)if(Ot=er.shift(),!!Ot){if(this.isLeaf(Ot)&&!this.isNodeEmpty(Ot,Nt))return!1;Ot.childNodes&&er.push(...Array.from(Ot.childNodes))}return!0}static isHTMLString(Ot){const Nt=Yn.make("div");return Nt.innerHTML=Ot,Nt.childElementCount>0}static getContentLength(Ot){return Yn.isNativeInput(Ot)?Ot.value.length:Ot.nodeType===Node.TEXT_NODE?Ot.length:Ot.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(Ot){let Nt;G$2(Ot)?(Nt=document.createElement("div"),Nt.innerHTML=Ot):Nt=Ot;const er=rr=>!Yn.blockElements.includes(rr.tagName.toLowerCase())&&Array.from(rr.children).every(er);return Array.from(Nt.children).every(er)}static getDeepestBlockElements(Ot){return Yn.containsOnlyInlineElements(Ot)?[Ot]:Array.from(Ot.children).reduce((Nt,er)=>[...Nt,...Yn.getDeepestBlockElements(er)],[])}static getHolder(Ot){return G$2(Ot)?document.getElementById(Ot):Ot}static isAnchor(Ot){return Ot.tagName.toLowerCase()==="a"}static offset(Ot){const Nt=Ot.getBoundingClientRect(),er=window.pageXOffset||document.documentElement.scrollLeft,rr=window.pageYOffset||document.documentElement.scrollTop,ir=Nt.top+rr,nr=Nt.left+er;return{top:ir,left:nr,bottom:ir+Nt.height,right:nr+Nt.width}}};const qt={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},Zt={Text:"",Link:"",Bold:"",Italic:""},Gt={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},Jt={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},ht={ui:qt,toolNames:Zt,tools:Gt,blockTunes:Jt},ie$4=class{static ui(Ot,Nt){return ie$4._t(Ot,Nt)}static t(Ot,Nt){return ie$4._t(Ot,Nt)}static setDictionary(Ot){ie$4.currentDictionary=Ot}static _t(Ot,Nt){const er=ie$4.getNamespace(Ot);return!er||!er[Nt]?Nt:er[Nt]}static getNamespace(Ot){return Ot.split(".").reduce((Nt,er)=>!Nt||!Object.keys(Nt).length?{}:Nt[er],ie$4.currentDictionary)}};let z$2=ie$4;z$2.currentDictionary=ht;let ut$1=class extends Error{},Ee$2=class{constructor(){this.subscribers={}}on(Ot,Nt){Ot in this.subscribers||(this.subscribers[Ot]=[]),this.subscribers[Ot].push(Nt)}once(Ot,Nt){Ot in this.subscribers||(this.subscribers[Ot]=[]);const er=rr=>{const ir=Nt(rr),nr=this.subscribers[Ot].indexOf(er);return nr!==-1&&this.subscribers[Ot].splice(nr,1),ir};this.subscribers[Ot].push(er)}emit(Ot,Nt){W$2(this.subscribers)||!this.subscribers[Ot]||this.subscribers[Ot].reduce((er,rr)=>{const ir=rr(er);return ir!==void 0?ir:er},Nt)}off(Ot,Nt){if(this.subscribers[Ot]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${Ot.toString()}". Probably, .off() called before .on()`);return}for(let er=0;er<this.subscribers[Ot].length;er++)if(this.subscribers[Ot][er]===Nt){delete this.subscribers[Ot][er];break}}destroy(){this.subscribers={}}};function ee$2(tr){Object.setPrototypeOf(this,{get id(){return tr.id},get name(){return tr.name},get config(){return tr.config},get holder(){return tr.holder},get isEmpty(){return tr.isEmpty},get selected(){return tr.selected},set stretched(Ot){tr.stretched=Ot},get stretched(){return tr.stretched},get focusable(){return tr.focusable},call(Ot,Nt){return tr.call(Ot,Nt)},save(){return tr.save()},validate(Ot){return tr.validate(Ot)},dispatchChange(){tr.dispatchChange()}})}let Fe$2=class{constructor(){this.allListeners=[]}on(Ot,Nt,er,rr=!1){const ir=Xt("l"),nr={id:ir,element:Ot,eventType:Nt,handler:er,options:rr};if(!this.findOne(Ot,Nt,er))return this.allListeners.push(nr),Ot.addEventListener(Nt,er,rr),ir}off(Ot,Nt,er,rr){const ir=this.findAll(Ot,Nt,er);ir.forEach((nr,sr)=>{const ar=this.allListeners.indexOf(ir[sr]);ar>-1&&(this.allListeners.splice(ar,1),nr.element.removeEventListener(nr.eventType,nr.handler,nr.options))})}offById(Ot){const Nt=this.findById(Ot);Nt&&Nt.element.removeEventListener(Nt.eventType,Nt.handler,Nt.options)}findOne(Ot,Nt,er){const rr=this.findAll(Ot,Nt,er);return rr.length>0?rr[0]:null}findAll(Ot,Nt,er){let rr;const ir=Ot?this.findByEventTarget(Ot):[];return Ot&&Nt&&er?rr=ir.filter(nr=>nr.eventType===Nt&&nr.handler===er):Ot&&Nt?rr=ir.filter(nr=>nr.eventType===Nt):rr=ir,rr}removeAll(){this.allListeners.map(Ot=>{Ot.element.removeEventListener(Ot.eventType,Ot.handler,Ot.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(Ot){return this.allListeners.filter(Nt=>{if(Nt.element===Ot)return Nt})}findByType(Ot){return this.allListeners.filter(Nt=>{if(Nt.eventType===Ot)return Nt})}findByHandler(Ot){return this.allListeners.filter(Nt=>{if(Nt.handler===Ot)return Nt})}findById(Ot){return this.allListeners.find(Nt=>Nt.id===Ot)}},y$3=class xa{constructor({config:Ot,eventsDispatcher:Nt}){if(this.nodes={},this.listeners=new Fe$2,this.readOnlyMutableListeners={on:(er,rr,ir,nr=!1)=>{this.mutableListenerIds.push(this.listeners.on(er,rr,ir,nr))},clearAll:()=>{for(const er of this.mutableListenerIds)this.listeners.offById(er);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===xa)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=Ot,this.eventsDispatcher=Nt}set state(Ot){this.Editor=Ot}removeAllNodes(){for(const Ot in this.nodes){const Nt=this.nodes[Ot];Nt instanceof HTMLElement&&Nt.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},b$2=class Ss{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const Ot=window.getSelection();return Ot?Ot.anchorNode:null}static get anchorElement(){const Ot=window.getSelection();if(!Ot)return null;const Nt=Ot.anchorNode;return Nt?c$6.isElement(Nt)?Nt:Nt.parentElement:null}static get anchorOffset(){const Ot=window.getSelection();return Ot?Ot.anchorOffset:null}static get isCollapsed(){const Ot=window.getSelection();return Ot?Ot.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(Ss.get())}static isSelectionAtEditor(Ot){if(!Ot)return!1;let Nt=Ot.anchorNode||Ot.focusNode;Nt&&Nt.nodeType===Node.TEXT_NODE&&(Nt=Nt.parentNode);let er=null;return Nt&&Nt instanceof Element&&(er=Nt.closest(`.${Ss.CSS.editorZone}`)),er?er.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(Ot){if(!Ot)return;let Nt=Ot.startContainer;Nt&&Nt.nodeType===Node.TEXT_NODE&&(Nt=Nt.parentNode);let er=null;return Nt&&Nt instanceof Element&&(er=Nt.closest(`.${Ss.CSS.editorZone}`)),er?er.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!Ss.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(Ot){return Ot&&Ot.rangeCount?Ot.getRangeAt(0):null}static get rect(){let Ot=document.selection,Nt,er={x:0,y:0,width:0,height:0};if(Ot&&Ot.type!=="Control")return Ot=Ot,Nt=Ot.createRange(),er.x=Nt.boundingLeft,er.y=Nt.boundingTop,er.width=Nt.boundingWidth,er.height=Nt.boundingHeight,er;if(!window.getSelection)return T$3("Method window.getSelection is not supported","warn"),er;if(Ot=window.getSelection(),Ot.rangeCount===null||isNaN(Ot.rangeCount))return T$3("Method SelectionUtils.rangeCount is not supported","warn"),er;if(Ot.rangeCount===0)return er;if(Nt=Ot.getRangeAt(0).cloneRange(),Nt.getBoundingClientRect&&(er=Nt.getBoundingClientRect()),er.x===0&&er.y===0){const rr=document.createElement("span");if(rr.getBoundingClientRect){rr.appendChild(document.createTextNode("​")),Nt.insertNode(rr),er=rr.getBoundingClientRect();const ir=rr.parentNode;ir.removeChild(rr),ir.normalize()}}return er}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(Ot,Nt=0){const er=document.createRange(),rr=window.getSelection();return c$6.isNativeInput(Ot)?c$6.canSetCaret(Ot)?(Ot.focus(),Ot.selectionStart=Ot.selectionEnd=Nt,Ot.getBoundingClientRect()):void 0:(er.setStart(Ot,Nt),er.setEnd(Ot,Nt),rr.removeAllRanges(),rr.addRange(er),er.getBoundingClientRect())}static isRangeInsideContainer(Ot){const Nt=Ss.range;return Nt===null?!1:Ot.contains(Nt.startContainer)}static addFakeCursor(){const Ot=Ss.range;if(Ot===null)return;const Nt=c$6.make("span","codex-editor__fake-cursor");Nt.dataset.mutationFree="true",Ot.collapse(),Ot.insertNode(Nt)}static isFakeCursorInsideContainer(Ot){return c$6.find(Ot,".codex-editor__fake-cursor")!==null}static removeFakeCursor(Ot=document.body){const Nt=c$6.find(Ot,".codex-editor__fake-cursor");Nt&&Nt.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=Ss.range}restore(){if(!this.savedSelectionRange)return;const Ot=window.getSelection();Ot.removeAllRanges(),Ot.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const Ot=window.getSelection(),Nt=document.createRange();Nt.selectNodeContents(Ot.focusNode),Nt.collapse(!1),Ot.removeAllRanges(),Ot.addRange(Nt)}findParentTag(Ot,Nt,er=10){const rr=window.getSelection();let ir=null;return!rr||!rr.anchorNode||!rr.focusNode?null:([rr.anchorNode,rr.focusNode].forEach(nr=>{let sr=er;for(;sr>0&&nr.parentNode&&!(nr.tagName===Ot&&(ir=nr,Nt&&nr.classList&&!nr.classList.contains(Nt)&&(ir=null),ir));)nr=nr.parentNode,sr--}),ir)}expandToTag(Ot){const Nt=window.getSelection();Nt.removeAllRanges();const er=document.createRange();er.selectNodeContents(Ot),Nt.addRange(er)}};function Qt(tr,Ot){const{type:Nt,target:er,addedNodes:rr,removedNodes:ir}=tr;if(er===Ot)return!0;if(["characterData","attributes"].includes(Nt)){const ar=er.nodeType===Node.TEXT_NODE?er.parentNode:er;return Ot.contains(ar)}const nr=Array.from(rr).some(ar=>Ot.contains(ar)),sr=Array.from(ir).some(ar=>Ot.contains(ar));return nr||sr}const Ae$2="redactor dom changed",pt$1="block changed",ft="fake cursor is about to be toggled",gt="fake cursor have been set";function ot$1(tr,Ot){return tr.mergeable&&tr.name===Ot.name}function eo(tr,Ot){const Nt=Ot==null?void 0:Ot.export;return M$4(Nt)?Nt(tr):G$2(Nt)?tr[Nt]:(Nt!==void 0&&T$3("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function to(tr,Ot){const Nt=Ot==null?void 0:Ot.import;return M$4(Nt)?Nt(tr):G$2(Nt)?{[Nt]:tr}:(Nt!==void 0&&T$3("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var X$2=(tr=>(tr.APPEND_CALLBACK="appendCallback",tr.RENDERED="rendered",tr.MOVED="moved",tr.UPDATED="updated",tr.REMOVED="removed",tr.ON_PASTE="onPaste",tr))(X$2||{});let R$5=class ks extends Ee$2{constructor({id:Ot=Yt(),data:Nt,tool:er,api:rr,readOnly:ir,tunesData:nr},sr){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(ar=void 0)=>{const lr=ar===void 0,cr=ar instanceof InputEvent;!lr&&!cr&&this.detectToolRootChange(ar);let dr;lr||cr?dr=!0:dr=!(ar.length>0&&ar.every(ur=>{const{addedNodes:fr,removedNodes:hr,target:pr}=ur;return[...Array.from(fr),...Array.from(hr),pr].some(gr=>(c$6.isElement(gr)||(gr=gr.parentElement),gr&&gr.closest('[data-mutation-free="true"]')!==null))})),dr&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=er.name,this.id=Ot,this.settings=er.settings,this.config=er.settings.config||{},this.api=rr,this.editorEventBus=sr||null,this.blockAPI=new ee$2(this),this.tool=er,this.toolInstance=er.create(Nt,this.blockAPI,ir),this.tunes=er.tunes,this.composeTunes(nr),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const Ot=c$6.findAllInputs(this.holder);return this.inputIndex>Ot.length-1&&(this.inputIndex=Ot.length-1),this.cachedInputs=Ot,Ot}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(Ot){const Nt=this.inputs.findIndex(er=>er===Ot||er.contains(Ot));Nt!==-1&&(this.inputIndex=Nt)}get firstInput(){return this.inputs[0]}get lastInput(){const Ot=this.inputs;return Ot[Ot.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(Ot=>Ot&&!W$2(Ot.data)?Ot.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return M$4(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const Ot=c$6.isEmpty(this.pluginsContent,"/"),Nt=!this.hasMedia;return Ot&&Nt}get hasMedia(){const Ot=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(Ot.join(","))}set selected(Ot){var Nt,er;this.holder.classList.toggle(ks.CSS.selected,Ot);const rr=Ot===!0&&b$2.isRangeInsideContainer(this.holder),ir=Ot===!1&&b$2.isFakeCursorInsideContainer(this.holder);(rr||ir)&&((Nt=this.editorEventBus)==null||Nt.emit(ft,{state:Ot}),rr?b$2.addFakeCursor():b$2.removeFakeCursor(this.holder),(er=this.editorEventBus)==null||er.emit(gt,{state:Ot}))}get selected(){return this.holder.classList.contains(ks.CSS.selected)}set stretched(Ot){this.holder.classList.toggle(ks.CSS.wrapperStretched,Ot)}get stretched(){return this.holder.classList.contains(ks.CSS.wrapperStretched)}set dropTarget(Ot){this.holder.classList.toggle(ks.CSS.dropTarget,Ot)}get pluginsContent(){return this.toolRenderedElement}call(Ot,Nt){if(M$4(this.toolInstance[Ot])){Ot==="appendCallback"&&T$3("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[Ot].call(this.toolInstance,Nt)}catch(er){T$3(`Error during '${Ot}' call: ${er.message}`,"error")}}}async mergeWith(Ot){await this.toolInstance.merge(Ot)}async save(){const Ot=await this.toolInstance.save(this.pluginsContent),Nt=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([ir,nr])=>{if(M$4(nr.save))try{Nt[ir]=nr.save()}catch(sr){T$3(`Tune ${nr.constructor.name} save method throws an Error %o`,"warn",sr)}});const er=window.performance.now();let rr;return Promise.resolve(Ot).then(ir=>(rr=window.performance.now(),{id:this.id,tool:this.name,data:ir,tunes:Nt,time:rr-er})).catch(ir=>{T$3(`Saving process for ${this.name} tool failed due to the ${ir}`,"log","red")})}async validate(Ot){let Nt=!0;return this.toolInstance.validate instanceof Function&&(Nt=await this.toolInstance.validate(Ot)),Nt}getTunes(){const Ot=document.createElement("div"),Nt=[],er=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],rr=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(ir=>ir.render());return[er,rr].flat().forEach(ir=>{c$6.isElement(ir)?Ot.appendChild(ir):Array.isArray(ir)?Nt.push(...ir):Nt.push(ir)}),[Nt,Ot]}updateCurrentInput(){this.currentInput=c$6.isNativeInput(document.activeElement)||!b$2.anchorNode?document.activeElement:b$2.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),M$4(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const Ot=this.tool.toolbox;if(Ot.length===1)return Promise.resolve(this.tool.toolbox[0]);const Nt=await this.data;return Ot.find(er=>Object.entries(er.data).some(([rr,ir])=>Nt[rr]&&Vt(Nt[rr],ir)))}async exportDataAsString(){const Ot=await this.data;return eo(Ot,this.tool.conversionConfig)}compose(){const Ot=c$6.make("div",ks.CSS.wrapper),Nt=c$6.make("div",ks.CSS.content),er=this.toolInstance.render();Ot.dataset.id=this.id,this.toolRenderedElement=er,Nt.appendChild(this.toolRenderedElement);let rr=Nt;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(ir=>{if(M$4(ir.wrap))try{rr=ir.wrap(rr)}catch(nr){T$3(`Tune ${ir.constructor.name} wrap method throws an Error %o`,"warn",nr)}}),Ot.appendChild(rr),Ot}composeTunes(Ot){Array.from(this.tunes.values()).forEach(Nt=>{(Nt.isInternal?this.defaultTunesInstances:this.tunesInstances).set(Nt.name,Nt.create(Ot[Nt.name],this.blockAPI))}),Object.entries(Ot).forEach(([Nt,er])=>{this.tunesInstances.has(Nt)||(this.unavailableTunesData[Nt]=er)})}addInputEvents(){this.inputs.forEach(Ot=>{Ot.addEventListener("focus",this.handleFocus),c$6.isNativeInput(Ot)&&Ot.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(Ot=>{Ot.removeEventListener("focus",this.handleFocus),c$6.isNativeInput(Ot)&&Ot.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var Ot;this.redactorDomChangedCallback=Nt=>{const{mutations:er}=Nt;er.some(rr=>Qt(rr,this.toolRenderedElement))&&this.didMutated(er)},(Ot=this.editorEventBus)==null||Ot.on(Ae$2,this.redactorDomChangedCallback)}unwatchBlockMutations(){var Ot;(Ot=this.editorEventBus)==null||Ot.off(Ae$2,this.redactorDomChangedCallback)}detectToolRootChange(Ot){Ot.forEach(Nt=>{if(Array.from(Nt.removedNodes).includes(this.toolRenderedElement)){const er=Nt.addedNodes[Nt.addedNodes.length-1];this.toolRenderedElement=er}})}dropInputsCache(){this.cachedInputs=[]}};class oo extends y$3{constructor(){super(...arguments),this.insert=(Ot=this.config.defaultBlock,Nt={},er={},rr,ir,nr,sr)=>{const ar=this.Editor.BlockManager.insert({id:sr,tool:Ot,data:Nt,index:rr,needToFocus:ir,replace:nr});return new ee$2(ar)},this.composeBlockData=async Ot=>{const Nt=this.Editor.Tools.blockTools.get(Ot);return new R$5({tool:Nt,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(Ot,Nt)=>{const{BlockManager:er}=this.Editor,rr=er.getBlockById(Ot);if(rr===void 0)throw new Error(`Block with id "${Ot}" not found`);const ir=await er.update(rr,Nt);return new ee$2(ir)},this.convert=(Ot,Nt,er)=>{var rr,ir;const{BlockManager:nr,Tools:sr}=this.Editor,ar=nr.getBlockById(Ot);if(!ar)throw new Error(`Block with id "${Ot}" not found`);const lr=sr.blockTools.get(ar.name),cr=sr.blockTools.get(Nt);if(!cr)throw new Error(`Block Tool with type "${Nt}" not found`);const dr=((rr=lr==null?void 0:lr.conversionConfig)==null?void 0:rr.export)!==void 0,ur=((ir=cr.conversionConfig)==null?void 0:ir.import)!==void 0;if(dr&&ur)nr.convert(ar,Nt,er);else{const fr=[dr?!1:re$2(ar.name),ur?!1:re$2(Nt)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${ar.name}" to "${Nt}" is not possible. ${fr} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(Ot,Nt=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(Nt);const er=Ot.map(({id:rr,type:ir,data:nr})=>this.Editor.BlockManager.composeBlock({id:rr,tool:ir||this.config.defaultBlock,data:nr}));return this.Editor.BlockManager.insertMany(er,Nt),er.map(rr=>new ee$2(rr))}}get methods(){return{clear:()=>this.clear(),render:Ot=>this.render(Ot),renderFromHTML:Ot=>this.renderFromHTML(Ot),delete:Ot=>this.delete(Ot),swap:(Ot,Nt)=>this.swap(Ot,Nt),move:(Ot,Nt)=>this.move(Ot,Nt),getBlockByIndex:Ot=>this.getBlockByIndex(Ot),getById:Ot=>this.getById(Ot),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:Ot=>this.getBlockIndex(Ot),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(Ot,Nt=!0)=>this.stretchBlock(Ot,Nt),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(Ot){const Nt=this.Editor.BlockManager.getBlockById(Ot);if(!Nt){Y$2("There is no block with id `"+Ot+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(Nt)}getBlockByIndex(Ot){const Nt=this.Editor.BlockManager.getBlockByIndex(Ot);if(Nt===void 0){Y$2("There is no block at index `"+Ot+"`","warn");return}return new ee$2(Nt)}getById(Ot){const Nt=this.Editor.BlockManager.getBlockById(Ot);return Nt===void 0?(Y$2("There is no block with id `"+Ot+"`","warn"),null):new ee$2(Nt)}swap(Ot,Nt){T$3("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(Ot,Nt)}move(Ot,Nt){this.Editor.BlockManager.move(Ot,Nt)}delete(Ot=this.Editor.BlockManager.currentBlockIndex){try{const Nt=this.Editor.BlockManager.getBlockByIndex(Ot);this.Editor.BlockManager.removeBlock(Nt)}catch(Nt){Y$2(Nt,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(Ot){if(Ot===void 0||Ot.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(Ot.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(Ot){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(Ot,!0)}stretchBlock(Ot,Nt=!0){Le$2(!0,"blocks.stretchBlock()","BlockAPI");const er=this.Editor.BlockManager.getBlockByIndex(Ot);er&&(er.stretched=Nt)}insertNewBlock(){T$3("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(Ot){if(typeof Ot!="number")throw new Error("Index should be a number");if(Ot<0)throw new Error("Index should be greater than or equal to 0");if(Ot===null)throw new Error("Index should be greater than or equal to 0")}}class io extends y$3{constructor(){super(...arguments),this.setToFirstBlock=(Ot=this.Editor.Caret.positions.DEFAULT,Nt=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,Ot,Nt),!0):!1,this.setToLastBlock=(Ot=this.Editor.Caret.positions.DEFAULT,Nt=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,Ot,Nt),!0):!1,this.setToPreviousBlock=(Ot=this.Editor.Caret.positions.DEFAULT,Nt=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,Ot,Nt),!0):!1,this.setToNextBlock=(Ot=this.Editor.Caret.positions.DEFAULT,Nt=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,Ot,Nt),!0):!1,this.setToBlock=(Ot,Nt=this.Editor.Caret.positions.DEFAULT,er=0)=>this.Editor.BlockManager.blocks[Ot]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[Ot],Nt,er),!0):!1,this.focus=(Ot=!1)=>Ot?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class no extends y$3{get methods(){return{emit:(Ot,Nt)=>this.emit(Ot,Nt),off:(Ot,Nt)=>this.off(Ot,Nt),on:(Ot,Nt)=>this.on(Ot,Nt)}}on(Ot,Nt){this.eventsDispatcher.on(Ot,Nt)}emit(Ot,Nt){this.eventsDispatcher.emit(Ot,Nt)}off(Ot,Nt){this.eventsDispatcher.off(Ot,Nt)}}let He$2=class va extends y$3{static getNamespace(Ot){return Ot.isTune()?`blockTunes.${Ot.name}`:`tools.${Ot.name}`}get methods(){return{t:()=>{Y$2("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(Ot){return Object.assign(this.methods,{t:Nt=>z$2.t(va.getNamespace(Ot),Nt)})}};class so extends y$3{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(Ot){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(Ot)})}}class ro extends y$3{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class ao extends y$3{get methods(){return{on:(Ot,Nt,er,rr)=>this.on(Ot,Nt,er,rr),off:(Ot,Nt,er,rr)=>this.off(Ot,Nt,er,rr),offById:Ot=>this.offById(Ot)}}on(Ot,Nt,er,rr){return this.listeners.on(Ot,Nt,er,rr)}off(Ot,Nt,er,rr){this.listeners.off(Ot,Nt,er,rr)}offById(Ot){this.listeners.offById(Ot)}}var _e$2={},lo={get exports(){return _e$2},set exports(tr){_e$2=tr}};(function(tr,Ot){(function(Nt,er){tr.exports=er()})(window,function(){return function(Nt){var er={};function rr(ir){if(er[ir])return er[ir].exports;var nr=er[ir]={i:ir,l:!1,exports:{}};return Nt[ir].call(nr.exports,nr,nr.exports,rr),nr.l=!0,nr.exports}return rr.m=Nt,rr.c=er,rr.d=function(ir,nr,sr){rr.o(ir,nr)||Object.defineProperty(ir,nr,{enumerable:!0,get:sr})},rr.r=function(ir){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ir,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ir,"__esModule",{value:!0})},rr.t=function(ir,nr){if(1&nr&&(ir=rr(ir)),8&nr||4&nr&&typeof ir=="object"&&ir&&ir.__esModule)return ir;var sr=Object.create(null);if(rr.r(sr),Object.defineProperty(sr,"default",{enumerable:!0,value:ir}),2&nr&&typeof ir!="string")for(var ar in ir)rr.d(sr,ar,(function(lr){return ir[lr]}).bind(null,ar));return sr},rr.n=function(ir){var nr=ir&&ir.__esModule?function(){return ir.default}:function(){return ir};return rr.d(nr,"a",nr),nr},rr.o=function(ir,nr){return Object.prototype.hasOwnProperty.call(ir,nr)},rr.p="/",rr(rr.s=0)}([function(Nt,er,rr){rr(1),Nt.exports=function(){var ir=rr(6),nr="cdx-notify--bounce-in",sr=null;return{show:function(ar){if(ar.message){(function(){if(sr)return!0;sr=ir.getWrapper(),document.body.appendChild(sr)})();var lr=null,cr=ar.time||8e3;switch(ar.type){case"confirm":lr=ir.confirm(ar);break;case"prompt":lr=ir.prompt(ar);break;default:lr=ir.alert(ar),window.setTimeout(function(){lr.remove()},cr)}sr.appendChild(lr),lr.classList.add(nr)}}}}()},function(Nt,er,rr){var ir=rr(2);typeof ir=="string"&&(ir=[[Nt.i,ir,""]]);var nr={hmr:!0,transform:void 0,insertInto:void 0};rr(4)(ir,nr),ir.locals&&(Nt.exports=ir.locals)},function(Nt,er,rr){(Nt.exports=rr(3)(!1)).push([Nt.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(Nt,er){Nt.exports=function(rr){var ir=[];return ir.toString=function(){return this.map(function(nr){var sr=function(ar,lr){var cr=ar[1]||"",dr=ar[3];if(!dr)return cr;if(lr&&typeof btoa=="function"){var ur=(hr=dr,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(hr))))+" */"),fr=dr.sources.map(function(pr){return"/*# sourceURL="+dr.sourceRoot+pr+" */"});return[cr].concat(fr).concat([ur]).join(`
`)}var hr;return[cr].join(`
`)}(nr,rr);return nr[2]?"@media "+nr[2]+"{"+sr+"}":sr}).join("")},ir.i=function(nr,sr){typeof nr=="string"&&(nr=[[null,nr,""]]);for(var ar={},lr=0;lr<this.length;lr++){var cr=this[lr][0];typeof cr=="number"&&(ar[cr]=!0)}for(lr=0;lr<nr.length;lr++){var dr=nr[lr];typeof dr[0]=="number"&&ar[dr[0]]||(sr&&!dr[2]?dr[2]=sr:sr&&(dr[2]="("+dr[2]+") and ("+sr+")"),ir.push(dr))}},ir}},function(Nt,er,rr){var ir,nr,sr={},ar=(ir=function(){return window&&document&&document.all&&!window.atob},function(){return nr===void 0&&(nr=ir.apply(this,arguments)),nr}),lr=function(qr){var Qr={};return function(Wr){if(typeof Wr=="function")return Wr();if(Qr[Wr]===void 0){var jr=(function(Or){return document.querySelector(Or)}).call(this,Wr);if(window.HTMLIFrameElement&&jr instanceof window.HTMLIFrameElement)try{jr=jr.contentDocument.head}catch{jr=null}Qr[Wr]=jr}return Qr[Wr]}}(),cr=null,dr=0,ur=[],fr=rr(5);function hr(qr,Qr){for(var Wr=0;Wr<qr.length;Wr++){var jr=qr[Wr],Or=sr[jr.id];if(Or){Or.refs++;for(var yr=0;yr<Or.parts.length;yr++)Or.parts[yr](jr.parts[yr]);for(;yr<jr.parts.length;yr++)Or.parts.push(Sr(jr.parts[yr],Qr))}else{var xr=[];for(yr=0;yr<jr.parts.length;yr++)xr.push(Sr(jr.parts[yr],Qr));sr[jr.id]={id:jr.id,refs:1,parts:xr}}}}function pr(qr,Qr){for(var Wr=[],jr={},Or=0;Or<qr.length;Or++){var yr=qr[Or],xr=Qr.base?yr[0]+Qr.base:yr[0],wr={css:yr[1],media:yr[2],sourceMap:yr[3]};jr[xr]?jr[xr].parts.push(wr):Wr.push(jr[xr]={id:xr,parts:[wr]})}return Wr}function gr(qr,Qr){var Wr=lr(qr.insertInto);if(!Wr)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var jr=ur[ur.length-1];if(qr.insertAt==="top")jr?jr.nextSibling?Wr.insertBefore(Qr,jr.nextSibling):Wr.appendChild(Qr):Wr.insertBefore(Qr,Wr.firstChild),ur.push(Qr);else if(qr.insertAt==="bottom")Wr.appendChild(Qr);else{if(typeof qr.insertAt!="object"||!qr.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var Or=lr(qr.insertInto+" "+qr.insertAt.before);Wr.insertBefore(Qr,Or)}}function br(qr){if(qr.parentNode===null)return!1;qr.parentNode.removeChild(qr);var Qr=ur.indexOf(qr);Qr>=0&&ur.splice(Qr,1)}function vr(qr){var Qr=document.createElement("style");return qr.attrs.type===void 0&&(qr.attrs.type="text/css"),kr(Qr,qr.attrs),gr(qr,Qr),Qr}function kr(qr,Qr){Object.keys(Qr).forEach(function(Wr){qr.setAttribute(Wr,Qr[Wr])})}function Sr(qr,Qr){var Wr,jr,Or,yr;if(Qr.transform&&qr.css){if(!(yr=Qr.transform(qr.css)))return function(){};qr.css=yr}if(Qr.singleton){var xr=dr++;Wr=cr||(cr=vr(Qr)),jr=Ir.bind(null,Wr,xr,!1),Or=Ir.bind(null,Wr,xr,!0)}else qr.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(Wr=function(wr){var Br=document.createElement("link");return wr.attrs.type===void 0&&(wr.attrs.type="text/css"),wr.attrs.rel="stylesheet",kr(Br,wr.attrs),gr(wr,Br),Br}(Qr),jr=(function(wr,Br,_r){var Mr=_r.css,Tr=_r.sourceMap,Er=Br.convertToAbsoluteUrls===void 0&&Tr;(Br.convertToAbsoluteUrls||Er)&&(Mr=fr(Mr)),Tr&&(Mr+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Tr))))+" */");var Pr=new Blob([Mr],{type:"text/css"}),Rr=wr.href;wr.href=URL.createObjectURL(Pr),Rr&&URL.revokeObjectURL(Rr)}).bind(null,Wr,Qr),Or=function(){br(Wr),Wr.href&&URL.revokeObjectURL(Wr.href)}):(Wr=vr(Qr),jr=(function(wr,Br){var _r=Br.css,Mr=Br.media;if(Mr&&wr.setAttribute("media",Mr),wr.styleSheet)wr.styleSheet.cssText=_r;else{for(;wr.firstChild;)wr.removeChild(wr.firstChild);wr.appendChild(document.createTextNode(_r))}}).bind(null,Wr),Or=function(){br(Wr)});return jr(qr),function(wr){if(wr){if(wr.css===qr.css&&wr.media===qr.media&&wr.sourceMap===qr.sourceMap)return;jr(qr=wr)}else Or()}}Nt.exports=function(qr,Qr){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(Qr=Qr||{}).attrs=typeof Qr.attrs=="object"?Qr.attrs:{},Qr.singleton||typeof Qr.singleton=="boolean"||(Qr.singleton=ar()),Qr.insertInto||(Qr.insertInto="head"),Qr.insertAt||(Qr.insertAt="bottom");var Wr=pr(qr,Qr);return hr(Wr,Qr),function(jr){for(var Or=[],yr=0;yr<Wr.length;yr++){var xr=Wr[yr];(wr=sr[xr.id]).refs--,Or.push(wr)}for(jr&&hr(pr(jr,Qr),Qr),yr=0;yr<Or.length;yr++){var wr;if((wr=Or[yr]).refs===0){for(var Br=0;Br<wr.parts.length;Br++)wr.parts[Br]();delete sr[wr.id]}}}};var Cr,Ar=(Cr=[],function(qr,Qr){return Cr[qr]=Qr,Cr.filter(Boolean).join(`
`)});function Ir(qr,Qr,Wr,jr){var Or=Wr?"":jr.css;if(qr.styleSheet)qr.styleSheet.cssText=Ar(Qr,Or);else{var yr=document.createTextNode(Or),xr=qr.childNodes;xr[Qr]&&qr.removeChild(xr[Qr]),xr.length?qr.insertBefore(yr,xr[Qr]):qr.appendChild(yr)}}},function(Nt,er){Nt.exports=function(rr){var ir=typeof window<"u"&&window.location;if(!ir)throw new Error("fixUrls requires window.location");if(!rr||typeof rr!="string")return rr;var nr=ir.protocol+"//"+ir.host,sr=nr+ir.pathname.replace(/\/[^\/]*$/,"/");return rr.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(ar,lr){var cr,dr=lr.trim().replace(/^"(.*)"$/,function(ur,fr){return fr}).replace(/^'(.*)'$/,function(ur,fr){return fr});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(dr)?ar:(cr=dr.indexOf("//")===0?dr:dr.indexOf("/")===0?nr+dr:sr+dr.replace(/^\.\//,""),"url("+JSON.stringify(cr)+")")})}},function(Nt,er,rr){var ir,nr,sr,ar,lr,cr,dr,ur,fr;Nt.exports=(ir="cdx-notifies",nr="cdx-notify",sr="cdx-notify__cross",ar="cdx-notify__button--confirm",lr="cdx-notify__button--cancel",cr="cdx-notify__input",dr="cdx-notify__button",ur="cdx-notify__btns-wrapper",{alert:fr=function(hr){var pr=document.createElement("DIV"),gr=document.createElement("DIV"),br=hr.message,vr=hr.style;return pr.classList.add(nr),vr&&pr.classList.add(nr+"--"+vr),pr.innerHTML=br,gr.classList.add(sr),gr.addEventListener("click",pr.remove.bind(pr)),pr.appendChild(gr),pr},confirm:function(hr){var pr=fr(hr),gr=document.createElement("div"),br=document.createElement("button"),vr=document.createElement("button"),kr=pr.querySelector("."+sr),Sr=hr.cancelHandler,Cr=hr.okHandler;return gr.classList.add(ur),br.innerHTML=hr.okText||"Confirm",vr.innerHTML=hr.cancelText||"Cancel",br.classList.add(dr),vr.classList.add(dr),br.classList.add(ar),vr.classList.add(lr),Sr&&typeof Sr=="function"&&(vr.addEventListener("click",Sr),kr.addEventListener("click",Sr)),Cr&&typeof Cr=="function"&&br.addEventListener("click",Cr),br.addEventListener("click",pr.remove.bind(pr)),vr.addEventListener("click",pr.remove.bind(pr)),gr.appendChild(br),gr.appendChild(vr),pr.appendChild(gr),pr},prompt:function(hr){var pr=fr(hr),gr=document.createElement("div"),br=document.createElement("button"),vr=document.createElement("input"),kr=pr.querySelector("."+sr),Sr=hr.cancelHandler,Cr=hr.okHandler;return gr.classList.add(ur),br.innerHTML=hr.okText||"Ok",br.classList.add(dr),br.classList.add(ar),vr.classList.add(cr),hr.placeholder&&vr.setAttribute("placeholder",hr.placeholder),hr.default&&(vr.value=hr.default),hr.inputType&&(vr.type=hr.inputType),Sr&&typeof Sr=="function"&&kr.addEventListener("click",Sr),Cr&&typeof Cr=="function"&&br.addEventListener("click",function(){Cr(vr.value)}),br.addEventListener("click",pr.remove.bind(pr)),gr.appendChild(vr),gr.appendChild(br),pr.appendChild(gr),pr},getWrapper:function(){var hr=document.createElement("DIV");return hr.classList.add(ir),hr}})}])})})(lo);const co=Pe$2(_e$2);class ho{show(Ot){co.show(Ot)}}class uo extends y$3{constructor({config:Ot,eventsDispatcher:Nt}){super({config:Ot,eventsDispatcher:Nt}),this.notifier=new ho}get methods(){return{show:Ot=>this.show(Ot)}}show(Ot){return this.notifier.show(Ot)}}class po extends y$3{get methods(){const Ot=()=>this.isEnabled;return{toggle:Nt=>this.toggle(Nt),get isEnabled(){return Ot()}}}toggle(Ot){return this.Editor.ReadOnly.toggle(Ot)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Oe$2={},fo={get exports(){return Oe$2},set exports(tr){Oe$2=tr}};(function(tr,Ot){(function(Nt,er){tr.exports=er()})(Rt,function(){function Nt(dr){var ur=dr.tags,fr=Object.keys(ur),hr=fr.map(function(pr){return typeof ur[pr]}).every(function(pr){return pr==="object"||pr==="boolean"||pr==="function"});if(!hr)throw new Error("The configuration was invalid");this.config=dr}var er=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function rr(dr){return er.indexOf(dr.nodeName)!==-1}var ir=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function nr(dr){return ir.indexOf(dr.nodeName)!==-1}Nt.prototype.clean=function(dr){const ur=document.implementation.createHTMLDocument(),fr=ur.createElement("div");return fr.innerHTML=dr,this._sanitize(ur,fr),fr.innerHTML},Nt.prototype._sanitize=function(dr,ur){var fr=sr(dr,ur),hr=fr.firstChild();if(hr)do{if(hr.nodeType===Node.TEXT_NODE)if(hr.data.trim()===""&&(hr.previousElementSibling&&rr(hr.previousElementSibling)||hr.nextElementSibling&&rr(hr.nextElementSibling))){ur.removeChild(hr),this._sanitize(dr,ur);break}else continue;if(hr.nodeType===Node.COMMENT_NODE){ur.removeChild(hr),this._sanitize(dr,ur);break}var pr=nr(hr),gr;pr&&(gr=Array.prototype.some.call(hr.childNodes,rr));var br=!!ur.parentNode,vr=rr(ur)&&rr(hr)&&br,kr=hr.nodeName.toLowerCase(),Sr=ar(this.config,kr,hr),Cr=pr&&gr;if(Cr||lr(hr,Sr)||!this.config.keepNestedBlockElements&&vr){if(!(hr.nodeName==="SCRIPT"||hr.nodeName==="STYLE"))for(;hr.childNodes.length>0;)ur.insertBefore(hr.childNodes[0],hr);ur.removeChild(hr),this._sanitize(dr,ur);break}for(var Ar=0;Ar<hr.attributes.length;Ar+=1){var Ir=hr.attributes[Ar];cr(Ir,Sr,hr)&&(hr.removeAttribute(Ir.name),Ar=Ar-1)}this._sanitize(dr,hr)}while(hr=fr.nextSibling())};function sr(dr,ur){return dr.createTreeWalker(ur,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function ar(dr,ur,fr){return typeof dr.tags[ur]=="function"?dr.tags[ur](fr):dr.tags[ur]}function lr(dr,ur){return typeof ur>"u"?!0:typeof ur=="boolean"?!ur:!1}function cr(dr,ur,fr){var hr=dr.name.toLowerCase();return ur===!0?!1:typeof ur[hr]=="function"?!ur[hr](dr.value,fr):typeof ur[hr]>"u"||ur[hr]===!1?!0:typeof ur[hr]=="string"?ur[hr]!==dr.value:!1}return Nt})})(fo);const go=Oe$2;function bt(tr,Ot){return tr.map(Nt=>{const er=M$4(Ot)?Ot(Nt.tool):Ot;return W$2(er)||(Nt.data=ze$1(Nt.data,er)),Nt})}function V$2(tr,Ot={}){const Nt={tags:Ot};return new go(Nt).clean(tr)}function ze$1(tr,Ot){return Array.isArray(tr)?bo(tr,Ot):D$3(tr)?mo(tr,Ot):G$2(tr)?ko(tr,Ot):tr}function bo(tr,Ot){return tr.map(Nt=>ze$1(Nt,Ot))}function mo(tr,Ot){const Nt={};for(const er in tr){if(!Object.prototype.hasOwnProperty.call(tr,er))continue;const rr=tr[er],ir=vo(Ot[er])?Ot[er]:Ot;Nt[er]=ze$1(rr,ir)}return Nt}function ko(tr,Ot){return D$3(Ot)?V$2(tr,Ot):Ot===!1?V$2(tr,{}):tr}function vo(tr){return D$3(tr)||Ht(tr)||M$4(tr)}class xo extends y$3{get methods(){return{clean:(Ot,Nt)=>this.clean(Ot,Nt)}}clean(Ot,Nt){return V$2(Ot,Nt)}}class wo extends y$3{get methods(){return{save:()=>this.save()}}save(){const Ot="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Y$2(Ot,"warn"),Promise.reject(new Error(Ot))):this.Editor.Saver.save()}}class yo extends y$3{get methods(){return{findParentTag:(Ot,Nt)=>this.findParentTag(Ot,Nt),expandToTag:Ot=>this.expandToTag(Ot)}}findParentTag(Ot,Nt){return new b$2().findParentTag(Ot,Nt)}expandToTag(Ot){new b$2().expandToTag(Ot)}}class Eo extends y$3{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class Bo extends y$3{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:Ot=>this.toggleBlockSettings(Ot),toggleToolbox:Ot=>this.toggleToolbox(Ot)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(Ot){if(this.Editor.BlockManager.currentBlockIndex===-1){Y$2("Could't toggle the Toolbar because there is no block selected ","warn");return}Ot??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(Ot){if(this.Editor.BlockManager.currentBlockIndex===-1){Y$2("Could't toggle the Toolbox because there is no block selected ","warn");return}Ot??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Ne$2={},Co={get exports(){return Ne$2},set exports(tr){Ne$2=tr}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(tr,Ot){(function(Nt,er){tr.exports=er()})(window,function(){return function(Nt){var er={};function rr(ir){if(er[ir])return er[ir].exports;var nr=er[ir]={i:ir,l:!1,exports:{}};return Nt[ir].call(nr.exports,nr,nr.exports,rr),nr.l=!0,nr.exports}return rr.m=Nt,rr.c=er,rr.d=function(ir,nr,sr){rr.o(ir,nr)||Object.defineProperty(ir,nr,{enumerable:!0,get:sr})},rr.r=function(ir){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ir,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ir,"__esModule",{value:!0})},rr.t=function(ir,nr){if(1&nr&&(ir=rr(ir)),8&nr||4&nr&&typeof ir=="object"&&ir&&ir.__esModule)return ir;var sr=Object.create(null);if(rr.r(sr),Object.defineProperty(sr,"default",{enumerable:!0,value:ir}),2&nr&&typeof ir!="string")for(var ar in ir)rr.d(sr,ar,(function(lr){return ir[lr]}).bind(null,ar));return sr},rr.n=function(ir){var nr=ir&&ir.__esModule?function(){return ir.default}:function(){return ir};return rr.d(nr,"a",nr),nr},rr.o=function(ir,nr){return Object.prototype.hasOwnProperty.call(ir,nr)},rr.p="",rr(rr.s=0)}([function(Nt,er,rr){Nt.exports=rr(1)},function(Nt,er,rr){rr.r(er),rr.d(er,"default",function(){return ir});class ir{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(sr,ar,lr){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const cr=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},lr);if(cr.hidingDelay&&(this.hidingDelay=cr.hidingDelay),this.nodes.content.innerHTML="",typeof ar=="string")this.nodes.content.appendChild(document.createTextNode(ar));else{if(!(ar instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof ar+" given.");this.nodes.content.appendChild(ar)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),cr.placement){case"top":this.placeTop(sr,cr);break;case"left":this.placeLeft(sr,cr);break;case"right":this.placeRight(sr,cr);break;case"bottom":default:this.placeBottom(sr,cr)}cr&&cr.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},cr.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(sr=!1){if(this.hidingDelay&&!sr)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(sr,ar,lr){sr.addEventListener("mouseenter",()=>{this.show(sr,ar,lr)}),sr.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const sr="codex-tooltips-style";if(document.getElementById(sr))return;const ar=rr(2),lr=this.make("style",null,{textContent:ar.toString(),id:sr});this.prepend(document.head,lr)}placeBottom(sr,ar){const lr=sr.getBoundingClientRect(),cr=lr.left+sr.clientWidth/2-this.nodes.wrapper.offsetWidth/2,dr=lr.bottom+window.pageYOffset+this.offsetTop+ar.marginTop;this.applyPlacement("bottom",cr,dr)}placeTop(sr,ar){const lr=sr.getBoundingClientRect(),cr=lr.left+sr.clientWidth/2-this.nodes.wrapper.offsetWidth/2,dr=lr.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",cr,dr)}placeLeft(sr,ar){const lr=sr.getBoundingClientRect(),cr=lr.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-ar.marginLeft,dr=lr.top+window.pageYOffset+sr.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",cr,dr)}placeRight(sr,ar){const lr=sr.getBoundingClientRect(),cr=lr.right+this.offsetRight+ar.marginRight,dr=lr.top+window.pageYOffset+sr.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",cr,dr)}applyPlacement(sr,ar,lr){this.nodes.wrapper.classList.add(this.CSS.placement[sr]),this.nodes.wrapper.style.left=ar+"px",this.nodes.wrapper.style.top=lr+"px"}make(sr,ar=null,lr={}){const cr=document.createElement(sr);Array.isArray(ar)?cr.classList.add(...ar):ar&&cr.classList.add(ar);for(const dr in lr)lr.hasOwnProperty(dr)&&(cr[dr]=lr[dr]);return cr}append(sr,ar){Array.isArray(ar)?ar.forEach(lr=>sr.appendChild(lr)):sr.appendChild(ar)}prepend(sr,ar){Array.isArray(ar)?(ar=ar.reverse()).forEach(lr=>sr.prepend(lr)):sr.prepend(ar)}}},function(Nt,er){Nt.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(Co);const To=Pe$2(Ne$2);let F$4=null;function Ue$2(){F$4||(F$4=new To)}function So(tr,Ot,Nt){Ue$2(),F$4==null||F$4.show(tr,Ot,Nt)}function Re$2(tr=!1){Ue$2(),F$4==null||F$4.hide(tr)}function ge$2(tr,Ot,Nt){Ue$2(),F$4==null||F$4.onHover(tr,Ot,Nt)}function Io(){F$4==null||F$4.destroy(),F$4=null}class Mo extends y$3{constructor({config:Ot,eventsDispatcher:Nt}){super({config:Ot,eventsDispatcher:Nt})}get methods(){return{show:(Ot,Nt,er)=>this.show(Ot,Nt,er),hide:()=>this.hide(),onHover:(Ot,Nt,er)=>this.onHover(Ot,Nt,er)}}show(Ot,Nt,er){So(Ot,Nt,er)}hide(){Re$2()}onHover(Ot,Nt,er){ge$2(Ot,Nt,er)}}class Lo extends y$3{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function mt(tr,Ot){const Nt={};return Object.entries(tr).forEach(([er,rr])=>{if(D$3(rr)){const ir=Ot?`${Ot}.${er}`:er;Object.values(rr).every(nr=>G$2(nr))?Nt[er]=ir:Nt[er]=mt(rr,ir);return}Nt[er]=rr}),Nt}const K$2=mt(ht);function Ao(tr,Ot){const Nt={};return Object.keys(tr).forEach(er=>{const rr=Ot[er];rr!==void 0?Nt[rr]=tr[er]:Nt[er]=tr[er]}),Nt}const _o='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',kt='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',Oo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',No='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',Ro='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',Do='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',it$1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Po='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Fo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Ho='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',zo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Uo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';let _$3=class Hn{constructor(Ot){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(Hn.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(Hn.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(Hn.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=Ot,this.nodes.root=this.make(Ot)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(Hn.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(Ot){this.nodes.root.classList.toggle(Hn.CSS.active,Ot)}toggleHidden(Ot){this.nodes.root.classList.toggle(Hn.CSS.hidden,Ot)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(Ot){const Nt=c$6.make("div",Hn.CSS.container);return Ot.name&&(Nt.dataset.itemName=Ot.name),this.nodes.icon=c$6.make("div",Hn.CSS.icon,{innerHTML:Ot.icon||Ro}),Nt.appendChild(this.nodes.icon),Nt.appendChild(c$6.make("div",Hn.CSS.title,{innerHTML:Ot.title||""})),Ot.secondaryLabel&&Nt.appendChild(c$6.make("div",Hn.CSS.secondaryTitle,{textContent:Ot.secondaryLabel})),Ot.isActive&&Nt.classList.add(Hn.CSS.active),Ot.isDisabled&&Nt.classList.add(Hn.CSS.disabled),Nt}enableConfirmationMode(Ot){const Nt={...this.params,...Ot,confirmation:Ot.confirmation},er=this.make(Nt);this.nodes.root.innerHTML=er.innerHTML,this.nodes.root.classList.add(Hn.CSS.confirmationState),this.confirmationState=Ot,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const Ot=this.make(this.params);this.nodes.root.innerHTML=Ot.innerHTML,this.nodes.root.classList.remove(Hn.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(Hn.CSS.noHover),this.nodes.root.classList.add(Hn.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(Ot){if(Ot.confirmation===void 0)try{Ot.onActivate(Ot),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(Ot.confirmation)}animateError(){this.nodes.icon.classList.contains(Hn.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(Hn.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}};const he$2=class{constructor(Ot,Nt){this.cursor=-1,this.items=[],this.items=Ot||[],this.focusedCssClass=Nt}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(Ot){Ot<this.items.length&&Ot>=-1&&(this.dropCursor(),this.cursor=Ot,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(Ot){this.items=Ot}next(){this.cursor=this.leafNodesAndReturnIndex(he$2.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(he$2.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(Ot){if(this.items.length===0)return this.cursor;let Nt=this.cursor;return Nt===-1?Nt=Ot===he$2.directions.RIGHT?-1:0:this.items[Nt].classList.remove(this.focusedCssClass),Ot===he$2.directions.RIGHT?Nt=(Nt+1)%this.items.length:Nt=(this.items.length+Nt-1)%this.items.length,c$6.canSetCaret(this.items[Nt])&&xe$2(()=>b$2.setCursor(this.items[Nt]),50)(),this.items[Nt].classList.add(this.focusedCssClass),Nt}};let ne$2=he$2;ne$2.directions={RIGHT:"right",LEFT:"left"};let q$2=class ea{constructor(Ot){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=Nt=>{if(this.isEventReadyForHandling(Nt))switch(ea.usedKeys.includes(Nt.keyCode)&&Nt.preventDefault(),Nt.keyCode){case v$3.TAB:this.handleTabPress(Nt);break;case v$3.LEFT:case v$3.UP:this.flipLeft();break;case v$3.RIGHT:case v$3.DOWN:this.flipRight();break;case v$3.ENTER:this.handleEnterPress(Nt);break}},this.iterator=new ne$2(Ot.items,Ot.focusedItemClass),this.activateCallback=Ot.activateCallback,this.allowedKeys=Ot.allowedKeys||ea.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[v$3.TAB,v$3.LEFT,v$3.RIGHT,v$3.ENTER,v$3.UP,v$3.DOWN]}activate(Ot,Nt){this.activated=!0,Ot&&this.iterator.setItems(Ot),Nt!==void 0&&this.iterator.setCursor(Nt),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(Ot){this.flipCallbacks.push(Ot)}removeOnFlip(Ot){this.flipCallbacks=this.flipCallbacks.filter(Nt=>Nt!==Ot)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(Ot){return this.activated&&this.allowedKeys.includes(Ot.keyCode)}handleTabPress(Ot){switch(Ot.shiftKey?ne$2.directions.LEFT:ne$2.directions.RIGHT){case ne$2.directions.RIGHT:this.flipRight();break;case ne$2.directions.LEFT:this.flipLeft();break}}handleEnterPress(Ot){this.activated&&(this.iterator.currentItem&&(Ot.stopPropagation(),Ot.preventDefault(),this.iterator.currentItem.click()),M$4(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(Ot=>Ot())}},pe$1=class Zs{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:Ot,onSearch:Nt,placeholder:er}){this.listeners=new Fe$2,this.items=Ot,this.onSearch=Nt,this.render(er)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(Ot){this.wrapper=c$6.make("div",Zs.CSS.wrapper);const Nt=c$6.make("div",Zs.CSS.icon,{innerHTML:Ho});this.input=c$6.make("input",Zs.CSS.input,{placeholder:Ot,tabIndex:-1}),this.wrapper.appendChild(Nt),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(Ot=>this.checkItem(Ot))}checkItem(Ot){var Nt;const er=((Nt=Ot.title)==null?void 0:Nt.toLowerCase())||"",rr=this.searchQuery.toLowerCase();return er.includes(rr)}};const ue$2=class{lock(){tt?this.lockHard():document.body.classList.add(ue$2.CSS.scrollLocked)}unlock(){tt?this.unlockHard():document.body.classList.remove(ue$2.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(ue$2.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(ue$2.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let vt=ue$2;vt.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var jo=Object.defineProperty,$o=Object.getOwnPropertyDescriptor,Wo=(tr,Ot,Nt,er)=>{for(var rr=$o(Ot,Nt),ir=tr.length-1,nr;ir>=0;ir--)(nr=tr[ir])&&(rr=nr(Ot,Nt,rr)||rr);return rr&&jo(Ot,Nt,rr),rr},be$2=(tr=>(tr.Close="close",tr))(be$2||{});const N$1=class extends Ee$2{constructor(Ot){super(),this.scopeElement=document.body,this.listeners=new Fe$2,this.scrollLocker=new vt,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(Nt=>Nt.isFocused).onFocus()},this.items=Ot.items.map(Nt=>new _$3(Nt)),Ot.scopeElement!==void 0&&(this.scopeElement=Ot.scopeElement),Ot.messages&&(this.messages={...this.messages,...Ot.messages}),Ot.customContentFlippableItems&&(this.customContentFlippableItems=Ot.customContentFlippableItems),this.make(),Ot.customContent&&this.addCustomContent(Ot.customContent),Ot.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(N$1.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(N$1.CSS.overlayHidden),this.nodes.popover.classList.add(N$1.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&requestAnimationFrame(()=>{var Ot;(Ot=this.search)==null||Ot.focus()}),te$2()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(N$1.CSS.popoverOpened),this.nodes.popover.classList.remove(N$1.CSS.popoverOpenTop),this.nodes.overlay.classList.add(N$1.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(Ot=>Ot.reset()),this.search!==void 0&&this.search.clear(),te$2()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),te$2()&&this.scrollLocker.unlock()}make(){this.nodes.popover=c$6.make("div",[N$1.CSS.popover]),this.nodes.nothingFoundMessage=c$6.make("div",[N$1.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=c$6.make("div",[N$1.CSS.items]),this.items.forEach(Ot=>{this.nodes.items.appendChild(Ot.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",Ot=>{const Nt=this.getTargetItem(Ot);Nt!==void 0&&this.handleItemClick(Nt)}),this.nodes.wrapper=c$6.make("div"),this.nodes.overlay=c$6.make("div",[N$1.CSS.overlay,N$1.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new pe$1({items:this.items,placeholder:this.messages.search,onSearch:(Nt,er)=>{this.items.forEach(ir=>{const nr=!er.includes(ir);ir.toggleHidden(nr)}),this.toggleNothingFoundMessage(er.length===0),this.toggleCustomContent(Nt!=="");const rr=Nt===""?this.flippableElements:er.map(ir=>ir.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(rr))}});const Ot=this.search.getElement();Ot.classList.add(N$1.CSS.search),this.nodes.popover.insertBefore(Ot,this.nodes.popover.firstChild)}addCustomContent(Ot){this.nodes.customContent=Ot,this.nodes.customContent.classList.add(N$1.CSS.customContent),this.nodes.popover.insertBefore(Ot,this.nodes.popover.firstChild)}getTargetItem(Ot){return this.items.find(Nt=>Ot.composedPath().includes(Nt.getElement()))}handleItemClick(Ot){Ot.isDisabled||(this.items.filter(Nt=>Nt!==Ot).forEach(Nt=>Nt.reset()),Ot.handleClick(),this.toggleItemActivenessIfNeeded(Ot),Ot.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new q$2({items:this.flippableElements,focusedItemClass:_$3.CSS.focused,allowedKeys:[v$3.TAB,v$3.UP,v$3.DOWN,v$3.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const Ot=this.items.map(Nt=>Nt.getElement());return(this.customContentFlippableItems||[]).concat(Ot)}get height(){let Ot=0;if(this.nodes.popover===null)return Ot;const Nt=this.nodes.popover.cloneNode(!0);return Nt.style.visibility="hidden",Nt.style.position="absolute",Nt.style.top="-1000px",Nt.classList.add(N$1.CSS.popoverOpened),document.body.appendChild(Nt),Ot=Nt.offsetHeight,Nt.remove(),Ot}get shouldOpenBottom(){const Ot=this.nodes.popover.getBoundingClientRect(),Nt=this.scopeElement.getBoundingClientRect(),er=this.height,rr=Ot.top+er,ir=Ot.top-er,nr=Math.min(window.innerHeight,Nt.bottom);return ir<Nt.top||rr<=nr}toggleNothingFoundMessage(Ot){this.nodes.nothingFoundMessage.classList.toggle(N$1.CSS.nothingFoundMessageDisplayed,Ot)}toggleCustomContent(Ot){var Nt;(Nt=this.nodes.customContent)==null||Nt.classList.toggle(N$1.CSS.customContentHidden,Ot)}toggleItemActivenessIfNeeded(Ot){if(Ot.toggle===!0&&Ot.toggleActive(),typeof Ot.toggle=="string"){const Nt=this.items.filter(er=>er.toggle===Ot.toggle);if(Nt.length===1){Ot.toggleActive();return}Nt.forEach(er=>{er.toggleActive(er===Ot)})}}};let je$2=N$1;Wo([le$2],je$2.prototype,"height");class Yo extends y$3{constructor(){super(...arguments),this.opened=!1,this.selection=new b$2,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var Ot;return(Ot=this.popover)==null?void 0:Ot.flipper}make(){this.nodes.wrapper=c$6.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(Ot=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(Ot),this.Editor.BlockSelection.clearCache();const[Nt,er]=Ot.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new je$2({searchable:!0,items:Nt.map(rr=>this.resolveTuneAliases(rr)),customContent:er,customContentFlippableItems:this.getControls(er),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:z$2.ui(K$2.ui.popover,"Nothing found"),search:z$2.ui(K$2.ui.popover,"Filter")}}),this.popover.on(be$2.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened&&(this.opened=!1,b$2.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(be$2.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))}getControls(Ot){const{StylesAPI:Nt}=this.Editor,er=Ot.querySelectorAll(`.${Nt.classes.settingsButton}, ${c$6.allInputsSelector}`);return Array.from(er)}resolveTuneAliases(Ot){const Nt=Ao(Ot,{label:"title"});return Ot.confirmation&&(Nt.confirmation=this.resolveTuneAliases(Ot.confirmation)),Nt}}let $$2=class ps extends y$3{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=c$6.make("div",[ps.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=c$6.make("div",ps.CSS.conversionToolbarTools);const Ot=c$6.make("div",ps.CSS.conversionToolbarLabel,{textContent:z$2.ui(K$2.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),c$6.append(this.nodes.wrapper,Ot),c$6.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(Ot){this.opened?this.close():this.open(),M$4(Ot)&&(this.togglingCallback=Ot)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(ps.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(Ot=>Ot.button).filter(Ot=>!Ot.classList.contains(ps.CSS.conversionToolHidden))),this.flipper.focusFirst(),M$4(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(ps.CSS.conversionToolbarShowed),M$4(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(Ot,Nt){const{BlockManager:er,BlockSelection:rr,InlineToolbar:ir,Caret:nr}=this.Editor;er.convert(this.Editor.BlockManager.currentBlock,Ot,Nt),rr.clearSelection(),this.close(),ir.close(),window.requestAnimationFrame(()=>{nr.setToBlock(this.Editor.BlockManager.currentBlock,nr.positions.END)})}addTools(){const Ot=this.Editor.Tools.blockTools;Array.from(Ot.entries()).forEach(([Nt,er])=>{var rr;const ir=er.conversionConfig;!ir||!ir.import||(rr=er.toolbox)==null||rr.forEach(nr=>this.addToolIfValid(Nt,nr))})}addToolIfValid(Ot,Nt){W$2(Nt)||!Nt.icon||this.addTool(Ot,Nt)}addTool(Ot,Nt){var er;const rr=c$6.make("div",[ps.CSS.conversionTool]),ir=c$6.make("div",[ps.CSS.conversionToolIcon]);rr.dataset.tool=Ot,ir.innerHTML=Nt.icon,c$6.append(rr,ir),c$6.append(rr,c$6.text(z$2.t(K$2.toolNames,Nt.title||re$2(Ot))));const nr=(er=this.Editor.Tools.blockTools.get(Ot))==null?void 0:er.shortcut;if(nr){const sr=c$6.make("span",ps.CSS.conversionToolSecondaryLabel,{innerText:ye$2(nr)});c$6.append(rr,sr)}c$6.append(this.nodes.tools,rr),this.tools.push({name:Ot,button:rr,toolboxItem:Nt}),this.listeners.on(rr,"click",async()=>{await this.replaceWithBlock(Ot,Nt.data)})}async filterTools(){const{currentBlock:Ot}=this.Editor.BlockManager,Nt=await Ot.getActiveToolboxEntry();function er(rr,ir){return rr.icon===ir.icon&&rr.title===ir.title}this.tools.forEach(rr=>{let ir=!1;if(Nt){const nr=er(Nt,rr.toolboxItem);ir=rr.button.dataset.tool===Ot.name&&nr}rr.button.hidden=ir,rr.button.classList.toggle(ps.CSS.conversionToolHidden,ir)})}enableFlipper(){this.flipper=new q$2({focusedItemClass:ps.CSS.conversionToolFocused})}};var De$2={},Ko={get exports(){return De$2},set exports(tr){De$2=tr}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(tr,Ot){(function(Nt,er){tr.exports=er()})(window,function(){return function(Nt){var er={};function rr(ir){if(er[ir])return er[ir].exports;var nr=er[ir]={i:ir,l:!1,exports:{}};return Nt[ir].call(nr.exports,nr,nr.exports,rr),nr.l=!0,nr.exports}return rr.m=Nt,rr.c=er,rr.d=function(ir,nr,sr){rr.o(ir,nr)||Object.defineProperty(ir,nr,{enumerable:!0,get:sr})},rr.r=function(ir){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ir,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ir,"__esModule",{value:!0})},rr.t=function(ir,nr){if(1&nr&&(ir=rr(ir)),8&nr||4&nr&&typeof ir=="object"&&ir&&ir.__esModule)return ir;var sr=Object.create(null);if(rr.r(sr),Object.defineProperty(sr,"default",{enumerable:!0,value:ir}),2&nr&&typeof ir!="string")for(var ar in ir)rr.d(sr,ar,(function(lr){return ir[lr]}).bind(null,ar));return sr},rr.n=function(ir){var nr=ir&&ir.__esModule?function(){return ir.default}:function(){return ir};return rr.d(nr,"a",nr),nr},rr.o=function(ir,nr){return Object.prototype.hasOwnProperty.call(ir,nr)},rr.p="",rr(rr.s=0)}([function(Nt,er,rr){function ir(ar,lr){for(var cr=0;cr<lr.length;cr++){var dr=lr[cr];dr.enumerable=dr.enumerable||!1,dr.configurable=!0,"value"in dr&&(dr.writable=!0),Object.defineProperty(ar,dr.key,dr)}}function nr(ar,lr,cr){return lr&&ir(ar.prototype,lr),cr&&ir(ar,cr),ar}rr.r(er);var sr=function(){function ar(lr){var cr=this;(function(dr,ur){if(!(dr instanceof ur))throw new TypeError("Cannot call a class as a function")})(this,ar),this.commands={},this.keys={},this.name=lr.name,this.parseShortcutName(lr.name),this.element=lr.on,this.callback=lr.callback,this.executeShortcut=function(dr){cr.execute(dr)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return nr(ar,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),nr(ar,[{key:"parseShortcutName",value:function(lr){lr=lr.split("+");for(var cr=0;cr<lr.length;cr++){lr[cr]=lr[cr].toUpperCase();var dr=!1;for(var ur in ar.supportedCommands)if(ar.supportedCommands[ur].includes(lr[cr])){dr=this.commands[ur]=!0;break}dr||(this.keys[lr[cr]]=!0)}for(var fr in ar.supportedCommands)this.commands[fr]||(this.commands[fr]=!1)}},{key:"execute",value:function(lr){var cr,dr={CMD:lr.ctrlKey||lr.metaKey,SHIFT:lr.shiftKey,ALT:lr.altKey},ur=!0;for(cr in this.commands)this.commands[cr]!==dr[cr]&&(ur=!1);var fr,hr=!0;for(fr in this.keys)hr=hr&&lr.keyCode===ar.keyCodes[fr];ur&&hr&&this.callback(lr)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),ar}();er.default=sr}]).default})})(Ko);const Xo=Pe$2(De$2);class Vo{constructor(){this.registeredShortcuts=new Map}add(Ot){if(this.findShortcut(Ot.on,Ot.name))throw Error(`Shortcut ${Ot.name} is already registered for ${Ot.on}. Please remove it before add a new handler.`);const Nt=new Xo({name:Ot.name,on:Ot.on,callback:Ot.handler}),er=this.registeredShortcuts.get(Ot.on)||[];this.registeredShortcuts.set(Ot.on,[...er,Nt])}remove(Ot,Nt){const er=this.findShortcut(Ot,Nt);if(!er)return;er.remove();const rr=this.registeredShortcuts.get(Ot);this.registeredShortcuts.set(Ot,rr.filter(ir=>ir!==er))}findShortcut(Ot,Nt){return(this.registeredShortcuts.get(Ot)||[]).find(({name:er})=>er===Nt)}}const ae$2=new Vo;var qo=Object.defineProperty,Zo=Object.getOwnPropertyDescriptor,xt=(tr,Ot,Nt,er)=>{for(var rr=Zo(Ot,Nt),ir=tr.length-1,nr;ir>=0;ir--)(nr=tr[ir])&&(rr=nr(Ot,Nt,rr)||rr);return rr&&qo(Ot,Nt,rr),rr},ke$2=(tr=>(tr.Opened="toolbox-opened",tr.Closed="toolbox-closed",tr.BlockAdded="toolbox-block-added",tr))(ke$2||{});const wt=class extends Ee$2{constructor({api:tr,tools:Ot,i18nLabels:Nt}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=tr,this.tools=Ot,this.i18nLabels=Nt}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new je$2({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(be$2.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(wt.CSS.toolbox),this.nodes.toolbox}hasFocus(){var tr;return(tr=this.popover)==null?void 0:tr.hasFocus()}destroy(){var tr;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(tr=this.popover)==null||tr.off(be$2.Close,this.onPopoverClose)}toolButtonActivated(tr,Ot){this.insertNewBlock(tr,Ot)}open(){var tr;this.isEmpty||((tr=this.popover)==null||tr.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var tr;(tr=this.popover)==null||tr.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const tr=[];return this.tools.forEach(Ot=>{Ot.toolbox&&tr.push(Ot)}),tr}get toolboxItemsToBeDisplayed(){const tr=(Ot,Nt)=>({icon:Ot.icon,title:z$2.t(K$2.toolNames,Ot.title||re$2(Nt.name)),name:Nt.name,onActivate:()=>{this.toolButtonActivated(Nt.name,Ot.data)},secondaryLabel:Nt.shortcut?ye$2(Nt.shortcut):""});return this.toolsToBeDisplayed.reduce((Ot,Nt)=>(Array.isArray(Nt.toolbox)?Nt.toolbox.forEach(er=>{Ot.push(tr(er,Nt))}):Nt.toolbox!==void 0&&Ot.push(tr(Nt.toolbox,Nt)),Ot),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(tr=>{const Ot=tr.shortcut;Ot&&this.enableShortcutForTool(tr.name,Ot)})}enableShortcutForTool(tr,Ot){ae$2.add({name:Ot,on:this.api.ui.nodes.redactor,handler:Nt=>{Nt.preventDefault();const er=this.api.blocks.getCurrentBlockIndex(),rr=this.api.blocks.getBlockByIndex(er);if(rr)try{this.api.blocks.convert(rr.id,tr),window.requestAnimationFrame(()=>{this.api.caret.setToBlock(er,"end")});return}catch{}this.insertNewBlock(tr)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(tr=>{const Ot=tr.shortcut;Ot&&ae$2.remove(this.api.ui.nodes.redactor,Ot)})}async insertNewBlock(tr,Ot){const Nt=this.api.blocks.getCurrentBlockIndex(),er=this.api.blocks.getBlockByIndex(Nt);if(!er)return;const rr=er.isEmpty?Nt:Nt+1;let ir;if(Ot){const sr=await this.api.blocks.composeBlockData(tr);ir=Object.assign(sr,Ot)}const nr=this.api.blocks.insert(tr,ir,void 0,rr,void 0,er.isEmpty);nr.call(X$2.APPEND_CALLBACK),this.api.caret.setToBlock(rr),this.emit("toolbox-block-added",{block:nr}),this.api.toolbar.close()}};let $e$2=wt;xt([le$2],$e$2.prototype,"toolsToBeDisplayed");xt([le$2],$e$2.prototype,"toolboxItemsToBeDisplayed");const yt="block hovered";async function Go(tr,Ot){const Nt=navigator.keyboard;return Nt&&(await Nt.getLayoutMap()).get(tr)||Ot}class Jo extends y$3{constructor({config:Ot,eventsDispatcher:Nt}){super({config:Ot,eventsDispatcher:Nt}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var Ot;return{opened:(Ot=this.toolboxInstance)==null?void 0:Ot.opened,close:()=>{var Nt;(Nt=this.toolboxInstance)==null||Nt.close()},open:()=>{if(this.toolboxInstance===null){T$3("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){T$3("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var Nt;return(Nt=this.toolboxInstance)==null?void 0:Nt.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(Ot){Ot?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(Ot=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){T$3("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!Ot)return;this.hoveredBlock=Ot;const Nt=Ot.holder,{isMobile:er}=this.Editor.UI,rr=Ot.pluginsContent,ir=window.getComputedStyle(rr),nr=parseInt(ir.paddingTop,10),sr=Nt.offsetHeight;let ar;er?ar=Nt.offsetTop+sr:ar=Nt.offsetTop+nr,this.nodes.wrapper.style.top=`${Math.floor(ar)}px`,this.Editor.BlockManager.blocks.length===1&&Ot.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var Ot,Nt;this.Editor.ReadOnly.isEnabled||((Ot=this.nodes.wrapper)==null||Ot.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(Nt=this.toolboxInstance)==null||Nt.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(Ot=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),Ot?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=c$6.make("div",this.CSS.toolbar),["content","actions"].forEach(ir=>{this.nodes[ir]=c$6.make("div",this.CSS[ir])}),c$6.append(this.nodes.wrapper,this.nodes.content),c$6.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=c$6.make("div",this.CSS.plusButton,{innerHTML:Fo}),c$6.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Re$2(!0),this.plusButtonClicked()},!1);const Ot=c$6.make("div");Ot.appendChild(document.createTextNode(z$2.ui(K$2.ui.toolbar.toolbox,"Add"))),Ot.appendChild(c$6.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),ge$2(this.nodes.plusButton,Ot,{hidingDelay:400}),this.nodes.settingsToggler=c$6.make("span",this.CSS.settingsToggler,{innerHTML:Po}),c$6.append(this.nodes.actions,this.nodes.settingsToggler);const Nt=c$6.make("div"),er=c$6.text(z$2.ui(K$2.ui.blockTunes.toggler,"Click to tune")),rr=await Go("Slash","/");Nt.appendChild(er),Nt.appendChild(c$6.make("div",this.CSS.plusButtonShortcut,{textContent:ye$2(`CMD + ${rr}`)})),ge$2(this.nodes.settingsToggler,Nt,{hidingDelay:400}),c$6.append(this.nodes.actions,this.makeToolbox()),c$6.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),c$6.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new $e$2({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:z$2.ui(K$2.ui.popover,"Filter"),nothingFound:z$2.ui(K$2.ui.popover,"Nothing found")}}),this.toolboxInstance.on(ke$2.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(ke$2.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(ke$2.BlockAdded,({block:Ot})=>{const{BlockManager:Nt,Caret:er}=this.Editor,rr=Nt.getBlockById(Ot.id);rr.inputs.length===0&&(rr===Nt.lastBlock?(Nt.insertAtEnd(),er.setToBlock(Nt.lastBlock)):er.setToBlock(Nt.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){var Ot;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(Ot=this.toolboxInstance)==null||Ot.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",Ot=>{var Nt;Ot.stopPropagation(),this.settingsTogglerClicked(),(Nt=this.toolboxInstance)!=null&&Nt.opened&&this.toolboxInstance.close(),Re$2(!0)},!0),te$2()||this.eventsDispatcher.on(yt,Ot=>{var Nt;this.Editor.BlockSettings.opened||(Nt=this.toolboxInstance)!=null&&Nt.opened||this.moveAndOpen(Ot.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var Be$1=(tr=>(tr[tr.Block=0]="Block",tr[tr.Inline=1]="Inline",tr[tr.Tune=2]="Tune",tr))(Be$1||{}),ve$2=(tr=>(tr.Shortcut="shortcut",tr.Toolbox="toolbox",tr.EnabledInlineTools="inlineToolbar",tr.EnabledBlockTunes="tunes",tr.Config="config",tr))(ve$2||{}),Et=(tr=>(tr.Shortcut="shortcut",tr.SanitizeConfig="sanitize",tr))(Et||{}),se$2=(tr=>(tr.IsEnabledLineBreaks="enableLineBreaks",tr.Toolbox="toolbox",tr.ConversionConfig="conversionConfig",tr.IsReadOnlySupported="isReadOnlySupported",tr.PasteConfig="pasteConfig",tr))(se$2||{}),We$2=(tr=>(tr.IsInline="isInline",tr.Title="title",tr))(We$2||{}),Bt=(tr=>(tr.IsTune="isTune",tr))(Bt||{});let Ye$2=class{constructor({name:Ot,constructable:Nt,config:er,api:rr,isDefault:ir,isInternal:nr=!1,defaultPlaceholder:sr}){this.api=rr,this.name=Ot,this.constructable=Nt,this.config=er,this.isDefault=ir,this.isInternal=nr,this.defaultPlaceholder=sr}get settings(){const Ot=this.config.config||{};return this.isDefault&&!("placeholder"in Ot)&&this.defaultPlaceholder&&(Ot.placeholder=this.defaultPlaceholder),Ot}reset(){if(M$4(this.constructable.reset))return this.constructable.reset()}prepare(){if(M$4(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const Ot=this.constructable.shortcut;return this.config.shortcut||Ot}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}};class Qo extends y$3{constructor({config:Ot,eventsDispatcher:Nt}){super({config:Ot,eventsDispatcher:Nt}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=te$2()?20:6,this.buttonsList=null,this.width=0,this.flipper=null}toggleReadOnly(Ot){Ot?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(Ot=!1,Nt=!0){Ot&&this.close(),this.allowedToShow()&&(await this.addToolsFiltered(Nt),this.move(),this.open(Nt),this.Editor.Toolbar.close())}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([Ot,Nt])=>{const er=this.getToolShortcut(Ot);er&&ae$2.remove(this.Editor.UI.nodes.redactor,er),M$4(Nt.clear)&&Nt.clear()}),this.reset(),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}containsNode(Ot){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(Ot)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}make(){this.nodes.wrapper=c$6.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=c$6.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=c$6.make("div",this.CSS.buttonsWrapper),this.nodes.actions=c$6.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",Ot=>{Ot.target.closest(`.${this.CSS.actionsWrapper}`)||Ot.preventDefault()}),c$6.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),c$6.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),c$6.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame(()=>{this.recalculateWidth()}),this.enableFlipper()}open(){if(this.opened)return;this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0;let Ot=Array.from(this.buttonsList);Ot.unshift(this.nodes.conversionToggler),Ot=Ot.filter(Nt=>!Nt.hidden),this.flipper.activate(Ot)}move(){const Ot=b$2.rect,Nt=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),er={x:Ot.x-Nt.x,y:Ot.y+Ot.height-Nt.top+this.toolbarVerticalMargin};er.x+this.width+Nt.x>this.Editor.UI.contentRect.right&&(er.x=this.Editor.UI.contentRect.right-this.width-Nt.x),this.nodes.wrapper.style.left=Math.floor(er.x)+"px",this.nodes.wrapper.style.top=Math.floor(er.y)+"px"}reset(){this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarLeftOriented,this.CSS.inlineToolbarRightOriented),this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const Ot=["IMG","INPUT"],Nt=b$2.get(),er=b$2.text;if(!Nt||!Nt.anchorNode||Nt.isCollapsed||er.length<1)return!1;const rr=c$6.isElement(Nt.anchorNode)?Nt.anchorNode:Nt.anchorNode.parentElement;if(Nt&&Ot.includes(rr.tagName)||rr.closest('[contenteditable="true"]')===null)return!1;const ir=this.Editor.BlockManager.getBlock(Nt.anchorNode);return ir?ir.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=c$6.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=c$6.make("div",this.CSS.conversionTogglerContent);const Ot=c$6.make("div",this.CSS.conversionTogglerArrow,{innerHTML:kt});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(Ot),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(Nt=>{!Nt&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),te$2()===!1&&ge$2(this.nodes.conversionToggler,z$2.ui(K$2.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:Ot}=this.Editor,{currentBlock:Nt}=Ot,er=Nt.name,rr=Nt.tool.conversionConfig,ir=rr&&rr.export;this.nodes.conversionToggler.hidden=!ir,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!ir);const nr=await Nt.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=nr.icon||nr.title||re$2(er)}prepareConversionToolbar(){const Ot=this.Editor.ConversionToolbar.make();c$6.append(this.nodes.wrapper,Ot)}async addToolsFiltered(Ot=!0){const Nt=b$2.get(),er=this.Editor.BlockManager.getBlock(Nt.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(er.tool.inlineTools.values()).forEach(rr=>{this.addTool(rr)}),Ot&&this.Editor.ConversionToolbar.hasTools()?await this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0,this.recalculateWidth()}addTool(Ot){const Nt=Ot.create(),er=Nt.render();if(!er){T$3("Render method must return an instance of Node","warn",Ot.name);return}if(er.dataset.tool=Ot.name,this.nodes.buttons.appendChild(er),this.toolsInstances.set(Ot.name,Nt),M$4(Nt.renderActions)){const sr=Nt.renderActions();this.nodes.actions.appendChild(sr)}this.listeners.on(er,"click",sr=>{this.toolClicked(Nt),sr.preventDefault()});const rr=this.getToolShortcut(Ot.name);if(rr)try{this.enableShortcuts(Nt,rr)}catch{}const ir=c$6.make("div"),nr=z$2.t(K$2.toolNames,Ot.title||re$2(Ot.name));ir.appendChild(c$6.text(nr)),rr&&ir.appendChild(c$6.make("div",this.CSS.inlineToolbarShortcut,{textContent:ye$2(rr)})),te$2()===!1&&ge$2(er,ir,{placement:"top",hidingDelay:100}),Nt.checkState(b$2.get())}getToolShortcut(Ot){const{Tools:Nt}=this.Editor,er=Nt.inlineTools.get(Ot),rr=Nt.internal.inlineTools;return Array.from(rr.keys()).includes(Ot)?this.inlineTools[Ot][Et.Shortcut]:er.shortcut}enableShortcuts(Ot,Nt){ae$2.add({name:Nt,handler:er=>{const{currentBlock:rr}=this.Editor.BlockManager;rr&&rr.tool.enabledInlineTools&&(er.preventDefault(),this.toolClicked(Ot))},on:this.Editor.UI.nodes.redactor})}toolClicked(Ot){const Nt=b$2.range;Ot.surround(Nt),this.checkToolsState(),Ot.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(Ot=>{Ot.checkState(b$2.get())})}get inlineTools(){const Ot={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([Nt,er])=>{Ot[Nt]=er.create()}),Ot}enableFlipper(){this.flipper=new q$2({focusedItemClass:this.CSS.focusedButton,allowedKeys:[v$3.ENTER,v$3.TAB]})}}class ei extends y$3{keydown(Ot){switch(this.beforeKeydownProcessing(Ot),Ot.keyCode){case v$3.BACKSPACE:this.backspace(Ot);break;case v$3.DELETE:this.delete(Ot);break;case v$3.ENTER:this.enter(Ot);break;case v$3.DOWN:case v$3.RIGHT:this.arrowRightAndDown(Ot);break;case v$3.UP:case v$3.LEFT:this.arrowLeftAndUp(Ot);break;case v$3.TAB:this.tabPressed(Ot);break}Ot.key==="/"&&!Ot.ctrlKey&&!Ot.metaKey&&this.slashPressed(),Ot.code==="Slash"&&(Ot.ctrlKey||Ot.metaKey)&&(Ot.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(Ot){this.needToolbarClosing(Ot)&&lt$2(Ot.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),Ot.ctrlKey||Ot.metaKey||Ot.altKey||Ot.shiftKey||this.Editor.BlockSelection.clearSelection(Ot))}keyup(Ot){Ot.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(Ot){const Nt=this.Editor.BlockManager.getBlockByChildNode(Ot.target);Nt.dropTarget=!0}dragLeave(Ot){const Nt=this.Editor.BlockManager.getBlockByChildNode(Ot.target);Nt.dropTarget=!1}handleCommandC(Ot){const{BlockSelection:Nt}=this.Editor;Nt.anyBlockSelected&&Nt.copySelectedBlocks(Ot)}handleCommandX(Ot){const{BlockSelection:Nt,BlockManager:er,Caret:rr}=this.Editor;Nt.anyBlockSelected&&Nt.copySelectedBlocks(Ot).then(()=>{const ir=er.removeSelectedBlocks(),nr=er.insertDefaultBlockAtIndex(ir,!0);rr.setToBlock(nr,rr.positions.START),Nt.clearSelection(Ot)})}tabPressed(Ot){const{InlineToolbar:Nt,ConversionToolbar:er,Caret:rr}=this.Editor;er.opened||Nt.opened||(Ot.shiftKey?rr.navigatePrevious(!0):rr.navigateNext(!0))&&Ot.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(){this.Editor.BlockManager.currentBlock.isEmpty&&this.activateToolbox()}enter(Ot){const{BlockManager:Nt,UI:er}=this.Editor;if(Nt.currentBlock.tool.isLineBreaksEnabled||er.someToolbarOpened&&er.someFlipperButtonFocused||Ot.shiftKey)return;let rr=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?rr=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):rr=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(rr),this.Editor.Toolbar.moveAndOpen(rr),Ot.preventDefault()}backspace(Ot){const{BlockManager:Nt,Caret:er}=this.Editor,{currentBlock:rr,previousBlock:ir}=Nt;if(!(!b$2.isCollapsed||!er.isAtStart)){if(Ot.preventDefault(),this.Editor.Toolbar.close(),rr.currentInput!==rr.firstInput){er.navigatePrevious();return}if(ir!==null){if(ir.isEmpty){Nt.removeBlock(ir);return}if(rr.isEmpty){Nt.removeBlock(rr);const nr=Nt.currentBlock;er.setToBlock(nr,er.positions.END);return}ot$1(rr,ir)?this.mergeBlocks(ir,rr):er.setToBlock(ir,er.positions.END)}}}delete(Ot){const{BlockManager:Nt,Caret:er}=this.Editor,{currentBlock:rr,nextBlock:ir}=Nt;if(!(!b$2.isCollapsed||!er.isAtEnd)){if(Ot.preventDefault(),this.Editor.Toolbar.close(),rr.currentInput!==rr.lastInput){er.navigateNext();return}if(ir!==null){if(ir.isEmpty){Nt.removeBlock(ir);return}if(rr.isEmpty){Nt.removeBlock(rr),er.setToBlock(ir,er.positions.START);return}ot$1(rr,ir)?this.mergeBlocks(rr,ir):er.setToBlock(ir,er.positions.START)}}}mergeBlocks(Ot,Nt){const{BlockManager:er,Caret:rr,Toolbar:ir}=this.Editor;rr.createShadow(Ot.pluginsContent),er.mergeBlocks(Ot,Nt).then(()=>{window.requestAnimationFrame(()=>{rr.restoreCaret(Ot.pluginsContent),Ot.pluginsContent.normalize(),ir.close()})})}arrowRightAndDown(Ot){const Nt=q$2.usedKeys.includes(Ot.keyCode)&&(!Ot.shiftKey||Ot.keyCode===v$3.TAB);if(this.Editor.UI.someToolbarOpened&&Nt)return;this.Editor.Toolbar.close();const er=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(Ot.shiftKey&&Ot.keyCode===v$3.DOWN&&er){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(Ot.keyCode===v$3.DOWN||Ot.keyCode===v$3.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){Ot.preventDefault();return}xe$2(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(Ot)}arrowLeftAndUp(Ot){if(this.Editor.UI.someToolbarOpened){if(q$2.usedKeys.includes(Ot.keyCode)&&(!Ot.shiftKey||Ot.keyCode===v$3.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const Nt=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(Ot.shiftKey&&Ot.keyCode===v$3.UP&&Nt){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(Ot.keyCode===v$3.UP||Ot.keyCode===v$3.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){Ot.preventDefault();return}xe$2(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(Ot)}needToolbarClosing(Ot){const Nt=Ot.keyCode===v$3.ENTER&&this.Editor.Toolbar.toolbox.opened,er=Ot.keyCode===v$3.ENTER&&this.Editor.BlockSettings.opened,rr=Ot.keyCode===v$3.ENTER&&this.Editor.InlineToolbar.opened,ir=Ot.keyCode===v$3.ENTER&&this.Editor.ConversionToolbar.opened,nr=Ot.keyCode===v$3.TAB;return!(Ot.shiftKey||nr||Nt||er||rr||ir)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}let Se$2=class{constructor(Ot){this.blocks=[],this.workingArea=Ot}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return ct$1(this.workingArea.children)}static set(Ot,Nt,er){return isNaN(Number(Nt))?(Reflect.set(Ot,Nt,er),!0):(Ot.insert(+Nt,er),!0)}static get(Ot,Nt){return isNaN(Number(Nt))?Reflect.get(Ot,Nt):Ot.get(+Nt)}push(Ot){this.blocks.push(Ot),this.insertToDOM(Ot)}swap(Ot,Nt){const er=this.blocks[Nt];c$6.swap(this.blocks[Ot].holder,er.holder),this.blocks[Nt]=this.blocks[Ot],this.blocks[Ot]=er}move(Ot,Nt){const er=this.blocks.splice(Nt,1)[0],rr=Ot-1,ir=Math.max(0,rr),nr=this.blocks[ir];Ot>0?this.insertToDOM(er,"afterend",nr):this.insertToDOM(er,"beforebegin",nr),this.blocks.splice(Ot,0,er);const sr=this.composeBlockEvent("move",{fromIndex:Nt,toIndex:Ot});er.call(X$2.MOVED,sr)}insert(Ot,Nt,er=!1){if(!this.length){this.push(Nt);return}Ot>this.length&&(Ot=this.length),er&&(this.blocks[Ot].holder.remove(),this.blocks[Ot].call(X$2.REMOVED));const rr=er?1:0;if(this.blocks.splice(Ot,rr,Nt),Ot>0){const ir=this.blocks[Ot-1];this.insertToDOM(Nt,"afterend",ir)}else{const ir=this.blocks[Ot+1];ir?this.insertToDOM(Nt,"beforebegin",ir):this.insertToDOM(Nt)}}replace(Ot,Nt){if(this.blocks[Ot]===void 0)throw Error("Incorrect index");this.blocks[Ot].holder.replaceWith(Nt.holder),this.blocks[Ot]=Nt}insertMany(Ot,Nt){const er=new DocumentFragment;for(const rr of Ot)er.appendChild(rr.holder);if(this.length>0){if(Nt>0){const rr=Math.min(Nt-1,this.length-1);this.blocks[rr].holder.after(er)}else Nt===0&&this.workingArea.prepend(er);this.blocks.splice(Nt,0,...Ot)}else this.blocks.push(...Ot),this.workingArea.appendChild(er);Ot.forEach(rr=>rr.call(X$2.RENDERED))}remove(Ot){isNaN(Ot)&&(Ot=this.length-1),this.blocks[Ot].holder.remove(),this.blocks[Ot].call(X$2.REMOVED),this.blocks.splice(Ot,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(Ot=>Ot.call(X$2.REMOVED)),this.blocks.length=0}insertAfter(Ot,Nt){const er=this.blocks.indexOf(Ot);this.insert(er+1,Nt)}get(Ot){return this.blocks[Ot]}indexOf(Ot){return this.blocks.indexOf(Ot)}insertToDOM(Ot,Nt,er){Nt?er.holder.insertAdjacentElement(Nt,Ot.holder):this.workingArea.appendChild(Ot.holder),Ot.call(X$2.RENDERED)}composeBlockEvent(Ot,Nt){return new CustomEvent(Ot,{detail:Nt})}};const nt$1="block-removed",st$1="block-added",ti="block-moved",rt="block-changed";class oi{constructor(){this.completed=Promise.resolve()}add(Ot){return new Promise((Nt,er)=>{this.completed=this.completed.then(Ot).then(Nt).catch(er)})}}class ii extends y$3{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(Ot){this._currentBlockIndex=Ot}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(Ot){this.currentBlockIndex=this.getBlockIndex(Ot)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(Ot=>!!Ot.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(Ot=>!!Ot.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(Ot=>Ot.isEmpty)}prepare(){const Ot=new Se$2(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(Ot,{set:Se$2.set,get:Se$2.get}),this.listeners.on(document,"copy",Nt=>this.Editor.BlockEvents.handleCommandC(Nt))}toggleReadOnly(Ot){Ot?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:Ot,data:Nt={},id:er=void 0,tunes:rr={}}){const ir=this.Editor.ReadOnly.isEnabled,nr=this.Editor.Tools.blockTools.get(Ot),sr=new R$5({id:er,data:Nt,tool:nr,api:this.Editor.API,readOnly:ir,tunesData:rr},this.eventsDispatcher);return ir||window.requestIdleCallback(()=>{this.bindBlockEvents(sr)},{timeout:2e3}),sr}insert({id:Ot=void 0,tool:Nt=this.config.defaultBlock,data:er={},index:rr,needToFocus:ir=!0,replace:nr=!1,tunes:sr={}}={}){let ar=rr;ar===void 0&&(ar=this.currentBlockIndex+(nr?0:1));const lr=this.composeBlock({id:Ot,tool:Nt,data:er,tunes:sr});return nr&&this.blockDidMutated(nt$1,this.getBlockByIndex(ar),{index:ar}),this._blocks.insert(ar,lr,nr),this.blockDidMutated(st$1,lr,{index:ar}),ir?this.currentBlockIndex=ar:ar<=this.currentBlockIndex&&this.currentBlockIndex++,lr}insertMany(Ot,Nt=0){this._blocks.insertMany(Ot,Nt)}async update(Ot,Nt){const er=await Ot.data,rr=this.composeBlock({id:Ot.id,tool:Ot.name,data:Object.assign({},er,Nt),tunes:Ot.tunes}),ir=this.getBlockIndex(Ot);return this._blocks.replace(ir,rr),this.blockDidMutated(rt,rr,{index:ir}),rr}replace(Ot,Nt,er){const rr=this.getBlockIndex(Ot);this.insert({tool:Nt,data:er,index:rr,replace:!0})}paste(Ot,Nt,er=!1){const rr=this.insert({tool:Ot,replace:er});try{window.requestIdleCallback(()=>{rr.call(X$2.ON_PASTE,Nt)})}catch(ir){T$3(`${Ot}: onPaste callback call is failed`,"error",ir)}return rr}insertDefaultBlockAtIndex(Ot,Nt=!1){const er=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[Ot]=er,this.blockDidMutated(st$1,er,{index:Ot}),Nt?this.currentBlockIndex=Ot:Ot<=this.currentBlockIndex&&this.currentBlockIndex++,er}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(Ot,Nt){const er=await Nt.data;W$2(er)||await Ot.mergeWith(er),this.removeBlock(Nt),this.currentBlockIndex=this._blocks.indexOf(Ot)}removeBlock(Ot,Nt=!0){return new Promise(er=>{const rr=this._blocks.indexOf(Ot);if(!this.validateIndex(rr))throw new Error("Can't find a Block to remove");Ot.destroy(),this._blocks.remove(rr),this.blockDidMutated(nt$1,Ot,{index:rr}),this.currentBlockIndex>=rr&&this.currentBlockIndex--,this.blocks.length?rr===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,Nt&&this.insert()),er()})}removeSelectedBlocks(){let Ot;for(let Nt=this.blocks.length-1;Nt>=0;Nt--)this.blocks[Nt].selected&&(this.removeBlock(this.blocks[Nt]),Ot=Nt);return Ot}removeAllBlocks(){for(let Ot=this.blocks.length-1;Ot>=0;Ot--)this._blocks.remove(Ot);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const Ot=this.Editor.Caret.extractFragmentFromCaretPosition(),Nt=c$6.make("div");Nt.appendChild(Ot);const er={text:c$6.isEmpty(Nt)?"":Nt.innerHTML};return this.insert({data:er})}getBlockByIndex(Ot){return Ot===-1&&(Ot=this._blocks.length-1),this._blocks[Ot]}getBlockIndex(Ot){return this._blocks.indexOf(Ot)}getBlockById(Ot){return this._blocks.array.find(Nt=>Nt.id===Ot)}getBlock(Ot){c$6.isElement(Ot)||(Ot=Ot.parentNode);const Nt=this._blocks.nodes,er=Ot.closest(`.${R$5.CSS.wrapper}`),rr=Nt.indexOf(er);if(rr>=0)return this._blocks[rr]}setCurrentBlockByChildNode(Ot){c$6.isElement(Ot)||(Ot=Ot.parentNode);const Nt=Ot.closest(`.${R$5.CSS.wrapper}`);if(!Nt)return;const er=Nt.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(er!=null&&er.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(Nt),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(Ot){if(!Ot||!(Ot instanceof Node))return;c$6.isElement(Ot)||(Ot=Ot.parentNode);const Nt=Ot.closest(`.${R$5.CSS.wrapper}`);return this.blocks.find(er=>er.holder===Nt)}swap(Ot,Nt){this._blocks.swap(Ot,Nt),this.currentBlockIndex=Nt}move(Ot,Nt=this.currentBlockIndex){if(isNaN(Ot)||isNaN(Nt)){T$3("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(Ot)||!this.validateIndex(Nt)){T$3("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(Ot,Nt),this.currentBlockIndex=Ot,this.blockDidMutated(ti,this.currentBlock,{fromIndex:Nt,toIndex:Ot})}async convert(Ot,Nt,er){if(!await Ot.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const rr=this.Editor.Tools.blockTools.get(Nt);if(!rr)throw new Error(`Could not convert Block. Tool «${Nt}» not found.`);const ir=await Ot.exportDataAsString(),nr=V$2(ir,rr.sanitizeConfig);let sr=to(nr,rr.conversionConfig);er&&(sr=Object.assign(sr,er)),this.replace(Ot,rr.name,sr)}dropPointer(){this.currentBlockIndex=-1}async clear(Ot=!1){const Nt=new oi;this.blocks.forEach(er=>{Nt.add(async()=>{await this.removeBlock(er,!1)})}),await Nt.completed,this.dropPointer(),Ot&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(Ot=>Ot.destroy()))}bindBlockEvents(Ot){const{BlockEvents:Nt}=this.Editor;this.readOnlyMutableListeners.on(Ot.holder,"keydown",er=>{Nt.keydown(er)}),this.readOnlyMutableListeners.on(Ot.holder,"keyup",er=>{Nt.keyup(er)}),this.readOnlyMutableListeners.on(Ot.holder,"dragover",er=>{Nt.dragOver(er)}),this.readOnlyMutableListeners.on(Ot.holder,"dragleave",er=>{Nt.dragLeave(er)}),Ot.on("didMutated",er=>this.blockDidMutated(rt,er,{index:this.getBlockIndex(er)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",Ot=>this.Editor.BlockEvents.handleCommandX(Ot)),this.blocks.forEach(Ot=>{this.bindBlockEvents(Ot)})}validateIndex(Ot){return!(Ot<0||Ot>=this._blocks.length)}blockDidMutated(Ot,Nt,er){const rr=new CustomEvent(Ot,{detail:{target:new ee$2(Nt),...er}});return this.eventsDispatcher.emit(pt$1,{event:rr}),Nt}}class ni extends y$3{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:Ot}=this.Editor;return Ot.blocks.every(Nt=>Nt.selected===!0)}set allBlocksSelected(Ot){const{BlockManager:Nt}=this.Editor;Nt.blocks.forEach(er=>{er.selected=Ot}),this.clearCache()}get anyBlockSelected(){const{BlockManager:Ot}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=Ot.blocks.some(Nt=>Nt.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(Ot=>Ot.selected)}prepare(){this.selection=new b$2,ae$2.add({name:"CMD+A",handler:Ot=>{const{BlockManager:Nt,ReadOnly:er}=this.Editor;if(er.isEnabled){Ot.preventDefault(),this.selectAllBlocks();return}Nt.currentBlock&&this.handleCommandA(Ot)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){b$2.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(Ot){const{BlockManager:Nt}=this.Editor;let er;isNaN(Ot)?er=Nt.currentBlock:er=Nt.getBlockByIndex(Ot),er.selected=!1,this.clearCache()}clearSelection(Ot,Nt=!1){const{BlockManager:er,Caret:rr,RectangleSelection:ir}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const nr=Ot&&Ot instanceof KeyboardEvent,sr=nr&&lt$2(Ot.keyCode);if(this.anyBlockSelected&&nr&&sr&&!b$2.isSelectionExists){const ar=er.removeSelectedBlocks();er.insertDefaultBlockAtIndex(ar,!0),rr.setToBlock(er.currentBlock),xe$2(()=>{const lr=Ot.key;rr.insertContentAtCaretPosition(lr.length>1?"":lr)},20)()}if(this.Editor.CrossBlockSelection.clear(Ot),!this.anyBlockSelected||ir.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}Nt&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(Ot){Ot.preventDefault();const Nt=c$6.make("div");this.selectedBlocks.forEach(ir=>{const nr=V$2(ir.holder.innerHTML,this.sanitizerConfig),sr=c$6.make("p");sr.innerHTML=nr,Nt.appendChild(sr)});const er=Array.from(Nt.childNodes).map(ir=>ir.textContent).join(`

`),rr=Nt.innerHTML;return Ot.clipboardData.setData("text/plain",er),Ot.clipboardData.setData("text/html",rr),Promise.all(this.selectedBlocks.map(ir=>ir.save())).then(ir=>{try{Ot.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(ir))}catch{}})}selectBlockByIndex(Ot){const{BlockManager:Nt}=this.Editor,er=Nt.getBlockByIndex(Ot);er!==void 0&&this.selectBlock(er)}selectBlock(Ot){this.selection.save(),b$2.get().removeAllRanges(),Ot.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(Ot){Ot.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){ae$2.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(Ot){if(this.Editor.RectangleSelection.clearSelection(),c$6.isNativeInput(Ot.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const Nt=this.Editor.BlockManager.getBlock(Ot.target),er=Nt.inputs;if(er.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(er.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(Ot.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(Ot.preventDefault(),this.selectBlock(Nt),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),b$2.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}let we$2=class ta extends y$3{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const{currentBlock:Ot}=this.Editor.BlockManager;if(!Ot.focusable)return!0;const Nt=b$2.get(),er=c$6.getDeepestNode(Ot.currentInput);let rr=Nt.focusNode;if(c$6.isNativeInput(er))return er.selectionEnd===0;if(!Nt.anchorNode)return!1;let ir=rr.textContent.search(/\S/);ir===-1&&(ir=0);let nr=Nt.focusOffset;return rr.nodeType!==Node.TEXT_NODE&&rr.childNodes.length&&(rr.childNodes[nr]?(rr=rr.childNodes[nr],nr=0):(rr=rr.childNodes[nr-1],nr=rr.textContent.length)),(c$6.isLineBreakTag(er)||c$6.isEmpty(er))&&this.getHigherLevelSiblings(rr,"left").every(sr=>{const ar=c$6.isLineBreakTag(sr),lr=sr.children.length===1&&c$6.isLineBreakTag(sr.children[0]),cr=ar||lr;return c$6.isEmpty(sr)&&!cr})&&nr===ir?!0:er===null||rr===er&&nr<=ir}get isAtEnd(){const{currentBlock:Ot}=this.Editor.BlockManager;if(!Ot.focusable)return!0;const Nt=b$2.get();let er=Nt.focusNode;const rr=c$6.getDeepestNode(Ot.currentInput,!0);if(c$6.isNativeInput(rr))return rr.selectionEnd===rr.value.length;if(!Nt.focusNode)return!1;let ir=Nt.focusOffset;if(er.nodeType!==Node.TEXT_NODE&&er.childNodes.length&&(er.childNodes[ir-1]?(er=er.childNodes[ir-1],ir=er.textContent.length):(er=er.childNodes[0],ir=0)),c$6.isLineBreakTag(rr)||c$6.isEmpty(rr)){const sr=this.getHigherLevelSiblings(er,"right");if(sr.every((ar,lr)=>lr===sr.length-1&&c$6.isLineBreakTag(ar)||c$6.isEmpty(ar)&&!c$6.isLineBreakTag(ar))&&ir===er.textContent.length)return!0}const nr=rr.textContent.replace(/\s+$/,"");return er===rr&&ir>=nr.length}setToBlock(Ot,Nt=this.positions.DEFAULT,er=0){var rr;const{BlockManager:ir,BlockSelection:nr}=this.Editor;if(nr.clearSelection(),!Ot.focusable){(rr=window.getSelection())==null||rr.removeAllRanges(),nr.selectBlock(Ot),ir.currentBlock=Ot;return}let sr;switch(Nt){case this.positions.START:sr=Ot.firstInput;break;case this.positions.END:sr=Ot.lastInput;break;default:sr=Ot.currentInput}if(!sr)return;const ar=c$6.getDeepestNode(sr,Nt===this.positions.END),lr=c$6.getContentLength(ar);switch(!0){case Nt===this.positions.START:er=0;break;case Nt===this.positions.END:case er>lr:er=lr;break}this.set(ar,er),ir.setCurrentBlockByChildNode(Ot.holder),ir.currentBlock.currentInput=sr}setToInput(Ot,Nt=this.positions.DEFAULT,er=0){const{currentBlock:rr}=this.Editor.BlockManager,ir=c$6.getDeepestNode(Ot);switch(Nt){case this.positions.START:this.set(ir,0);break;case this.positions.END:this.set(ir,c$6.getContentLength(ir));break;default:er&&this.set(ir,er)}rr.currentInput=Ot}set(Ot,Nt=0){const{top:er,bottom:rr}=b$2.setCursor(Ot,Nt),{innerHeight:ir}=window;er<0?window.scrollBy(0,er-30):rr>ir&&window.scrollBy(0,rr-ir+30)}setToTheLastBlock(){const Ot=this.Editor.BlockManager.lastBlock;if(Ot)if(Ot.tool.isDefault&&Ot.isEmpty)this.setToBlock(Ot);else{const Nt=this.Editor.BlockManager.insertAtEnd();this.setToBlock(Nt)}}extractFragmentFromCaretPosition(){const Ot=b$2.get();if(Ot.rangeCount){const Nt=Ot.getRangeAt(0),er=this.Editor.BlockManager.currentBlock.currentInput;if(Nt.deleteContents(),er)if(c$6.isNativeInput(er)){const rr=er,ir=document.createDocumentFragment(),nr=rr.value.substring(0,rr.selectionStart),sr=rr.value.substring(rr.selectionStart);return ir.textContent=sr,rr.value=nr,ir}else{const rr=Nt.cloneRange();return rr.selectNodeContents(er),rr.setStart(Nt.endContainer,Nt.endOffset),rr.extractContents()}}}navigateNext(Ot=!1){const{BlockManager:Nt}=this.Editor,{currentBlock:er,nextBlock:rr}=Nt,{nextInput:ir}=er,nr=this.isAtEnd;let sr=rr;const ar=Ot||nr;if(ir&&ar)return this.setToInput(ir,this.positions.START),!0;if(sr===null){if(er.tool.isDefault||!ar)return!1;sr=Nt.insertAtEnd()}return ar?(this.setToBlock(sr,this.positions.START),!0):!1}navigatePrevious(Ot=!1){const{currentBlock:Nt,previousBlock:er}=this.Editor.BlockManager;if(!Nt)return!1;const{previousInput:rr}=Nt,ir=Ot||this.isAtStart;return rr&&ir?(this.setToInput(rr,this.positions.END),!0):er!==null&&ir?(this.setToBlock(er,this.positions.END),!0):!1}createShadow(Ot){const Nt=document.createElement("span");Nt.classList.add(ta.CSS.shadowCaret),Ot.insertAdjacentElement("beforeend",Nt)}restoreCaret(Ot){const Nt=Ot.querySelector(`.${ta.CSS.shadowCaret}`);if(!Nt)return;new b$2().expandToTag(Nt);const er=document.createRange();er.selectNode(Nt),er.extractContents()}insertContentAtCaretPosition(Ot){const Nt=document.createDocumentFragment(),er=document.createElement("div"),rr=b$2.get(),ir=b$2.range;er.innerHTML=Ot,Array.from(er.childNodes).forEach(lr=>Nt.appendChild(lr)),Nt.childNodes.length===0&&Nt.appendChild(new Text);const nr=Nt.lastChild;ir.deleteContents(),ir.insertNode(Nt);const sr=document.createRange(),ar=nr.nodeType===Node.TEXT_NODE?nr:nr.firstChild;ar!==null&&ar.textContent!==null&&sr.setStart(ar,ar.textContent.length),rr.removeAllRanges(),rr.addRange(sr)}getHigherLevelSiblings(Ot,Nt){let er=Ot;const rr=[];for(;er.parentNode&&er.parentNode.contentEditable!=="true";)er=er.parentNode;const ir=Nt==="left"?"previousSibling":"nextSibling";for(;er[ir];)er=er[ir],rr.push(er);return rr}};class si extends y$3{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=Ot=>{const{BlockManager:Nt,BlockSelection:er}=this.Editor;if(Ot.relatedTarget===null&&Ot.target===null)return;const rr=Nt.getBlockByChildNode(Ot.relatedTarget)||this.lastSelectedBlock,ir=Nt.getBlockByChildNode(Ot.target);if(!(!rr||!ir)&&ir!==rr){if(rr===this.firstSelectedBlock){b$2.get().removeAllRanges(),rr.selected=!0,ir.selected=!0,er.clearCache();return}if(ir===this.firstSelectedBlock){rr.selected=!1,ir.selected=!1,er.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(rr,ir),this.lastSelectedBlock=ir}}}async prepare(){this.listeners.on(document,"mousedown",Ot=>{this.enableCrossBlockSelection(Ot)})}watchSelection(Ot){if(Ot.button!==Pt.LEFT)return;const{BlockManager:Nt}=this.Editor;this.firstSelectedBlock=Nt.getBlock(Ot.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(Ot=!0){const{BlockManager:Nt,BlockSelection:er}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=Nt.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,er.clearCache(),b$2.get().removeAllRanges());const rr=Nt.blocks.indexOf(this.lastSelectedBlock)+(Ot?1:-1),ir=Nt.blocks[rr];ir&&(this.lastSelectedBlock.selected!==ir.selected?(ir.selected=!0,er.clearCache()):(this.lastSelectedBlock.selected=!1,er.clearCache()),this.lastSelectedBlock=ir,this.Editor.InlineToolbar.close(),ir.holder.scrollIntoView({block:"nearest"}))}clear(Ot){const{BlockManager:Nt,BlockSelection:er,Caret:rr}=this.Editor,ir=Nt.blocks.indexOf(this.firstSelectedBlock),nr=Nt.blocks.indexOf(this.lastSelectedBlock);if(er.anyBlockSelected&&ir>-1&&nr>-1&&Ot&&Ot instanceof KeyboardEvent)switch(Ot.keyCode){case v$3.DOWN:case v$3.RIGHT:rr.setToBlock(Nt.blocks[Math.max(ir,nr)],rr.positions.END);break;case v$3.UP:case v$3.LEFT:rr.setToBlock(Nt.blocks[Math.min(ir,nr)],rr.positions.START);break;default:rr.setToBlock(Nt.blocks[Math.max(ir,nr)],rr.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(Ot){const{UI:Nt}=this.Editor;b$2.isCollapsed||this.Editor.BlockSelection.clearSelection(Ot),Nt.nodes.redactor.contains(Ot.target)?this.watchSelection(Ot):this.Editor.BlockSelection.clearSelection(Ot)}toggleBlocksSelectedState(Ot,Nt){const{BlockManager:er,BlockSelection:rr}=this.Editor,ir=er.blocks.indexOf(Ot),nr=er.blocks.indexOf(Nt),sr=Ot.selected!==Nt.selected;for(let ar=Math.min(ir,nr);ar<=Math.max(ir,nr);ar++){const lr=er.blocks[ar];lr!==this.firstSelectedBlock&&lr!==(sr?Ot:Nt)&&(er.blocks[ar].selected=!er.blocks[ar].selected,rr.clearCache())}}}class ri extends y$3{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(Ot){Ot?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:Ot}=this.Editor;this.readOnlyMutableListeners.on(Ot.nodes.holder,"drop",async Nt=>{await this.processDrop(Nt)},!0),this.readOnlyMutableListeners.on(Ot.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(Ot.nodes.holder,"dragover",Nt=>{this.processDragOver(Nt)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(Ot){const{BlockManager:Nt,Caret:er,Paste:rr}=this.Editor;Ot.preventDefault(),Nt.blocks.forEach(nr=>{nr.dropTarget=!1}),b$2.isAtEditor&&!b$2.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const ir=Nt.setCurrentBlockByChildNode(Ot.target);if(ir)this.Editor.Caret.setToBlock(ir,er.positions.END);else{const nr=Nt.setCurrentBlockByChildNode(Nt.lastBlock.holder);this.Editor.Caret.setToBlock(nr,er.positions.END)}await rr.processDataTransfer(Ot.dataTransfer,!0)}processDragStart(){b$2.isAtEditor&&!b$2.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(Ot){Ot.preventDefault()}}class ai extends y$3{constructor({config:Ot,eventsDispatcher:Nt}){super({config:Ot,eventsDispatcher:Nt}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(er=>{this.redactorChanged(er)}),this.eventsDispatcher.on(pt$1,er=>{this.particularBlockChanged(er.event)}),this.eventsDispatcher.on(ft,()=>{this.disable()}),this.eventsDispatcher.on(gt,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(Ot){this.disabled||!M$4(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${Ot.detail.target.id}:event:${Ot.type}`,Ot),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let Nt;this.batchingOnChangeQueue.size===1?Nt=this.batchingOnChangeQueue.values().next().value:Nt=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,Nt),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(Ot){this.eventsDispatcher.emit(Ae$2,{mutations:Ot})}}const Ct=class extends y$3{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=tr=>{try{const Ot=tr.create({},{},!1);if(tr.pasteConfig===!1){this.exceptionList.push(tr.name);return}if(!M$4(Ot.onPaste))return;this.getTagsConfig(tr),this.getFilesConfig(tr),this.getPatternsConfig(tr)}catch(Ot){T$3(`Paste handling for «${tr.name}» Tool hasn't been set up because of the error`,"warn",Ot)}},this.handlePasteEvent=async tr=>{const{BlockManager:Ot,Toolbar:Nt}=this.Editor,er=Ot.setCurrentBlockByChildNode(tr.target);!er||this.isNativeBehaviour(tr.target)&&!tr.clipboardData.types.includes("Files")||er&&this.exceptionList.includes(er.name)||(tr.preventDefault(),this.processDataTransfer(tr.clipboardData),Nt.close())}}async prepare(){this.processTools()}toggleReadOnly(tr){tr?this.unsetCallback():this.setCallback()}async processDataTransfer(tr,Ot=!1){const{Tools:Nt}=this.Editor,er=tr.types;if((er.includes?er.includes("Files"):er.contains("Files"))&&!W$2(this.toolsFiles)){await this.processFiles(tr.files);return}const rr=tr.getData(this.MIME_TYPE),ir=tr.getData("text/plain");let nr=tr.getData("text/html");if(rr)try{this.insertEditorJSData(JSON.parse(rr));return}catch{}Ot&&ir.trim()&&nr.trim()&&(nr="<p>"+(nr.trim()?nr:ir)+"</p>");const sr=Object.keys(this.toolsTags).reduce((cr,dr)=>(cr[dr.toLowerCase()]=this.toolsTags[dr].sanitizationConfig??{},cr),{}),ar=Object.assign({},sr,Nt.getAllInlineToolsSanitizeConfig(),{br:{}}),lr=V$2(nr,ar);!lr.trim()||lr.trim()===ir||!c$6.isHTMLString(lr)?await this.processText(ir):await this.processText(lr,!0)}async processText(tr,Ot=!1){const{Caret:Nt,BlockManager:er}=this.Editor,rr=Ot?this.processHTML(tr):this.processPlain(tr);if(!rr.length)return;if(rr.length===1){rr[0].isBlock?this.processSingleBlock(rr.pop()):this.processInlinePaste(rr.pop());return}const ir=er.currentBlock&&er.currentBlock.tool.isDefault&&er.currentBlock.isEmpty;rr.map(async(nr,sr)=>this.insertBlock(nr,sr===0&&ir)),er.currentBlock&&Nt.setToBlock(er.currentBlock,Nt.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const tr=this.Editor.Tools.blockTools;Array.from(tr.values()).forEach(this.processTool)}collectTagNames(tr){return G$2(tr)?[tr]:D$3(tr)?Object.keys(tr):[]}getTagsConfig(tr){if(tr.pasteConfig===!1)return;const Ot=tr.pasteConfig.tags||[],Nt=[];Ot.forEach(er=>{const rr=this.collectTagNames(er);Nt.push(...rr),rr.forEach(ir=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,ir)){T$3(`Paste handler for «${tr.name}» Tool on «${ir}» tag is skipped because it is already used by «${this.toolsTags[ir].tool.name}» Tool.`,"warn");return}const nr=D$3(er)?er[ir]:null;this.toolsTags[ir.toUpperCase()]={tool:tr,sanitizationConfig:nr}})}),this.tagsByTool[tr.name]=Nt.map(er=>er.toUpperCase())}getFilesConfig(tr){if(tr.pasteConfig===!1)return;const{files:Ot={}}=tr.pasteConfig;let{extensions:Nt,mimeTypes:er}=Ot;!Nt&&!er||(Nt&&!Array.isArray(Nt)&&(T$3(`«extensions» property of the onDrop config for «${tr.name}» Tool should be an array`),Nt=[]),er&&!Array.isArray(er)&&(T$3(`«mimeTypes» property of the onDrop config for «${tr.name}» Tool should be an array`),er=[]),er&&(er=er.filter(rr=>jt(rr)?!0:(T$3(`MIME type value «${rr}» for the «${tr.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[tr.name]={extensions:Nt||[],mimeTypes:er||[]})}getPatternsConfig(tr){tr.pasteConfig===!1||!tr.pasteConfig.patterns||W$2(tr.pasteConfig.patterns)||Object.entries(tr.pasteConfig.patterns).forEach(([Ot,Nt])=>{Nt instanceof RegExp||T$3(`Pattern ${Nt} for «${tr.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:Ot,pattern:Nt,tool:tr})})}isNativeBehaviour(tr){return c$6.isNativeInput(tr)}async processFiles(tr){const{BlockManager:Ot}=this.Editor;let Nt;Nt=await Promise.all(Array.from(tr).map(rr=>this.processFile(rr))),Nt=Nt.filter(rr=>!!rr);const er=Ot.currentBlock.tool.isDefault&&Ot.currentBlock.isEmpty;Nt.forEach((rr,ir)=>{Ot.paste(rr.type,rr.event,ir===0&&er)})}async processFile(tr){const Ot=Ut(tr),Nt=Object.entries(this.toolsFiles).find(([rr,{mimeTypes:ir,extensions:nr}])=>{const[sr,ar]=tr.type.split("/"),lr=nr.find(dr=>dr.toLowerCase()===Ot.toLowerCase()),cr=ir.find(dr=>{const[ur,fr]=dr.split("/");return ur===sr&&(fr===ar||fr==="*")});return!!lr||!!cr});if(!Nt)return;const[er]=Nt;return{event:this.composePasteEvent("file",{file:tr}),type:er}}processHTML(tr){const{Tools:Ot}=this.Editor,Nt=c$6.make("DIV");return Nt.innerHTML=tr,this.getNodes(Nt).map(er=>{let rr,ir=Ot.defaultTool,nr=!1;switch(er.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:rr=c$6.make("div"),rr.appendChild(er);break;case Node.ELEMENT_NODE:rr=er,nr=!0,this.toolsTags[rr.tagName]&&(ir=this.toolsTags[rr.tagName].tool);break}const{tags:sr}=ir.pasteConfig||{tags:[]},ar=sr.reduce((dr,ur)=>(this.collectTagNames(ur).forEach(fr=>{const hr=D$3(ur)?ur[fr]:null;dr[fr.toLowerCase()]=hr||{}}),dr),{}),lr=Object.assign({},ar,ir.baseSanitizeConfig);if(rr.tagName.toLowerCase()==="table"){const dr=V$2(rr.outerHTML,lr);rr=c$6.make("div",void 0,{innerHTML:dr}).firstChild}else rr.innerHTML=V$2(rr.innerHTML,lr);const cr=this.composePasteEvent("tag",{data:rr});return{content:rr,isBlock:nr,tool:ir.name,event:cr}}).filter(er=>{const rr=c$6.isEmpty(er.content),ir=c$6.isSingleTag(er.content);return!rr||ir})}processPlain(tr){const{defaultBlock:Ot}=this.config;if(!tr)return[];const Nt=Ot;return tr.split(/\r?\n/).filter(er=>er.trim()).map(er=>{const rr=c$6.make("div");rr.textContent=er;const ir=this.composePasteEvent("tag",{data:rr});return{content:rr,tool:Nt,isBlock:!1,event:ir}})}async processSingleBlock(tr){const{Caret:Ot,BlockManager:Nt}=this.Editor,{currentBlock:er}=Nt;if(!er||tr.tool!==er.name||!c$6.containsOnlyInlineElements(tr.content.innerHTML)){this.insertBlock(tr,(er==null?void 0:er.tool.isDefault)&&er.isEmpty);return}Ot.insertContentAtCaretPosition(tr.content.innerHTML)}async processInlinePaste(tr){const{BlockManager:Ot,Caret:Nt}=this.Editor,{content:er}=tr;if(Ot.currentBlock&&Ot.currentBlock.tool.isDefault&&er.textContent.length<Ct.PATTERN_PROCESSING_MAX_LENGTH){const rr=await this.processPattern(er.textContent);if(rr){const ir=Ot.currentBlock&&Ot.currentBlock.tool.isDefault&&Ot.currentBlock.isEmpty,nr=Ot.paste(rr.tool,rr.event,ir);Nt.setToBlock(nr,Nt.positions.END);return}}if(Ot.currentBlock&&Ot.currentBlock.currentInput){const rr=Ot.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,V$2(er.innerHTML,rr))}else this.insertBlock(tr)}async processPattern(tr){const Ot=this.toolsPatterns.find(Nt=>{const er=Nt.pattern.exec(tr);return er?tr===er.shift():!1});return Ot?{event:this.composePasteEvent("pattern",{key:Ot.key,data:tr}),tool:Ot.tool.name}:void 0}insertBlock(tr,Ot=!1){const{BlockManager:Nt,Caret:er}=this.Editor,{currentBlock:rr}=Nt;let ir;if(Ot&&rr&&rr.isEmpty){ir=Nt.paste(tr.tool,tr.event,!0),er.setToBlock(ir,er.positions.END);return}ir=Nt.paste(tr.tool,tr.event),er.setToBlock(ir,er.positions.END)}insertEditorJSData(tr){const{BlockManager:Ot,Caret:Nt,Tools:er}=this.Editor;bt(tr,rr=>er.blockTools.get(rr).sanitizeConfig).forEach(({tool:rr,data:ir},nr)=>{let sr=!1;nr===0&&(sr=Ot.currentBlock&&Ot.currentBlock.tool.isDefault&&Ot.currentBlock.isEmpty);const ar=Ot.insert({tool:rr,data:ir,replace:sr});Nt.setToBlock(ar,Nt.positions.END)})}processElementNode(tr,Ot,Nt){const er=Object.keys(this.toolsTags),rr=tr,{tool:ir}=this.toolsTags[rr.tagName]||{},nr=this.tagsByTool[ir==null?void 0:ir.name]||[],sr=er.includes(rr.tagName),ar=c$6.blockElements.includes(rr.tagName.toLowerCase()),lr=Array.from(rr.children).some(({tagName:dr})=>er.includes(dr)&&!nr.includes(dr)),cr=Array.from(rr.children).some(({tagName:dr})=>c$6.blockElements.includes(dr.toLowerCase()));if(!ar&&!sr&&!lr)return Nt.appendChild(rr),[...Ot,Nt];if(sr&&!lr||ar&&!cr&&!lr)return[...Ot,Nt,rr]}getNodes(tr){const Ot=Array.from(tr.childNodes);let Nt;const er=(rr,ir)=>{if(c$6.isEmpty(ir)&&!c$6.isSingleTag(ir))return rr;const nr=rr[rr.length-1];let sr=new DocumentFragment;switch(nr&&c$6.isFragment(nr)&&(sr=rr.pop()),ir.nodeType){case Node.ELEMENT_NODE:if(Nt=this.processElementNode(ir,rr,sr),Nt)return Nt;break;case Node.TEXT_NODE:return sr.appendChild(ir),[...rr,sr];default:return[...rr,sr]}return[...rr,...Array.from(ir.childNodes).reduce(er,[])]};return Ot.reduce(er,[])}composePasteEvent(tr,Ot){return new CustomEvent(tr,{detail:Ot})}};let Tt=Ct;Tt.PATTERN_PROCESSING_MAX_LENGTH=450;class li extends y$3{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:Ot}=this.Editor,{blockTools:Nt}=Ot,er=[];Array.from(Nt.entries()).forEach(([rr,ir])=>{ir.isReadOnlySupported||er.push(rr)}),this.toolsDontSupportReadOnly=er,this.config.readOnly&&er.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(Ot=!this.readOnlyEnabled){Ot&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const Nt=this.readOnlyEnabled;this.readOnlyEnabled=Ot;for(const rr in this.Editor)this.Editor[rr].toggleReadOnly&&this.Editor[rr].toggleReadOnly(Ot);if(Nt===Ot)return this.readOnlyEnabled;const er=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(er.blocks),this.readOnlyEnabled}throwCriticalError(){throw new ut$1(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}let fe$2=class Vs extends y$3{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(Ot,Nt){const er=document.elementFromPoint(Ot-window.pageXOffset,Nt-window.pageYOffset);er.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const rr=[`.${R$5.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],ir=er.closest("."+this.Editor.UI.CSS.editorWrapper),nr=rr.some(sr=>!!er.closest(sr));!ir||nr||(this.mousedown=!0,this.startX=Ot,this.startY=Nt)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:Ot}=this.genHTML();this.listeners.on(Ot,"mousedown",Nt=>{this.processMouseDown(Nt)},!1),this.listeners.on(document.body,"mousemove",Ie$2(Nt=>{this.processMouseMove(Nt)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Ie$2(Nt=>{this.processScroll(Nt)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(Ot){Ot.button===this.MAIN_MOUSE_BUTTON&&(Ot.target.closest(c$6.allInputsSelector)!==null||this.startSelection(Ot.pageX,Ot.pageY))}processMouseMove(Ot){this.changingRectangle(Ot),this.scrollByZones(Ot.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(Ot){this.changingRectangle(Ot)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(Ot){if(this.inScrollZone=null,Ot<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-Ot<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:Ot}=this.Editor,Nt=Ot.nodes.holder.querySelector("."+Ot.CSS.editorWrapper),er=c$6.make("div",Vs.CSS.overlay,{}),rr=c$6.make("div",Vs.CSS.overlayContainer,{}),ir=c$6.make("div",Vs.CSS.rect,{});return rr.appendChild(ir),er.appendChild(rr),Nt.appendChild(er),this.overlayRectangle=ir,{container:Nt,overlay:er}}scrollVertical(Ot){if(!(this.inScrollZone&&this.mousedown))return;const Nt=window.pageYOffset;window.scrollBy(0,Ot),this.mouseY+=window.pageYOffset-Nt,setTimeout(()=>{this.scrollVertical(Ot)},0)}changingRectangle(Ot){if(!this.mousedown)return;Ot.pageY!==void 0&&(this.mouseX=Ot.pageX,this.mouseY=Ot.pageY);const{rightPos:Nt,leftPos:er,index:rr}=this.genInfoForMouseSelection(),ir=this.startX>Nt&&this.mouseX>Nt,nr=this.startX<er&&this.mouseX<er;this.rectCrossesBlocks=!(ir||nr),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),rr!==void 0&&(this.trySelectNextBlock(rr),this.inverseSelection(),b$2.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const Ot=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!Ot)for(const Nt of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(Nt);if(!this.rectCrossesBlocks&&Ot)for(const Nt of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(Nt)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const Ot=document.body.offsetWidth/2,Nt=this.mouseY-window.pageYOffset,er=document.elementFromPoint(Ot,Nt),rr=this.Editor.BlockManager.getBlockByChildNode(er);let ir;rr!==void 0&&(ir=this.Editor.BlockManager.blocks.findIndex(cr=>cr.holder===rr.holder));const nr=this.Editor.BlockManager.lastBlock.holder.querySelector("."+R$5.CSS.content),sr=Number.parseInt(window.getComputedStyle(nr).width,10)/2,ar=Ot-sr,lr=Ot+sr;return{index:ir,leftPos:ar,rightPos:lr}}addBlockInSelection(Ot){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(Ot),this.stackOfSelected.push(Ot)}trySelectNextBlock(Ot){const Nt=this.stackOfSelected[this.stackOfSelected.length-1]===Ot,er=this.stackOfSelected.length,rr=1,ir=-1,nr=0;if(Nt)return;const sr=this.stackOfSelected[er-1]-this.stackOfSelected[er-2]>0;let ar=nr;er>1&&(ar=sr?rr:ir);const lr=Ot>this.stackOfSelected[er-1]&&ar===rr,cr=Ot<this.stackOfSelected[er-1]&&ar===ir,dr=!(lr||cr||ar===nr);if(!dr&&(Ot>this.stackOfSelected[er-1]||this.stackOfSelected[er-1]===void 0)){let hr=this.stackOfSelected[er-1]+1||Ot;for(hr;hr<=Ot;hr++)this.addBlockInSelection(hr);return}if(!dr&&Ot<this.stackOfSelected[er-1]){for(let hr=this.stackOfSelected[er-1]-1;hr>=Ot;hr--)this.addBlockInSelection(hr);return}if(!dr)return;let ur=er-1,fr;for(Ot>this.stackOfSelected[er-1]?fr=()=>Ot>this.stackOfSelected[ur]:fr=()=>Ot<this.stackOfSelected[ur];fr();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[ur]),this.stackOfSelected.pop(),ur--}};class ci extends y$3{async render(Ot){return new Promise(Nt=>{const{Tools:er,BlockManager:rr}=this.Editor;if(Ot.length===0)rr.insert();else{const ir=Ot.map(({type:nr,data:sr,tunes:ar,id:lr})=>{er.available.has(nr)===!1&&(Y$2(`Tool «${nr}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),sr=this.composeStubDataForTool(nr,sr,lr),nr=er.stubTool);let cr;try{cr=rr.composeBlock({id:lr,tool:nr,data:sr,tunes:ar})}catch(dr){T$3(`Block «${nr}» skipped because of plugins error`,"error",{data:sr,error:dr}),sr=this.composeStubDataForTool(nr,sr,lr),nr=er.stubTool,cr=rr.composeBlock({id:lr,tool:nr,data:sr,tunes:ar})}return cr});rr.insertMany(ir)}window.requestIdleCallback(()=>{Nt()},{timeout:2e3})})}composeStubDataForTool(Ot,Nt,er){const{Tools:rr}=this.Editor;let ir=Ot;if(rr.unavailable.has(Ot)){const nr=rr.unavailable.get(Ot).toolbox;nr!==void 0&&nr[0].title!==void 0&&(ir=nr[0].title)}return{savedData:{id:er,type:Ot,data:Nt},title:ir}}}class di extends y$3{async save(){const{BlockManager:Ot,Tools:Nt}=this.Editor,er=Ot.blocks,rr=[];try{er.forEach(sr=>{rr.push(this.getSavedData(sr))});const ir=await Promise.all(rr),nr=await bt(ir,sr=>Nt.blockTools.get(sr).sanitizeConfig);return this.makeOutput(nr)}catch(ir){Y$2("Saving failed due to the Error %o","error",ir)}}async getSavedData(Ot){const Nt=await Ot.save(),er=Nt&&await Ot.validate(Nt.data);return{...Nt,isValid:er}}makeOutput(Ot){const Nt=[];return Ot.forEach(({id:er,tool:rr,data:ir,tunes:nr,isValid:sr})=>{if(!sr){T$3(`Block «${rr}» skipped because saved data is invalid`);return}if(rr===this.Editor.Tools.stubTool){Nt.push(ir);return}const ar={id:er,type:rr,data:ir,...!W$2(nr)&&{tunes:nr}};Nt.push(ar)}),{time:+new Date,blocks:Nt,version:"2.29.1"}}}(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-paragraph[data-placeholder]:empty:before{content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before{opacity:1}.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before,.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus:before{opacity:0}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const hi='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let Ke$2=class ya{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:Ot,config:Nt,api:er,readOnly:rr}){this.api=er,this.readOnly=rr,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=Nt.placeholder?Nt.placeholder:ya.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=Nt.preserveBlank!==void 0?Nt.preserveBlank:!1,this.data=Ot}onKeyUp(Ot){if(Ot.code!=="Backspace"&&Ot.code!=="Delete")return;const{textContent:Nt}=this._element;Nt===""&&(this._element.innerHTML="")}drawView(){const Ot=document.createElement("DIV");return Ot.classList.add(this._CSS.wrapper,this._CSS.block),Ot.contentEditable=!1,Ot.dataset.placeholder=this.api.i18n.t(this._placeholder),this._data.text&&(Ot.innerHTML=this._data.text),this.readOnly||(Ot.contentEditable=!0,Ot.addEventListener("keyup",this.onKeyUp)),Ot}render(){return this._element=this.drawView(),this._element}merge(Ot){const Nt={text:this.data.text+Ot.text};this.data=Nt}validate(Ot){return!(Ot.text.trim()===""&&!this._preserveBlank)}save(Ot){return{text:Ot.innerHTML}}onPaste(Ot){const Nt={text:Ot.detail.data.innerHTML};this.data=Nt}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}get data(){if(this._element!==null){const Ot=this._element.innerHTML;this._data.text=Ot}return this._data}set data(Ot){this._data=Ot||{},this._element!==null&&this.hydrate()}hydrate(){window.requestAnimationFrame(()=>{this._element.innerHTML=this._data.text||""})}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:hi,title:"Text"}}},Xe$2=class{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=_o,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const Ot=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,Ot),Ot}get shortcut(){return"CMD+B"}};Xe$2.isInline=!0;Xe$2.title="Bold";let Ve$2=class{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Do,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const Ot=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,Ot),Ot}get shortcut(){return"CMD+I"}};Ve$2.isInline=!0;Ve$2.title="Italic";let qe$2=class{constructor({api:Ot}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=Ot.toolbar,this.inlineToolbar=Ot.inlineToolbar,this.notifier=Ot.notifier,this.i18n=Ot.i18n,this.selection=new b$2}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=it$1,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",Ot=>{Ot.keyCode===this.ENTER_KEY&&this.enterPressed(Ot)}),this.nodes.input}surround(Ot){if(Ot){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const Nt=this.selection.findParentTag("A");if(Nt){this.selection.expandToTag(Nt),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const Ot=this.selection.findParentTag("A");if(Ot){this.nodes.button.innerHTML=zo,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const Nt=Ot.getAttribute("href");this.nodes.input.value=Nt!=="null"?Nt:"",this.selection.save()}else this.nodes.button.innerHTML=it$1,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!Ot}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(Ot=!1){this.nodes.input.classList.add(this.CSS.inputShowed),Ot&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(Ot=!0){if(this.selection.isFakeBackgroundEnabled){const Nt=new b$2;Nt.save(),this.selection.restore(),this.selection.removeFakeBackground(),Nt.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",Ot&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(Ot){let Nt=this.nodes.input.value||"";if(!Nt.trim()){this.selection.restore(),this.unlink(),Ot.preventDefault(),this.closeActions();return}if(!this.validateURL(Nt)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),T$3("Incorrect Link pasted","warn",Nt);return}Nt=this.prepareLink(Nt),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(Nt),Ot.preventDefault(),Ot.stopPropagation(),Ot.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(Ot){return!/\s/.test(Ot)}prepareLink(Ot){return Ot=Ot.trim(),Ot=this.addProtocol(Ot),Ot}addProtocol(Ot){if(/^(\w+):(\/\/)?/.test(Ot))return Ot;const Nt=/^\/[^/\s]/.test(Ot),er=Ot.substring(0,1)==="#",rr=/^\/\/[^/\s]/.test(Ot);return!Nt&&!er&&!rr&&(Ot="http://"+Ot),Ot}insertLink(Ot){const Nt=this.selection.findParentTag("A");Nt&&this.selection.expandToTag(Nt),document.execCommand(this.commandLink,!1,Ot)}unlink(){document.execCommand(this.commandUnlink)}};qe$2.isInline=!0;qe$2.title="Link";class St{constructor({data:Ot,api:Nt}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=Nt,this.title=Ot.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=Ot.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const Ot=c$6.make("div",this.CSS.wrapper),Nt=Uo,er=c$6.make("div",this.CSS.info),rr=c$6.make("div",this.CSS.title,{textContent:this.title}),ir=c$6.make("div",this.CSS.subtitle,{textContent:this.subtitle});return Ot.innerHTML=Nt,er.appendChild(rr),er.appendChild(ir),Ot.appendChild(er),Ot}}St.isReadOnlySupported=!0;class ui extends Ye$2{constructor(){super(...arguments),this.type=Be$1.Inline}get title(){return this.constructable[We$2.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class pi extends Ye$2{constructor(){super(...arguments),this.type=Be$1.Tune}create(Ot,Nt){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:Nt,data:Ot})}}let P$3=class Bs extends Map{get blockTools(){const Ot=Array.from(this.entries()).filter(([,Nt])=>Nt.isBlock());return new Bs(Ot)}get inlineTools(){const Ot=Array.from(this.entries()).filter(([,Nt])=>Nt.isInline());return new Bs(Ot)}get blockTunes(){const Ot=Array.from(this.entries()).filter(([,Nt])=>Nt.isTune());return new Bs(Ot)}get internalTools(){const Ot=Array.from(this.entries()).filter(([,Nt])=>Nt.isInternal);return new Bs(Ot)}get externalTools(){const Ot=Array.from(this.entries()).filter(([,Nt])=>!Nt.isInternal);return new Bs(Ot)}};var fi=Object.defineProperty,gi=Object.getOwnPropertyDescriptor,It=(tr,Ot,Nt,er)=>{for(var rr=gi(Ot,Nt),ir=tr.length-1,nr;ir>=0;ir--)(nr=tr[ir])&&(rr=nr(Ot,Nt,rr)||rr);return rr&&fi(Ot,Nt,rr),rr};let Ze$1=class extends Ye$2{constructor(){super(...arguments),this.type=Be$1.Block,this.inlineTools=new P$3,this.tunes=new P$3}create(Ot,Nt,er){return new this.constructable({data:Ot,block:Nt,readOnly:er,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[se$2.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[se$2.IsEnabledLineBreaks]}get toolbox(){const Ot=this.constructable[se$2.Toolbox],Nt=this.config[ve$2.Toolbox];if(!W$2(Ot)&&Nt!==!1)return Nt?Array.isArray(Ot)?Array.isArray(Nt)?Nt.map((er,rr)=>{const ir=Ot[rr];return ir?{...ir,...er}:er}):[Nt]:Array.isArray(Nt)?Nt:[{...Ot,...Nt}]:Array.isArray(Ot)?Ot:[Ot]}get conversionConfig(){return this.constructable[se$2.ConversionConfig]}get enabledInlineTools(){return this.config[ve$2.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[ve$2.EnabledBlockTunes]}get pasteConfig(){return this.constructable[se$2.PasteConfig]??{}}get sanitizeConfig(){const Ot=super.sanitizeConfig,Nt=this.baseSanitizeConfig;if(W$2(Ot))return Nt;const er={};for(const rr in Ot)if(Object.prototype.hasOwnProperty.call(Ot,rr)){const ir=Ot[rr];D$3(ir)?er[rr]=Object.assign({},Nt,ir):er[rr]=ir}return er}get baseSanitizeConfig(){const Ot={};return Array.from(this.inlineTools.values()).forEach(Nt=>Object.assign(Ot,Nt.sanitizeConfig)),Array.from(this.tunes.values()).forEach(Nt=>Object.assign(Ot,Nt.sanitizeConfig)),Ot}};It([le$2],Ze$1.prototype,"sanitizeConfig");It([le$2],Ze$1.prototype,"baseSanitizeConfig");class bi{constructor(Ot,Nt,er){this.api=er,this.config=Ot,this.editorConfig=Nt}get(Ot){const{class:Nt,isInternal:er=!1,...rr}=this.config[Ot],ir=this.getConstructor(Nt);return new ir({name:Ot,constructable:Nt,config:rr,api:this.api,isDefault:Ot===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:er})}getConstructor(Ot){switch(!0){case Ot[We$2.IsInline]:return ui;case Ot[Bt.IsTune]:return pi;default:return Ze$1}}}class Mt{constructor({api:Ot}){this.CSS={animation:"wobble"},this.api=Ot}render(){return{icon:kt,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const Ot=this.api.blocks.getCurrentBlockIndex(),Nt=this.api.blocks.getBlockByIndex(Ot+1);if(!Nt)throw new Error("Unable to move Block down since it is already the last");const er=Nt.holder,rr=er.getBoundingClientRect();let ir=Math.abs(window.innerHeight-er.offsetHeight);rr.top<window.innerHeight&&(ir=window.scrollY+er.offsetHeight),window.scrollTo(0,ir),this.api.blocks.move(Ot+1),this.api.toolbar.toggleBlockSettings(!0)}}Mt.isTune=!0;class Lt{constructor({api:Ot}){this.api=Ot}render(){return{icon:No,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Lt.isTune=!0;class At{constructor({api:Ot}){this.CSS={animation:"wobble"},this.api=Ot}render(){return{icon:Oo,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const Ot=this.api.blocks.getCurrentBlockIndex(),Nt=this.api.blocks.getBlockByIndex(Ot),er=this.api.blocks.getBlockByIndex(Ot-1);if(Ot===0||!Nt||!er)throw new Error("Unable to move Block up since it is already the first");const rr=Nt.holder,ir=er.holder,nr=rr.getBoundingClientRect(),sr=ir.getBoundingClientRect();let ar;sr.top>0?ar=Math.abs(nr.top)-Math.abs(sr.top):ar=Math.abs(nr.top)+sr.height,window.scrollBy(0,-1*ar),this.api.blocks.move(Ot-1),this.api.toolbar.toggleBlockSettings(!0)}}At.isTune=!0;var mi=Object.defineProperty,ki=Object.getOwnPropertyDescriptor,vi=(tr,Ot,Nt,er)=>{for(var rr=ki(Ot,Nt),ir=tr.length-1,nr;ir>=0;ir--)(nr=tr[ir])&&(rr=nr(Ot,Nt,rr)||rr);return rr&&mi(Ot,Nt,rr),rr};class _t extends y$3{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new P$3,this.toolsUnavailable=new P$3}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Me$2({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const Ot=this.prepareConfig();this.factory=new bi(Ot,this.config,this.Editor.API);const Nt=this.getListOfPrepareFunctions(Ot);if(Nt.length===0)return Promise.resolve();await zt(Nt,er=>{this.toolPrepareMethodSuccess(er)},er=>{this.toolPrepareMethodFallback(er)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const Ot={};return Array.from(this.inlineTools.values()).forEach(Nt=>{Object.assign(Ot,Nt.sanitizeConfig)}),Ot}destroy(){Object.values(this.available).forEach(async Ot=>{M$4(Ot.reset)&&await Ot.reset()})}get internalTools(){return{bold:{class:Xe$2,isInternal:!0},italic:{class:Ve$2,isInternal:!0},link:{class:qe$2,isInternal:!0},paragraph:{class:Ke$2,inlineToolbar:!0,isInternal:!0},stub:{class:St,isInternal:!0},moveUp:{class:At,isInternal:!0},delete:{class:Lt,isInternal:!0},moveDown:{class:Mt,isInternal:!0}}}toolPrepareMethodSuccess(Ot){const Nt=this.factory.get(Ot.toolName);if(Nt.isInline()){const er=["render","surround","checkState"].filter(rr=>!Nt.create()[rr]);if(er.length){T$3(`Incorrect Inline Tool: ${Nt.name}. Some of required methods is not implemented %o`,"warn",er),this.toolsUnavailable.set(Nt.name,Nt);return}}this.toolsAvailable.set(Nt.name,Nt)}toolPrepareMethodFallback(Ot){this.toolsUnavailable.set(Ot.toolName,this.factory.get(Ot.toolName))}getListOfPrepareFunctions(Ot){const Nt=[];return Object.entries(Ot).forEach(([er,rr])=>{Nt.push({function:M$4(rr.class.prepare)?rr.class.prepare:()=>{},data:{toolName:er,config:rr.config}})}),Nt}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(Ot=>{this.assignInlineToolsToBlockTool(Ot),this.assignBlockTunesToBlockTool(Ot)})}assignInlineToolsToBlockTool(Ot){if(this.config.inlineToolbar!==!1){if(Ot.enabledInlineTools===!0){Ot.inlineTools=new P$3(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(Nt=>[Nt,this.inlineTools.get(Nt)]):Array.from(this.inlineTools.entries()));return}Array.isArray(Ot.enabledInlineTools)&&(Ot.inlineTools=new P$3(Ot.enabledInlineTools.map(Nt=>[Nt,this.inlineTools.get(Nt)])))}}assignBlockTunesToBlockTool(Ot){if(Ot.enabledBlockTunes!==!1){if(Array.isArray(Ot.enabledBlockTunes)){const Nt=new P$3(Ot.enabledBlockTunes.map(er=>[er,this.blockTunes.get(er)]));Ot.tunes=new P$3([...Nt,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const Nt=new P$3(this.config.tunes.map(er=>[er,this.blockTunes.get(er)]));Ot.tunes=new P$3([...Nt,...this.blockTunes.internalTools]);return}Ot.tunes=this.blockTunes.internalTools}}validateTools(){for(const Ot in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,Ot)){if(Ot in this.internalTools)return;const Nt=this.config.tools[Ot];if(!M$4(Nt)&&!M$4(Nt.class))throw Error(`Tool «${Ot}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const Ot={};for(const Nt in this.config.tools)D$3(this.config.tools[Nt])?Ot[Nt]=this.config.tools[Nt]:Ot[Nt]={class:this.config.tools[Nt]};return Ot}}vi([le$2],_t.prototype,"getAllInlineToolsSanitizeConfig");const xi=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class wi extends y$3{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=et(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const Ot=this.nodes.wrapper.querySelector(`.${R$5.CSS.content}`);return Ot?(this.contentRectCache=Ot.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(Ot){Ot?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2e3})}checkEmptiness(){const{BlockManager:Ot}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,Ot.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:Ot,BlockSettings:Nt,InlineToolbar:er,ConversionToolbar:rr}=this.Editor;return Nt.opened||er.opened||rr.opened||Ot.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([Ot,Nt])=>Nt.flipper instanceof q$2).some(([Ot,Nt])=>Nt.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:Ot,BlockSettings:Nt,InlineToolbar:er,ConversionToolbar:rr}=this.Editor;Nt.close(),er.close(),rr.close(),Ot.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<dt}make(){this.nodes.holder=c$6.getHolder(this.config.holder),this.nodes.wrapper=c$6.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=c$6.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const Ot="editor-js-styles";if(c$6.get(Ot))return;const Nt=c$6.make("style",null,{id:Ot,textContent:xi.toString()});this.config.style&&!W$2(this.config.style)&&this.config.style.nonce&&Nt.setAttribute("nonce",this.config.style.nonce),c$6.prepend(document.head,Nt)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",Nt=>{this.redactorClicked(Nt)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",Nt=>{this.documentTouched(Nt)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",Nt=>{this.documentTouched(Nt)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",Nt=>{this.documentKeydown(Nt)},!0),this.readOnlyMutableListeners.on(document,"mousedown",Nt=>{this.documentClicked(Nt)},!0);const Ot=et(()=>{this.selectionChanged()},180);this.readOnlyMutableListeners.on(document,"selectionchange",Ot,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let Ot;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Ie$2(Nt=>{const er=Nt.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||er&&Ot!==er&&(Ot=er,this.eventsDispatcher.emit(yt,{block:this.Editor.BlockManager.getBlockByChildNode(er)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(Ot){switch(Ot.keyCode){case v$3.ENTER:this.enterPressed(Ot);break;case v$3.BACKSPACE:case v$3.DELETE:this.backspacePressed(Ot);break;case v$3.ESC:this.escapePressed(Ot);break;default:this.defaultBehaviour(Ot);break}}defaultBehaviour(Ot){const{currentBlock:Nt}=this.Editor.BlockManager,er=Ot.target.closest(`.${this.CSS.editorWrapper}`),rr=Ot.altKey||Ot.ctrlKey||Ot.metaKey||Ot.shiftKey;if(Nt!==void 0&&er===null){this.Editor.BlockEvents.keydown(Ot);return}er||Nt&&rr||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(Ot){const{BlockManager:Nt,BlockSelection:er,Caret:rr}=this.Editor;if(er.anyBlockSelected&&!b$2.isSelectionExists){const ir=Nt.removeSelectedBlocks(),nr=Nt.insertDefaultBlockAtIndex(ir,!0);rr.setToBlock(nr,rr.positions.START),er.clearSelection(Ot),Ot.preventDefault(),Ot.stopPropagation(),Ot.stopImmediatePropagation()}}escapePressed(Ot){this.Editor.BlockSelection.clearSelection(Ot),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(Ot){const{BlockManager:Nt,BlockSelection:er}=this.Editor,rr=Nt.currentBlockIndex>=0;if(er.anyBlockSelected&&!b$2.isSelectionExists){er.clearSelection(Ot),Ot.preventDefault(),Ot.stopImmediatePropagation(),Ot.stopPropagation();return}if(!this.someToolbarOpened&&rr&&Ot.target.tagName==="BODY"){const ir=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(ir),this.Editor.Toolbar.moveAndOpen(ir)}this.Editor.BlockSelection.clearSelection(Ot)}documentClicked(Ot){var Nt,er;if(!Ot.isTrusted)return;const rr=Ot.target;this.nodes.holder.contains(rr)||b$2.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const ir=(Nt=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:Nt.contains(rr),nr=(er=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:er.contains(rr),sr=ir||nr;if(this.Editor.BlockSettings.opened&&!sr){this.Editor.BlockSettings.close();const ar=this.Editor.BlockManager.getBlockByChildNode(rr);this.Editor.Toolbar.moveAndOpen(ar)}this.Editor.BlockSelection.clearSelection(Ot)}documentTouched(Ot){let Nt=Ot.target;if(Nt===this.nodes.redactor){const er=Ot instanceof MouseEvent?Ot.clientX:Ot.touches[0].clientX,rr=Ot instanceof MouseEvent?Ot.clientY:Ot.touches[0].clientY;Nt=document.elementFromPoint(er,rr)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(Nt)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(Ot){if(!b$2.isCollapsed)return;const Nt=Ot.target,er=Ot.metaKey||Ot.ctrlKey;if(c$6.isAnchor(Nt)&&er){Ot.stopImmediatePropagation(),Ot.stopPropagation();const rr=Nt.getAttribute("href"),ir=Wt(rr);Kt(ir);return}this.processBottomZoneClick(Ot)}processBottomZoneClick(Ot){const Nt=this.Editor.BlockManager.getBlockByIndex(-1),er=c$6.offset(Nt.holder).bottom,rr=Ot.pageY,{BlockSelection:ir}=this.Editor;if(Ot.target instanceof Element&&Ot.target.isEqualNode(this.nodes.redactor)&&!ir.anyBlockSelected&&er<rr){Ot.stopImmediatePropagation(),Ot.stopPropagation();const{BlockManager:nr,Caret:sr,Toolbar:ar}=this.Editor;(!nr.lastBlock.tool.isDefault||!nr.lastBlock.isEmpty)&&nr.insertAtEnd(),sr.setToTheLastBlock(),ar.moveAndOpen(nr.lastBlock)}}selectionChanged(){const{CrossBlockSelection:Ot,BlockSelection:Nt}=this.Editor,er=b$2.anchorElement;if(Ot.isCrossBlockSelectionStarted&&Nt.anyBlockSelected&&b$2.get().removeAllRanges(),!er){b$2.range||this.Editor.InlineToolbar.close();return}const rr=er.closest(`.${R$5.CSS.content}`)===null;if(rr&&(this.Editor.InlineToolbar.containsNode(er)||this.Editor.InlineToolbar.close(),er.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(er);const ir=rr!==!0;this.Editor.InlineToolbar.tryToShow(!0,ir)}}const yi={BlocksAPI:oo,CaretAPI:io,EventsAPI:no,I18nAPI:He$2,API:so,InlineToolbarAPI:ro,ListenersAPI:ao,NotifierAPI:uo,ReadOnlyAPI:po,SanitizerAPI:xo,SaverAPI:wo,SelectionAPI:yo,StylesAPI:Eo,ToolbarAPI:Bo,TooltipAPI:Mo,UiAPI:Lo,BlockSettings:Yo,ConversionToolbar:$$2,Toolbar:Jo,InlineToolbar:Qo,BlockEvents:ei,BlockManager:ii,BlockSelection:ni,Caret:we$2,CrossBlockSelection:si,DragNDrop:ri,ModificationsObserver:ai,Paste:Tt,ReadOnly:li,RectangleSelection:fe$2,Renderer:ci,Saver:di,Tools:_t,UI:wi};class Ei{constructor(Ot){this.moduleInstances={},this.eventsDispatcher=new Ee$2;let Nt,er;this.isReady=new Promise((rr,ir)=>{Nt=rr,er=ir}),Promise.resolve().then(async()=>{this.configuration=Ot,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:rr,Caret:ir,UI:nr,ModificationsObserver:sr}=this.moduleInstances;nr.checkEmptiness(),sr.enable(),this.configuration.autofocus&&ir.setToBlock(rr.blocks[0],ir.positions.START),Nt()}).catch(rr=>{T$3(`Editor.js is not ready because of ${rr}`,"error"),er(rr)})}set configuration(Ot){var Nt,er;D$3(Ot)?this.config={...Ot}:this.config={holder:Ot},Le$2(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=at$1.VERBOSE),Ft(this.config.logLevel),Le$2(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const rr={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(W$2(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[rr]}),this.config.readOnly=this.config.readOnly||!1,(Nt=this.config.i18n)!=null&&Nt.messages&&z$2.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((er=this.config.i18n)==null?void 0:er.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:Ot,holder:Nt}=this.config;if(Ot&&Nt)throw Error("«holderId» and «holder» param can't assign at the same time.");if(G$2(Nt)&&!c$6.get(Nt))throw Error(`element with ID «${Nt}» is missing. Pass correct holder's ID.`);if(Nt&&D$3(Nt)&&!c$6.isElement(Nt))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((Ot,Nt)=>Ot.then(async()=>{try{await this.moduleInstances[Nt].prepare()}catch(er){if(er instanceof ut$1)throw new Error(er.message);T$3(`Module ${Nt} was skipped because of %o`,"warn",er)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(yi).forEach(([Ot,Nt])=>{try{this.moduleInstances[Ot]=new Nt({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(er){T$3("[constructModules]",`Module ${Ot} skipped because`,"error",er)}})}configureModules(){for(const Ot in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,Ot)&&(this.moduleInstances[Ot].state=this.getModulesDiff(Ot))}getModulesDiff(Ot){const Nt={};for(const er in this.moduleInstances)er!==Ot&&(Nt[er]=this.moduleInstances[er]);return Nt}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class Bi{static get version(){return"2.29.1"}constructor(Ot){let Nt=()=>{};D$3(Ot)&&M$4(Ot.onReady)&&(Nt=Ot.onReady);const er=new Ei(Ot);this.isReady=er.isReady.then(()=>{this.exportAPI(er),Nt()})}exportAPI(Ot){const Nt=["configuration"],er=()=>{Object.values(Ot.moduleInstances).forEach(rr=>{M$4(rr.destroy)&&rr.destroy(),rr.listeners.removeAll()}),Io(),Ot=null;for(const rr in this)Object.prototype.hasOwnProperty.call(this,rr)&&delete this[rr];Object.setPrototypeOf(this,null)};Nt.forEach(rr=>{this[rr]=Ot[rr]}),this.destroy=er,Object.setPrototypeOf(this,Ot.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([rr,ir])=>{Object.entries(ir).forEach(([nr,sr])=>{this[sr]=Ot.moduleInstances.API.methods[rr][nr]})})}}(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-paragraph[data-placeholder]:empty:before{content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before{opacity:1}.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before,.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus:before{opacity:0}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const s$5='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function o$5(tr){const Ot=document.createElement("div");Ot.innerHTML=tr.trim();const Nt=document.createDocumentFragment();return Nt.append(...Array.from(Ot.childNodes)),Nt}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let n$2=class wa{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:Ot,config:Nt,api:er,readOnly:rr}){this.api=er,this.readOnly=rr,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=Nt.placeholder?Nt.placeholder:wa.DEFAULT_PLACEHOLDER,this._data=Ot??{},this._element=null,this._preserveBlank=Nt.preserveBlank!==void 0?Nt.preserveBlank:!1}onKeyUp(Ot){if(Ot.code!=="Backspace"&&Ot.code!=="Delete")return;const{textContent:Nt}=this._element;Nt===""&&(this._element.innerHTML="")}drawView(){const Ot=document.createElement("DIV");return Ot.classList.add(this._CSS.wrapper,this._CSS.block),Ot.contentEditable=!1,Ot.dataset.placeholder=this.api.i18n.t(this._placeholder),this._data.text&&(Ot.innerHTML=this._data.text),this.readOnly||(Ot.contentEditable=!0,Ot.addEventListener("keyup",this.onKeyUp)),Ot}render(){return this._element=this.drawView(),this._element}merge(Ot){this._data.text+=Ot.text;const Nt=o$5(Ot.text);this._element.appendChild(Nt),this._element.normalize()}validate(Ot){return!(Ot.text.trim()===""&&!this._preserveBlank)}save(Ot){return{text:Ot.innerHTML}}onPaste(Ot){const Nt={text:Ot.detail.data.innerHTML};this._data=Nt,window.requestAnimationFrame(()=>{this._element.innerHTML=this._data.text||""})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:s$5,title:"Text"}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __rest$1(tr,Ot){var Nt={};for(var er in tr)Object.prototype.hasOwnProperty.call(tr,er)&&Ot.indexOf(er)<0&&(Nt[er]=tr[er]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rr=0,er=Object.getOwnPropertySymbols(tr);rr<er.length;rr++)Ot.indexOf(er[rr])<0&&Object.prototype.propertyIsEnumerable.call(tr,er[rr])&&(Nt[er[rr]]=tr[er[rr]]);return Nt}function __awaiter$1(tr,Ot,Nt,er){function rr(ir){return ir instanceof Nt?ir:new Nt(function(nr){nr(ir)})}return new(Nt||(Nt=Promise))(function(ir,nr){function sr(cr){try{lr(er.next(cr))}catch(dr){nr(dr)}}function ar(cr){try{lr(er.throw(cr))}catch(dr){nr(dr)}}function lr(cr){cr.done?ir(cr.value):rr(cr.value).then(sr,ar)}lr((er=er.apply(tr,[])).next())})}function ReactEditorJS$2(tr){var{factory:Ot,holder:Nt,defaultValue:er,children:rr,value:ir,onInitialize:nr}=tr,sr=__rest$1(tr,["factory","holder","defaultValue","children","value","onInitialize"]);const ar=t$2.useRef(Nt??`react-editor-js-${Date.now().toString(16)}`),lr=t$2.useRef(null);return t$2.useEffect(()=>(lr.current=Ot(Object.assign(Object.assign({holder:ar.current},er&&{data:er}),sr)),nr==null||nr(lr.current),()=>{var cr;(cr=lr.current)===null||cr===void 0||cr.destroy()}),[]),t$2.useEffect(()=>{var cr;ir&&((cr=lr.current)===null||cr===void 0||cr.render(ir))},[ir]),rr||t$2.createElement("div",{id:ar.current})}class ClientEditorCore{constructor(Ot){var{tools:Nt}=Ot,er=__rest$1(Ot,["tools"]);const rr=Object.assign({paragraph:{class:n$2,inlineToolbar:!0}},Nt);this._editorJS=new Bi(Object.assign({tools:rr},er))}get dangerouslyLowLevelInstance(){return this._editorJS}clear(){return __awaiter$1(this,void 0,void 0,function*(){yield this._editorJS.clear()})}save(){return __awaiter$1(this,void 0,void 0,function*(){return this._editorJS.save()})}destroy(){return __awaiter$1(this,void 0,void 0,function*(){yield this._editorJS.isReady,yield this._editorJS.destroy()})}render(Ot){return __awaiter$1(this,void 0,void 0,function*(){yield this._editorJS.render(Ot)})}}function ReactEditorJSClient(tr){const Ot=t$2.useCallback(Nt=>new ClientEditorCore(Nt),[]);return t$2.createElement(ReactEditorJS$2,Object.assign({factory:Ot},tr))}const client=Object.freeze(Object.defineProperty({__proto__:null,default:ReactEditorJSClient},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(client);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __rest(tr,Ot){var Nt={};for(var er in tr)Object.prototype.hasOwnProperty.call(tr,er)&&Ot.indexOf(er)<0&&(Nt[er]=tr[er]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rr=0,er=Object.getOwnPropertySymbols(tr);rr<er.length;rr++)Ot.indexOf(er[rr])<0&&Object.prototype.propertyIsEnumerable.call(tr,er[rr])&&(Nt[er[rr]]=tr[er[rr]]);return Nt}function __awaiter(tr,Ot,Nt,er){function rr(ir){return ir instanceof Nt?ir:new Nt(function(nr){nr(ir)})}return new(Nt||(Nt=Promise))(function(ir,nr){function sr(cr){try{lr(er.next(cr))}catch(dr){nr(dr)}}function ar(cr){try{lr(er.throw(cr))}catch(dr){nr(dr)}}function lr(cr){cr.done?ir(cr.value):rr(cr.value).then(sr,ar)}lr((er=er.apply(tr,[])).next())})}function ReactEditorJS$1(tr){var{factory:Ot,holder:Nt,defaultValue:er,children:rr,value:ir,onInitialize:nr}=tr,sr=__rest(tr,["factory","holder","defaultValue","children","value","onInitialize"]);const ar=t$2.useRef(Nt??`react-editor-js-${Date.now().toString(16)}`),lr=t$2.useRef(null);return t$2.useEffect(()=>(lr.current=Ot(Object.assign(Object.assign({holder:ar.current},er&&{data:er}),sr)),nr==null||nr(lr.current),()=>{var cr;(cr=lr.current)===null||cr===void 0||cr.destroy()}),[]),t$2.useEffect(()=>{var cr;ir&&((cr=lr.current)===null||cr===void 0||cr.render(ir))},[ir]),rr||t$2.createElement("div",{id:ar.current})}class ServerEditorCore{constructor({data:Ot}){Ot&&(this._memoizedData=Ot)}get dangerouslyLowLevelInstance(){return null}clear(){return __awaiter(this,void 0,void 0,function*(){})}save(){return __awaiter(this,void 0,void 0,function*(){return this._memoizedData})}destroy(){return __awaiter(this,void 0,void 0,function*(){})}render(){return __awaiter(this,void 0,void 0,function*(){})}}function ReactEditorJSServer(tr){const Ot=t$2.useCallback(Nt=>new ServerEditorCore(Nt),[]);return t$2.createElement(ReactEditorJS$1,Object.assign({factory:Ot},tr))}const server=Object.freeze(Object.defineProperty({__proto__:null,default:ReactEditorJSServer},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(server);function createReactEditorJS(){if(typeof window<"u"){const tr=require$$0$2;return tr.default||tr}else{const tr=require$$1$2;return tr.default||tr}}(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const g$4={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([tr,Ot])=>{if(!Ot&&tr)return tr;const Nt={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return Ot=Ot.slice(1).split("&").map(er=>{const[rr,ir]=er.split("=");return!tr&&rr==="v"?(tr=ir,null):!Nt[rr]||ir==="LL"||ir.startsWith("RDMM")||ir.startsWith("FL")?null:`${Nt[rr]}=${ir}`}).filter(er=>!!er),tr+"?"+Ot.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:tr=>tr.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:tr=>tr.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:tr=>tr.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/(www\.)?(?:twitter\.com|x\.com)\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:tr=>tr[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:tr=>tr[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:tr=>tr.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:tr=>`${tr.join("/")}.js`}};function u$3(tr,Ot,Nt){var er,rr,ir,nr,sr;Ot==null&&(Ot=100);function ar(){var cr=Date.now()-nr;cr<Ot&&cr>=0?er=setTimeout(ar,Ot-cr):(er=null,Nt||(sr=tr.apply(ir,rr),ir=rr=null))}var lr=function(){ir=this,rr=arguments,nr=Date.now();var cr=Nt&&!er;return er||(er=setTimeout(ar,Ot)),cr&&(sr=tr.apply(ir,rr),ir=rr=null),sr};return lr.clear=function(){er&&(clearTimeout(er),er=null)},lr.flush=function(){er&&(sr=tr.apply(ir,rr),ir=rr=null,clearTimeout(er),er=null)},lr}u$3.debounce=u$3;var w$2=u$3;let m$4=class _s{constructor({data:Ot,api:Nt,readOnly:er}){this.api=Nt,this._data={},this.element=null,this.readOnly=er,this.data=Ot}set data(Ot){if(!(Ot instanceof Object))throw Error("Embed Tool data should be object");const{service:Nt,source:er,embed:rr,width:ir,height:nr,caption:sr=""}=Ot;this._data={service:Nt||this.data.service,source:er||this.data.source,embed:rr||this.data.embed,width:ir||this.data.width,height:nr||this.data.height,caption:sr||this.data.caption||""};const ar=this.element;ar&&ar.parentNode.replaceChild(this.render(),ar)}get data(){if(this.element){const Ot=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=Ot?Ot.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const sr=document.createElement("div");return this.element=sr,sr}const{html:Ot}=_s.services[this.data.service],Nt=document.createElement("div"),er=document.createElement("div"),rr=document.createElement("template"),ir=this.createPreloader();Nt.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),er.classList.add(this.CSS.input,this.CSS.caption),Nt.appendChild(ir),er.contentEditable=!this.readOnly,er.dataset.placeholder=this.api.i18n.t("Enter a caption"),er.innerHTML=this.data.caption||"",rr.innerHTML=Ot,rr.content.firstChild.setAttribute("src",this.data.embed),rr.content.firstChild.classList.add(this.CSS.content);const nr=this.embedIsReady(Nt);return Nt.appendChild(rr.content.firstChild),Nt.appendChild(er),nr.then(()=>{Nt.classList.remove(this.CSS.containerLoading)}),this.element=Nt,Nt}createPreloader(){const Ot=document.createElement("preloader"),Nt=document.createElement("div");return Nt.textContent=this.data.source,Ot.classList.add(this.CSS.preloader),Nt.classList.add(this.CSS.url),Ot.appendChild(Nt),Ot}save(){return this.data}onPaste(Ot){const{key:Nt,data:er}=Ot.detail,{regex:rr,embedUrl:ir,width:nr,height:sr,id:ar=dr=>dr.shift()}=_s.services[Nt],lr=rr.exec(er).slice(1),cr=ir.replace(/<%= remote_id %>/g,ar(lr));this.data={service:Nt,source:er,embed:cr,width:nr,height:sr}}static prepare({config:Ot={}}){const{services:Nt={}}=Ot;let er=Object.entries(g$4);const rr=Object.entries(Nt).filter(([nr,sr])=>typeof sr=="boolean"&&sr===!0).map(([nr])=>nr),ir=Object.entries(Nt).filter(([nr,sr])=>typeof sr=="object").filter(([nr,sr])=>_s.checkServiceConfig(sr)).map(([nr,sr])=>{const{regex:ar,embedUrl:lr,html:cr,height:dr,width:ur,id:fr}=sr;return[nr,{regex:ar,embedUrl:lr,html:cr,height:dr,width:ur,id:fr}]});rr.length&&(er=er.filter(([nr])=>rr.includes(nr))),er=er.concat(ir),_s.services=er.reduce((nr,[sr,ar])=>sr in nr?(nr[sr]=Object.assign({},nr[sr],ar),nr):(nr[sr]=ar,nr),{}),_s.patterns=er.reduce((nr,[sr,ar])=>(nr[sr]=ar.regex,nr),{})}static checkServiceConfig(Ot){const{regex:Nt,embedUrl:er,html:rr,height:ir,width:nr,id:sr}=Ot;let ar=Nt&&Nt instanceof RegExp&&er&&typeof er=="string"&&rr&&typeof rr=="string";return ar=ar&&(sr!==void 0?sr instanceof Function:!0),ar=ar&&(ir!==void 0?Number.isFinite(ir):!0),ar=ar&&(nr!==void 0?Number.isFinite(nr):!0),ar}static get pasteConfig(){return{patterns:_s.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(Ot){let Nt=null;return new Promise((er,rr)=>{Nt=new MutationObserver(w$2.debounce(er,450)),Nt.observe(Ot,{childList:!0,subtree:!0})}).then(()=>{Nt.disconnect()})}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode('.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size)}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border)}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}')),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();function c$5(tr,Ot,Nt={}){const er=document.createElement(tr);Array.isArray(Ot)?er.classList.add(...Ot):Ot&&er.classList.add(Ot);for(const rr in Nt)Object.prototype.hasOwnProperty.call(Nt,rr)&&(er[rr]=Nt[rr]);return er}function f$4(tr){const Ot=tr.getBoundingClientRect();return{y1:Math.floor(Ot.top+window.pageYOffset),x1:Math.floor(Ot.left+window.pageXOffset),x2:Math.floor(Ot.right+window.pageXOffset),y2:Math.floor(Ot.bottom+window.pageYOffset)}}function g$3(tr,Ot){const Nt=f$4(tr),er=f$4(Ot);return{fromTopBorder:er.y1-Nt.y1,fromLeftBorder:er.x1-Nt.x1,fromRightBorder:Nt.x2-er.x2,fromBottomBorder:Nt.y2-er.y2}}function R$4(tr,Ot){const Nt=tr.getBoundingClientRect(),{width:er,height:rr,x:ir,y:nr}=Nt,{clientX:sr,clientY:ar}=Ot;return{width:er,height:rr,x:sr-ir,y:ar-nr}}function C$5(tr,Ot){return Ot.parentNode.insertBefore(tr,Ot)}function m$3(tr,Ot=!0){const Nt=document.createRange(),er=window.getSelection();Nt.selectNodeContents(tr),Nt.collapse(Ot),er.removeAllRanges(),er.addRange(Nt)}let a$6=class os{constructor({items:Ot}){this.items=Ot,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=c$5("div",os.CSS.popover),this.items.forEach((Ot,Nt)=>{const er=c$5("div",os.CSS.item),rr=c$5("div",os.CSS.itemIcon,{innerHTML:Ot.icon}),ir=c$5("div",os.CSS.itemLabel,{textContent:Ot.label});er.dataset.index=Nt,er.appendChild(rr),er.appendChild(ir),this.wrapper.appendChild(er),this.itemEls.push(er)}),this.wrapper.addEventListener("click",Ot=>{this.popoverClicked(Ot)}),this.wrapper}popoverClicked(Ot){const Nt=Ot.target.closest(`.${os.CSS.item}`);if(!Nt)return;const er=Nt.dataset.index,rr=this.items[er];if(rr.confirmationRequired&&!this.hasConfirmationState(Nt)){this.setConfirmationState(Nt);return}rr.onClick()}setConfirmationState(Ot){Ot.classList.add(os.CSS.itemConfirmState)}clearConfirmationState(Ot){Ot.classList.remove(os.CSS.itemConfirmState)}hasConfirmationState(Ot){return Ot.classList.contains(os.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(os.CSS.popoverOpened)}open(){this.items.forEach((Ot,Nt)=>{typeof Ot.hideIf=="function"&&this.itemEls[Nt].classList.toggle(os.CSS.itemHidden,Ot.hideIf())}),this.wrapper.classList.add(os.CSS.popoverOpened)}close(){this.wrapper.classList.remove(os.CSS.popoverOpened),this.itemEls.forEach(Ot=>{this.clearConfirmationState(Ot)})}};const b$1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',k$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',S$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',x$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',y$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',T$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>',v$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',L$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',M$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',O$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';let u$2=class Ps{constructor({api:Ot,items:Nt,onOpen:er,onClose:rr,cssModifier:ir=""}){this.api=Ot,this.items=Nt,this.onOpen=er,this.onClose=rr,this.cssModifier=ir,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const Ot=c$5("div",[Ps.CSS.toolbox,this.cssModifier?`${Ps.CSS.toolbox}--${this.cssModifier}`:""]);Ot.dataset.mutationFree="true";const Nt=this.createPopover(),er=this.createToggler();return Ot.appendChild(er),Ot.appendChild(Nt),Ot}createToggler(){const Ot=c$5("div",Ps.CSS.toggler,{innerHTML:T$2});return Ot.addEventListener("click",()=>{this.togglerClicked()}),Ot}createPopover(){return this.popover=new a$6({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(Ot){const Nt=Ot();Object.entries(Nt).forEach(([er,rr])=>{this.wrapper.style[er]=rr}),this.wrapper.classList.add(Ps.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(Ps.CSS.toolboxShowed)}};function H$3(tr,Ot){let Nt=0;return function(...er){const rr=new Date().getTime();if(!(rr-Nt<tr))return Nt=rr,Ot(...er)}}const r$5={wrapper:"tc-wrap",wrapperReadOnly:"tc-wrap--readonly",table:"tc-table",row:"tc-row",withHeadings:"tc-table--heading",rowSelected:"tc-row--selected",cell:"tc-cell",cellSelected:"tc-cell--selected",addRow:"tc-add-row",addColumn:"tc-add-column"};let A$2=class{constructor(Ot,Nt,er,rr){this.readOnly=Ot,this.api=Nt,this.data=er,this.config=rr,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=ir=>{const nr=ir.target.closest(`.${r$5.table}`)!==null,sr=ir.target.closest(`.${r$5.wrapper}`)===null;(nr||sr)&&this.hideToolboxes();const ar=ir.target.closest(`.${r$5.addRow}`),lr=ir.target.closest(`.${r$5.addColumn}`);ar&&ar.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):lr&&lr.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",H$3(150,Ot=>this.onMouseMoveInTable(Ot)),{passive:!0}),this.table.onkeypress=Ot=>this.onKeyPressListener(Ot),this.table.addEventListener("keydown",Ot=>this.onKeyDownListener(Ot)),this.table.addEventListener("focusin",Ot=>this.focusInTableListener(Ot))}createColumnToolbox(){return new u$2({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:S$2,onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:x$3,onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:b$1,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new u$2({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:y$2,onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:k$3,onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:b$1,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(Ot,Nt){return this.table.querySelectorAll(`.${r$5.row}:nth-child(${Ot}) .${r$5.cell}`)[Nt-1]}getRow(Ot){return this.table.querySelector(`.${r$5.row}:nth-child(${Ot})`)}getRowByCell(Ot){return Ot.parentElement}getRowFirstCell(Ot){return Ot.querySelector(`.${r$5.cell}:first-child`)}setCellContent(Ot,Nt,er){const rr=this.getCell(Ot,Nt);rr.innerHTML=er}addColumn(Ot=-1,Nt=!1){let er=this.numberOfColumns;for(let rr=1;rr<=this.numberOfRows;rr++){let ir;const nr=this.createCell();if(Ot>0&&Ot<=er?(ir=this.getCell(rr,Ot),C$5(nr,ir)):ir=this.getRow(rr).appendChild(nr),rr===1){const sr=this.getCell(rr,Ot>0?Ot:er+1);sr&&Nt&&m$3(sr)}}this.addHeadingAttrToFirstRow()}addRow(Ot=-1,Nt=!1){let er,rr=c$5("div",r$5.row);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let ir=this.numberOfColumns;if(Ot>0&&Ot<=this.numberOfRows){let sr=this.getRow(Ot);er=C$5(rr,sr)}else er=this.table.appendChild(rr);this.fillRow(er,ir),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const nr=this.getRowFirstCell(er);return nr&&Nt&&m$3(nr),er}deleteColumn(Ot){for(let Nt=1;Nt<=this.numberOfRows;Nt++){const er=this.getCell(Nt,Ot);if(!er)return;er.remove()}}deleteRow(Ot){this.getRow(Ot).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=c$5("div",r$5.wrapper),this.table=c$5("div",r$5.table),this.readOnly&&this.wrapper.classList.add(r$5.wrapperReadOnly),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const Ot=c$5("div",r$5.addColumn,{innerHTML:v$2}),Nt=c$5("div",r$5.addRow,{innerHTML:v$2});this.wrapper.appendChild(Ot),this.wrapper.appendChild(Nt)}}computeInitialSize(){const Ot=this.data&&this.data.content,Nt=Array.isArray(Ot),er=Nt?Ot.length:!1,rr=Nt?Ot.length:void 0,ir=er?Ot[0].length:void 0,nr=Number.parseInt(this.config&&this.config.rows),sr=Number.parseInt(this.config&&this.config.cols),ar=!isNaN(nr)&&nr>0?nr:void 0,lr=!isNaN(sr)&&sr>0?sr:void 0;return{rows:rr||ar||2,cols:ir||lr||2}}resize(){const{rows:Ot,cols:Nt}=this.computeInitialSize();for(let er=0;er<Ot;er++)this.addRow();for(let er=0;er<Nt;er++)this.addColumn()}fill(){const Ot=this.data;if(Ot&&Ot.content)for(let Nt=0;Nt<Ot.content.length;Nt++)for(let er=0;er<Ot.content[Nt].length;er++)this.setCellContent(Nt+1,er+1,Ot.content[Nt][er])}fillRow(Ot,Nt){for(let er=1;er<=Nt;er++){const rr=this.createCell();Ot.appendChild(rr)}}createCell(){return c$5("div",r$5.cell,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${r$5.row}:first-child .${r$5.cell}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(Ot){const{row:Nt,column:er}=this.getHoveredCell(Ot);this.hoveredColumn=er,this.hoveredRow=Nt,this.updateToolboxesPosition()}onKeyPressListener(Ot){if(Ot.key==="Enter"){if(Ot.shiftKey)return!0;this.moveCursorToNextRow()}return Ot.key!=="Enter"}onKeyDownListener(Ot){Ot.key==="Tab"&&Ot.stopPropagation()}focusInTableListener(Ot){const Nt=Ot.target,er=this.getRowByCell(Nt);this.focusedCell={row:Array.from(this.table.querySelectorAll(`.${r$5.row}`)).indexOf(er)+1,column:Array.from(er.querySelectorAll(`.${r$5.cell}`)).indexOf(Nt)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:Ot,column:Nt}=this.focusedCell;return this.getCell(Ot,Nt)}updateToolboxesPosition(Ot=this.hoveredRow,Nt=this.hoveredColumn){this.isColumnMenuShowing||Nt>0&&Nt<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${Nt} - 1) * 2))`})),this.isRowMenuShowing||Ot>0&&Ot<=this.numberOfRows&&this.toolboxRow.show(()=>{const er=this.getRow(Ot),{fromTopBorder:rr}=g$3(this.table,er),{height:ir}=er.getBoundingClientRect();return{top:`${Math.ceil(rr+ir/2)}px`}})}setHeadingsSetting(Ot){this.tunes.withHeadings=Ot,Ot?(this.table.classList.add(r$5.withHeadings),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(r$5.withHeadings),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let Ot=1;Ot<=this.numberOfColumns;Ot++){let Nt=this.getCell(1,Ot);Nt&&Nt.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let Ot=1;Ot<=this.numberOfColumns;Ot++){let Nt=this.getCell(1,Ot);Nt&&Nt.removeAttribute("heading")}}selectRow(Ot){const Nt=this.getRow(Ot);Nt&&(this.selectedRow=Ot,Nt.classList.add(r$5.rowSelected))}unselectRow(){if(this.selectedRow<=0)return;const Ot=this.table.querySelector(`.${r$5.rowSelected}`);Ot&&Ot.classList.remove(r$5.rowSelected),this.selectedRow=0}selectColumn(Ot){for(let Nt=1;Nt<=this.numberOfRows;Nt++){const er=this.getCell(Nt,Ot);er&&er.classList.add(r$5.cellSelected)}this.selectedColumn=Ot}unselectColumn(){if(this.selectedColumn<=0)return;let Ot=this.table.querySelectorAll(`.${r$5.cellSelected}`);Array.from(Ot).forEach(Nt=>{Nt.classList.remove(r$5.cellSelected)}),this.selectedColumn=0}getHoveredCell(Ot){let Nt=this.hoveredRow,er=this.hoveredColumn;const{width:rr,height:ir,x:nr,y:sr}=R$4(this.table,Ot);return nr>=0&&(er=this.binSearch(this.numberOfColumns,ar=>this.getCell(1,ar),({fromLeftBorder:ar})=>nr<ar,({fromRightBorder:ar})=>nr>rr-ar)),sr>=0&&(Nt=this.binSearch(this.numberOfRows,ar=>this.getCell(ar,1),({fromTopBorder:ar})=>sr<ar,({fromBottomBorder:ar})=>sr>ir-ar)),{row:Nt||this.hoveredRow,column:er||this.hoveredColumn}}binSearch(Ot,Nt,er,rr){let ir=0,nr=Ot+1,sr=0,ar;for(;ir<nr-1&&sr<10;){ar=Math.ceil((ir+nr)/2);const lr=Nt(ar),cr=g$3(this.table,lr);if(er(cr))nr=ar;else if(rr(cr))ir=ar;else break;sr++}return ar}getData(){const Ot=[];for(let Nt=1;Nt<=this.numberOfRows;Nt++){const er=this.table.querySelector(`.${r$5.row}:nth-child(${Nt})`),rr=Array.from(er.querySelectorAll(`.${r$5.cell}`));rr.every(ir=>!ir.textContent.trim())||Ot.push(rr.map(ir=>ir.innerHTML))}return Ot}destroy(){document.removeEventListener("click",this.documentClicked)}},I$4=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:Ot,config:Nt,api:er,readOnly:rr}){this.api=er,this.readOnly=rr,this.config=Nt,this.data={withHeadings:this.getConfig("withHeadings",!1,Ot),content:Ot&&Ot.content?Ot.content:[]},this.table=null}static get toolbox(){return{icon:O$3,title:"Table"}}render(){return this.table=new A$2(this.readOnly,this.api,this.data,this.config),this.container=c$5("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:L$3,isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:M$3,isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){const Ot=this.table.getData();return{withHeadings:this.data.withHeadings,content:Ot}}destroy(){this.table.destroy()}getConfig(Ot,Nt=void 0,er=void 0){const rr=this.data||er;return rr?rr[Ot]?rr[Ot]:Nt:this.config&&this.config[Ot]?this.config[Ot]:Nt}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(Ot){const Nt=Ot.detail.data,er=Nt.querySelector(":scope > thead, tr:first-of-type th"),rr=Array.from(Nt.querySelectorAll("tr")).map(ir=>Array.from(ir.querySelectorAll("th, td")).map(nr=>nr.innerHTML));this.data={withHeadings:er!==null,content:rr},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const a$5='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',o$4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';let d$5=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:a$5,title:"List"}}constructor({data:Ot,config:Nt,api:er,readOnly:rr}){this._elements={wrapper:null},this.api=er,this.readOnly=rr,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:a$5,default:Nt.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:o$4,default:Nt.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(ir=>ir.default===!0).name,items:[]},this.data=Ot}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(Ot=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:Ot}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",Ot=>{const[Nt,er]=[13,8];switch(Ot.keyCode){case Nt:this.getOutofList(Ot);break;case er:this.backspace(Ot);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:Ot=>Ot.items.join(". "),import:Ot=>({items:[Ot],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(Ot=>({...Ot,isActive:this._data.style===Ot.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(Ot.name)}))}onPaste(Ot){const Nt=Ot.detail.data;this.data=this.pasteHandler(Nt)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(Ot){const Nt=Ot==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,er=Ot==="ordered"?"ol":"ul";return this._make(er,[this.CSS.baseBlock,this.CSS.wrapper,Nt],{contentEditable:!this.readOnly})}toggleTune(Ot){const Nt=this.makeMainTag(Ot);for(;this._elements.wrapper.hasChildNodes();)Nt.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(Nt),this._elements.wrapper=Nt,this._data.style=Ot}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(Ot){Ot||(Ot={}),this._data.style=Ot.style||this.settings.find(er=>er.default===!0).name,this._data.items=Ot.items||[];const Nt=this._elements.wrapper;Nt&&Nt.parentNode.replaceChild(this.render(),Nt)}get data(){this._data.items=[];const Ot=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let Nt=0;Nt<Ot.length;Nt++)Ot[Nt].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(Ot[Nt].innerHTML);return this._data}_make(Ot,Nt=null,er={}){const rr=document.createElement(Ot);Array.isArray(Nt)?rr.classList.add(...Nt):Nt&&rr.classList.add(Nt);for(const ir in er)rr[ir]=er[ir];return rr}get currentItem(){let Ot=window.getSelection().anchorNode;return Ot.nodeType!==Node.ELEMENT_NODE&&(Ot=Ot.parentNode),Ot.closest(`.${this.CSS.item}`)}getOutofList(Ot){const Nt=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(Nt.length<2)return;const er=Nt[Nt.length-1],rr=this.currentItem;rr===er&&!er.textContent.trim().length&&(rr.parentElement.removeChild(rr),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),Ot.preventDefault(),Ot.stopPropagation())}backspace(Ot){const Nt=this._elements.wrapper.querySelectorAll("."+this.CSS.item),er=Nt[0];er&&Nt.length<2&&!er.innerHTML.replace("<br>"," ").trim()&&Ot.preventDefault()}selectItem(Ot){Ot.preventDefault();const Nt=window.getSelection(),er=Nt.anchorNode.parentNode,rr=er.closest("."+this.CSS.item),ir=new Range;ir.selectNodeContents(rr),Nt.removeAllRanges(),Nt.addRange(ir)}pasteHandler(Ot){const{tagName:Nt}=Ot;let er;switch(Nt){case"OL":er="ordered";break;case"UL":case"LI":er="unordered"}const rr={style:er,items:[]};if(Nt==="LI")rr.items=[Ot.innerHTML];else{const ir=Array.from(Ot.querySelectorAll("LI"));rr.items=ir.map(nr=>nr.innerHTML).filter(nr=>!!nr.trim())}return rr}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(`.cdx-warning{position:relative}@media all and (min-width: 736px){.cdx-warning{padding-left:36px}}.cdx-warning [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-warning [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-warning [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-warning:before{content:"";background-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='5' y='5' width='14' height='14' rx='4' stroke='black' stroke-width='2'/%3E%3Cline x1='12' y1='9' x2='12' y2='12' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3Cpath d='M12 15.02V15.01' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");width:24px;height:24px;background-size:24px 24px;position:absolute;margin-top:8px;left:0}@media all and (max-width: 735px){.cdx-warning:before{display:none}}.cdx-warning__message{min-height:85px}.cdx-warning__title{margin-bottom:6px}`)),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const n$1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';let r$4=class ra{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:n$1,title:"Warning"}}static get enableLineBreaks(){return!0}static get DEFAULT_TITLE_PLACEHOLDER(){return"Title"}static get DEFAULT_MESSAGE_PLACEHOLDER(){return"Message"}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-warning",title:"cdx-warning__title",input:this.api.styles.input,message:"cdx-warning__message"}}constructor({data:Ot,config:Nt,api:er,readOnly:rr}){this.api=er,this.readOnly=rr,this.titlePlaceholder=Nt.titlePlaceholder||ra.DEFAULT_TITLE_PLACEHOLDER,this.messagePlaceholder=Nt.messagePlaceholder||ra.DEFAULT_MESSAGE_PLACEHOLDER,this.data={title:Ot.title||"",message:Ot.message||""}}render(){const Ot=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),Nt=this._make("div",[this.CSS.input,this.CSS.title],{contentEditable:!this.readOnly,innerHTML:this.data.title}),er=this._make("div",[this.CSS.input,this.CSS.message],{contentEditable:!this.readOnly,innerHTML:this.data.message});return Nt.dataset.placeholder=this.titlePlaceholder,er.dataset.placeholder=this.messagePlaceholder,Ot.appendChild(Nt),Ot.appendChild(er),Ot}save(Ot){const Nt=Ot.querySelector(`.${this.CSS.title}`),er=Ot.querySelector(`.${this.CSS.message}`);return Object.assign(this.data,{title:Nt.innerHTML,message:er.innerHTML})}_make(Ot,Nt=null,er={}){const rr=document.createElement(Ot);Array.isArray(Nt)?rr.classList.add(...Nt):Nt&&rr.classList.add(Nt);for(const ir in er)rr[ir]=er[ir];return rr}static get sanitize(){return{title:{},message:{}}}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(".ce-code__textarea{min-height:200px;font-family:Menlo,Monaco,Consolas,Courier New,monospace;color:#41314e;line-height:1.6em;font-size:12px;background:#f8f7fa;border:1px solid #f1f1f4;box-shadow:none;white-space:pre;word-wrap:normal;overflow-x:auto;resize:vertical}")),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();function l$3(tr,Ot){let Nt="";for(;Nt!==`
`&&Ot>0;)Ot=Ot-1,Nt=tr.substr(Ot,1);return Nt===`
`&&(Ot+=1),Ot}const h$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';/**
 * CodeTool for Editor.js
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let d$4=class Oa{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:Ot,config:Nt,api:er,readOnly:rr}){this.api=er,this.readOnly=rr,this.placeholder=this.api.i18n.t(Nt.placeholder||Oa.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:Ot.code||""},this.nodes.holder=this.drawView()}drawView(){const Ot=document.createElement("div"),Nt=document.createElement("textarea");return Ot.classList.add(this.CSS.baseClass,this.CSS.wrapper),Nt.classList.add(this.CSS.textarea,this.CSS.input),Nt.textContent=this.data.code,Nt.placeholder=this.placeholder,this.readOnly&&(Nt.disabled=!0),Ot.appendChild(Nt),Nt.addEventListener("keydown",er=>{switch(er.code){case"Tab":this.tabHandler(er);break}}),this.nodes.textarea=Nt,Ot}render(){return this.nodes.holder}save(Ot){return{code:Ot.querySelector("textarea").value}}onPaste(Ot){const Nt=Ot.detail.data;this.data={code:Nt.textContent}}get data(){return this._data}set data(Ot){this._data=Ot,this.nodes.textarea&&(this.nodes.textarea.textContent=Ot.code)}static get toolbox(){return{icon:h$3,title:"Code"}}static get DEFAULT_PLACEHOLDER(){return"Enter a code"}static get pasteConfig(){return{tags:["pre"]}}static get sanitize(){return{code:!0}}tabHandler(Ot){Ot.stopPropagation(),Ot.preventDefault();const Nt=Ot.target,er=Ot.shiftKey,rr=Nt.selectionStart,ir=Nt.value,nr="  ";let sr;if(!er)sr=rr+nr.length,Nt.value=ir.substring(0,rr)+nr+ir.substring(rr);else{const ar=l$3(ir,rr);if(ir.substr(ar,nr.length)!==nr)return;Nt.value=ir.substring(0,ar)+ir.substring(ar+nr.length),sr=rr-nr.length}Nt.setSelectionRange(sr,sr)}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(`.link-tool{position:relative}.link-tool__input{padding-left:38px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:10px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.link-tool__input-holder{position:relative}.link-tool__input-holder--error .link-tool__input{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-color:#fff3f6;border-color:#f3e0e0;color:#a95a5a;box-shadow:inset 0 1px 3px #923e3e0d}.link-tool__input[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.link-tool__input[contentEditable=true][data-placeholder]:empty:before{opacity:1}.link-tool__input[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.link-tool__progress{position:absolute;box-shadow:inset 0 1px 3px #66556b0a;height:100%;width:0;background-color:#f4f5f7;z-index:-1}.link-tool__progress--loading{-webkit-animation:progress .5s ease-in;-webkit-animation-fill-mode:forwards}.link-tool__progress--loaded{width:100%}.link-tool__content{display:block;padding:25px;border-radius:2px;box-shadow:0 0 0 2px #fff;color:initial!important;text-decoration:none!important}.link-tool__content:after{content:"";clear:both;display:table}.link-tool__content--rendered{background:#fff;border:1px solid rgba(201,201,204,.48);box-shadow:0 1px 3px #0000001a;border-radius:6px;will-change:filter;animation:link-in .45s 1 cubic-bezier(.215,.61,.355,1)}.link-tool__content--rendered:hover{box-shadow:0 0 3px #00000029}.link-tool__image{background-position:center center;background-repeat:no-repeat;background-size:cover;margin:0 0 0 30px;width:65px;height:65px;border-radius:3px;float:right}.link-tool__title{font-size:17px;font-weight:600;line-height:1.5em;margin:0 0 10px}.link-tool__title+.link-tool__anchor{margin-top:25px}.link-tool__description{margin:0 0 20px;font-size:15px;line-height:1.55em;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.link-tool__anchor{display:block;font-size:15px;line-height:1em;color:#888!important;border:0!important;padding:0!important}@keyframes link-in{0%{filter:blur(5px)}to{filter:none}}.codex-editor--narrow .link-tool__image{display:none}@-webkit-keyframes progress{0%{width:0}to{width:85%}}`)),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();var C$4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O$2(tr){return tr&&tr.__esModule&&Object.prototype.hasOwnProperty.call(tr,"default")?tr.default:tr}(function(tr){var Ot=function(){try{return!!Symbol.iterator}catch{return!1}},Nt=Ot(),er=function(lr){var cr={next:function(){var dr=lr.shift();return{done:dr===void 0,value:dr}}};return Nt&&(cr[Symbol.iterator]=function(){return cr}),cr},rr=function(lr){return encodeURIComponent(lr).replace(/%20/g,"+")},ir=function(lr){return decodeURIComponent(String(lr).replace(/\+/g," "))},nr=function(){var lr=function(dr){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var ur=typeof dr;if(ur!=="undefined")if(ur==="string")dr!==""&&this._fromString(dr);else if(dr instanceof lr){var fr=this;dr.forEach(function(br,vr){fr.append(vr,br)})}else if(dr!==null&&ur==="object")if(Object.prototype.toString.call(dr)==="[object Array]")for(var hr=0;hr<dr.length;hr++){var pr=dr[hr];if(Object.prototype.toString.call(pr)==="[object Array]"||pr.length!==2)this.append(pr[0],pr[1]);else throw new TypeError("Expected [string, any] as entry at index "+hr+" of URLSearchParams's input")}else for(var gr in dr)dr.hasOwnProperty(gr)&&this.append(gr,dr[gr]);else throw new TypeError("Unsupported input's type for URLSearchParams")},cr=lr.prototype;cr.append=function(dr,ur){dr in this._entries?this._entries[dr].push(String(ur)):this._entries[dr]=[String(ur)]},cr.delete=function(dr){delete this._entries[dr]},cr.get=function(dr){return dr in this._entries?this._entries[dr][0]:null},cr.getAll=function(dr){return dr in this._entries?this._entries[dr].slice(0):[]},cr.has=function(dr){return dr in this._entries},cr.set=function(dr,ur){this._entries[dr]=[String(ur)]},cr.forEach=function(dr,ur){var fr;for(var hr in this._entries)if(this._entries.hasOwnProperty(hr)){fr=this._entries[hr];for(var pr=0;pr<fr.length;pr++)dr.call(ur,fr[pr],hr,this)}},cr.keys=function(){var dr=[];return this.forEach(function(ur,fr){dr.push(fr)}),er(dr)},cr.values=function(){var dr=[];return this.forEach(function(ur){dr.push(ur)}),er(dr)},cr.entries=function(){var dr=[];return this.forEach(function(ur,fr){dr.push([fr,ur])}),er(dr)},Nt&&(cr[Symbol.iterator]=cr.entries),cr.toString=function(){var dr=[];return this.forEach(function(ur,fr){dr.push(rr(fr)+"="+rr(ur))}),dr.join("&")},tr.URLSearchParams=lr},sr=function(){try{var lr=tr.URLSearchParams;return new lr("?a=1").toString()==="a=1"&&typeof lr.prototype.set=="function"}catch{return!1}};sr()||nr();var ar=tr.URLSearchParams.prototype;typeof ar.sort!="function"&&(ar.sort=function(){var lr=this,cr=[];this.forEach(function(ur,fr){cr.push([fr,ur]),lr._entries||lr.delete(fr)}),cr.sort(function(ur,fr){return ur[0]<fr[0]?-1:ur[0]>fr[0]?1:0}),lr._entries&&(lr._entries={});for(var dr=0;dr<cr.length;dr++)this.append(cr[dr][0],cr[dr][1])}),typeof ar._fromString!="function"&&Object.defineProperty(ar,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(lr){if(this._entries)this._entries={};else{var cr=[];this.forEach(function(hr,pr){cr.push(pr)});for(var dr=0;dr<cr.length;dr++)this.delete(cr[dr])}lr=lr.replace(/^\?/,"");for(var ur=lr.split("&"),fr,dr=0;dr<ur.length;dr++)fr=ur[dr].split("="),this.append(ir(fr[0]),fr.length>1?ir(fr[1]):"")}})})(typeof C$4<"u"?C$4:typeof window<"u"?window:typeof self<"u"?self:C$4);(function(tr){var Ot=function(){try{var rr=new tr.URL("b","http://a");return rr.pathname="c d",rr.href==="http://a/c%20d"&&rr.searchParams}catch{return!1}},Nt=function(){var rr=tr.URL,ir=function(ar,lr){typeof ar!="string"&&(ar=String(ar));var cr=document,dr;if(lr&&(tr.location===void 0||lr!==tr.location.href)){cr=document.implementation.createHTMLDocument(""),dr=cr.createElement("base"),dr.href=lr,cr.head.appendChild(dr);try{if(dr.href.indexOf(lr)!==0)throw new Error(dr.href)}catch(kr){throw new Error("URL unable to set base "+lr+" due to "+kr)}}var ur=cr.createElement("a");ur.href=ar,dr&&(cr.body.appendChild(ur),ur.href=ur.href);var fr=cr.createElement("input");if(fr.type="url",fr.value=ar,ur.protocol===":"||!/:/.test(ur.href)||!fr.checkValidity()&&!lr)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:ur});var hr=new tr.URLSearchParams(this.search),pr=!0,gr=!0,br=this;["append","delete","set"].forEach(function(kr){var Sr=hr[kr];hr[kr]=function(){Sr.apply(hr,arguments),pr&&(gr=!1,br.search=hr.toString(),gr=!0)}}),Object.defineProperty(this,"searchParams",{value:hr,enumerable:!0});var vr=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==vr&&(vr=this.search,gr&&(pr=!1,this.searchParams._fromString(this.search),pr=!0))}})},nr=ir.prototype,sr=function(ar){Object.defineProperty(nr,ar,{get:function(){return this._anchorElement[ar]},set:function(lr){this._anchorElement[ar]=lr},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach(function(ar){sr(ar)}),Object.defineProperty(nr,"search",{get:function(){return this._anchorElement.search},set:function(ar){this._anchorElement.search=ar,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(nr,{toString:{get:function(){var ar=this;return function(){return ar.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(ar){this._anchorElement.href=ar,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(ar){this._anchorElement.pathname=ar},enumerable:!0},origin:{get:function(){var ar={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],lr=this._anchorElement.port!=ar&&this._anchorElement.port!=="";return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(lr?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(ar){},enumerable:!0},username:{get:function(){return""},set:function(ar){},enumerable:!0}}),ir.createObjectURL=function(ar){return rr.createObjectURL.apply(rr,arguments)},ir.revokeObjectURL=function(ar){return rr.revokeObjectURL.apply(rr,arguments)},tr.URL=ir};if(Ot()||Nt(),tr.location!==void 0&&!("origin"in tr.location)){var er=function(){return tr.location.protocol+"//"+tr.location.hostname+(tr.location.port?":"+tr.location.port:"")};try{Object.defineProperty(tr.location,"origin",{get:er,enumerable:!0})}catch{setInterval(function(){tr.location.origin=er()},100)}}})(typeof C$4<"u"?C$4:typeof window<"u"?window:typeof self<"u"?self:C$4);var j$3={exports:{}};(function(tr,Ot){(function(Nt,er){tr.exports=er()})(window,function(){return function(Nt){var er={};function rr(ir){if(er[ir])return er[ir].exports;var nr=er[ir]={i:ir,l:!1,exports:{}};return Nt[ir].call(nr.exports,nr,nr.exports,rr),nr.l=!0,nr.exports}return rr.m=Nt,rr.c=er,rr.d=function(ir,nr,sr){rr.o(ir,nr)||Object.defineProperty(ir,nr,{enumerable:!0,get:sr})},rr.r=function(ir){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ir,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ir,"__esModule",{value:!0})},rr.t=function(ir,nr){if(1&nr&&(ir=rr(ir)),8&nr||4&nr&&typeof ir=="object"&&ir&&ir.__esModule)return ir;var sr=Object.create(null);if(rr.r(sr),Object.defineProperty(sr,"default",{enumerable:!0,value:ir}),2&nr&&typeof ir!="string")for(var ar in ir)rr.d(sr,ar,(function(lr){return ir[lr]}).bind(null,ar));return sr},rr.n=function(ir){var nr=ir&&ir.__esModule?function(){return ir.default}:function(){return ir};return rr.d(nr,"a",nr),nr},rr.o=function(ir,nr){return Object.prototype.hasOwnProperty.call(ir,nr)},rr.p="",rr(rr.s=3)}([function(Nt,er){var rr;rr=function(){return this}();try{rr=rr||new Function("return this")()}catch{typeof window=="object"&&(rr=window)}Nt.exports=rr},function(Nt,er,rr){(function(ir){var nr=rr(2),sr=setTimeout;function ar(){}function lr(gr){if(!(this instanceof lr))throw new TypeError("Promises must be constructed via new");if(typeof gr!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],pr(gr,this)}function cr(gr,br){for(;gr._state===3;)gr=gr._value;gr._state!==0?(gr._handled=!0,lr._immediateFn(function(){var vr=gr._state===1?br.onFulfilled:br.onRejected;if(vr!==null){var kr;try{kr=vr(gr._value)}catch(Sr){return void ur(br.promise,Sr)}dr(br.promise,kr)}else(gr._state===1?dr:ur)(br.promise,gr._value)})):gr._deferreds.push(br)}function dr(gr,br){try{if(br===gr)throw new TypeError("A promise cannot be resolved with itself.");if(br&&(typeof br=="object"||typeof br=="function")){var vr=br.then;if(br instanceof lr)return gr._state=3,gr._value=br,void fr(gr);if(typeof vr=="function")return void pr((kr=vr,Sr=br,function(){kr.apply(Sr,arguments)}),gr)}gr._state=1,gr._value=br,fr(gr)}catch(Cr){ur(gr,Cr)}var kr,Sr}function ur(gr,br){gr._state=2,gr._value=br,fr(gr)}function fr(gr){gr._state===2&&gr._deferreds.length===0&&lr._immediateFn(function(){gr._handled||lr._unhandledRejectionFn(gr._value)});for(var br=0,vr=gr._deferreds.length;br<vr;br++)cr(gr,gr._deferreds[br]);gr._deferreds=null}function hr(gr,br,vr){this.onFulfilled=typeof gr=="function"?gr:null,this.onRejected=typeof br=="function"?br:null,this.promise=vr}function pr(gr,br){var vr=!1;try{gr(function(kr){vr||(vr=!0,dr(br,kr))},function(kr){vr||(vr=!0,ur(br,kr))})}catch(kr){if(vr)return;vr=!0,ur(br,kr)}}lr.prototype.catch=function(gr){return this.then(null,gr)},lr.prototype.then=function(gr,br){var vr=new this.constructor(ar);return cr(this,new hr(gr,br,vr)),vr},lr.prototype.finally=nr.a,lr.all=function(gr){return new lr(function(br,vr){if(!gr||gr.length===void 0)throw new TypeError("Promise.all accepts an array");var kr=Array.prototype.slice.call(gr);if(kr.length===0)return br([]);var Sr=kr.length;function Cr(Ir,qr){try{if(qr&&(typeof qr=="object"||typeof qr=="function")){var Qr=qr.then;if(typeof Qr=="function")return void Qr.call(qr,function(Wr){Cr(Ir,Wr)},vr)}kr[Ir]=qr,--Sr==0&&br(kr)}catch(Wr){vr(Wr)}}for(var Ar=0;Ar<kr.length;Ar++)Cr(Ar,kr[Ar])})},lr.resolve=function(gr){return gr&&typeof gr=="object"&&gr.constructor===lr?gr:new lr(function(br){br(gr)})},lr.reject=function(gr){return new lr(function(br,vr){vr(gr)})},lr.race=function(gr){return new lr(function(br,vr){for(var kr=0,Sr=gr.length;kr<Sr;kr++)gr[kr].then(br,vr)})},lr._immediateFn=typeof ir=="function"&&function(gr){ir(gr)}||function(gr){sr(gr,0)},lr._unhandledRejectionFn=function(gr){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",gr)},er.a=lr}).call(this,rr(5).setImmediate)},function(Nt,er,rr){er.a=function(ir){var nr=this.constructor;return this.then(function(sr){return nr.resolve(ir()).then(function(){return sr})},function(sr){return nr.resolve(ir()).then(function(){return nr.reject(sr)})})}},function(Nt,er,rr){function ir(hr){return(ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pr){return typeof pr}:function(pr){return pr&&typeof Symbol=="function"&&pr.constructor===Symbol&&pr!==Symbol.prototype?"symbol":typeof pr})(hr)}rr(4);var nr,sr,ar,lr,cr,dr,ur=rr(8),fr=(sr=function(hr){return new Promise(function(pr,gr){hr=lr(hr),hr=cr(hr);var br=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");br.open(hr.method,hr.url),br.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(hr.headers).forEach(function(kr){var Sr=hr.headers[kr];br.setRequestHeader(kr,Sr)});var vr=hr.ratio;br.upload.addEventListener("progress",function(kr){var Sr=Math.round(kr.loaded/kr.total*100),Cr=Math.ceil(Sr*vr/100);hr.progress(Cr)},!1),br.addEventListener("progress",function(kr){var Sr=Math.round(kr.loaded/kr.total*100),Cr=Math.ceil(Sr*(100-vr)/100)+vr;hr.progress(Cr)},!1),br.onreadystatechange=function(){if(br.readyState===4){var kr=br.response;try{kr=JSON.parse(kr)}catch{}var Sr=ur.parseHeaders(br.getAllResponseHeaders()),Cr={body:kr,code:br.status,headers:Sr};br.status===200?pr(Cr):gr(Cr)}},br.send(hr.data)})},ar=function(hr){return hr.method="POST",sr(hr)},lr=function(){var hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(hr.url&&typeof hr.url!="string")throw new Error("Url must be a string");if(hr.url=hr.url||"",hr.method&&typeof hr.method!="string")throw new Error("`method` must be a string or null");if(hr.method=hr.method?hr.method.toUpperCase():"GET",hr.headers&&ir(hr.headers)!=="object")throw new Error("`headers` must be an object or null");if(hr.headers=hr.headers||{},hr.type&&(typeof hr.type!="string"||!Object.values(nr).includes(hr.type)))throw new Error("`type` must be taken from module's «contentType» library");if(hr.progress&&typeof hr.progress!="function")throw new Error("`progress` must be a function or null");if(hr.progress=hr.progress||function(pr){},hr.beforeSend=hr.beforeSend||function(pr){},hr.ratio&&typeof hr.ratio!="number")throw new Error("`ratio` must be a number");if(hr.ratio<0||hr.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(hr.ratio=hr.ratio||90,hr.accept&&typeof hr.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(hr.accept=hr.accept||"*/*",hr.multiple&&typeof hr.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(hr.multiple=hr.multiple||!1,hr.fieldName&&typeof hr.fieldName!="string")throw new Error("`fieldName` must be a string");return hr.fieldName=hr.fieldName||"files",hr},cr=function(hr){switch(hr.method){case"GET":var pr=dr(hr.data,nr.URLENCODED);delete hr.data,hr.url=/\?/.test(hr.url)?hr.url+"&"+pr:hr.url+"?"+pr;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var gr=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||nr.JSON}(hr);(ur.isFormData(hr.data)||ur.isFormElement(hr.data))&&(gr=nr.FORM),hr.data=dr(hr.data,gr),gr!==fr.contentType.FORM&&(hr.headers["content-type"]=gr)}return hr},dr=function(){var hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case nr.URLENCODED:return ur.urlEncode(hr);case nr.JSON:return ur.jsonEncode(hr);case nr.FORM:return ur.formEncode(hr);default:return hr}},{contentType:nr={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:sr,get:function(hr){return hr.method="GET",sr(hr)},post:ar,transport:function(hr){return hr=lr(hr),ur.selectFiles(hr).then(function(pr){for(var gr=new FormData,br=0;br<pr.length;br++)gr.append(hr.fieldName,pr[br],pr[br].name);return ur.isObject(hr.data)&&Object.keys(hr.data).forEach(function(vr){var kr=hr.data[vr];gr.append(vr,kr)}),hr.beforeSend&&hr.beforeSend(pr),hr.data=gr,ar(hr)})},selectFiles:function(hr){return delete(hr=lr(hr)).beforeSend,ur.selectFiles(hr)}});Nt.exports=fr},function(Nt,er,rr){rr.r(er);var ir=rr(1);window.Promise=window.Promise||ir.a},function(Nt,er,rr){(function(ir){var nr=ir!==void 0&&ir||typeof self<"u"&&self||window,sr=Function.prototype.apply;function ar(lr,cr){this._id=lr,this._clearFn=cr}er.setTimeout=function(){return new ar(sr.call(setTimeout,nr,arguments),clearTimeout)},er.setInterval=function(){return new ar(sr.call(setInterval,nr,arguments),clearInterval)},er.clearTimeout=er.clearInterval=function(lr){lr&&lr.close()},ar.prototype.unref=ar.prototype.ref=function(){},ar.prototype.close=function(){this._clearFn.call(nr,this._id)},er.enroll=function(lr,cr){clearTimeout(lr._idleTimeoutId),lr._idleTimeout=cr},er.unenroll=function(lr){clearTimeout(lr._idleTimeoutId),lr._idleTimeout=-1},er._unrefActive=er.active=function(lr){clearTimeout(lr._idleTimeoutId);var cr=lr._idleTimeout;cr>=0&&(lr._idleTimeoutId=setTimeout(function(){lr._onTimeout&&lr._onTimeout()},cr))},rr(6),er.setImmediate=typeof self<"u"&&self.setImmediate||ir!==void 0&&ir.setImmediate||this&&this.setImmediate,er.clearImmediate=typeof self<"u"&&self.clearImmediate||ir!==void 0&&ir.clearImmediate||this&&this.clearImmediate}).call(this,rr(0))},function(Nt,er,rr){(function(ir,nr){(function(sr,ar){if(!sr.setImmediate){var lr,cr,dr,ur,fr,hr=1,pr={},gr=!1,br=sr.document,vr=Object.getPrototypeOf&&Object.getPrototypeOf(sr);vr=vr&&vr.setTimeout?vr:sr,{}.toString.call(sr.process)==="[object process]"?lr=function(Cr){nr.nextTick(function(){Sr(Cr)})}:function(){if(sr.postMessage&&!sr.importScripts){var Cr=!0,Ar=sr.onmessage;return sr.onmessage=function(){Cr=!1},sr.postMessage("","*"),sr.onmessage=Ar,Cr}}()?(ur="setImmediate$"+Math.random()+"$",fr=function(Cr){Cr.source===sr&&typeof Cr.data=="string"&&Cr.data.indexOf(ur)===0&&Sr(+Cr.data.slice(ur.length))},sr.addEventListener?sr.addEventListener("message",fr,!1):sr.attachEvent("onmessage",fr),lr=function(Cr){sr.postMessage(ur+Cr,"*")}):sr.MessageChannel?((dr=new MessageChannel).port1.onmessage=function(Cr){Sr(Cr.data)},lr=function(Cr){dr.port2.postMessage(Cr)}):br&&"onreadystatechange"in br.createElement("script")?(cr=br.documentElement,lr=function(Cr){var Ar=br.createElement("script");Ar.onreadystatechange=function(){Sr(Cr),Ar.onreadystatechange=null,cr.removeChild(Ar),Ar=null},cr.appendChild(Ar)}):lr=function(Cr){setTimeout(Sr,0,Cr)},vr.setImmediate=function(Cr){typeof Cr!="function"&&(Cr=new Function(""+Cr));for(var Ar=new Array(arguments.length-1),Ir=0;Ir<Ar.length;Ir++)Ar[Ir]=arguments[Ir+1];var qr={callback:Cr,args:Ar};return pr[hr]=qr,lr(hr),hr++},vr.clearImmediate=kr}function kr(Cr){delete pr[Cr]}function Sr(Cr){if(gr)setTimeout(Sr,0,Cr);else{var Ar=pr[Cr];if(Ar){gr=!0;try{(function(Ir){var qr=Ir.callback,Qr=Ir.args;switch(Qr.length){case 0:qr();break;case 1:qr(Qr[0]);break;case 2:qr(Qr[0],Qr[1]);break;case 3:qr(Qr[0],Qr[1],Qr[2]);break;default:qr.apply(ar,Qr)}})(Ar)}finally{kr(Cr),gr=!1}}}}})(typeof self>"u"?ir===void 0?this:ir:self)}).call(this,rr(0),rr(7))},function(Nt,er){var rr,ir,nr=Nt.exports={};function sr(){throw new Error("setTimeout has not been defined")}function ar(){throw new Error("clearTimeout has not been defined")}function lr(vr){if(rr===setTimeout)return setTimeout(vr,0);if((rr===sr||!rr)&&setTimeout)return rr=setTimeout,setTimeout(vr,0);try{return rr(vr,0)}catch{try{return rr.call(null,vr,0)}catch{return rr.call(this,vr,0)}}}(function(){try{rr=typeof setTimeout=="function"?setTimeout:sr}catch{rr=sr}try{ir=typeof clearTimeout=="function"?clearTimeout:ar}catch{ir=ar}})();var cr,dr=[],ur=!1,fr=-1;function hr(){ur&&cr&&(ur=!1,cr.length?dr=cr.concat(dr):fr=-1,dr.length&&pr())}function pr(){if(!ur){var vr=lr(hr);ur=!0;for(var kr=dr.length;kr;){for(cr=dr,dr=[];++fr<kr;)cr&&cr[fr].run();fr=-1,kr=dr.length}cr=null,ur=!1,function(Sr){if(ir===clearTimeout)return clearTimeout(Sr);if((ir===ar||!ir)&&clearTimeout)return ir=clearTimeout,clearTimeout(Sr);try{ir(Sr)}catch{try{return ir.call(null,Sr)}catch{return ir.call(this,Sr)}}}(vr)}}function gr(vr,kr){this.fun=vr,this.array=kr}function br(){}nr.nextTick=function(vr){var kr=new Array(arguments.length-1);if(arguments.length>1)for(var Sr=1;Sr<arguments.length;Sr++)kr[Sr-1]=arguments[Sr];dr.push(new gr(vr,kr)),dr.length!==1||ur||lr(pr)},gr.prototype.run=function(){this.fun.apply(null,this.array)},nr.title="browser",nr.browser=!0,nr.env={},nr.argv=[],nr.version="",nr.versions={},nr.on=br,nr.addListener=br,nr.once=br,nr.off=br,nr.removeListener=br,nr.removeAllListeners=br,nr.emit=br,nr.prependListener=br,nr.prependOnceListener=br,nr.listeners=function(vr){return[]},nr.binding=function(vr){throw new Error("process.binding is not supported")},nr.cwd=function(){return"/"},nr.chdir=function(vr){throw new Error("process.chdir is not supported")},nr.umask=function(){return 0}},function(Nt,er,rr){function ir(sr,ar){for(var lr=0;lr<ar.length;lr++){var cr=ar[lr];cr.enumerable=cr.enumerable||!1,cr.configurable=!0,"value"in cr&&(cr.writable=!0),Object.defineProperty(sr,cr.key,cr)}}var nr=rr(9);Nt.exports=function(){function sr(){(function(dr,ur){if(!(dr instanceof ur))throw new TypeError("Cannot call a class as a function")})(this,sr)}var ar,lr,cr;return ar=sr,cr=[{key:"urlEncode",value:function(dr){return nr(dr)}},{key:"jsonEncode",value:function(dr){return JSON.stringify(dr)}},{key:"formEncode",value:function(dr){if(this.isFormData(dr))return dr;if(this.isFormElement(dr))return new FormData(dr);if(this.isObject(dr)){var ur=new FormData;return Object.keys(dr).forEach(function(fr){var hr=dr[fr];ur.append(fr,hr)}),ur}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(dr){return Object.prototype.toString.call(dr)==="[object Object]"}},{key:"isFormData",value:function(dr){return dr instanceof FormData}},{key:"isFormElement",value:function(dr){return dr instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var dr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(ur,fr){var hr=document.createElement("INPUT");hr.type="file",dr.multiple&&hr.setAttribute("multiple","multiple"),dr.accept&&hr.setAttribute("accept",dr.accept),hr.style.display="none",document.body.appendChild(hr),hr.addEventListener("change",function(pr){var gr=pr.target.files;ur(gr),document.body.removeChild(hr)},!1),hr.click()})}},{key:"parseHeaders",value:function(dr){var ur=dr.trim().split(/[\r\n]+/),fr={};return ur.forEach(function(hr){var pr=hr.split(": "),gr=pr.shift(),br=pr.join(": ");gr&&(fr[gr]=br)}),fr}}],(lr=null)&&ir(ar.prototype,lr),cr&&ir(ar,cr),sr}()},function(Nt,er){var rr=function(nr){return encodeURIComponent(nr).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},ir=function(nr,sr,ar,lr){return sr=sr||null,ar=ar||"&",lr=lr||null,nr?function(cr){for(var dr=new Array,ur=0;ur<cr.length;ur++)cr[ur]&&dr.push(cr[ur]);return dr}(Object.keys(nr).map(function(cr){var dr,ur,fr=cr;if(lr&&(fr=lr+"["+fr+"]"),typeof nr[cr]=="object"&&nr[cr]!==null)dr=ir(nr[cr],null,ar,fr);else{sr&&(ur=fr,fr=!isNaN(parseFloat(ur))&&isFinite(ur)?sr+Number(fr):fr);var hr=nr[cr];hr=(hr=(hr=(hr=hr===!0?"1":hr)===!1?"0":hr)===0?"0":hr)||"",dr=rr(fr)+"="+rr(hr)}return dr})).join(ar).replace(/[!'()*]/g,""):""};Nt.exports=ir}])})})(j$3);var P$2=j$3.exports;const R$3=O$2(P$2),F$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72"/></svg>';let I$3=class{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:F$3,title:"Link"}}static get enableLineBreaks(){return!0}constructor({data:Ot,config:Nt,api:er,readOnly:rr}){this.api=er,this.readOnly=rr,this.config={endpoint:Nt.endpoint||"",headers:Nt.headers||{}},this.nodes={wrapper:null,container:null,progress:null,input:null,inputHolder:null,linkContent:null,linkImage:null,linkTitle:null,linkDescription:null,linkText:null},this._data={link:"",meta:{}},this.data=Ot}render(){return this.nodes.wrapper=this.make("div",this.CSS.baseClass),this.nodes.container=this.make("div",this.CSS.container),this.nodes.inputHolder=this.makeInputHolder(),this.nodes.linkContent=this.prepareLinkPreview(),Object.keys(this.data.meta).length?(this.nodes.container.appendChild(this.nodes.linkContent),this.showLinkPreview(this.data.meta)):this.nodes.container.appendChild(this.nodes.inputHolder),this.nodes.wrapper.appendChild(this.nodes.container),this.nodes.wrapper}save(){return this.data}validate(){return this.data.link.trim()!==""}set data(Ot){this._data=Object.assign({},{link:Ot.link||this._data.link,meta:Ot.meta||this._data.meta})}get data(){return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"link-tool",inputEl:"link-tool__input",inputHolder:"link-tool__input-holder",inputError:"link-tool__input-holder--error",linkContent:"link-tool__content",linkContentRendered:"link-tool__content--rendered",linkImage:"link-tool__image",linkTitle:"link-tool__title",linkDescription:"link-tool__description",linkText:"link-tool__anchor",progress:"link-tool__progress",progressLoading:"link-tool__progress--loading",progressLoaded:"link-tool__progress--loaded"}}makeInputHolder(){const Ot=this.make("div",this.CSS.inputHolder);return this.nodes.progress=this.make("label",this.CSS.progress),this.nodes.input=this.make("div",[this.CSS.input,this.CSS.inputEl],{contentEditable:!this.readOnly}),this.nodes.input.dataset.placeholder=this.api.i18n.t("Link"),this.readOnly||(this.nodes.input.addEventListener("paste",Nt=>{this.startFetching(Nt)}),this.nodes.input.addEventListener("keydown",Nt=>{const[er,rr]=[13,65],ir=Nt.ctrlKey||Nt.metaKey;switch(Nt.keyCode){case er:Nt.preventDefault(),Nt.stopPropagation(),this.startFetching(Nt);break;case rr:ir&&this.selectLinkUrl(Nt);break}})),Ot.appendChild(this.nodes.progress),Ot.appendChild(this.nodes.input),Ot}startFetching(Ot){let Nt=this.nodes.input.textContent;Ot.type==="paste"&&(Nt=(Ot.clipboardData||window.clipboardData).getData("text")),this.removeErrorStyle(),this.fetchLinkData(Nt)}removeErrorStyle(){this.nodes.inputHolder.classList.remove(this.CSS.inputError),this.nodes.inputHolder.insertBefore(this.nodes.progress,this.nodes.input)}selectLinkUrl(Ot){Ot.preventDefault(),Ot.stopPropagation();const Nt=window.getSelection(),er=new Range,rr=Nt.anchorNode.parentNode.closest(`.${this.CSS.inputHolder}`).querySelector(`.${this.CSS.inputEl}`);er.selectNodeContents(rr),Nt.removeAllRanges(),Nt.addRange(er)}prepareLinkPreview(){const Ot=this.make("a",this.CSS.linkContent,{target:"_blank",rel:"nofollow noindex noreferrer"});return this.nodes.linkImage=this.make("div",this.CSS.linkImage),this.nodes.linkTitle=this.make("div",this.CSS.linkTitle),this.nodes.linkDescription=this.make("p",this.CSS.linkDescription),this.nodes.linkText=this.make("span",this.CSS.linkText),Ot}showLinkPreview({image:Ot,title:Nt,description:er}){this.nodes.container.appendChild(this.nodes.linkContent),Ot&&Ot.url&&(this.nodes.linkImage.style.backgroundImage="url("+Ot.url+")",this.nodes.linkContent.appendChild(this.nodes.linkImage)),Nt&&(this.nodes.linkTitle.textContent=Nt,this.nodes.linkContent.appendChild(this.nodes.linkTitle)),er&&(this.nodes.linkDescription.textContent=er,this.nodes.linkContent.appendChild(this.nodes.linkDescription)),this.nodes.linkContent.classList.add(this.CSS.linkContentRendered),this.nodes.linkContent.setAttribute("href",this.data.link),this.nodes.linkContent.appendChild(this.nodes.linkText);try{this.nodes.linkText.textContent=new URL(this.data.link).hostname}catch{this.nodes.linkText.textContent=this.data.link}}showProgress(){this.nodes.progress.classList.add(this.CSS.progressLoading)}hideProgress(){return new Promise(Ot=>{this.nodes.progress.classList.remove(this.CSS.progressLoading),this.nodes.progress.classList.add(this.CSS.progressLoaded),setTimeout(Ot,500)})}applyErrorStyle(){this.nodes.inputHolder.classList.add(this.CSS.inputError),this.nodes.progress.remove()}async fetchLinkData(Ot){this.showProgress(),this.data={link:Ot};try{const{body:Nt}=await R$3.get({url:this.config.endpoint,headers:this.config.headers,data:{url:Ot}});this.onFetch(Nt)}catch{this.fetchingFailed(this.api.i18n.t("Couldn't fetch the link data"))}}onFetch(Ot){if(!Ot||!Ot.success){this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one"));return}const Nt=Ot.meta,er=Ot.link||this.data.link;if(this.data={meta:Nt,link:er},!Nt){this.fetchingFailed(this.api.i18n.t("Wrong response format from the server"));return}this.hideProgress().then(()=>{this.nodes.inputHolder.remove(),this.showLinkPreview(Nt)})}fetchingFailed(Ot){this.api.notifier.show({message:Ot,style:"error"}),this.applyErrorStyle()}make(Ot,Nt=null,er={}){const rr=document.createElement(Ot);Array.isArray(Nt)?rr.classList.add(...Nt):Nt&&rr.classList.add(Nt);for(const ir in er)rr[ir]=er[ir];return rr}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const R$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',H$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',L$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',D$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function M$2(tr,Ot=null,Nt={}){const er=document.createElement(tr);Array.isArray(Ot)?er.classList.add(...Ot):Ot&&er.classList.add(Ot);for(const rr in Nt)er[rr]=Nt[rr];return er}let j$2=class vs{constructor({api:Ot,config:Nt,onSelectFile:er,readOnly:rr}){this.api=Ot,this.config=Nt,this.onSelectFile=er,this.readOnly=rr,this.nodes={wrapper:M$2("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:M$2("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:M$2("div",this.CSS.imagePreloader),caption:M$2("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}static get status(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}render(Ot){return!Ot.file||Object.keys(Ot.file).length===0?this.toggleStatus(vs.status.EMPTY):this.toggleStatus(vs.status.UPLOADING),this.nodes.wrapper}createFileButton(){const Ot=M$2("div",[this.CSS.button]);return Ot.innerHTML=this.config.buttonContent||`${L$2} ${this.api.i18n.t("Select an Image")}`,Ot.addEventListener("click",()=>{this.onSelectFile()}),Ot}showPreloader(Ot){this.nodes.imagePreloader.style.backgroundImage=`url(${Ot})`,this.toggleStatus(vs.status.UPLOADING)}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(vs.status.EMPTY)}fillImage(Ot){const Nt=/\.mp4$/.test(Ot)?"VIDEO":"IMG",er={src:Ot};let rr="load";Nt==="VIDEO"&&(er.autoplay=!0,er.loop=!0,er.muted=!0,er.playsinline=!0,rr="loadeddata"),this.nodes.imageEl=M$2(Nt,this.CSS.imageEl,er),this.nodes.imageEl.addEventListener(rr,()=>{this.toggleStatus(vs.status.FILLED),this.nodes.imagePreloader&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(Ot){this.nodes.caption&&(this.nodes.caption.innerHTML=Ot)}toggleStatus(Ot){for(const Nt in vs.status)Object.prototype.hasOwnProperty.call(vs.status,Nt)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${vs.status[Nt]}`,Ot===vs.status[Nt])}applyTune(Ot,Nt){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${Ot}`,Nt)}};function x$2(tr){return tr&&tr.__esModule&&Object.prototype.hasOwnProperty.call(tr,"default")?tr.default:tr}var I$2={exports:{}};(function(tr,Ot){(function(Nt,er){tr.exports=er()})(window,function(){return function(Nt){var er={};function rr(ir){if(er[ir])return er[ir].exports;var nr=er[ir]={i:ir,l:!1,exports:{}};return Nt[ir].call(nr.exports,nr,nr.exports,rr),nr.l=!0,nr.exports}return rr.m=Nt,rr.c=er,rr.d=function(ir,nr,sr){rr.o(ir,nr)||Object.defineProperty(ir,nr,{enumerable:!0,get:sr})},rr.r=function(ir){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ir,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ir,"__esModule",{value:!0})},rr.t=function(ir,nr){if(1&nr&&(ir=rr(ir)),8&nr||4&nr&&typeof ir=="object"&&ir&&ir.__esModule)return ir;var sr=Object.create(null);if(rr.r(sr),Object.defineProperty(sr,"default",{enumerable:!0,value:ir}),2&nr&&typeof ir!="string")for(var ar in ir)rr.d(sr,ar,(function(lr){return ir[lr]}).bind(null,ar));return sr},rr.n=function(ir){var nr=ir&&ir.__esModule?function(){return ir.default}:function(){return ir};return rr.d(nr,"a",nr),nr},rr.o=function(ir,nr){return Object.prototype.hasOwnProperty.call(ir,nr)},rr.p="",rr(rr.s=3)}([function(Nt,er){var rr;rr=function(){return this}();try{rr=rr||new Function("return this")()}catch{typeof window=="object"&&(rr=window)}Nt.exports=rr},function(Nt,er,rr){(function(ir){var nr=rr(2),sr=setTimeout;function ar(){}function lr(gr){if(!(this instanceof lr))throw new TypeError("Promises must be constructed via new");if(typeof gr!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],pr(gr,this)}function cr(gr,br){for(;gr._state===3;)gr=gr._value;gr._state!==0?(gr._handled=!0,lr._immediateFn(function(){var vr=gr._state===1?br.onFulfilled:br.onRejected;if(vr!==null){var kr;try{kr=vr(gr._value)}catch(Sr){return void ur(br.promise,Sr)}dr(br.promise,kr)}else(gr._state===1?dr:ur)(br.promise,gr._value)})):gr._deferreds.push(br)}function dr(gr,br){try{if(br===gr)throw new TypeError("A promise cannot be resolved with itself.");if(br&&(typeof br=="object"||typeof br=="function")){var vr=br.then;if(br instanceof lr)return gr._state=3,gr._value=br,void fr(gr);if(typeof vr=="function")return void pr((kr=vr,Sr=br,function(){kr.apply(Sr,arguments)}),gr)}gr._state=1,gr._value=br,fr(gr)}catch(Cr){ur(gr,Cr)}var kr,Sr}function ur(gr,br){gr._state=2,gr._value=br,fr(gr)}function fr(gr){gr._state===2&&gr._deferreds.length===0&&lr._immediateFn(function(){gr._handled||lr._unhandledRejectionFn(gr._value)});for(var br=0,vr=gr._deferreds.length;br<vr;br++)cr(gr,gr._deferreds[br]);gr._deferreds=null}function hr(gr,br,vr){this.onFulfilled=typeof gr=="function"?gr:null,this.onRejected=typeof br=="function"?br:null,this.promise=vr}function pr(gr,br){var vr=!1;try{gr(function(kr){vr||(vr=!0,dr(br,kr))},function(kr){vr||(vr=!0,ur(br,kr))})}catch(kr){if(vr)return;vr=!0,ur(br,kr)}}lr.prototype.catch=function(gr){return this.then(null,gr)},lr.prototype.then=function(gr,br){var vr=new this.constructor(ar);return cr(this,new hr(gr,br,vr)),vr},lr.prototype.finally=nr.a,lr.all=function(gr){return new lr(function(br,vr){if(!gr||gr.length===void 0)throw new TypeError("Promise.all accepts an array");var kr=Array.prototype.slice.call(gr);if(kr.length===0)return br([]);var Sr=kr.length;function Cr(Ir,qr){try{if(qr&&(typeof qr=="object"||typeof qr=="function")){var Qr=qr.then;if(typeof Qr=="function")return void Qr.call(qr,function(Wr){Cr(Ir,Wr)},vr)}kr[Ir]=qr,--Sr==0&&br(kr)}catch(Wr){vr(Wr)}}for(var Ar=0;Ar<kr.length;Ar++)Cr(Ar,kr[Ar])})},lr.resolve=function(gr){return gr&&typeof gr=="object"&&gr.constructor===lr?gr:new lr(function(br){br(gr)})},lr.reject=function(gr){return new lr(function(br,vr){vr(gr)})},lr.race=function(gr){return new lr(function(br,vr){for(var kr=0,Sr=gr.length;kr<Sr;kr++)gr[kr].then(br,vr)})},lr._immediateFn=typeof ir=="function"&&function(gr){ir(gr)}||function(gr){sr(gr,0)},lr._unhandledRejectionFn=function(gr){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",gr)},er.a=lr}).call(this,rr(5).setImmediate)},function(Nt,er,rr){er.a=function(ir){var nr=this.constructor;return this.then(function(sr){return nr.resolve(ir()).then(function(){return sr})},function(sr){return nr.resolve(ir()).then(function(){return nr.reject(sr)})})}},function(Nt,er,rr){function ir(pr){return(ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gr){return typeof gr}:function(gr){return gr&&typeof Symbol=="function"&&gr.constructor===Symbol&&gr!==Symbol.prototype?"symbol":typeof gr})(pr)}rr(4);var nr,sr,ar,lr,cr,dr,ur,fr=rr(8),hr=(sr=function(pr){return new Promise(function(gr,br){pr=lr(pr),(pr=cr(pr)).beforeSend&&pr.beforeSend();var vr=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");vr.open(pr.method,pr.url),vr.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(pr.headers).forEach(function(Sr){var Cr=pr.headers[Sr];vr.setRequestHeader(Sr,Cr)});var kr=pr.ratio;vr.upload.addEventListener("progress",function(Sr){var Cr=Math.round(Sr.loaded/Sr.total*100),Ar=Math.ceil(Cr*kr/100);pr.progress(Math.min(Ar,100))},!1),vr.addEventListener("progress",function(Sr){var Cr=Math.round(Sr.loaded/Sr.total*100),Ar=Math.ceil(Cr*(100-kr)/100)+kr;pr.progress(Math.min(Ar,100))},!1),vr.onreadystatechange=function(){if(vr.readyState===4){var Sr=vr.response;try{Sr=JSON.parse(Sr)}catch{}var Cr=fr.parseHeaders(vr.getAllResponseHeaders()),Ar={body:Sr,code:vr.status,headers:Cr};ur(vr.status)?gr(Ar):br(Ar)}},vr.send(pr.data)})},ar=function(pr){return pr.method="POST",sr(pr)},lr=function(){var pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(pr.url&&typeof pr.url!="string")throw new Error("Url must be a string");if(pr.url=pr.url||"",pr.method&&typeof pr.method!="string")throw new Error("`method` must be a string or null");if(pr.method=pr.method?pr.method.toUpperCase():"GET",pr.headers&&ir(pr.headers)!=="object")throw new Error("`headers` must be an object or null");if(pr.headers=pr.headers||{},pr.type&&(typeof pr.type!="string"||!Object.values(nr).includes(pr.type)))throw new Error("`type` must be taken from module's «contentType» library");if(pr.progress&&typeof pr.progress!="function")throw new Error("`progress` must be a function or null");if(pr.progress=pr.progress||function(gr){},pr.beforeSend=pr.beforeSend||function(gr){},pr.ratio&&typeof pr.ratio!="number")throw new Error("`ratio` must be a number");if(pr.ratio<0||pr.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(pr.ratio=pr.ratio||90,pr.accept&&typeof pr.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(pr.accept=pr.accept||"*/*",pr.multiple&&typeof pr.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(pr.multiple=pr.multiple||!1,pr.fieldName&&typeof pr.fieldName!="string")throw new Error("`fieldName` must be a string");return pr.fieldName=pr.fieldName||"files",pr},cr=function(pr){switch(pr.method){case"GET":var gr=dr(pr.data,nr.URLENCODED);delete pr.data,pr.url=/\?/.test(pr.url)?pr.url+"&"+gr:pr.url+"?"+gr;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var br=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||nr.JSON}(pr);(fr.isFormData(pr.data)||fr.isFormElement(pr.data))&&(br=nr.FORM),pr.data=dr(pr.data,br),br!==hr.contentType.FORM&&(pr.headers["content-type"]=br)}return pr},dr=function(){var pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case nr.URLENCODED:return fr.urlEncode(pr);case nr.JSON:return fr.jsonEncode(pr);case nr.FORM:return fr.formEncode(pr);default:return pr}},ur=function(pr){return pr>=200&&pr<300},{contentType:nr={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:sr,get:function(pr){return pr.method="GET",sr(pr)},post:ar,transport:function(pr){return pr=lr(pr),fr.selectFiles(pr).then(function(gr){for(var br=new FormData,vr=0;vr<gr.length;vr++)br.append(pr.fieldName,gr[vr],gr[vr].name);fr.isObject(pr.data)&&Object.keys(pr.data).forEach(function(Sr){var Cr=pr.data[Sr];br.append(Sr,Cr)});var kr=pr.beforeSend;return pr.beforeSend=function(){return kr(gr)},pr.data=br,ar(pr)})},selectFiles:function(pr){return delete(pr=lr(pr)).beforeSend,fr.selectFiles(pr)}});Nt.exports=hr},function(Nt,er,rr){rr.r(er);var ir=rr(1);window.Promise=window.Promise||ir.a},function(Nt,er,rr){(function(ir){var nr=ir!==void 0&&ir||typeof self<"u"&&self||window,sr=Function.prototype.apply;function ar(lr,cr){this._id=lr,this._clearFn=cr}er.setTimeout=function(){return new ar(sr.call(setTimeout,nr,arguments),clearTimeout)},er.setInterval=function(){return new ar(sr.call(setInterval,nr,arguments),clearInterval)},er.clearTimeout=er.clearInterval=function(lr){lr&&lr.close()},ar.prototype.unref=ar.prototype.ref=function(){},ar.prototype.close=function(){this._clearFn.call(nr,this._id)},er.enroll=function(lr,cr){clearTimeout(lr._idleTimeoutId),lr._idleTimeout=cr},er.unenroll=function(lr){clearTimeout(lr._idleTimeoutId),lr._idleTimeout=-1},er._unrefActive=er.active=function(lr){clearTimeout(lr._idleTimeoutId);var cr=lr._idleTimeout;cr>=0&&(lr._idleTimeoutId=setTimeout(function(){lr._onTimeout&&lr._onTimeout()},cr))},rr(6),er.setImmediate=typeof self<"u"&&self.setImmediate||ir!==void 0&&ir.setImmediate||this&&this.setImmediate,er.clearImmediate=typeof self<"u"&&self.clearImmediate||ir!==void 0&&ir.clearImmediate||this&&this.clearImmediate}).call(this,rr(0))},function(Nt,er,rr){(function(ir,nr){(function(sr,ar){if(!sr.setImmediate){var lr,cr,dr,ur,fr,hr=1,pr={},gr=!1,br=sr.document,vr=Object.getPrototypeOf&&Object.getPrototypeOf(sr);vr=vr&&vr.setTimeout?vr:sr,{}.toString.call(sr.process)==="[object process]"?lr=function(Cr){nr.nextTick(function(){Sr(Cr)})}:function(){if(sr.postMessage&&!sr.importScripts){var Cr=!0,Ar=sr.onmessage;return sr.onmessage=function(){Cr=!1},sr.postMessage("","*"),sr.onmessage=Ar,Cr}}()?(ur="setImmediate$"+Math.random()+"$",fr=function(Cr){Cr.source===sr&&typeof Cr.data=="string"&&Cr.data.indexOf(ur)===0&&Sr(+Cr.data.slice(ur.length))},sr.addEventListener?sr.addEventListener("message",fr,!1):sr.attachEvent("onmessage",fr),lr=function(Cr){sr.postMessage(ur+Cr,"*")}):sr.MessageChannel?((dr=new MessageChannel).port1.onmessage=function(Cr){Sr(Cr.data)},lr=function(Cr){dr.port2.postMessage(Cr)}):br&&"onreadystatechange"in br.createElement("script")?(cr=br.documentElement,lr=function(Cr){var Ar=br.createElement("script");Ar.onreadystatechange=function(){Sr(Cr),Ar.onreadystatechange=null,cr.removeChild(Ar),Ar=null},cr.appendChild(Ar)}):lr=function(Cr){setTimeout(Sr,0,Cr)},vr.setImmediate=function(Cr){typeof Cr!="function"&&(Cr=new Function(""+Cr));for(var Ar=new Array(arguments.length-1),Ir=0;Ir<Ar.length;Ir++)Ar[Ir]=arguments[Ir+1];var qr={callback:Cr,args:Ar};return pr[hr]=qr,lr(hr),hr++},vr.clearImmediate=kr}function kr(Cr){delete pr[Cr]}function Sr(Cr){if(gr)setTimeout(Sr,0,Cr);else{var Ar=pr[Cr];if(Ar){gr=!0;try{(function(Ir){var qr=Ir.callback,Qr=Ir.args;switch(Qr.length){case 0:qr();break;case 1:qr(Qr[0]);break;case 2:qr(Qr[0],Qr[1]);break;case 3:qr(Qr[0],Qr[1],Qr[2]);break;default:qr.apply(ar,Qr)}})(Ar)}finally{kr(Cr),gr=!1}}}}})(typeof self>"u"?ir===void 0?this:ir:self)}).call(this,rr(0),rr(7))},function(Nt,er){var rr,ir,nr=Nt.exports={};function sr(){throw new Error("setTimeout has not been defined")}function ar(){throw new Error("clearTimeout has not been defined")}function lr(vr){if(rr===setTimeout)return setTimeout(vr,0);if((rr===sr||!rr)&&setTimeout)return rr=setTimeout,setTimeout(vr,0);try{return rr(vr,0)}catch{try{return rr.call(null,vr,0)}catch{return rr.call(this,vr,0)}}}(function(){try{rr=typeof setTimeout=="function"?setTimeout:sr}catch{rr=sr}try{ir=typeof clearTimeout=="function"?clearTimeout:ar}catch{ir=ar}})();var cr,dr=[],ur=!1,fr=-1;function hr(){ur&&cr&&(ur=!1,cr.length?dr=cr.concat(dr):fr=-1,dr.length&&pr())}function pr(){if(!ur){var vr=lr(hr);ur=!0;for(var kr=dr.length;kr;){for(cr=dr,dr=[];++fr<kr;)cr&&cr[fr].run();fr=-1,kr=dr.length}cr=null,ur=!1,function(Sr){if(ir===clearTimeout)return clearTimeout(Sr);if((ir===ar||!ir)&&clearTimeout)return ir=clearTimeout,clearTimeout(Sr);try{ir(Sr)}catch{try{return ir.call(null,Sr)}catch{return ir.call(this,Sr)}}}(vr)}}function gr(vr,kr){this.fun=vr,this.array=kr}function br(){}nr.nextTick=function(vr){var kr=new Array(arguments.length-1);if(arguments.length>1)for(var Sr=1;Sr<arguments.length;Sr++)kr[Sr-1]=arguments[Sr];dr.push(new gr(vr,kr)),dr.length!==1||ur||lr(pr)},gr.prototype.run=function(){this.fun.apply(null,this.array)},nr.title="browser",nr.browser=!0,nr.env={},nr.argv=[],nr.version="",nr.versions={},nr.on=br,nr.addListener=br,nr.once=br,nr.off=br,nr.removeListener=br,nr.removeAllListeners=br,nr.emit=br,nr.prependListener=br,nr.prependOnceListener=br,nr.listeners=function(vr){return[]},nr.binding=function(vr){throw new Error("process.binding is not supported")},nr.cwd=function(){return"/"},nr.chdir=function(vr){throw new Error("process.chdir is not supported")},nr.umask=function(){return 0}},function(Nt,er,rr){function ir(sr,ar){for(var lr=0;lr<ar.length;lr++){var cr=ar[lr];cr.enumerable=cr.enumerable||!1,cr.configurable=!0,"value"in cr&&(cr.writable=!0),Object.defineProperty(sr,cr.key,cr)}}var nr=rr(9);Nt.exports=function(){function sr(){(function(dr,ur){if(!(dr instanceof ur))throw new TypeError("Cannot call a class as a function")})(this,sr)}var ar,lr,cr;return ar=sr,cr=[{key:"urlEncode",value:function(dr){return nr(dr)}},{key:"jsonEncode",value:function(dr){return JSON.stringify(dr)}},{key:"formEncode",value:function(dr){if(this.isFormData(dr))return dr;if(this.isFormElement(dr))return new FormData(dr);if(this.isObject(dr)){var ur=new FormData;return Object.keys(dr).forEach(function(fr){var hr=dr[fr];ur.append(fr,hr)}),ur}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(dr){return Object.prototype.toString.call(dr)==="[object Object]"}},{key:"isFormData",value:function(dr){return dr instanceof FormData}},{key:"isFormElement",value:function(dr){return dr instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var dr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(ur,fr){var hr=document.createElement("INPUT");hr.type="file",dr.multiple&&hr.setAttribute("multiple","multiple"),dr.accept&&hr.setAttribute("accept",dr.accept),hr.style.display="none",document.body.appendChild(hr),hr.addEventListener("change",function(pr){var gr=pr.target.files;ur(gr),document.body.removeChild(hr)},!1),hr.click()})}},{key:"parseHeaders",value:function(dr){var ur=dr.trim().split(/[\r\n]+/),fr={};return ur.forEach(function(hr){var pr=hr.split(": "),gr=pr.shift(),br=pr.join(": ");gr&&(fr[gr]=br)}),fr}}],(lr=null)&&ir(ar.prototype,lr),cr&&ir(ar,cr),sr}()},function(Nt,er){var rr=function(nr){return encodeURIComponent(nr).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},ir=function(nr,sr,ar,lr){return sr=sr||null,ar=ar||"&",lr=lr||null,nr?function(cr){for(var dr=new Array,ur=0;ur<cr.length;ur++)cr[ur]&&dr.push(cr[ur]);return dr}(Object.keys(nr).map(function(cr){var dr,ur,fr=cr;if(lr&&(fr=lr+"["+fr+"]"),typeof nr[cr]=="object"&&nr[cr]!==null)dr=ir(nr[cr],null,ar,fr);else{sr&&(ur=fr,fr=!isNaN(parseFloat(ur))&&isFinite(ur)?sr+Number(fr):fr);var hr=nr[cr];hr=(hr=(hr=(hr=hr===!0?"1":hr)===!1?"0":hr)===0?"0":hr)||"",dr=rr(fr)+"="+rr(hr)}return dr})).join(ar).replace(/[!'()*]/g,""):""};Nt.exports=ir}])})})(I$2);var U$2=I$2.exports;const F$2=x$2(U$2);function _$2(tr){return tr&&typeof tr.then=="function"}let B$2=class{constructor({config:Ot,onUpload:Nt,onError:er}){this.config=Ot,this.onUpload=Nt,this.onError=er}uploadSelectedFile({onPreview:Ot}){const Nt=function(rr){const ir=new FileReader;ir.readAsDataURL(rr),ir.onload=nr=>{Ot(nr.target.result)}};let er;this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?er=F$2.selectFiles({accept:this.config.types}).then(rr=>{Nt(rr[0]);const ir=this.config.uploader.uploadByFile(rr[0]);return _$2(ir)||console.warn("Custom uploader method uploadByFile should return a Promise"),ir}):er=F$2.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:rr=>{Nt(rr[0])},fieldName:this.config.field}).then(rr=>rr.body),er.then(rr=>{this.onUpload(rr)}).catch(rr=>{this.onError(rr)})}uploadByUrl(Ot){let Nt;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(Nt=this.config.uploader.uploadByUrl(Ot),_$2(Nt)||console.warn("Custom uploader method uploadByUrl should return a Promise")):Nt=F$2.post({url:this.config.endpoints.byUrl,data:Object.assign({url:Ot},this.config.additionalRequestData),type:F$2.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(er=>er.body),Nt.then(er=>{this.onUpload(er)}).catch(er=>{this.onError(er)})}uploadByFile(Ot,{onPreview:Nt}){const er=new FileReader;er.readAsDataURL(Ot),er.onload=ir=>{Nt(ir.target.result)};let rr;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")rr=this.config.uploader.uploadByFile(Ot),_$2(rr)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const ir=new FormData;ir.append(this.config.field,Ot),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([nr,sr])=>{ir.append(nr,sr)}),rr=F$2.post({url:this.config.endpoints.byFile,data:ir,type:F$2.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(nr=>nr.body)}rr.then(ir=>{this.onUpload(ir)}).catch(ir=>{this.onError(ir)})}};/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */let P$1=class ia{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:L$2,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:H$2,title:"With border",toggle:!0},{name:"stretched",icon:D$2,title:"Stretch image",toggle:!0},{name:"withBackground",icon:R$2,title:"With background",toggle:!0}]}constructor({data:Ot,config:Nt,api:er,readOnly:rr,block:ir}){this.api=er,this.readOnly=rr,this.block=ir,this.config={endpoints:Nt.endpoints||"",additionalRequestData:Nt.additionalRequestData||{},additionalRequestHeaders:Nt.additionalRequestHeaders||{},field:Nt.field||"image",types:Nt.types||"image/*",captionPlaceholder:this.api.i18n.t(Nt.captionPlaceholder||"Caption"),buttonContent:Nt.buttonContent||"",uploader:Nt.uploader||void 0,actions:Nt.actions||[]},this.uploader=new B$2({config:this.config,onUpload:nr=>this.onUpload(nr),onError:nr=>this.uploadingFailed(nr)}),this.ui=new j$2({api:er,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:nr=>{this.ui.showPreloader(nr)}})},readOnly:rr}),this._data={},this.data=Ot}render(){return this.ui.render(this.data)}validate(Ot){return Ot.file&&Ot.file.url}save(){const Ot=this.ui.nodes.caption;return this._data.caption=Ot.innerHTML,this.data}renderSettings(){return ia.tunes.concat(this.config.actions).map(Ot=>({icon:Ot.icon,label:this.api.i18n.t(Ot.title),name:Ot.name,toggle:Ot.toggle,isActive:this.data[Ot.name],onActivate:()=>{if(typeof Ot.action=="function"){Ot.action(Ot.name);return}this.tuneToggled(Ot.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(Ot){switch(Ot.type){case"tag":{const Nt=Ot.detail.data;if(/^blob:/.test(Nt.src)){const er=await(await fetch(Nt.src)).blob();this.uploadFile(er);break}this.uploadUrl(Nt.src);break}case"pattern":{const Nt=Ot.detail.data;this.uploadUrl(Nt);break}case"file":{const Nt=Ot.detail.file;this.uploadFile(Nt);break}}}set data(Ot){this.image=Ot.file,this._data.caption=Ot.caption||"",this.ui.fillCaption(this._data.caption),ia.tunes.forEach(({name:Nt})=>{const er=typeof Ot[Nt]<"u"?Ot[Nt]===!0||Ot[Nt]==="true":!1;this.setTune(Nt,er)})}get data(){return this._data}set image(Ot){this._data.file=Ot||{},Ot&&Ot.url&&this.ui.fillImage(Ot.url)}onUpload(Ot){Ot.success&&Ot.file?this.image=Ot.file:this.uploadingFailed("incorrect response: "+JSON.stringify(Ot))}uploadingFailed(Ot){console.log("Image Tool: uploading failed because of",Ot),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(Ot){this.setTune(Ot,!this._data[Ot])}setTune(Ot,Nt){this._data[Ot]=Nt,this.ui.applyTune(Ot,Nt),Ot==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=Nt}).catch(er=>{console.error(er)})}uploadFile(Ot){this.uploader.uploadByFile(Ot,{onPreview:Nt=>{this.ui.showPreloader(Nt)}})}uploadUrl(Ot){this.ui.showPreloader(Ot),this.uploader.uploadByUrl(Ot)}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(".ce-rawtool__textarea{min-height:200px;resize:vertical;border-radius:8px;border:0;background-color:#1e2128;font-family:Menlo,Monaco,Consolas,Courier New,monospace;font-size:12px;line-height:1.6;letter-spacing:-.2px;color:#a1a7b6;overscroll-behavior:contain}")),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const a$4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394"/></svg>';/**
 * Raw HTML Tool for CodeX Editor
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let r$3=class Sa{static get isReadOnlySupported(){return!0}static get displayInToolbox(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:a$4,title:"Raw HTML"}}constructor({data:Ot,config:Nt,api:er,readOnly:rr}){this.api=er,this.readOnly=rr,this.placeholder=Nt.placeholder||Sa.DEFAULT_PLACEHOLDER,this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-rawtool",textarea:"ce-rawtool__textarea"},this.data={html:Ot.html||""},this.textarea=null,this.resizeDebounce=null}render(){const Ot=document.createElement("div"),Nt=100;return this.textarea=document.createElement("textarea"),Ot.classList.add(this.CSS.baseClass,this.CSS.wrapper),this.textarea.classList.add(this.CSS.textarea,this.CSS.input),this.textarea.textContent=this.data.html,this.textarea.placeholder=this.placeholder,this.readOnly?this.textarea.disabled=!0:this.textarea.addEventListener("input",()=>{this.onInput()}),Ot.appendChild(this.textarea),setTimeout(()=>{this.resize()},Nt),Ot}save(Ot){return{html:Ot.querySelector("textarea").value}}static get DEFAULT_PLACEHOLDER(){return"Enter HTML code"}static get sanitize(){return{html:!0}}onInput(){this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout(()=>{this.resize()},200)}resize(){this.textarea.style.height="auto",this.textarea.style.height=this.textarea.scrollHeight+"px"}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}.ce-header[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;display:none;cursor:text}.ce-header[contentEditable=true][data-placeholder]:empty:before{display:block}.ce-header[contentEditable=true][data-placeholder]:empty:focus:before{display:none}")),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const i$4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',a$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',l$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',o$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',h$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',d$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',u$1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let c$4=class{constructor({data:Ot,config:Nt,api:er,readOnly:rr}){this.api=er,this.readOnly=rr,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=Nt,this._data=this.normalizeData(Ot),this._element=this.getTag()}normalizeData(Ot){const Nt={};return typeof Ot!="object"&&(Ot={}),Nt.text=Ot.text||"",Nt.level=parseInt(Ot.level)||this.defaultLevel.number,Nt}render(){return this._element}renderSettings(){return this.levels.map(Ot=>({icon:Ot.svg,label:this.api.i18n.t(`Heading ${Ot.number}`),onActivate:()=>this.setLevel(Ot.number),closeOnActivate:!0,isActive:this.currentLevel.number===Ot.number}))}setLevel(Ot){this.data={level:Ot,text:this.data.text}}merge(Ot){const Nt={text:this.data.text+Ot.text,level:this.data.level};this.data=Nt}validate(Ot){return Ot.text.trim()!==""}save(Ot){return{text:Ot.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(Ot){if(this._data=this.normalizeData(Ot),Ot.level!==void 0&&this._element.parentNode){const Nt=this.getTag();Nt.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(Nt,this._element),this._element=Nt}Ot.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const Ot=document.createElement(this.currentLevel.tag);return Ot.innerHTML=this._data.text||"",Ot.classList.add(this._CSS.wrapper),Ot.contentEditable=this.readOnly?"false":"true",Ot.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),Ot}get currentLevel(){let Ot=this.levels.find(Nt=>Nt.number===this._data.level);return Ot||(Ot=this.defaultLevel),Ot}get defaultLevel(){if(this._settings.defaultLevel){const Ot=this.levels.find(Nt=>Nt.number===this._settings.defaultLevel);if(Ot)return Ot;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const Ot=[{number:1,tag:"H1",svg:i$4},{number:2,tag:"H2",svg:a$3},{number:3,tag:"H3",svg:l$2},{number:4,tag:"H4",svg:o$3},{number:5,tag:"H5",svg:h$2},{number:6,tag:"H6",svg:d$3}];return this._settings.levels?Ot.filter(Nt=>this._settings.levels.includes(Nt.number)):Ot}onPaste(Ot){const Nt=Ot.detail.data;let er=this.defaultLevel.number;switch(Nt.tagName){case"H1":er=1;break;case"H2":er=2;break;case"H3":er=3;break;case"H4":er=4;break;case"H5":er=5;break;case"H6":er=6;break}this._settings.levels&&(er=this._settings.levels.reduce((rr,ir)=>Math.abs(ir-er)<Math.abs(rr-er)?ir:rr)),this.data={level:er,text:Nt.innerHTML}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:u$1,title:"Heading"}}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const a$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',c$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',l$1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';let i$3=class js{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:l$1,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get ALIGNMENTS(){return{left:"left",center:"center"}}static get DEFAULT_ALIGNMENT(){return js.ALIGNMENTS.left}static get conversionConfig(){return{import:"text",export:function(Ot){return Ot.caption?`${Ot.text} — ${Ot.caption}`:Ot.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:c$3},{name:"center",icon:a$2}]}constructor({data:Ot,config:Nt,api:er,readOnly:rr}){const{ALIGNMENTS:ir,DEFAULT_ALIGNMENT:nr}=js;this.api=er,this.readOnly=rr,this.quotePlaceholder=Nt.quotePlaceholder||js.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=Nt.captionPlaceholder||js.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:Ot.text||"",caption:Ot.caption||"",alignment:Object.values(ir).includes(Ot.alignment)&&Ot.alignment||Nt.defaultAlignment||nr}}render(){const Ot=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),Nt=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),er=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return Nt.dataset.placeholder=this.quotePlaceholder,er.dataset.placeholder=this.captionPlaceholder,Ot.appendChild(Nt),Ot.appendChild(er),Ot}save(Ot){const Nt=Ot.querySelector(`.${this.CSS.text}`),er=Ot.querySelector(`.${this.CSS.caption}`);return Object.assign(this.data,{text:Nt.innerHTML,caption:er.innerHTML})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const Ot=Nt=>Nt[0].toUpperCase()+Nt.substr(1);return this.settings.map(Nt=>({icon:Nt.icon,label:this.api.i18n.t(`Align ${Ot(Nt.name)}`),onActivate:()=>this._toggleTune(Nt.name),isActive:this.data.alignment===Nt.name,closeOnActivate:!0}))}_toggleTune(Ot){this.data.alignment=Ot}_make(Ot,Nt=null,er={}){const rr=document.createElement(Ot);Array.isArray(Nt)?rr.classList.add(...Nt):Nt&&rr.classList.add(Nt);for(const ir in er)rr[ir]=er[ir];return rr}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const o$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let s$4=class Ds{static get CSS(){return"cdx-marker"}constructor({api:Ot}){this.api=Ot,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(Ot){if(!Ot)return;let Nt=this.api.selection.findParentTag(this.tag,Ds.CSS);Nt?this.unwrap(Nt):this.wrap(Ot)}wrap(Ot){let Nt=document.createElement(this.tag);Nt.classList.add(Ds.CSS),Nt.appendChild(Ot.extractContents()),Ot.insertNode(Nt),this.api.selection.expandToTag(Nt)}unwrap(Ot){this.api.selection.expandToTag(Ot);let Nt=window.getSelection(),er=Nt.getRangeAt(0),rr=er.extractContents();Ot.parentNode.removeChild(Ot),er.insertNode(rr),Nt.removeAllRanges(),Nt.addRange(er)}checkState(){const Ot=this.api.selection.findParentTag(this.tag,Ds.CSS);this.button.classList.toggle(this.iconClasses.active,!!Ot)}get toolboxIcon(){return o$2}static get sanitize(){return{mark:{class:Ds.CSS}}}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode('.cdx-checklist{gap:6px;display:flex;flex-direction:column}.cdx-checklist__item{display:flex;box-sizing:content-box;align-items:flex-start}.cdx-checklist__item-text{outline:none;flex-grow:1;line-height:1.57em}.cdx-checklist__item-checkbox{width:22px;height:22px;display:flex;align-items:center;margin-right:8px;margin-top:calc(.785em - 11px);cursor:pointer}.cdx-checklist__item-checkbox svg{opacity:0;height:20px;width:20px;position:absolute;left:-1px;top:-1px;max-height:20px}@media (hover: hover){.cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg{opacity:1}}.cdx-checklist__item-checkbox-check{cursor:pointer;display:inline-block;flex-shrink:0;position:relative;width:20px;height:20px;box-sizing:border-box;margin-left:0;border-radius:5px;border:1px solid #C9C9C9;background:#fff}.cdx-checklist__item-checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:#369fff;visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}@media (hover: hover){.cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check{background:#0059AB;border-color:#0059ab}}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check{background:#369FFF;border-color:#369fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg{opacity:1}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path{stroke:#fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}')),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const k$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',g$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';function d$2(){const tr=document.activeElement,Ot=window.getSelection().getRangeAt(0),Nt=Ot.cloneRange();return Nt.selectNodeContents(tr),Nt.setStart(Ot.endContainer,Ot.endOffset),Nt.extractContents()}function C$3(tr){const Ot=document.createElement("div");return Ot.appendChild(tr),Ot.innerHTML}function c$2(tr,Ot=null,Nt={}){const er=document.createElement(tr);Array.isArray(Ot)?er.classList.add(...Ot):Ot&&er.classList.add(Ot);for(const rr in Nt)er[rr]=Nt[rr];return er}function m$2(tr){return tr.innerHTML.replace("<br>"," ").trim()}function p$1(tr,Ot=!1,Nt=void 0){const er=document.createRange(),rr=window.getSelection();er.selectNodeContents(tr),Nt!==void 0&&(er.setStart(tr,Nt),er.setEnd(tr,Nt)),er.collapse(Ot),rr.removeAllRanges(),rr.addRange(er)}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(tr){let Ot=this;if(!document.documentElement.contains(Ot))return null;do{if(Ot.matches(tr))return Ot;Ot=Ot.parentElement||Ot.parentNode}while(Ot!==null&&Ot.nodeType===1);return null});let f$3=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:g$2,title:"Checklist"}}static get conversionConfig(){return{export:Ot=>Ot.items.map(({text:Nt})=>Nt).join(". "),import:Ot=>({items:[{text:Ot,checked:!1}]})}}constructor({data:Ot,config:Nt,api:er,readOnly:rr}){this._elements={wrapper:null,items:[]},this.readOnly=rr,this.api=er,this.data=Ot||{}}render(){return this._elements.wrapper=c$2("div",[this.CSS.baseBlock,this.CSS.wrapper]),this.data.items||(this.data.items=[{text:"",checked:!1}]),this.data.items.forEach(Ot=>{const Nt=this.createChecklistItem(Ot);this._elements.wrapper.appendChild(Nt)}),this.readOnly?this._elements.wrapper:(this._elements.wrapper.addEventListener("keydown",Ot=>{const[Nt,er]=[13,8];switch(Ot.keyCode){case Nt:this.enterPressed(Ot);break;case er:this.backspace(Ot);break}},!1),this._elements.wrapper.addEventListener("click",Ot=>{this.toggleCheckbox(Ot)}),this._elements.wrapper)}save(){let Ot=this.items.map(Nt=>{const er=this.getItemInput(Nt);return{text:m$2(er),checked:Nt.classList.contains(this.CSS.itemChecked)}});return Ot=Ot.filter(Nt=>Nt.text.trim().length!==0),{items:Ot}}validate(Ot){return!!Ot.items.length}toggleCheckbox(Ot){const Nt=Ot.target.closest(`.${this.CSS.item}`),er=Nt.querySelector(`.${this.CSS.checkboxContainer}`);er.contains(Ot.target)&&(Nt.classList.toggle(this.CSS.itemChecked),er.classList.add(this.CSS.noHover),er.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(er),{once:!0}))}createChecklistItem(Ot={}){const Nt=c$2("div",this.CSS.item),er=c$2("span",this.CSS.checkbox),rr=c$2("div",this.CSS.checkboxContainer),ir=c$2("div",this.CSS.textField,{innerHTML:Ot.text?Ot.text:"",contentEditable:!this.readOnly});return Ot.checked&&Nt.classList.add(this.CSS.itemChecked),er.innerHTML=k$2,rr.appendChild(er),Nt.appendChild(rr),Nt.appendChild(ir),Nt}enterPressed(Ot){Ot.preventDefault();const Nt=this.items,er=document.activeElement.closest(`.${this.CSS.item}`);if(Nt.indexOf(er)===Nt.length-1&&m$2(this.getItemInput(er)).length===0){const sr=this.api.blocks.getCurrentBlockIndex();er.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(sr+1);return}const rr=d$2(),ir=C$3(rr),nr=this.createChecklistItem({text:ir,checked:!1});this._elements.wrapper.insertBefore(nr,er.nextSibling),p$1(this.getItemInput(nr),!0)}backspace(Ot){const Nt=Ot.target.closest(`.${this.CSS.item}`),er=this.items.indexOf(Nt),rr=this.items[er-1];if(!rr||window.getSelection().focusOffset!==0)return;Ot.preventDefault();const ir=d$2(),nr=this.getItemInput(rr),sr=nr.childNodes.length;nr.appendChild(ir),p$1(nr,void 0,sr),Nt.remove()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-checklist",item:"cdx-checklist__item",itemChecked:"cdx-checklist__item--checked",noHover:"cdx-checklist__item-checkbox--no-hover",checkbox:"cdx-checklist__item-checkbox-check",textField:"cdx-checklist__item-text",checkboxContainer:"cdx-checklist__item-checkbox"}}get items(){return Array.from(this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}removeSpecialHoverBehavior(Ot){Ot.classList.remove(this.CSS.noHover)}getItemInput(Ot){return Ot.querySelector(`.${this.CSS.textField}`)}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:"***";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const r$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';/**
 * Delimiter Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */let o$1=class{static get isReadOnlySupported(){return!0}static get contentless(){return!0}constructor({data:Ot,config:Nt,api:er}){this.api=er,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._data={},this._element=this.drawView(),this.data=Ot}drawView(){let Ot=document.createElement("DIV");return Ot.classList.add(this._CSS.wrapper,this._CSS.block),Ot}render(){return this._element}save(Ot){return{}}static get toolbox(){return{icon:r$2,title:"Delimiter"}}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const o='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>';let s$3=class Ls{static get CSS(){return"inline-code"}constructor({api:Ot}){this.api=Ot,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(Ot){if(!Ot)return;let Nt=this.api.selection.findParentTag(this.tag,Ls.CSS);Nt?this.unwrap(Nt):this.wrap(Ot)}wrap(Ot){let Nt=document.createElement(this.tag);Nt.classList.add(Ls.CSS),Nt.appendChild(Ot.extractContents()),Ot.insertNode(Nt),this.api.selection.expandToTag(Nt)}unwrap(Ot){this.api.selection.expandToTag(Ot);let Nt=window.getSelection(),er=Nt.getRangeAt(0),rr=er.extractContents();Ot.parentNode.removeChild(Ot),er.insertNode(rr),Nt.removeAllRanges(),Nt.addRange(er)}checkState(){const Ot=this.api.selection.findParentTag(this.tag,Ls.CSS);this.button.classList.toggle(this.iconClasses.active,!!Ot)}get toolboxIcon(){return o}static get sanitize(){return{code:{class:Ls.CSS}}}};(function(){try{if(typeof document<"u"){var tr=document.createElement("style");tr.appendChild(document.createTextNode(".cdx-simple-image .cdx-loader{min-height:200px}.cdx-simple-image .cdx-input{margin-top:10px}.cdx-simple-image img{max-width:100%;vertical-align:bottom}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-simple-image__picture--with-background{background:#eff2f5;padding:10px}.cdx-simple-image__picture--with-background img{display:block;max-width:60%;margin:0 auto}.cdx-simple-image__picture--with-border{border:1px solid #e8e8eb;padding:1px}.cdx-simple-image__picture--stretched img{max-width:none;width:100%}")),document.head.appendChild(tr)}}catch(Ot){console.error("vite-plugin-css-injected-by-js",Ot)}})();const s$2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',a$1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',d$1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';let h$1=class{constructor({data:Ot,config:Nt,api:er,readOnly:rr}){this.api=er,this.readOnly=rr,this.blockIndex=this.api.blocks.getCurrentBlockIndex()+1,this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,wrapper:"cdx-simple-image",imageHolder:"cdx-simple-image__picture",caption:"cdx-simple-image__caption"},this.nodes={wrapper:null,imageHolder:null,image:null,caption:null},this.data={url:Ot.url||"",caption:Ot.caption||"",withBorder:Ot.withBorder!==void 0?Ot.withBorder:!1,withBackground:Ot.withBackground!==void 0?Ot.withBackground:!1,stretched:Ot.stretched!==void 0?Ot.stretched:!1},this.tunes=[{name:"withBorder",label:"Add Border",icon:a$1},{name:"stretched",label:"Stretch Image",icon:d$1},{name:"withBackground",label:"Add Background",icon:s$2}]}render(){const Ot=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),Nt=this._make("div",this.CSS.loading),er=this._make("div",this.CSS.imageHolder),rr=this._make("img"),ir=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption||""});return ir.dataset.placeholder="Enter a caption",Ot.appendChild(Nt),this.data.url&&(rr.src=this.data.url),rr.onload=()=>{Ot.classList.remove(this.CSS.loading),er.appendChild(rr),Ot.appendChild(er),Ot.appendChild(ir),Nt.remove(),this._acceptTuneView()},rr.onerror=nr=>{console.log("Failed to load an image",nr)},this.nodes.imageHolder=er,this.nodes.wrapper=Ot,this.nodes.image=rr,this.nodes.caption=ir,Ot}save(Ot){const Nt=Ot.querySelector("img"),er=Ot.querySelector("."+this.CSS.input);return Nt?Object.assign(this.data,{url:Nt.src,caption:er.innerHTML}):this.data}static get sanitize(){return{url:{},withBorder:{},withBackground:{},stretched:{},caption:{br:!0}}}static get isReadOnlySupported(){return!0}onDropHandler(Ot){const Nt=new FileReader;return Nt.readAsDataURL(Ot),new Promise(er=>{Nt.onload=rr=>{er({url:rr.target.result,caption:Ot.name})}})}onPaste(Ot){switch(Ot.type){case"tag":{const Nt=Ot.detail.data;this.data={url:Nt.src};break}case"pattern":{const{data:Nt}=Ot.detail;this.data={url:Nt};break}case"file":{const{file:Nt}=Ot.detail;this.onDropHandler(Nt).then(er=>{this.data=er});break}}}get data(){return this._data}set data(Ot){this._data=Object.assign({},this.data,Ot),this.nodes.image&&(this.nodes.image.src=this.data.url),this.nodes.caption&&(this.nodes.caption.innerHTML=this.data.caption)}static get pasteConfig(){return{patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|webp)$/i},tags:[{img:{src:!0}}],files:{mimeTypes:["image/*"]}}}renderSettings(){return this.tunes.map(Ot=>({...Ot,label:this.api.i18n.t(Ot.label),toggle:!0,onActivate:()=>this._toggleTune(Ot.name),isActive:!!this.data[Ot.name]}))}_make(Ot,Nt=null,er={}){const rr=document.createElement(Ot);Array.isArray(Nt)?rr.classList.add(...Nt):Nt&&rr.classList.add(Nt);for(const ir in er)rr[ir]=er[ir];return rr}_toggleTune(Ot){this.data[Ot]=!this.data[Ot],this._acceptTuneView()}_acceptTuneView(){this.tunes.forEach(Ot=>{this.nodes.imageHolder.classList.toggle(this.CSS.imageHolder+"--"+Ot.name.replace(/([A-Z])/g,Nt=>`-${Nt[0].toLowerCase()}`),!!this.data[Ot.name]),Ot.name==="stretched"&&this.api.blocks.stretchBlock(this.blockIndex,!!this.data.stretched)})}};const EDITOR_JS_TOOLS={embed:m$4,table:I$4,list:d$5,warning:r$4,code:d$4,linkTool:I$3,image:P$1,raw:r$3,header:c$4,quote:i$3,marker:s$4,checklist:f$3,delimiter:o$1,inlineCode:s$3,simpleImage:h$1},ReactEditorJS=createReactEditorJS(),CustomBlockWidget=tr=>{const Ot=reactExports.useRef(null);reactExports.useRef(null);const Nt=reactExports.useCallback(ir=>{Ot.current=ir},[]),er=ir=>{if(ir)try{Ot.current._editorJS.isReady.then(()=>{Ot.current._editorJS.render(ir)})}catch{}},rr=async(ir,nr)=>{console.log(ir,nr);const sr=await ir.saver.save(),{blocks:ar}=sr;tr.onChange(JSON.stringify(ar))};return reactExports.useEffect(()=>{Array.isArray(tr.value)&&setTimeout(()=>{er(arrayToBlockData(tr.value)),tr.onChange(JSON.stringify(tr.value))},256)},[tr.value]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(ReactEditorJS,{onInitialize:Nt,onChange:rr,tools:EDITOR_JS_TOOLS})})},widgets={FileWidget:tr=>jsxRuntimeExports.jsx(CustomFileWidget,{...tr,ref:Ot=>{(void 0).fileWidget=Ot}}),block:CustomBlockWidget},validator=customizeValidator({"data-url":(tr,Ot,Nt)=>{console.log(tr,Ot,Nt)}}),JsonForm=({title:tr,formData:Ot,uiSchema:Nt,schema:er,onCancel:rr=ar=>ar,onChange:ir=ar=>ar,onSubmit:nr=ar=>ar,onError:sr=ar=>ar})=>{const ar=(cr,dr)=>{const ur=Object.keys(cr),fr=[];for(const hr of ur)cr[hr]["ui:widget"]==="block"&&fr.push(hr);for(const hr of fr)dr[hr]=JSON.parse(dr[hr])},lr=cr=>{let{formData:dr,uiSchema:ur}=cr;ar(ur,dr),nr(cr)};return jsxRuntimeExports.jsxs("div",{className:"json-form",children:[tr?jsxRuntimeExports.jsx("h4",{className:"twx-mb-8 text-center",children:tr}):null,jsxRuntimeExports.jsx(Form,{widgets,formData:Ot,schema:er,uiSchema:Nt,validator,onChange:ir,onSubmit:lr,onError:sr,children:jsxRuntimeExports.jsxs("div",{className:"twx-flex twx-items-center twx-justify-end",children:[jsxRuntimeExports.jsx(Button,{variant:"default",size:"sm",onClick:cr=>rr(),children:"Batal"}),jsxRuntimeExports.jsxs(Button,{size:"sm",type:"submit",children:[jsxRuntimeExports.jsx(Save,{})," Simpan"]})]})})]})},Spinner=({message:tr,independent:Ot=!1})=>Ot?jsxRuntimeExports.jsxs("div",{className:"spinner-wrapper independent",children:[jsxRuntimeExports.jsx("div",{className:"donut"}),tr?jsxRuntimeExports.jsx("p",{children:tr}):null]}):jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"spinner-wrapper",children:[jsxRuntimeExports.jsx("div",{className:"donut"}),tr?jsxRuntimeExports.jsx("p",{children:tr}):null]})});var dist$1={},SweetAlert$1={},SuccessIcon$1={},SweetAlertStyles={};Object.defineProperty(SweetAlertStyles,"__esModule",{value:!0});SweetAlertStyles.closeButton=SweetAlertStyles.inputErrorIconAfter=SweetAlertStyles.inputErrorIconBefore=SweetAlertStyles.inputErrorIconBeforeAfter=SweetAlertStyles.inputErrorIcon=SweetAlertStyles.exclamationIcon=SweetAlertStyles.validationMessage=SweetAlertStyles.button=SweetAlertStyles.iconCustom=SweetAlertStyles.iconSuccessLineLong=SweetAlertStyles.iconSuccessLineTip=SweetAlertStyles.iconSuccessLine=SweetAlertStyles.iconSuccessFix=SweetAlertStyles.iconSuccessPlaceholder=SweetAlertStyles.iconSuccessAfter=SweetAlertStyles.iconSuccessBefore=SweetAlertStyles.iconSuccessBeforeAfter=SweetAlertStyles.iconSuccess=SweetAlertStyles.iconInfoAfter=SweetAlertStyles.iconInfoBefore=SweetAlertStyles.iconInfo=SweetAlertStyles.iconWarningDot=SweetAlertStyles.iconWarningBody=SweetAlertStyles.iconWarning=SweetAlertStyles.iconErrorLineRight=SweetAlertStyles.iconErrorLineLeft=SweetAlertStyles.iconErrorLine=SweetAlertStyles.iconErrorX=SweetAlertStyles.iconError=SweetAlertStyles.icon=SweetAlertStyles.actions=SweetAlertStyles.contentContainer=SweetAlertStyles.title=SweetAlertStyles.sweetAlert=SweetAlertStyles.sweetAlertContainer=SweetAlertStyles.overlay=void 0;SweetAlertStyles.overlay={backgroundColor:"rgba(0, 0, 0, 0.4)",position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:5e3};SweetAlertStyles.sweetAlertContainer={display:"flex",position:"fixed",top:0,right:0,left:0,bottom:0,flexDirection:"row",alignItems:"center",justifyContent:"center",padding:".625em",overflowX:"hidden",overflowY:"auto",zIndex:5400};SweetAlertStyles.sweetAlert={display:"flex",overflow:"hidden",backgroundColor:"#fff",outline:"none",width:"32em",padding:"1.25rem",margin:"auto",borderRadius:".3125em",textAlign:"center",position:"relative",flexDirection:"column",justifyContent:"center",maxWidth:"100%",zIndex:5600};SweetAlertStyles.title={position:"relative",maxWidth:"100%",margin:"0 0 .4em",padding:0,fontSize:"1.875em",fontWeight:600,textAlign:"center",textTransform:"none",wordWrap:"break-word"};SweetAlertStyles.contentContainer={zIndex:1,justifyContent:"center",margin:0,padding:0,fontSize:"1.125em",fontWeight:300,lineHeight:"normal",textAlign:"center",wordWrap:"break-word"};SweetAlertStyles.actions={display:"flex",zIndex:1,flexWrap:"wrap",alignItems:"center",justifyContent:"center",width:"100%",margin:"1.25em auto 0"};SweetAlertStyles.icon={width:80,height:80,borderWidth:4,borderStyle:"solid",borderColor:"gray",borderRadius:"50%",margin:"20px auto",position:"relative",boxSizing:"content-box"};SweetAlertStyles.iconError={borderColor:"#d43f3a",animation:"animateErrorIcon 0.5s"};SweetAlertStyles.iconErrorX={position:"relative",display:"block",animation:"animateXMark 0.5s"};SweetAlertStyles.iconErrorLine={position:"absolute",height:5,width:47,backgroundColor:"#d9534f",display:"block",top:37,borderRadius:2};SweetAlertStyles.iconErrorLineLeft={transform:"rotate(45deg)",left:17};SweetAlertStyles.iconErrorLineRight={transform:"rotate(-45deg)",right:16};SweetAlertStyles.iconWarning={borderColor:"#eea236",animation:"pulseWarning 0.75s infinite alternate"};SweetAlertStyles.iconWarningBody={position:"absolute",width:5,height:47,left:"50%",top:10,borderRadius:2,marginLeft:-2,backgroundColor:"#f0ad4e",animation:"pulseWarningIns 0.75s infinite alternate"};SweetAlertStyles.iconWarningDot={position:"absolute",width:7,height:7,borderRadius:"50%",marginLeft:-3,left:"50%",bottom:10,backgroundColor:"#f0ad4e",animation:"pulseWarningIns 0.75s infinite alternate"};SweetAlertStyles.iconInfo={borderColor:"#46b8da"};SweetAlertStyles.iconInfoBefore={content:"",position:"absolute",width:5,height:29,left:"50%",bottom:17,borderRadius:2,marginLeft:-2,backgroundColor:"#5bc0de"};SweetAlertStyles.iconInfoAfter={content:"",position:"absolute",width:7,height:7,borderRadius:"50%",marginLeft:-3,left:"50%",top:19,backgroundColor:"#5bc0de"};SweetAlertStyles.iconSuccess={borderColor:"#4cae4c"};SweetAlertStyles.iconSuccessBeforeAfter={content:"",borderRadius:"50%",position:"absolute",width:60,height:120,background:"white",transform:"rotate(45deg)"};SweetAlertStyles.iconSuccessBefore={borderRadius:"120px 0 0 120px",height:100,top:-7,left:-33,transform:"rotate(-45deg)",transformOrigin:"60px 60px"};SweetAlertStyles.iconSuccessAfter={borderRadius:"0 120px 120px 0",top:-11,left:30,transform:"rotate(-45deg)",transformOrigin:"0px 60px",animation:"rotatePlaceholder 4.25s ease-in"};SweetAlertStyles.iconSuccessPlaceholder={width:80,height:80,border:"4px solid rgba(92, 184, 92, 0.2)",borderRadius:"50%",boxSizing:"content-box",position:"absolute",left:-4,top:-4,zIndex:2};SweetAlertStyles.iconSuccessFix={width:5,height:90,backgroundColor:"#fff",position:"absolute",left:28,top:8,zIndex:1,transform:"rotate(-45deg)"};SweetAlertStyles.iconSuccessLine={height:5,backgroundColor:"#5cb85c",display:"block",borderRadius:2,position:"absolute",zIndex:2};SweetAlertStyles.iconSuccessLineTip={width:25,left:14,top:46,transform:"rotate(45deg)",animation:"animateSuccessTip 0.75s"};SweetAlertStyles.iconSuccessLineLong={width:47,right:8,top:38,transform:"rotate(-45deg)",animation:"animateSuccessLong 0.75s"};SweetAlertStyles.iconCustom={backgroundSize:"contain",borderRadius:0,border:"none",backgroundPosition:"center center",backgroundRepeat:"no-repeat"};SweetAlertStyles.button={marginRight:8};SweetAlertStyles.validationMessage={display:"block",backgroundColor:"#f1f1f1",marginLeft:"-1.25rem",marginRight:"-1.25rem",marginTop:20,overflow:"hidden",padding:10,maxHeight:100,transition:"padding 0.25s, max-height 0.25s",color:"#797979",fontSize:16,textAlign:"center",fontWeight:300};SweetAlertStyles.exclamationIcon={display:"inline-block",width:24,height:24,borderRadius:"50%",backgroundColor:"#ea7d7d",color:"white",lineHeight:"24px",textAlign:"center",marginRight:5};SweetAlertStyles.inputErrorIcon={position:"absolute",top:8,right:8,width:20,height:20,transformOrigin:"50% 50%",transition:"all 0.1s",opacity:1,transform:"scale(1)"};SweetAlertStyles.inputErrorIconBeforeAfter={content:"",width:20,height:6,backgroundColor:"#f06e57",borderRadius:3,position:"absolute",top:"50%",marginTop:-4,left:"50%",marginLeft:-9};SweetAlertStyles.inputErrorIconBefore={transform:"rotate(-45deg)"};SweetAlertStyles.inputErrorIconAfter={transform:"rotate(45deg)"};SweetAlertStyles.closeButton={position:"absolute",right:4,top:-2,fontSize:25,fontWeight:900,color:"rgb(113, 113, 113)",zIndex:1,cursor:"pointer"};var __createBinding$8=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tr,Ot,Nt,er){er===void 0&&(er=Nt),Object.defineProperty(tr,er,{enumerable:!0,get:function(){return Ot[Nt]}})}:function(tr,Ot,Nt,er){er===void 0&&(er=Nt),tr[er]=Ot[Nt]}),__setModuleDefault$8=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(tr,Ot){Object.defineProperty(tr,"default",{enumerable:!0,value:Ot})}:function(tr,Ot){tr.default=Ot}),__importStar$8=commonjsGlobal&&commonjsGlobal.__importStar||function(tr){if(tr&&tr.__esModule)return tr;var Ot={};if(tr!=null)for(var Nt in tr)Nt!=="default"&&Object.hasOwnProperty.call(tr,Nt)&&__createBinding$8(Ot,tr,Nt);return __setModuleDefault$8(Ot,tr),Ot},__importDefault$d=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(SuccessIcon$1,"__esModule",{value:!0});var react_1$b=__importDefault$d(reactExports),styles$8=__importStar$8(SweetAlertStyles),SuccessIcon=function(){return react_1$b.default.createElement("div",{style:Object.assign({},styles$8.icon,styles$8.iconSuccess)},react_1$b.default.createElement("div",{style:Object.assign({},styles$8.iconSuccessBeforeAfter,styles$8.iconSuccessBefore)}),react_1$b.default.createElement("span",{style:Object.assign({},styles$8.iconSuccessLine,styles$8.iconSuccessLineTip)}),react_1$b.default.createElement("span",{style:Object.assign({},styles$8.iconSuccessLine,styles$8.iconSuccessLineLong)}),react_1$b.default.createElement("div",{style:styles$8.iconSuccessPlaceholder}),react_1$b.default.createElement("div",{style:styles$8.iconSuccessFix}),react_1$b.default.createElement("div",{style:Object.assign({},styles$8.iconSuccessBeforeAfter,styles$8.iconSuccessAfter)}))};SuccessIcon$1.default=SuccessIcon;var ErrorIcon$1={},__createBinding$7=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tr,Ot,Nt,er){er===void 0&&(er=Nt),Object.defineProperty(tr,er,{enumerable:!0,get:function(){return Ot[Nt]}})}:function(tr,Ot,Nt,er){er===void 0&&(er=Nt),tr[er]=Ot[Nt]}),__setModuleDefault$7=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(tr,Ot){Object.defineProperty(tr,"default",{enumerable:!0,value:Ot})}:function(tr,Ot){tr.default=Ot}),__importStar$7=commonjsGlobal&&commonjsGlobal.__importStar||function(tr){if(tr&&tr.__esModule)return tr;var Ot={};if(tr!=null)for(var Nt in tr)Nt!=="default"&&Object.hasOwnProperty.call(tr,Nt)&&__createBinding$7(Ot,tr,Nt);return __setModuleDefault$7(Ot,tr),Ot},__importDefault$c=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(ErrorIcon$1,"__esModule",{value:!0});var react_1$a=__importDefault$c(reactExports),styles$7=__importStar$7(SweetAlertStyles),ErrorIcon=function(){return react_1$a.default.createElement("div",{style:Object.assign({},styles$7.icon,styles$7.iconError)},react_1$a.default.createElement("span",{style:styles$7.iconErrorX},react_1$a.default.createElement("span",{style:Object.assign({},styles$7.iconErrorLine,styles$7.iconErrorLineLeft)}),react_1$a.default.createElement("span",{style:Object.assign({},styles$7.iconErrorLine,styles$7.iconErrorLineRight)})))};ErrorIcon$1.default=ErrorIcon;var InfoIcon$1={},__createBinding$6=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tr,Ot,Nt,er){er===void 0&&(er=Nt),Object.defineProperty(tr,er,{enumerable:!0,get:function(){return Ot[Nt]}})}:function(tr,Ot,Nt,er){er===void 0&&(er=Nt),tr[er]=Ot[Nt]}),__setModuleDefault$6=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(tr,Ot){Object.defineProperty(tr,"default",{enumerable:!0,value:Ot})}:function(tr,Ot){tr.default=Ot}),__importStar$6=commonjsGlobal&&commonjsGlobal.__importStar||function(tr){if(tr&&tr.__esModule)return tr;var Ot={};if(tr!=null)for(var Nt in tr)Nt!=="default"&&Object.hasOwnProperty.call(tr,Nt)&&__createBinding$6(Ot,tr,Nt);return __setModuleDefault$6(Ot,tr),Ot},__importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(InfoIcon$1,"__esModule",{value:!0});var react_1$9=__importDefault$b(reactExports),styles$6=__importStar$6(SweetAlertStyles),InfoIcon=function(){return react_1$9.default.createElement("div",{style:Object.assign({},styles$6.icon,styles$6.iconInfo)},react_1$9.default.createElement("div",{style:styles$6.iconInfoBefore}),react_1$9.default.createElement("div",{style:styles$6.iconInfoAfter}))};InfoIcon$1.default=InfoIcon;var WarningIcon={},__createBinding$5=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tr,Ot,Nt,er){er===void 0&&(er=Nt),Object.defineProperty(tr,er,{enumerable:!0,get:function(){return Ot[Nt]}})}:function(tr,Ot,Nt,er){er===void 0&&(er=Nt),tr[er]=Ot[Nt]}),__setModuleDefault$5=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(tr,Ot){Object.defineProperty(tr,"default",{enumerable:!0,value:Ot})}:function(tr,Ot){tr.default=Ot}),__importStar$5=commonjsGlobal&&commonjsGlobal.__importStar||function(tr){if(tr&&tr.__esModule)return tr;var Ot={};if(tr!=null)for(var Nt in tr)Nt!=="default"&&Object.hasOwnProperty.call(tr,Nt)&&__createBinding$5(Ot,tr,Nt);return __setModuleDefault$5(Ot,tr),Ot},__importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(WarningIcon,"__esModule",{value:!0});var react_1$8=__importDefault$a(reactExports),styles$5=__importStar$5(SweetAlertStyles);WarningIcon.default=function(){return react_1$8.default.createElement("div",{style:Object.assign({},styles$5.icon,styles$5.iconWarning)},react_1$8.default.createElement("span",{style:styles$5.iconWarningBody}),react_1$8.default.createElement("span",{style:styles$5.iconWarningDot}))};var CustomIcon$1={},__createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tr,Ot,Nt,er){er===void 0&&(er=Nt),Object.defineProperty(tr,er,{enumerable:!0,get:function(){return Ot[Nt]}})}:function(tr,Ot,Nt,er){er===void 0&&(er=Nt),tr[er]=Ot[Nt]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(tr,Ot){Object.defineProperty(tr,"default",{enumerable:!0,value:Ot})}:function(tr,Ot){tr.default=Ot}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(tr){if(tr&&tr.__esModule)return tr;var Ot={};if(tr!=null)for(var Nt in tr)Nt!=="default"&&Object.hasOwnProperty.call(tr,Nt)&&__createBinding$4(Ot,tr,Nt);return __setModuleDefault$4(Ot,tr),Ot},__importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(CustomIcon$1,"__esModule",{value:!0});var react_1$7=__importDefault$9(reactExports),styles$4=__importStar$4(SweetAlertStyles),defaultStyle=Object.assign({},styles$4.icon,styles$4.iconCustom),CustomIcon=function(tr){var Ot=tr.iconUrl,Nt="url("+Ot,er=Object.assign({},defaultStyle,{backgroundImage:Nt});return react_1$7.default.createElement("div",{style:er})};CustomIcon$1.default=CustomIcon;var Buttons$1={},__extends$3=commonjsGlobal&&commonjsGlobal.__extends||function(){var tr=function(Ot,Nt){return tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(er,rr){er.__proto__=rr}||function(er,rr){for(var ir in rr)rr.hasOwnProperty(ir)&&(er[ir]=rr[ir])},tr(Ot,Nt)};return function(Ot,Nt){tr(Ot,Nt);function er(){this.constructor=Ot}Ot.prototype=Nt===null?Object.create(Nt):(er.prototype=Nt.prototype,new er)}}(),__createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tr,Ot,Nt,er){er===void 0&&(er=Nt),Object.defineProperty(tr,er,{enumerable:!0,get:function(){return Ot[Nt]}})}:function(tr,Ot,Nt,er){er===void 0&&(er=Nt),tr[er]=Ot[Nt]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(tr,Ot){Object.defineProperty(tr,"default",{enumerable:!0,value:Ot})}:function(tr,Ot){tr.default=Ot}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(tr){if(tr&&tr.__esModule)return tr;var Ot={};if(tr!=null)for(var Nt in tr)Nt!=="default"&&Object.hasOwnProperty.call(tr,Nt)&&__createBinding$3(Ot,tr,Nt);return __setModuleDefault$3(Ot,tr),Ot},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(Buttons$1,"__esModule",{value:!0});var react_1$6=__importDefault$8(reactExports),styles$3=__importStar$3(SweetAlertStyles),SweetAlertStyles_1$3=SweetAlertStyles,Buttons=function(tr){__extends$3(Ot,tr);function Ot(){var Nt=tr!==null&&tr.apply(this,arguments)||this;return Nt.buttonStyles={},Nt.confirmButtonElement=null,Nt.cancelButtonElement=null,Nt.setConfirmButtonElementRef=function(er){Nt.confirmButtonElement=er},Nt.setCancelButtonElementRef=function(er){Nt.cancelButtonElement=er},Nt.getButtonStyle=function(er){if(er==="error"&&(er="danger"),Nt.buttonStyles[er]==null){var rr=Ot.styles[er]||Ot.styles.default;Nt.buttonStyles[er]={borderColor:""+rr.borderColor,boxShadow:"inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px "+rr.shadowColor}}return Nt.buttonStyles[er]},Nt}return Ot.prototype.componentDidMount=function(){this.focusButton()},Ot.prototype.componentDidUpdate=function(Nt){var er=this;(Nt.type!==this.props.type||Nt.confirmBtnText!==this.props.confirmBtnText||Nt.title!==this.props.title)&&setTimeout(function(){return er.focusButton()},0)},Ot.prototype.focusButton=function(){if(this.props.focusCancelBtn&&this.cancelButtonElement)try{this.cancelButtonElement.focus()}catch{}else if(this.props.focusConfirmBtn&&this.confirmButtonElement)try{this.confirmButtonElement.focus()}catch{}},Ot.prototype.confirmButtonRender=function(){var Nt=this;if(!this.props.showConfirm)return!1;var er=this.props.confirmBtnBsStyle==="error"?"danger":this.props.confirmBtnBsStyle,rr=Object.assign({},styles$3.button,this.getButtonStyle(er),this.props.confirmBtnStyle||{});return react_1$6.default.createElement("a",{ref:this.setConfirmButtonElementRef,href:"#",style:rr,className:"btn btn-"+this.props.btnSize+" btn-"+er+" "+this.props.confirmBtnCssClass+" "+(this.props.disabled?"disabled":""),onClick:function(ir){ir.stopPropagation(),ir.preventDefault(),Nt.props.disabled||Nt.props.onConfirm()}},this.props.confirmBtnText)},Ot.prototype.cancelButtonRender=function(){var Nt=this;if(!this.props.showCancel)return!1;var er=this.props.cancelBtnBsStyle==="error"?"danger":this.props.cancelBtnBsStyle,rr=Object.assign({},styles$3.button,this.props.cancelBtnStyle||{});return react_1$6.default.createElement("a",{ref:this.setCancelButtonElementRef,href:"#",style:rr,className:"btn btn-"+this.props.btnSize+" btn-"+er+" "+this.props.cancelBtnCssClass,onClick:function(ir){ir.stopPropagation(),ir.preventDefault(),Nt.props.onCancel()}},this.props.cancelBtnText)},Ot.prototype.render=function(){return!this.props.showConfirm&&!this.props.showCancel?!1:react_1$6.default.createElement("p",{style:SweetAlertStyles_1$3.actions},this.props.customButtons?this.props.customButtons:react_1$6.default.createElement(react_1$6.default.Fragment,null,this.props.reverseButtons?react_1$6.default.createElement(react_1$6.default.Fragment,null,this.confirmButtonRender(),this.cancelButtonRender()):react_1$6.default.createElement(react_1$6.default.Fragment,null,this.cancelButtonRender(),this.confirmButtonRender())))},Ot.defaultProps={confirmBtnText:"OK",confirmBtnBsStyle:"primary",confirmBtnCssClass:"",confirmBtnStyle:{},cancelBtnText:"Cancel",cancelBtnBsStyle:"link",cancelBtnCssClass:"",cancelBtnStyle:{},focusConfirmBtn:!0,focusCancelBtn:!1,showConfirm:!0,showCancel:!1,reverseButtons:!1,btnSize:"lg"},Ot.styles={primary:{borderColor:"#286090",shadowColor:"rgb(165, 202, 234)"},success:{borderColor:"#4cae4c",shadowColor:"rgba(76, 174, 76, 0.6)"},info:{borderColor:"#46b8da",shadowColor:"rgba(70, 184, 218, 0.6)"},danger:{borderColor:"#d43f3a",shadowColor:"rgba(212, 63, 58, 0.6)"},warning:{borderColor:"#eea236",shadowColor:"rgba(238, 162, 54, 0.6)"},default:{borderColor:"#cccccc",shadowColor:"rgba(204, 204, 204, 0.6)"},secondary:{borderColor:"#cccccc",shadowColor:"rgba(204, 204, 204, 0.6)"}},Ot}(react_1$6.default.Component);Buttons$1.default=Buttons;var Input$1={},__extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var tr=function(Ot,Nt){return tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(er,rr){er.__proto__=rr}||function(er,rr){for(var ir in rr)rr.hasOwnProperty(ir)&&(er[ir]=rr[ir])},tr(Ot,Nt)};return function(Ot,Nt){tr(Ot,Nt);function er(){this.constructor=Ot}Ot.prototype=Nt===null?Object.create(Nt):(er.prototype=Nt.prototype,new er)}}(),__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tr,Ot,Nt,er){er===void 0&&(er=Nt),Object.defineProperty(tr,er,{enumerable:!0,get:function(){return Ot[Nt]}})}:function(tr,Ot,Nt,er){er===void 0&&(er=Nt),tr[er]=Ot[Nt]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(tr,Ot){Object.defineProperty(tr,"default",{enumerable:!0,value:Ot})}:function(tr,Ot){tr.default=Ot}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(tr){if(tr&&tr.__esModule)return tr;var Ot={};if(tr!=null)for(var Nt in tr)Nt!=="default"&&Object.hasOwnProperty.call(tr,Nt)&&__createBinding$2(Ot,tr,Nt);return __setModuleDefault$2(Ot,tr),Ot},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(Input$1,"__esModule",{value:!0});var react_1$5=__importDefault$7(reactExports),styles$2=__importStar$2(SweetAlertStyles),Input=function(tr){__extends$2(Ot,tr);function Ot(){var Nt=tr!==null&&tr.apply(this,arguments)||this;return Nt.inputElement=null,Nt.setInputElementRef=function(er){Nt.inputElement=er},Nt}return Ot.prototype.componentDidMount=function(){if(this.props.type==="input")try{this.inputElement.focus()}catch{}},Ot.prototype.render=function(){var Nt=this;return react_1$5.default.createElement("div",{style:{position:"relative"}},this.props.inputType==="textarea"?react_1$5.default.createElement("textarea",{ref:this.setInputElementRef,rows:4,className:"form-control",value:this.props.inputValue||"",onChange:function(er){return Nt.props.onChangeInput(er)},onKeyDown:function(er){return Nt.props.onInputKeyDown(er)},placeholder:this.props.placeholder}):react_1$5.default.createElement("input",{type:this.props.inputType,ref:this.setInputElementRef,className:"form-control",value:this.props.inputValue||"",onChange:function(er){return Nt.props.onChangeInput(er)},onKeyDown:function(er){return Nt.props.onInputKeyDown(er)},placeholder:this.props.placeholder}),this.props.showValidationMessage&&react_1$5.default.createElement("div",{style:styles$2.inputErrorIcon},react_1$5.default.createElement("div",{style:Object.assign({},styles$2.inputErrorIconBeforeAfter,styles$2.inputErrorIconBefore)}),react_1$5.default.createElement("div",{style:Object.assign({},styles$2.inputErrorIconBeforeAfter,styles$2.inputErrorIconAfter)})))},Ot}(react_1$5.default.Component);Input$1.default=Input;var ValidationMessage$1={},__createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tr,Ot,Nt,er){er===void 0&&(er=Nt),Object.defineProperty(tr,er,{enumerable:!0,get:function(){return Ot[Nt]}})}:function(tr,Ot,Nt,er){er===void 0&&(er=Nt),tr[er]=Ot[Nt]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(tr,Ot){Object.defineProperty(tr,"default",{enumerable:!0,value:Ot})}:function(tr,Ot){tr.default=Ot}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(tr){if(tr&&tr.__esModule)return tr;var Ot={};if(tr!=null)for(var Nt in tr)Nt!=="default"&&Object.hasOwnProperty.call(tr,Nt)&&__createBinding$1(Ot,tr,Nt);return __setModuleDefault$1(Ot,tr),Ot},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(ValidationMessage$1,"__esModule",{value:!0});var react_1$4=__importDefault$6(reactExports),styles$1=__importStar$1(SweetAlertStyles),defaultMessage="Please enter a response!",emailMessage="Please enter a valid email!",ValidationMessage=function(tr){var Ot=tr.validationMsg,Nt=tr.inputType,er=Ot||(Nt==="email"?emailMessage:defaultMessage);return react_1$4.default.createElement("div",{style:styles$1.validationMessage},react_1$4.default.createElement("div",{style:styles$1.exclamationIcon},"!"),er)};ValidationMessage$1.default=ValidationMessage;var Title$1={},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(Title$1,"__esModule",{value:!0});var react_1$3=__importDefault$5(reactExports),SweetAlertStyles_1$2=SweetAlertStyles,Title=function(tr){var Ot=tr.children;return react_1$3.default.createElement("h2",{style:SweetAlertStyles_1$2.title},Ot)};Title$1.default=Title;var Content$1={},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(Content$1,"__esModule",{value:!0});var react_1$2=__importDefault$4(reactExports),SweetAlertStyles_1$1=SweetAlertStyles,Content=function(tr){var Ot=tr.children;return react_1$2.default.createElement("div",{style:SweetAlertStyles_1$1.contentContainer},Ot)};Content$1.default=Content;var Overlay$1={},__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var tr=function(Ot,Nt){return tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(er,rr){er.__proto__=rr}||function(er,rr){for(var ir in rr)rr.hasOwnProperty(ir)&&(er[ir]=rr[ir])},tr(Ot,Nt)};return function(Ot,Nt){tr(Ot,Nt);function er(){this.constructor=Ot}Ot.prototype=Nt===null?Object.create(Nt):(er.prototype=Nt.prototype,new er)}}(),__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(tr){for(var Ot,Nt=1,er=arguments.length;Nt<er;Nt++){Ot=arguments[Nt];for(var rr in Ot)Object.prototype.hasOwnProperty.call(Ot,rr)&&(tr[rr]=Ot[rr])}return tr},__assign$1.apply(this,arguments)},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(Overlay$1,"__esModule",{value:!0});var react_1$1=__importDefault$3(reactExports),SweetAlertStyles_1=SweetAlertStyles,Overlay=function(tr){__extends$1(Ot,tr);function Ot(){var Nt=tr!==null&&tr.apply(this,arguments)||this;return Nt.overlayElement=null,Nt.setOverlayElementRef=function(er){Nt.overlayElement=er},Nt}return Ot.prototype.componentDidMount=function(){this.overlayElement&&(this.overlayElement.scrollTop=0)},Ot.prototype.render=function(){var Nt=this.props,er=Nt.show,rr=Nt.onClick,ir=Nt.onKeyDown,nr=Nt.children;return er?react_1$1.default.createElement("div",{ref:this.setOverlayElementRef,style:__assign$1(__assign$1({},SweetAlertStyles_1.overlay),SweetAlertStyles_1.sweetAlertContainer),onClick:function(sr){return rr(sr)},tabIndex:0,onKeyDown:function(sr){return ir(sr)}},nr):react_1$1.default.createElement("div",{style:SweetAlertStyles_1.sweetAlertContainer,tabIndex:0,onKeyDown:function(sr){return ir(sr)}},nr)},Ot}(react_1$1.default.Component);Overlay$1.default=Overlay;var patterns={};Object.defineProperty(patterns,"__esModule",{value:!0});patterns.emailRegex=patterns.defaultRegex=void 0;patterns.defaultRegex=/^.+$/;patterns.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var propTypes={},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(propTypes,"__esModule",{value:!0});propTypes.SWEET_ALERT_PROP_TYPES=void 0;var prop_types_1$1=__importDefault$2(propTypesExports);propTypes.SWEET_ALERT_PROP_TYPES={type:prop_types_1$1.default.oneOf(["default","info","success","warning","danger","error","input","custom","controlled"]),info:prop_types_1$1.default.bool,success:prop_types_1$1.default.bool,warning:prop_types_1$1.default.bool,danger:prop_types_1$1.default.bool,error:prop_types_1$1.default.bool,input:prop_types_1$1.default.bool,custom:prop_types_1$1.default.bool,controlled:prop_types_1$1.default.bool,title:prop_types_1$1.default.oneOfType([prop_types_1$1.default.node,prop_types_1$1.default.string]).isRequired,onCancel:prop_types_1$1.default.func,onConfirm:prop_types_1$1.default.func.isRequired,confirmBtnText:prop_types_1$1.default.oneOfType([prop_types_1$1.default.node,prop_types_1$1.default.string]),confirmBtnBsStyle:prop_types_1$1.default.string,confirmBtnCssClass:prop_types_1$1.default.string,confirmBtnStyle:prop_types_1$1.default.object,cancelBtnText:prop_types_1$1.default.oneOfType([prop_types_1$1.default.node,prop_types_1$1.default.string]),cancelBtnBsStyle:prop_types_1$1.default.string,cancelBtnCssClass:prop_types_1$1.default.string,cancelBtnStyle:prop_types_1$1.default.object,btnSize:prop_types_1$1.default.string,customIcon:prop_types_1$1.default.oneOfType([prop_types_1$1.default.node,prop_types_1$1.default.string]),show:prop_types_1$1.default.bool,required:prop_types_1$1.default.bool,placeholder:prop_types_1$1.default.string,validationMsg:prop_types_1$1.default.string,validationRegex:prop_types_1$1.default.object,defaultValue:prop_types_1$1.default.oneOfType([prop_types_1$1.default.number,prop_types_1$1.default.string]),inputType:prop_types_1$1.default.string,style:prop_types_1$1.default.object,closeBtnStyle:prop_types_1$1.default.object,customClass:prop_types_1$1.default.string,showConfirm:prop_types_1$1.default.bool,showCancel:prop_types_1$1.default.bool,showCloseButton:prop_types_1$1.default.bool,allowEscape:prop_types_1$1.default.bool,closeOnClickOutside:prop_types_1$1.default.bool,hideOverlay:prop_types_1$1.default.bool,disabled:prop_types_1$1.default.bool,focusConfirmBtn:prop_types_1$1.default.bool,focusCancelBtn:prop_types_1$1.default.bool,beforeMount:prop_types_1$1.default.func,afterMount:prop_types_1$1.default.func,beforeUpdate:prop_types_1$1.default.func,afterUpdate:prop_types_1$1.default.func,beforeUnmount:prop_types_1$1.default.func,timeout:prop_types_1$1.default.number,openAnim:prop_types_1$1.default.any,closeAnim:prop_types_1$1.default.any,reverseButtons:prop_types_1$1.default.bool,customButtons:prop_types_1$1.default.node,dependencies:prop_types_1$1.default.arrayOf(prop_types_1$1.default.any)};var defaultProps={};Object.defineProperty(defaultProps,"__esModule",{value:!0});defaultProps.SWEET_ALERT_DEFAULT_PROPS=void 0;defaultProps.SWEET_ALERT_DEFAULT_PROPS={allowEscape:!0,closeOnClickOutside:!0,inputType:"text",customClass:"",validationMsg:null,validationRegex:null,hideOverlay:!1,required:!0,disabled:!1,focusConfirmBtn:!0,focusCancelBtn:!1,showCloseButton:!1,confirmBtnBsStyle:"primary",cancelBtnBsStyle:"link",beforeMount:function(){},afterMount:function(){},beforeUpdate:null,afterUpdate:function(){},beforeUnmount:function(){},style:{},closeBtnStyle:{},timeout:0,openAnim:{name:"showSweetAlert",duration:300},closeAnim:!1,reverseButtons:!1,dependencies:[]};var __extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var tr=function(Ot,Nt){return tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(er,rr){er.__proto__=rr}||function(er,rr){for(var ir in rr)rr.hasOwnProperty(ir)&&(er[ir]=rr[ir])},tr(Ot,Nt)};return function(Ot,Nt){tr(Ot,Nt);function er(){this.constructor=Ot}Ot.prototype=Nt===null?Object.create(Nt):(er.prototype=Nt.prototype,new er)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(tr){for(var Ot,Nt=1,er=arguments.length;Nt<er;Nt++){Ot=arguments[Nt];for(var rr in Ot)Object.prototype.hasOwnProperty.call(Ot,rr)&&(tr[rr]=Ot[rr])}return tr},__assign.apply(this,arguments)},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tr,Ot,Nt,er){er===void 0&&(er=Nt),Object.defineProperty(tr,er,{enumerable:!0,get:function(){return Ot[Nt]}})}:function(tr,Ot,Nt,er){er===void 0&&(er=Nt),tr[er]=Ot[Nt]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(tr,Ot){Object.defineProperty(tr,"default",{enumerable:!0,value:Ot})}:function(tr,Ot){tr.default=Ot}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(tr){if(tr&&tr.__esModule)return tr;var Ot={};if(tr!=null)for(var Nt in tr)Nt!=="default"&&Object.hasOwnProperty.call(tr,Nt)&&__createBinding(Ot,tr,Nt);return __setModuleDefault(Ot,tr),Ot},__spreadArrays=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var tr=0,Ot=0,Nt=arguments.length;Ot<Nt;Ot++)tr+=arguments[Ot].length;for(var er=Array(tr),rr=0,Ot=0;Ot<Nt;Ot++)for(var ir=arguments[Ot],nr=0,sr=ir.length;nr<sr;nr++,rr++)er[rr]=ir[nr];return er},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(SweetAlert$1,"__esModule",{value:!0});var react_1=__importDefault$1(reactExports),SuccessIcon_1=__importDefault$1(SuccessIcon$1),ErrorIcon_1=__importDefault$1(ErrorIcon$1),InfoIcon_1=__importDefault$1(InfoIcon$1),WarningIcon_1=__importDefault$1(WarningIcon),CustomIcon_1=__importDefault$1(CustomIcon$1),Buttons_1=__importDefault$1(Buttons$1),Input_1=__importDefault$1(Input$1),ValidationMessage_1=__importDefault$1(ValidationMessage$1),Title_1=__importDefault$1(Title$1),Content_1=__importDefault$1(Content$1),Overlay_1=__importDefault$1(Overlay$1),styles=__importStar(SweetAlertStyles),Patterns=__importStar(patterns),prop_types_1=propTypes,default_props_1=defaultProps,SWEET_ALERT_DEFAULT_STYLES=styles.sweetAlert,_resetting={},debugLogger=function(){},SweetAlert=function(tr){__extends(Ot,tr);function Ot(Nt){var er=tr.call(this,Nt)||this;er.inputElement=null,er.unsupportedProp=function(ir,nr){try{console.warn("react-bootstrap-sweetalert: Unsupported prop '"+ir+"'. Please "+nr)}catch{}},er.focusInput=function(){if(debugLogger("inputElement",er.inputElement),er.inputElement){debugLogger("inputElement trying to focus",er.inputElement);try{er.inputElement.focus()}catch{}}},er.getIcon=function(){switch(er.state.type){case"danger":case"error":return react_1.default.createElement(ErrorIcon_1.default,null);case"warning":return react_1.default.createElement(WarningIcon_1.default,null);case"info":return react_1.default.createElement(InfoIcon_1.default,null);case"success":return react_1.default.createElement(SuccessIcon_1.default,null);case"custom":return er.props.customIcon?typeof er.props.customIcon=="string"?react_1.default.createElement(CustomIcon_1.default,{iconUrl:er.props.customIcon}):er.props.customIcon:null;default:return null}},er.onChangeInput=function(ir){var nr=ir.target;er.setState({inputValue:nr.value,showValidationMessage:!1})},er.isValidInput=function(){if(!er.props.required)return!0;var ir=er.props.validationRegex||(er.props.inputType==="email"?Patterns.emailRegex:Patterns.defaultRegex);return ir.test(er.state.inputValue)},er.isDisabled=function(){return er.props.onCancel&&er.props.disabled},er.onAlertClose=function(ir){_resetting[er.state.id]=!0,er.setState(__assign(__assign({},Ot.getDefaultState()),{id:er.state.id}),function(){_resetting[er.state.id]=!1,ir()})},er.beforeCloseAlert=function(ir,nr){er.setState({show:!1,closingAction:ir},function(){debugLogger("state updated",er.state.show),er.state.show||nr()})},er.onConfirm=function(ir){if(ir===void 0&&(ir=!0),!er.isDisabled()){var nr=er.state.type==="input",sr=er.state.inputValue,ar=er.state.type==="controlled",lr=__spreadArrays(er.state.dependencies);if(nr&&!er.isValidInput()){er.setState({showValidationMessage:!0});return}var cr=function(){nr?er.onAlertClose(function(){er.props.onConfirm(sr)}):ar?er.onAlertClose(function(){er.props.onConfirm(lr)}):er.onAlertClose(function(){return er.props.onConfirm()})};ir?er.beforeCloseAlert("confirm",function(){return cr()}):cr()}},er.onCancel=function(ir){ir===void 0&&(ir=!0);var nr=function(){er.onAlertClose(function(){er.props.onCancel&&er.props.onCancel()})};ir?er.beforeCloseAlert("cancel",function(){return nr()}):nr()},er.onInputKeyDown=function(ir){ir.keyCode==13&&(ir.stopPropagation(),er.onConfirm())},er.onKeyDown=function(ir){ir.keyCode==27&&er.props.allowEscape&&er.props.onCancel&&(ir.stopPropagation(),er.onCancel())},er.onClickInside=function(ir){ir.stopPropagation()},er.onClickOutside=function(){er.props.closeOnClickOutside&&er.props.onCancel&&er.onCancel()},er.setAutoFocusInputRef=function(ir){er.inputElement=ir},er.getComposedStyle=function(){return Object.assign({},SWEET_ALERT_DEFAULT_STYLES,er.props.style,{animation:er.state.animation})},er.getAlertContent=function(){if(typeof er.props.children=="function"){var ir={onEnterKeyDownConfirm:function(nr){nr.key==="Enter"&&(nr.preventDefault(),nr.stopPropagation(),er.onConfirm())},confirm:function(){return er.onConfirm()},cancel:function(){return er.onCancel()},setAutoFocusInputRef:er.setAutoFocusInputRef.bind(er)};return er.props.children(ir)}return er.props.children},er.getCloseButton=function(){return!er.props.showCloseButton||!er.props.onCancel?null:react_1.default.createElement("span",{className:"btn",style:Object.assign({},styles.closeButton,er.props.closeBtnStyle),onClick:function(){return er.onCancel()}},"x")},er.getInputField=function(){return er.state.type!=="input"?null:react_1.default.createElement(Input_1.default,__assign({},er.props,er.state,{type:er.state.type,onInputKeyDown:er.onInputKeyDown,onChangeInput:er.onChangeInput}))},er.getValidationMessage=function(){return er.state.showValidationMessage?react_1.default.createElement(ValidationMessage_1.default,__assign({},er.props)):null},er.getButtons=function(){return react_1.default.createElement(Buttons_1.default,__assign({},er.props,{type:er.state.type,onConfirm:er.onConfirm,onCancel:er.onCancel,focusConfirmBtn:er.state.focusConfirmBtn,focusCancelBtn:er.state.focusCancelBtn,disabled:er.isDisabled()}))},er.getInjectedStyles=function(){return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:`
                body.sweetalert-overflow-hidden {
                  overflow: hidden;
                }
                body .sweet-alert button {
                  outline: none !important;
                }
              `}}),react_1.default.createElement("style",{type:"text/css"},"@-webkit-keyframes showSweetAlert {  0% {    transform: scale(0.7);    -webkit-transform: scale(0.7);  }  45% {    transform: scale(1.05);    -webkit-transform: scale(1.05);  }  80% {    transform: scale(0.95);    -webkit-tranform: scale(0.95);  }  100% {    transform: scale(1);    -webkit-transform: scale(1);  }}@keyframes showSweetAlert {  0% {    transform: scale(0.7);    -webkit-transform: scale(0.7);  }  45% {    transform: scale(1.05);    -webkit-transform: scale(1.05);  }  80% {    transform: scale(0.95);    -webkit-tranform: scale(0.95);  }  100% {    transform: scale(1);    -webkit-transform: scale(1);  }}@-webkit-keyframes hideSweetAlert {  0% {    transform: scale(1);    -webkit-transform: scale(1);  }  100% {    transform: scale(0.4);    -webkit-transform: scale(0.4);  }}@keyframes hideSweetAlert {  0% {    transform: scale(1);    -webkit-transform: scale(1);  }  100% {    transform: scale(0.4);    -webkit-transform: scale(0.4);  }}@-webkit-keyframes animateSuccessTip {  0% {    width: 0;    left: 1px;    top: 19px;  }  54% {    width: 0;    left: 1px;    top: 19px;  }  70% {    width: 50px;    left: -8px;    top: 37px;  }  84% {    width: 17px;    left: 21px;    top: 48px;  }  100% {    width: 25px;    left: 14px;    top: 45px;  }}@keyframes animateSuccessTip {  0% {    width: 0;    left: 1px;    top: 19px;  }  54% {    width: 0;    left: 1px;    top: 19px;  }  70% {    width: 50px;    left: -8px;    top: 37px;  }  84% {    width: 17px;    left: 21px;    top: 48px;  }  100% {    width: 25px;    left: 14px;    top: 45px;  }}@-webkit-keyframes animateSuccessLong {  0% {    width: 0;    right: 46px;    top: 54px;  }  65% {    width: 0;    right: 46px;    top: 54px;  }  84% {    width: 55px;    right: 0px;    top: 35px;  }  100% {    width: 47px;    right: 8px;    top: 38px;  }}@keyframes animateSuccessLong {  0% {    width: 0;    right: 46px;    top: 54px;  }  65% {    width: 0;    right: 46px;    top: 54px;  }  84% {    width: 55px;    right: 0px;    top: 35px;  }  100% {    width: 47px;    right: 8px;    top: 38px;  }}@-webkit-keyframes rotatePlaceholder {  0% {    transform: rotate(-45deg);    -webkit-transform: rotate(-45deg);  }  5% {    transform: rotate(-45deg);    -webkit-transform: rotate(-45deg);  }  12% {    transform: rotate(-405deg);    -webkit-transform: rotate(-405deg);  }  100% {    transform: rotate(-405deg);    -webkit-transform: rotate(-405deg);  }}@keyframes rotatePlaceholder {  0% {    transform: rotate(-45deg);    -webkit-transform: rotate(-45deg);  }  5% {    transform: rotate(-45deg);    -webkit-transform: rotate(-45deg);  }  12% {    transform: rotate(-405deg);    -webkit-transform: rotate(-405deg);  }  100% {    transform: rotate(-405deg);    -webkit-transform: rotate(-405deg);  }}@-webkit-keyframes animateErrorIcon {  0% {    transform: rotateX(100deg);    -webkit-transform: rotateX(100deg);    opacity: 0;  }  100% {    transform: rotateX(0deg);    -webkit-transform: rotateX(0deg);    opacity: 1;  }}@keyframes animateErrorIcon {  0% {    transform: rotateX(100deg);    -webkit-transform: rotateX(100deg);    opacity: 0;  }  100% {    transform: rotateX(0deg);    -webkit-transform: rotateX(0deg);    opacity: 1;  }}@-webkit-keyframes animateXMark {  0% {    transform: scale(0.4);    -webkit-transform: scale(0.4);    margin-top: 26px;    opacity: 0;  }  50% {    transform: scale(0.4);    -webkit-transform: scale(0.4);    margin-top: 26px;    opacity: 0;  }  80% {    transform: scale(1.15);    -webkit-transform: scale(1.15);    margin-top: -6px;  }  100% {    transform: scale(1);    -webkit-transform: scale(1);    margin-top: 0;    opacity: 1;  }}@keyframes animateXMark {  0% {    transform: scale(0.4);    -webkit-transform: scale(0.4);    margin-top: 26px;    opacity: 0;  }  50% {    transform: scale(0.4);    -webkit-transform: scale(0.4);    margin-top: 26px;    opacity: 0;  }  80% {    transform: scale(1.15);    -webkit-transform: scale(1.15);    margin-top: -6px;  }  100% {    transform: scale(1);    -webkit-transform: scale(1);    margin-top: 0;    opacity: 1;  }}@-webkit-keyframes pulseWarning {  0% {    border-color: #F8D486;  }  100% {    border-color: #F8BB86;  }}@keyframes pulseWarning {  0% {    border-color: #F8D486;  }  100% {    border-color: #F8BB86;  }}@-webkit-keyframes pulseWarningIns {  0% {    background-color: #F8D486;  }  100% {    background-color: #F8BB86;  }}@keyframes pulseWarningIns {  0% {    background-color: #F8D486;  }  100% {    background-color: #F8BB86;  }}"))},er.props.beforeUpdate&&er.unsupportedProp("beforeUpdate","use props.afterUpdate");var rr=Object.assign(Ot.getDefaultState(),{hideTimeoutHandlerFunc:er.hideTimeoutHandler.bind(er)});return er.props.defaultValue!=null&&(rr.inputValue=er.props.defaultValue),er.state=rr,er.props.beforeMount(),er}return Ot.prototype.componentDidMount=function(){document.body.classList.add("sweetalert-overflow-hidden"),this.focusInput(),this.props.afterMount&&this.props.afterMount()},Ot.generateId=function(){return""+Date.now()+Math.ceil(Math.random()*1e10)+Math.ceil(Math.random()*1e10)},Ot.getDefaultState=function(){return{id:Ot.generateId(),show:!0,focusConfirmBtn:!0,focusCancelBtn:!1,inputValue:"",showValidationMessage:!1,timer:null,animation:"",prevTimeout:0,closingAction:null,dependencies:[]}},Ot.getDerivedStateFromProps=function(Nt,er){if(_resetting[er.id])return{};var rr={},ir=er.type!==Ot.getTypeFromProps(Nt),nr=er.dependencies!==Nt.dependencies,sr=er.prevTimeout!==Nt.timeout;return(ir||nr)&&(rr=__assign(__assign({},rr),Ot.getStateFromProps(Nt))),(JSON.stringify(rr)!=="{}"||sr)&&(rr=__assign(__assign({},rr),Ot.handleTimeout(Nt,er.timer))),__assign(__assign({},rr),Ot.handleAnimState(Nt,er,er.hideTimeoutHandlerFunc))},Ot.prototype.componentDidUpdate=function(Nt,er){this.props.beforeUpdate&&this.props.beforeUpdate(Nt,er),!er.show&&this.state.show&&this.focusInput(),this.props.afterUpdate(this.props,this.state)},Ot.prototype.componentWillUnmount=function(){document.body.classList.remove("sweetalert-overflow-hidden"),this.state.timer&&clearTimeout(this.state.timer),this.props.beforeUnmount&&this.props.beforeUnmount()},Ot.prototype.hideTimeoutHandler=function(Nt){var er=this;setTimeout(function(){var rr=er.state.closingAction;er.setState({show:!1,closingAction:null},function(){switch(rr){case"confirm":er.onConfirm(!1);break;case"cancel":er.onCancel(!1);break}})},Nt)},Ot.handleTimeout=function(Nt,er){if(er&&clearTimeout(er),Nt.timeout&&Nt.timeout>0){var rr=setTimeout(function(){return Nt.onConfirm()},Nt.timeout);return{timer:rr,prevTimeout:Nt.timeout}}return null},Ot.isAnimation=function(Nt){return Nt&&typeof Nt!="boolean"},Ot.animationFromProp=function(Nt){return Nt.name+" "+Nt.duration+"ms"},Ot.handleAnimState=function(Nt,er,rr){var ir=typeof Nt.show=="boolean",nr=ir&&!er.closingAction?Nt.show:er.show,sr="";if(nr)Nt.openAnim&&(Ot.isAnimation(Nt.openAnim)?sr=Ot.animationFromProp(Nt.openAnim):Ot.isAnimation(Ot.defaultProps.openAnim)&&(sr=Ot.animationFromProp(Ot.defaultProps.openAnim)));else if(er.closingAction&&Nt.closeAnim){var ar=void 0;Ot.isAnimation(Nt.closeAnim)?ar=Nt.closeAnim:Ot.isAnimation(Ot.defaultProps.closeAnim)&&(ar=Ot.defaultProps.closeAnim),ar&&(sr=Ot.animationFromProp(ar),rr(ar.duration),nr=!0)}return{show:nr,animation:sr}},Ot.prototype.render=function(){return this.state.show?react_1.default.createElement("div",null,this.getInjectedStyles(),react_1.default.createElement(Overlay_1.default,{show:!this.props.hideOverlay,onClick:this.onClickOutside,onKeyDown:this.onKeyDown},react_1.default.createElement("div",{style:this.getComposedStyle(),tabIndex:0,onKeyDown:this.onKeyDown,onClick:this.onClickInside,className:"sweet-alert "+this.props.customClass},this.getCloseButton(),this.getIcon(),react_1.default.createElement(Title_1.default,null,this.props.title),react_1.default.createElement(Content_1.default,null,this.getAlertContent()),this.getInputField(),this.getValidationMessage(),this.getButtons()))):null},Ot.propTypes=prop_types_1.SWEET_ALERT_PROP_TYPES,Ot.defaultProps=default_props_1.SWEET_ALERT_DEFAULT_PROPS,Ot.SuccessIcon=SuccessIcon_1.default,Ot.ErrorIcon=ErrorIcon_1.default,Ot.InfoIcon=InfoIcon_1.default,Ot.WarningIcon=WarningIcon_1.default,Ot.CustomIcon=CustomIcon_1.default,Ot.Buttons=Buttons_1.default,Ot.Input=Input_1.default,Ot.ValidationMessage=ValidationMessage_1.default,Ot.Title=Title_1.default,Ot.Content=Content_1.default,Ot.getStateFromProps=function(Nt){var er=Ot.getTypeFromProps(Nt);return{type:er,focusConfirmBtn:Nt.focusConfirmBtn&&er!=="input",focusCancelBtn:Nt.focusCancelBtn&&er!=="input",dependencies:Nt.dependencies}},Ot.getTypeFromProps=function(Nt){return Nt.type?Nt.type:Nt.secondary?"secondary":Nt.info?"info":Nt.success?"success":Nt.warning?"warning":Nt.danger||Nt.error?"danger":Nt.input?"input":Nt.custom?"custom":"default"},Ot}(react_1.default.Component);SweetAlert$1.default=SweetAlert;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(dist$1,"__esModule",{value:!0});var SweetAlert_1=__importDefault(SweetAlert$1),_default=dist$1.default=SweetAlert_1.default;const Breadcrumb=({breadcrumbs:tr=[]})=>jsxRuntimeExports.jsx("nav",{"aria-label":"breadcrumb",children:jsxRuntimeExports.jsx("ol",{className:"breadcrumb",children:tr.map((Ot,Nt)=>jsxRuntimeExports.jsx("li",{className:`breadcrumb-item ${Nt===tr.length-1?"active":""}`,children:Nt===0?jsxRuntimeExports.jsx("a",{href:"!#",onClick:er=>er.preventDefault(),children:Ot.title}):Ot.title},Nt))})}),PageHeader=({pageTitle:tr,breadcrumbs:Ot,icon:Nt})=>jsxRuntimeExports.jsxs("div",{className:"page-header",children:[jsxRuntimeExports.jsxs("h3",{className:"page-title twx-flex twx-items-center twx-uppercase",children:[jsxRuntimeExports.jsx("span",{className:"icon twx-mr-2",children:Nt})," ",jsxRuntimeExports.jsx("span",{children:tr})]}),jsxRuntimeExports.jsx(Breadcrumb,{breadcrumbs:Ot})]});class DisplayToast extends reactExports.Component{constructor(Ot){super(Ot),this.state={show:!1,title:"",message:"",type:""}}setParam(Ot,Nt,er,rr){this.setState({type:Ot,title:Nt,message:er})}toggleShow(){this.setState({show:!this.state.show})}show(){this.setState({show:!0})}render(){const{title:Ot,message:Nt,type:er}=this.state;return jsxRuntimeExports.jsxs(Toast$1,{show:this.state.show,onClose:ir=>this.toggleShow(),style:{position:"fixed",top:80,right:8,zIndex:1e3},children:[jsxRuntimeExports.jsxs(Toast$1.Header,{children:[jsxRuntimeExports.jsx("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),jsxRuntimeExports.jsx("strong",{className:"mr-auto",children:Ot}),jsxRuntimeExports.jsx("small",{children:"a second ago"})]}),jsxRuntimeExports.jsx(Toast$1.Body,{children:Nt})]})}}const MainContentLayout=({pageTitle:tr,breadcrumbs:Ot,children:Nt,className:er,icon:rr})=>{useLocation();const ir=useDispatch();useSelector(br=>br.content),useSelector(br=>br.setting);const{setLoading:nr,setLoadingMessage:sr,hideAlert:ar,hideToast:lr}=contentSlice.actions;settingSlice.actions;const[cr,dr]=reactExports.useState(null),ur=reactExports.useRef(null),fr=()=>{dr(null),ir(ar())},hr=()=>{ur.current.hide(),ir(lr())},pr=(br,vr,kr,Sr=()=>fr())=>{dr(jsxRuntimeExports.jsx(_default,{type:br,title:vr,onConfirm:Sr,children:kr}))},gr=(br,vr,kr,Sr=()=>hr())=>{ur.current.setParam(br,vr,kr,Sr),ur.current.show()};return reactExports.useEffect(()=>ir(addListener({predicate:(vr,kr,Sr)=>kr.content.alertId!==Sr.content.alertId||kr.content.toastId!==Sr.content.toastId,effect:(vr,kr)=>{const{content:Sr}=kr.getState();if(Sr.showAlert){const{type:Cr,title:Ar,message:Ir}=Sr.alert;pr(Cr,Ar,Ir)}if(Sr.showToast){const{type:Cr,title:Ar,message:Ir}=Sr.toast;gr(Cr,Ar,Ir)}}})),[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:`main-content-component ${er}`,children:[jsxRuntimeExports.jsx(DisplayToast,{ref:ur}),cr,jsxRuntimeExports.jsx(PageHeader,{pageTitle:tr,breadcrumbs:Ot,icon:rr}),jsxRuntimeExports.jsx("div",{className:"row",children:Nt})]})})},RowDataDisplay=({rowData:tr,title:Ot,schema:Nt,showImages:er=[]})=>jsxRuntimeExports.jsx("div",{className:"row-data-display",children:jsxRuntimeExports.jsx("div",{className:"row-data-display-wrap",children:Object.keys(Nt.properties).map((rr,ir)=>jsxRuntimeExports.jsxs("div",{className:"row-data-display-item",children:[jsxRuntimeExports.jsx("div",{className:"prop-wrap",children:Nt.properties[rr].title}),jsxRuntimeExports.jsx("div",{className:"prop-value",children:er.includes(rr)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:tr&&jsxRuntimeExports.jsx("div",{className:"image-wrap twx-max-w-[400px]",children:jsxRuntimeExports.jsx("img",{className:`prop-${rr}  !twx-rounded-lg`,src:tr[rr]})})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:tr&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:isBlockData(tr[rr])?jsxRuntimeExports.jsx(BlockData,{data:tr[rr]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("p",{className:"twx-line-clamp-6",title:tr[rr],children:tr[rr]})})})})})]}))})});class MFooter extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/templates/sections/footer.json")}}const git$e=createGit(),mFooter$1=new MFooter(git$e,footerSchema),FooterContentPage=({})=>{const tr=useLocation(),Ot=useDispatch(),Nt=useSelector(Sr=>Sr.content),er=useSelector(Sr=>Sr.setting),{setLoading:rr,setLoadingMessage:ir}=contentSlice.actions,{setHideGitNotReadyMessage:nr}=settingSlice.actions,[sr,ar]=reactExports.useState(mFooter$1.defaultValue),[lr,cr]=reactExports.useState(!1),dr="Edit Footer",ur=[{title:"Konten",path:"contents"},{title:"Footer",path:"content/footer"}],[fr,hr]=reactExports.useState(null),pr=()=>hr(null),gr=async()=>{Ot(rr(!0));const Sr=await mFooter$1.get();Ot(rr(!1)),console.log(Sr),ar(Sr)},br=()=>hr(jsxRuntimeExports.jsx(_default,{showCancel:!0,confirmBtnText:"Ya, Unduh sekarang!",cancelBtnText:"Nanti saja",confirmBtnBsStyle:"success",type:"primary",title:"Unduh Git Repository ?",onCancel:Sr=>{Ot(nr(!0)),ar(defaultFooter),pr()},onConfirm:async Sr=>{pr(),Ot(rr(!0)),await git$e.init(),Ot(rr(!1)),gr()},children:"Database repository Anda masih kosong, Anda perlu mengunduhnya sekarang, proses ini mungkin memerlukan waktu beberapa detik bergantung pada koneksi Internet Anda saat ini."})),vr=()=>{cr(!0)},kr=async Sr=>{const{formData:Cr}=Sr;Ot(rr(!0)),Ot(ir("Menyimpan Data")),await mFooter$1.update(Cr),await mFooter$1.commit(!0),console.log(Sr),Ot(rr(!1)),cr(!1),gr()};return reactExports.useEffect(()=>{git$e.setOnCloneProgressHandler(Ot,rr,ir),(async()=>{await git$e.isCloned()?gr():er.hideGitNotReadyMessage||(br(),ar(defaultFooter))})()},[ar,tr.key]),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:dr,breadcrumbs:ur,className:`${Nt.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsxs("div",{className:"card-body",children:[fr,lr?jsxRuntimeExports.jsx(JsonForm,{title:dr,formData:sr,uiSchema:footerUiSchema,schema:footerSchema,onSubmit:Sr=>kr(Sr),onCancel:Sr=>cr(!1)}):jsxRuntimeExports.jsx(RowDataDisplay,{title:"Isi Footer",rowData:sr,schema:footerSchema})]}),jsxRuntimeExports.jsx("div",{className:"card-body twx-flex twx-justify-end",children:lr?null:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Sr=>vr(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})})};var MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$1(tr,Ot){return charat(tr,0)^45?(((Ot<<2^charat(tr,0))<<2^charat(tr,1))<<2^charat(tr,2))<<2^charat(tr,3):0}function trim(tr){return tr.trim()}function match(tr,Ot){return(tr=Ot.exec(tr))?tr[0]:tr}function replace(tr,Ot,Nt){return tr.replace(Ot,Nt)}function indexof(tr,Ot,Nt){return tr.indexOf(Ot,Nt)}function charat(tr,Ot){return tr.charCodeAt(Ot)|0}function substr(tr,Ot,Nt){return tr.slice(Ot,Nt)}function strlen(tr){return tr.length}function sizeof(tr){return tr.length}function append(tr,Ot){return Ot.push(tr),tr}function combine(tr,Ot){return tr.map(Ot).join("")}function filter(tr,Ot){return tr.filter(function(Nt){return!match(Nt,Ot)})}var line=1,column=1,length=0,position=0,character=0,characters="";function node$1(tr,Ot,Nt,er,rr,ir,nr,sr){return{value:tr,root:Ot,parent:Nt,type:er,props:rr,children:ir,line,column,length:nr,return:"",siblings:sr}}function copy(tr,Ot){return assign(node$1("",null,null,"",null,null,0,tr.siblings),tr,{length:-tr.length},Ot)}function lift(tr){for(;tr.root;)tr=copy(tr.root,{children:[tr]});append(tr,tr.siblings)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(tr,Ot){return substr(characters,tr,Ot)}function token(tr){switch(tr){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(tr){return line=column=1,length=strlen(characters=tr),position=0,[]}function dealloc(tr){return characters="",tr}function delimit(tr){return trim(slice(position-1,delimiter(tr===91?tr+2:tr===40?tr+1:tr)))}function whitespace(tr){for(;(character=peek())&&character<33;)next();return token(tr)>2||token(character)>3?"":" "}function escaping(tr,Ot){for(;--Ot&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(tr,caret()+(Ot<6&&peek()==32&&next()==32))}function delimiter(tr){for(;next();)switch(character){case tr:return position;case 34:case 39:tr!==34&&tr!==39&&delimiter(character);break;case 40:tr===41&&delimiter(tr);break;case 92:next();break}return position}function commenter(tr,Ot){for(;next()&&tr+character!==57;)if(tr+character===84&&peek()===47)break;return"/*"+slice(Ot,position-1)+"*"+from(tr===47?tr:next())}function identifier(tr){for(;!token(peek());)next();return slice(tr,position)}function compile(tr){return dealloc(parse("",null,null,null,[""],tr=alloc(tr),0,[0],tr))}function parse(tr,Ot,Nt,er,rr,ir,nr,sr,ar){for(var lr=0,cr=0,dr=nr,ur=0,fr=0,hr=0,pr=1,gr=1,br=1,vr=0,kr="",Sr=rr,Cr=ir,Ar=er,Ir=kr;gr;)switch(hr=vr,vr=next()){case 40:if(hr!=108&&charat(Ir,dr-1)==58){indexof(Ir+=replace(delimit(vr),"&","&\f"),"&\f",abs(lr?sr[lr-1]:0))!=-1&&(br=-1);break}case 34:case 39:case 91:Ir+=delimit(vr);break;case 9:case 10:case 13:case 32:Ir+=whitespace(hr);break;case 92:Ir+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment$1(commenter(next(),caret()),Ot,Nt,ar),ar);break;default:Ir+="/"}break;case 123*pr:sr[lr++]=strlen(Ir)*br;case 125*pr:case 59:case 0:switch(vr){case 0:case 125:gr=0;case 59+cr:br==-1&&(Ir=replace(Ir,/\f/g,"")),fr>0&&strlen(Ir)-dr&&append(fr>32?declaration(Ir+";",er,Nt,dr-1,ar):declaration(replace(Ir," ","")+";",er,Nt,dr-2,ar),ar);break;case 59:Ir+=";";default:if(append(Ar=ruleset(Ir,Ot,Nt,lr,cr,rr,sr,kr,Sr=[],Cr=[],dr,ir),ir),vr===123)if(cr===0)parse(Ir,Ot,Ar,Ar,Sr,ir,dr,sr,Cr);else switch(ur===99&&charat(Ir,3)===110?100:ur){case 100:case 108:case 109:case 115:parse(tr,Ar,Ar,er&&append(ruleset(tr,Ar,Ar,0,0,rr,sr,kr,rr,Sr=[],dr,Cr),Cr),rr,Cr,dr,sr,er?Sr:Cr);break;default:parse(Ir,Ar,Ar,Ar,[""],Cr,0,sr,Cr)}}lr=cr=fr=0,pr=br=1,kr=Ir="",dr=nr;break;case 58:dr=1+strlen(Ir),fr=hr;default:if(pr<1){if(vr==123)--pr;else if(vr==125&&pr++==0&&prev()==125)continue}switch(Ir+=from(vr),vr*pr){case 38:br=cr>0?1:(Ir+="\f",-1);break;case 44:sr[lr++]=(strlen(Ir)-1)*br,br=1;break;case 64:peek()===45&&(Ir+=delimit(next())),ur=peek(),cr=dr=strlen(kr=Ir+=identifier(caret())),vr++;break;case 45:hr===45&&strlen(Ir)==2&&(pr=0)}}return ir}function ruleset(tr,Ot,Nt,er,rr,ir,nr,sr,ar,lr,cr,dr){for(var ur=rr-1,fr=rr===0?ir:[""],hr=sizeof(fr),pr=0,gr=0,br=0;pr<er;++pr)for(var vr=0,kr=substr(tr,ur+1,ur=abs(gr=nr[pr])),Sr=tr;vr<hr;++vr)(Sr=trim(gr>0?fr[vr]+" "+kr:replace(kr,/&\f/g,fr[vr])))&&(ar[br++]=Sr);return node$1(tr,Ot,Nt,rr===0?RULESET:sr,ar,lr,cr,dr)}function comment$1(tr,Ot,Nt,er){return node$1(tr,Ot,Nt,COMMENT,from(char()),substr(tr,2,-2),0,er)}function declaration(tr,Ot,Nt,er,rr){return node$1(tr,Ot,Nt,DECLARATION,substr(tr,0,er),substr(tr,er+1,-1),er,rr)}function prefix(tr,Ot,Nt){switch(hash$1(tr,Ot)){case 5103:return WEBKIT+"print-"+tr+tr;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+tr+tr;case 4789:return MOZ+tr+tr;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+tr+MOZ+tr+MS+tr+tr;case 5936:switch(charat(tr,Ot+11)){case 114:return WEBKIT+tr+MS+replace(tr,/[svh]\w+-[tblr]{2}/,"tb")+tr;case 108:return WEBKIT+tr+MS+replace(tr,/[svh]\w+-[tblr]{2}/,"tb-rl")+tr;case 45:return WEBKIT+tr+MS+replace(tr,/[svh]\w+-[tblr]{2}/,"lr")+tr}case 6828:case 4268:case 2903:return WEBKIT+tr+MS+tr+tr;case 6165:return WEBKIT+tr+MS+"flex-"+tr+tr;case 5187:return WEBKIT+tr+replace(tr,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+tr;case 5443:return WEBKIT+tr+MS+"flex-item-"+replace(tr,/flex-|-self/g,"")+(match(tr,/flex-|baseline/)?"":MS+"grid-row-"+replace(tr,/flex-|-self/g,""))+tr;case 4675:return WEBKIT+tr+MS+"flex-line-pack"+replace(tr,/align-content|flex-|-self/g,"")+tr;case 5548:return WEBKIT+tr+MS+replace(tr,"shrink","negative")+tr;case 5292:return WEBKIT+tr+MS+replace(tr,"basis","preferred-size")+tr;case 6060:return WEBKIT+"box-"+replace(tr,"-grow","")+WEBKIT+tr+MS+replace(tr,"grow","positive")+tr;case 4554:return WEBKIT+replace(tr,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+tr;case 6187:return replace(replace(replace(tr,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),tr,"")+tr;case 5495:case 3959:return replace(tr,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(tr,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+tr+tr;case 4200:if(!match(tr,/flex-|baseline/))return MS+"grid-column-align"+substr(tr,Ot)+tr;break;case 2592:case 3360:return MS+replace(tr,"template-","")+tr;case 4384:case 3616:return Nt&&Nt.some(function(er,rr){return Ot=rr,match(er.props,/grid-\w+-end/)})?~indexof(tr+(Nt=Nt[Ot].value),"span",0)?tr:MS+replace(tr,"-start","")+tr+MS+"grid-row-span:"+(~indexof(Nt,"span",0)?match(Nt,/\d+/):+match(Nt,/\d+/)-+match(tr,/\d+/))+";":MS+replace(tr,"-start","")+tr;case 4896:case 4128:return Nt&&Nt.some(function(er){return match(er.props,/grid-\w+-start/)})?tr:MS+replace(replace(tr,"-end","-span"),"span ","")+tr;case 4095:case 3583:case 4068:case 2532:return replace(tr,/(.+)-inline(.+)/,WEBKIT+"$1$2")+tr;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(tr)-1-Ot>6)switch(charat(tr,Ot+1)){case 109:if(charat(tr,Ot+4)!==45)break;case 102:return replace(tr,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(tr,Ot+3)==108?"$3":"$2-$3"))+tr;case 115:return~indexof(tr,"stretch",0)?prefix(replace(tr,"stretch","fill-available"),Ot,Nt)+tr:tr}break;case 5152:case 5920:return replace(tr,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(er,rr,ir,nr,sr,ar,lr){return MS+rr+":"+ir+lr+(nr?MS+rr+"-span:"+(sr?ar:+ar-+ir)+lr:"")+tr});case 4949:if(charat(tr,Ot+6)===121)return replace(tr,":",":"+WEBKIT)+tr;break;case 6444:switch(charat(tr,charat(tr,14)===45?18:11)){case 120:return replace(tr,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(tr,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+tr;case 100:return replace(tr,":",":"+MS)+tr}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(tr,"scroll-","scroll-snap-")+tr}return tr}function serialize(tr,Ot){for(var Nt="",er=0;er<tr.length;er++)Nt+=Ot(tr[er],er,tr,Ot)||"";return Nt}function stringify(tr,Ot,Nt,er){switch(tr.type){case LAYER:if(tr.children.length)break;case IMPORT:case DECLARATION:return tr.return=tr.return||tr.value;case COMMENT:return"";case KEYFRAMES:return tr.return=tr.value+"{"+serialize(tr.children,er)+"}";case RULESET:if(!strlen(tr.value=tr.props.join(",")))return""}return strlen(Nt=serialize(tr.children,er))?tr.return=tr.value+"{"+Nt+"}":""}function middleware(tr){var Ot=sizeof(tr);return function(Nt,er,rr,ir){for(var nr="",sr=0;sr<Ot;sr++)nr+=tr[sr](Nt,er,rr,ir)||"";return nr}}function rulesheet(tr){return function(Ot){Ot.root||(Ot=Ot.return)&&tr(Ot)}}function prefixer(tr,Ot,Nt,er){if(tr.length>-1&&!tr.return)switch(tr.type){case DECLARATION:tr.return=prefix(tr.value,tr.length,Nt);return;case KEYFRAMES:return serialize([copy(tr,{value:replace(tr.value,"@","@"+WEBKIT)})],er);case RULESET:if(tr.length)return combine(Nt=tr.props,function(rr){switch(match(rr,er=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy(tr,{props:[replace(rr,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy(tr,{props:[rr]})),assign(tr,{props:filter(Nt,er)});break;case"::placeholder":lift(copy(tr,{props:[replace(rr,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy(tr,{props:[replace(rr,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy(tr,{props:[replace(rr,/:(plac\w+)/,MS+"input-$1")]})),lift(copy(tr,{props:[rr]})),assign(tr,{props:filter(Nt,er)});break}return""})}}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},define_process_env_default$1={},f$2=typeof process$1<"u"&&define_process_env_default$1!==void 0&&(define_process_env_default$1.REACT_APP_SC_ATTR||define_process_env_default$1.SC_ATTR)||"data-styled",m$1="active",y$1="data-styled-version",v$1="6.1.11",g$1=`/*!sc*/
`,S$1=typeof window<"u"&&"HTMLElement"in window,w$1=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process$1<"u"&&define_process_env_default$1!==void 0&&define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY!==""?define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY:typeof process$1<"u"&&define_process_env_default$1!==void 0&&define_process_env_default$1.SC_DISABLE_SPEEDY!==void 0&&define_process_env_default$1.SC_DISABLE_SPEEDY!==""&&define_process_env_default$1.SC_DISABLE_SPEEDY!=="false"&&define_process_env_default$1.SC_DISABLE_SPEEDY),_$1=Object.freeze([]),C$2=Object.freeze({});function I$1(tr,Ot,Nt){return Nt===void 0&&(Nt=C$2),tr.theme!==Nt.theme&&tr.theme||Ot||Nt.theme}var A$1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),O$1=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,D$1=/(^-|-$)/g;function R$1(tr){return tr.replace(O$1,"-").replace(D$1,"")}var T$1=/(a)(d)/gi,k$1=52,j$1=function(tr){return String.fromCharCode(tr+(tr>25?39:97))};function x$1(tr){var Ot,Nt="";for(Ot=Math.abs(tr);Ot>k$1;Ot=Ot/k$1|0)Nt=j$1(Ot%k$1)+Nt;return(j$1(Ot%k$1)+Nt).replace(T$1,"$1-$2")}var V$1,F$1=5381,M$1=function(tr,Ot){for(var Nt=Ot.length;Nt;)tr=33*tr^Ot.charCodeAt(--Nt);return tr},$$1=function(tr){return M$1(F$1,tr)};function z$1(tr){return x$1($$1(tr)>>>0)}function B$1(tr){return tr.displayName||tr.name||"Component"}function L$1(tr){return typeof tr=="string"&&!0}var G$1=typeof Symbol=="function"&&Symbol.for,Y$1=G$1?Symbol.for("react.memo"):60115,W$1=G$1?Symbol.for("react.forward_ref"):60112,q$1={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H$1={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U$1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J$1=((V$1={})[W$1]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V$1[Y$1]=U$1,V$1);function X$1(tr){return("type"in(Ot=tr)&&Ot.type.$$typeof)===Y$1?U$1:"$$typeof"in tr?J$1[tr.$$typeof]:q$1;var Ot}var Z$1=Object.defineProperty,K$1=Object.getOwnPropertyNames,Q$1=Object.getOwnPropertySymbols,ee$1=Object.getOwnPropertyDescriptor,te$1=Object.getPrototypeOf,ne$1=Object.prototype;function oe$1(tr,Ot,Nt){if(typeof Ot!="string"){if(ne$1){var er=te$1(Ot);er&&er!==ne$1&&oe$1(tr,er,Nt)}var rr=K$1(Ot);Q$1&&(rr=rr.concat(Q$1(Ot)));for(var ir=X$1(tr),nr=X$1(Ot),sr=0;sr<rr.length;++sr){var ar=rr[sr];if(!(ar in H$1||Nt&&Nt[ar]||nr&&ar in nr||ir&&ar in ir)){var lr=ee$1(Ot,ar);try{Z$1(tr,ar,lr)}catch{}}}}return tr}function re$1(tr){return typeof tr=="function"}function se$1(tr){return typeof tr=="object"&&"styledComponentId"in tr}function ie$3(tr,Ot){return tr&&Ot?"".concat(tr," ").concat(Ot):tr||Ot||""}function ae$1(tr,Ot){if(tr.length===0)return"";for(var Nt=tr[0],er=1;er<tr.length;er++)Nt+=tr[er];return Nt}function ce$1(tr){return tr!==null&&typeof tr=="object"&&tr.constructor.name===Object.name&&!("props"in tr&&tr.$$typeof)}function le$1(tr,Ot,Nt){if(Nt===void 0&&(Nt=!1),!Nt&&!ce$1(tr)&&!Array.isArray(tr))return Ot;if(Array.isArray(Ot))for(var er=0;er<Ot.length;er++)tr[er]=le$1(tr[er],Ot[er]);else if(ce$1(Ot))for(var er in Ot)tr[er]=le$1(tr[er],Ot[er]);return tr}function ue$1(tr,Ot){Object.defineProperty(tr,"toString",{value:Ot})}function he$1(tr){for(var Ot=[],Nt=1;Nt<arguments.length;Nt++)Ot[Nt-1]=arguments[Nt];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(tr," for more information.").concat(Ot.length>0?" Args: ".concat(Ot.join(", ")):""))}var fe$1=function(){function tr(Ot){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=Ot}return tr.prototype.indexOfGroup=function(Ot){for(var Nt=0,er=0;er<Ot;er++)Nt+=this.groupSizes[er];return Nt},tr.prototype.insertRules=function(Ot,Nt){if(Ot>=this.groupSizes.length){for(var er=this.groupSizes,rr=er.length,ir=rr;Ot>=ir;)if((ir<<=1)<0)throw he$1(16,"".concat(Ot));this.groupSizes=new Uint32Array(ir),this.groupSizes.set(er),this.length=ir;for(var nr=rr;nr<ir;nr++)this.groupSizes[nr]=0}for(var sr=this.indexOfGroup(Ot+1),ar=(nr=0,Nt.length);nr<ar;nr++)this.tag.insertRule(sr,Nt[nr])&&(this.groupSizes[Ot]++,sr++)},tr.prototype.clearGroup=function(Ot){if(Ot<this.length){var Nt=this.groupSizes[Ot],er=this.indexOfGroup(Ot),rr=er+Nt;this.groupSizes[Ot]=0;for(var ir=er;ir<rr;ir++)this.tag.deleteRule(er)}},tr.prototype.getGroup=function(Ot){var Nt="";if(Ot>=this.length||this.groupSizes[Ot]===0)return Nt;for(var er=this.groupSizes[Ot],rr=this.indexOfGroup(Ot),ir=rr+er,nr=rr;nr<ir;nr++)Nt+="".concat(this.tag.getRule(nr)).concat(g$1);return Nt},tr}(),ye$1=new Map,ve$1=new Map,ge$1=1,Se$1=function(tr){if(ye$1.has(tr))return ye$1.get(tr);for(;ve$1.has(ge$1);)ge$1++;var Ot=ge$1++;return ye$1.set(tr,Ot),ve$1.set(Ot,tr),Ot},we$1=function(tr,Ot){ge$1=Ot+1,ye$1.set(tr,Ot),ve$1.set(Ot,tr)},be$1="style[".concat(f$2,"][").concat(y$1,'="').concat(v$1,'"]'),Ee$1=new RegExp("^".concat(f$2,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ne$1=function(tr,Ot,Nt){for(var er,rr=Nt.split(","),ir=0,nr=rr.length;ir<nr;ir++)(er=rr[ir])&&tr.registerName(Ot,er)},Pe$1=function(tr,Ot){for(var Nt,er=((Nt=Ot.textContent)!==null&&Nt!==void 0?Nt:"").split(g$1),rr=[],ir=0,nr=er.length;ir<nr;ir++){var sr=er[ir].trim();if(sr){var ar=sr.match(Ee$1);if(ar){var lr=0|parseInt(ar[1],10),cr=ar[2];lr!==0&&(we$1(cr,lr),Ne$1(tr,cr,ar[3]),tr.getTag().insertRules(lr,rr)),rr.length=0}else rr.push(sr)}}};function _e$1(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ce$1=function(tr){var Ot=document.head,Nt=tr||Ot,er=document.createElement("style"),rr=function(sr){var ar=Array.from(sr.querySelectorAll("style[".concat(f$2,"]")));return ar[ar.length-1]}(Nt),ir=rr!==void 0?rr.nextSibling:null;er.setAttribute(f$2,m$1),er.setAttribute(y$1,v$1);var nr=_e$1();return nr&&er.setAttribute("nonce",nr),Nt.insertBefore(er,ir),er},Ie$1=function(){function tr(Ot){this.element=Ce$1(Ot),this.element.appendChild(document.createTextNode("")),this.sheet=function(Nt){if(Nt.sheet)return Nt.sheet;for(var er=document.styleSheets,rr=0,ir=er.length;rr<ir;rr++){var nr=er[rr];if(nr.ownerNode===Nt)return nr}throw he$1(17)}(this.element),this.length=0}return tr.prototype.insertRule=function(Ot,Nt){try{return this.sheet.insertRule(Nt,Ot),this.length++,!0}catch{return!1}},tr.prototype.deleteRule=function(Ot){this.sheet.deleteRule(Ot),this.length--},tr.prototype.getRule=function(Ot){var Nt=this.sheet.cssRules[Ot];return Nt&&Nt.cssText?Nt.cssText:""},tr}(),Ae$1=function(){function tr(Ot){this.element=Ce$1(Ot),this.nodes=this.element.childNodes,this.length=0}return tr.prototype.insertRule=function(Ot,Nt){if(Ot<=this.length&&Ot>=0){var er=document.createTextNode(Nt);return this.element.insertBefore(er,this.nodes[Ot]||null),this.length++,!0}return!1},tr.prototype.deleteRule=function(Ot){this.element.removeChild(this.nodes[Ot]),this.length--},tr.prototype.getRule=function(Ot){return Ot<this.length?this.nodes[Ot].textContent:""},tr}(),Oe$1=function(){function tr(Ot){this.rules=[],this.length=0}return tr.prototype.insertRule=function(Ot,Nt){return Ot<=this.length&&(this.rules.splice(Ot,0,Nt),this.length++,!0)},tr.prototype.deleteRule=function(Ot){this.rules.splice(Ot,1),this.length--},tr.prototype.getRule=function(Ot){return Ot<this.length?this.rules[Ot]:""},tr}(),De$1=S$1,Re$1={isServer:!S$1,useCSSOMInjection:!w$1},Te$1=function(){function tr(Ot,Nt,er){Ot===void 0&&(Ot=C$2),Nt===void 0&&(Nt={});var rr=this;this.options=__assign$2(__assign$2({},Re$1),Ot),this.gs=Nt,this.names=new Map(er),this.server=!!Ot.isServer,!this.server&&S$1&&De$1&&(De$1=!1,function(ir){for(var nr=document.querySelectorAll(be$1),sr=0,ar=nr.length;sr<ar;sr++){var lr=nr[sr];lr&&lr.getAttribute(f$2)!==m$1&&(Pe$1(ir,lr),lr.parentNode&&lr.parentNode.removeChild(lr))}}(this)),ue$1(this,function(){return function(ir){for(var nr=ir.getTag(),sr=nr.length,ar="",lr=function(dr){var ur=function(br){return ve$1.get(br)}(dr);if(ur===void 0)return"continue";var fr=ir.names.get(ur),hr=nr.getGroup(dr);if(fr===void 0||hr.length===0)return"continue";var pr="".concat(f$2,".g").concat(dr,'[id="').concat(ur,'"]'),gr="";fr!==void 0&&fr.forEach(function(br){br.length>0&&(gr+="".concat(br,","))}),ar+="".concat(hr).concat(pr,'{content:"').concat(gr,'"}').concat(g$1)},cr=0;cr<sr;cr++)lr(cr);return ar}(rr)})}return tr.registerId=function(Ot){return Se$1(Ot)},tr.prototype.reconstructWithOptions=function(Ot,Nt){return Nt===void 0&&(Nt=!0),new tr(__assign$2(__assign$2({},this.options),Ot),this.gs,Nt&&this.names||void 0)},tr.prototype.allocateGSInstance=function(Ot){return this.gs[Ot]=(this.gs[Ot]||0)+1},tr.prototype.getTag=function(){return this.tag||(this.tag=(Ot=function(Nt){var er=Nt.useCSSOMInjection,rr=Nt.target;return Nt.isServer?new Oe$1(rr):er?new Ie$1(rr):new Ae$1(rr)}(this.options),new fe$1(Ot)));var Ot},tr.prototype.hasNameForId=function(Ot,Nt){return this.names.has(Ot)&&this.names.get(Ot).has(Nt)},tr.prototype.registerName=function(Ot,Nt){if(Se$1(Ot),this.names.has(Ot))this.names.get(Ot).add(Nt);else{var er=new Set;er.add(Nt),this.names.set(Ot,er)}},tr.prototype.insertRules=function(Ot,Nt,er){this.registerName(Ot,Nt),this.getTag().insertRules(Se$1(Ot),er)},tr.prototype.clearNames=function(Ot){this.names.has(Ot)&&this.names.get(Ot).clear()},tr.prototype.clearRules=function(Ot){this.getTag().clearGroup(Se$1(Ot)),this.clearNames(Ot)},tr.prototype.clearTag=function(){this.tag=void 0},tr}(),ke$1=/&/g,je$1=/^\s*\/\/.*$/gm;function xe$1(tr,Ot){return tr.map(function(Nt){return Nt.type==="rule"&&(Nt.value="".concat(Ot," ").concat(Nt.value),Nt.value=Nt.value.replaceAll(",",",".concat(Ot," ")),Nt.props=Nt.props.map(function(er){return"".concat(Ot," ").concat(er)})),Array.isArray(Nt.children)&&Nt.type!=="@keyframes"&&(Nt.children=xe$1(Nt.children,Ot)),Nt})}function Ve$1(tr){var Ot,Nt,er,rr=C$2,ir=rr.options,nr=ir===void 0?C$2:ir,sr=rr.plugins,ar=sr===void 0?_$1:sr,lr=function(ur,fr,hr){return hr.startsWith(Nt)&&hr.endsWith(Nt)&&hr.replaceAll(Nt,"").length>0?".".concat(Ot):ur},cr=ar.slice();cr.push(function(ur){ur.type===RULESET&&ur.value.includes("&")&&(ur.props[0]=ur.props[0].replace(ke$1,Nt).replace(er,lr))}),nr.prefix&&cr.push(prefixer),cr.push(stringify);var dr=function(ur,fr,hr,pr){fr===void 0&&(fr=""),hr===void 0&&(hr=""),pr===void 0&&(pr="&"),Ot=pr,Nt=fr,er=new RegExp("\\".concat(Nt,"\\b"),"g");var gr=ur.replace(je$1,""),br=compile(hr||fr?"".concat(hr," ").concat(fr," { ").concat(gr," }"):gr);nr.namespace&&(br=xe$1(br,nr.namespace));var vr=[];return serialize(br,middleware(cr.concat(rulesheet(function(kr){return vr.push(kr)})))),vr};return dr.hash=ar.length?ar.reduce(function(ur,fr){return fr.name||he$1(15),M$1(ur,fr.name)},F$1).toString():"",dr}var Fe$1=new Te$1,Me$1=Ve$1(),$e$1=t$2.createContext({shouldForwardProp:void 0,styleSheet:Fe$1,stylis:Me$1});$e$1.Consumer;t$2.createContext(void 0);function Le$1(){return reactExports.useContext($e$1)}var Ye$1=function(){function tr(Ot,Nt){var er=this;this.inject=function(rr,ir){ir===void 0&&(ir=Me$1);var nr=er.name+ir.hash;rr.hasNameForId(er.id,nr)||rr.insertRules(er.id,nr,ir(er.rules,nr,"@keyframes"))},this.name=Ot,this.id="sc-keyframes-".concat(Ot),this.rules=Nt,ue$1(this,function(){throw he$1(12,String(er.name))})}return tr.prototype.getName=function(Ot){return Ot===void 0&&(Ot=Me$1),this.name+Ot.hash},tr}(),We$1=function(tr){return tr>="A"&&tr<="Z"};function qe$1(tr){for(var Ot="",Nt=0;Nt<tr.length;Nt++){var er=tr[Nt];if(Nt===1&&er==="-"&&tr[0]==="-")return tr;We$1(er)?Ot+="-"+er.toLowerCase():Ot+=er}return Ot.startsWith("ms-")?"-"+Ot:Ot}var He$1=function(tr){return tr==null||tr===!1||tr===""},Ue$1=function(tr){var Ot,Nt,er=[];for(var rr in tr){var ir=tr[rr];tr.hasOwnProperty(rr)&&!He$1(ir)&&(Array.isArray(ir)&&ir.isCss||re$1(ir)?er.push("".concat(qe$1(rr),":"),ir,";"):ce$1(ir)?er.push.apply(er,__spreadArray(__spreadArray(["".concat(rr," {")],Ue$1(ir),!1),["}"],!1)):er.push("".concat(qe$1(rr),": ").concat((Ot=rr,(Nt=ir)==null||typeof Nt=="boolean"||Nt===""?"":typeof Nt!="number"||Nt===0||Ot in unitlessKeys||Ot.startsWith("--")?String(Nt).trim():"".concat(Nt,"px")),";")))}return er};function Je(tr,Ot,Nt,er){if(He$1(tr))return[];if(se$1(tr))return[".".concat(tr.styledComponentId)];if(re$1(tr)){if(!re$1(ir=tr)||ir.prototype&&ir.prototype.isReactComponent||!Ot)return[tr];var rr=tr(Ot);return Je(rr,Ot,Nt,er)}var ir;return tr instanceof Ye$1?Nt?(tr.inject(Nt,er),[tr.getName(er)]):[tr]:ce$1(tr)?Ue$1(tr):Array.isArray(tr)?Array.prototype.concat.apply(_$1,tr.map(function(nr){return Je(nr,Ot,Nt,er)})):[tr.toString()]}function Xe$1(tr){for(var Ot=0;Ot<tr.length;Ot+=1){var Nt=tr[Ot];if(re$1(Nt)&&!se$1(Nt))return!1}return!0}var Ze=$$1(v$1),Ke$1=function(){function tr(Ot,Nt,er){this.rules=Ot,this.staticRulesId="",this.isStatic=(er===void 0||er.isStatic)&&Xe$1(Ot),this.componentId=Nt,this.baseHash=M$1(Ze,Nt),this.baseStyle=er,Te$1.registerId(Nt)}return tr.prototype.generateAndInjectStyles=function(Ot,Nt,er){var rr=this.baseStyle?this.baseStyle.generateAndInjectStyles(Ot,Nt,er):"";if(this.isStatic&&!er.hash)if(this.staticRulesId&&Nt.hasNameForId(this.componentId,this.staticRulesId))rr=ie$3(rr,this.staticRulesId);else{var ir=ae$1(Je(this.rules,Ot,Nt,er)),nr=x$1(M$1(this.baseHash,ir)>>>0);if(!Nt.hasNameForId(this.componentId,nr)){var sr=er(ir,".".concat(nr),void 0,this.componentId);Nt.insertRules(this.componentId,nr,sr)}rr=ie$3(rr,nr),this.staticRulesId=nr}else{for(var ar=M$1(this.baseHash,er.hash),lr="",cr=0;cr<this.rules.length;cr++){var dr=this.rules[cr];if(typeof dr=="string")lr+=dr;else if(dr){var ur=ae$1(Je(dr,Ot,Nt,er));ar=M$1(ar,ur+cr),lr+=ur}}if(lr){var fr=x$1(ar>>>0);Nt.hasNameForId(this.componentId,fr)||Nt.insertRules(this.componentId,fr,er(lr,".".concat(fr),void 0,this.componentId)),rr=ie$3(rr,fr)}}return rr},tr}(),Qe$1=t$2.createContext(void 0);Qe$1.Consumer;function nt(tr){var Ot=t$2.useContext(Qe$1),Nt=reactExports.useMemo(function(){return function(er,rr){if(!er)throw he$1(14);if(re$1(er)){var ir=er(rr);return ir}if(Array.isArray(er)||typeof er!="object")throw he$1(8);return rr?__assign$2(__assign$2({},rr),er):er}(tr.theme,Ot)},[tr.theme,Ot]);return tr.children?t$2.createElement(Qe$1.Provider,{value:Nt},tr.children):null}var ot={};function st(tr,Ot,Nt){var er=se$1(tr),rr=tr,ir=!L$1(tr),nr=Ot.attrs,sr=nr===void 0?_$1:nr,ar=Ot.componentId,lr=ar===void 0?function(Sr,Cr){var Ar=typeof Sr!="string"?"sc":R$1(Sr);ot[Ar]=(ot[Ar]||0)+1;var Ir="".concat(Ar,"-").concat(z$1(v$1+Ar+ot[Ar]));return Cr?"".concat(Cr,"-").concat(Ir):Ir}(Ot.displayName,Ot.parentComponentId):ar,cr=Ot.displayName,dr=cr===void 0?function(Sr){return L$1(Sr)?"styled.".concat(Sr):"Styled(".concat(B$1(Sr),")")}(tr):cr,ur=Ot.displayName&&Ot.componentId?"".concat(R$1(Ot.displayName),"-").concat(Ot.componentId):Ot.componentId||lr,fr=er&&rr.attrs?rr.attrs.concat(sr).filter(Boolean):sr,hr=Ot.shouldForwardProp;if(er&&rr.shouldForwardProp){var pr=rr.shouldForwardProp;if(Ot.shouldForwardProp){var gr=Ot.shouldForwardProp;hr=function(Sr,Cr){return pr(Sr,Cr)&&gr(Sr,Cr)}}else hr=pr}var br=new Ke$1(Nt,ur,er?rr.componentStyle:void 0);function vr(Sr,Cr){return function(Ar,Ir,qr){var Qr=Ar.attrs,Wr=Ar.componentStyle,jr=Ar.defaultProps,Or=Ar.foldedComponentIds,yr=Ar.styledComponentId,xr=Ar.target,wr=t$2.useContext(Qe$1),Br=Le$1(),_r=Ar.shouldForwardProp||Br.shouldForwardProp,Mr=I$1(Ir,wr,jr)||C$2,Tr=function(Gr,Ur,Nr){for(var Fr,Xr=__assign$2(__assign$2({},Ur),{className:void 0,theme:Nr}),Jr=0;Jr<Gr.length;Jr+=1){var Vr=re$1(Fr=Gr[Jr])?Fr(Xr):Fr;for(var Zr in Vr)Xr[Zr]=Zr==="className"?ie$3(Xr[Zr],Vr[Zr]):Zr==="style"?__assign$2(__assign$2({},Xr[Zr]),Vr[Zr]):Vr[Zr]}return Ur.className&&(Xr.className=ie$3(Xr.className,Ur.className)),Xr}(Qr,Ir,Mr),Er=Tr.as||xr,Pr={};for(var Rr in Tr)Tr[Rr]===void 0||Rr[0]==="$"||Rr==="as"||Rr==="theme"&&Tr.theme===Mr||(Rr==="forwardedAs"?Pr.as=Tr.forwardedAs:_r&&!_r(Rr,Er)||(Pr[Rr]=Tr[Rr]));var Lr=function(Gr,Ur){var Nr=Le$1(),Fr=Gr.generateAndInjectStyles(Ur,Nr.styleSheet,Nr.stylis);return Fr}(Wr,Tr),Hr=ie$3(Or,yr);return Lr&&(Hr+=" "+Lr),Tr.className&&(Hr+=" "+Tr.className),Pr[L$1(Er)&&!A$1.has(Er)?"class":"className"]=Hr,Pr.ref=qr,reactExports.createElement(Er,Pr)}(kr,Sr,Cr)}vr.displayName=dr;var kr=t$2.forwardRef(vr);return kr.attrs=fr,kr.componentStyle=br,kr.displayName=dr,kr.shouldForwardProp=hr,kr.foldedComponentIds=er?ie$3(rr.foldedComponentIds,rr.styledComponentId):"",kr.styledComponentId=ur,kr.target=er?rr.target:tr,Object.defineProperty(kr,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Sr){this._foldedDefaultProps=er?function(Cr){for(var Ar=[],Ir=1;Ir<arguments.length;Ir++)Ar[Ir-1]=arguments[Ir];for(var qr=0,Qr=Ar;qr<Qr.length;qr++)le$1(Cr,Qr[qr],!0);return Cr}({},rr.defaultProps,Sr):Sr}}),ue$1(kr,function(){return".".concat(kr.styledComponentId)}),ir&&oe$1(kr,tr,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),kr}function it(tr,Ot){for(var Nt=[tr[0]],er=0,rr=Ot.length;er<rr;er+=1)Nt.push(Ot[er],tr[er+1]);return Nt}var at=function(tr){return Object.assign(tr,{isCss:!0})};function ct(tr){for(var Ot=[],Nt=1;Nt<arguments.length;Nt++)Ot[Nt-1]=arguments[Nt];if(re$1(tr)||ce$1(tr))return at(Je(it(_$1,__spreadArray([tr],Ot,!0))));var er=tr;return Ot.length===0&&er.length===1&&typeof er[0]=="string"?Je(er):at(Je(it(er,Ot)))}function lt$1(tr,Ot,Nt){if(Nt===void 0&&(Nt=C$2),!Ot)throw he$1(1,Ot);var er=function(rr){for(var ir=[],nr=1;nr<arguments.length;nr++)ir[nr-1]=arguments[nr];return tr(Ot,Nt,ct.apply(void 0,__spreadArray([rr],ir,!1)))};return er.attrs=function(rr){return lt$1(tr,Ot,__assign$2(__assign$2({},Nt),{attrs:Array.prototype.concat(Nt.attrs,rr).filter(Boolean)}))},er.withConfig=function(rr){return lt$1(tr,Ot,__assign$2(__assign$2({},Nt),rr))},er}var ut=function(tr){return lt$1(st,tr)},pt=ut;A$1.forEach(function(tr){pt[tr]=ut(tr)});var l;function r$1(tr,Ot){return tr[Ot]}function i$2(tr=[],Ot,Nt=0){return[...tr.slice(0,Nt),Ot,...tr.slice(Nt)]}function s$1(tr=[],Ot,Nt="id"){const er=tr.slice(),rr=r$1(Ot,Nt);return rr?er.splice(er.findIndex(ir=>r$1(ir,Nt)===rr),1):er.splice(er.findIndex(ir=>ir===Ot),1),er}function d(tr){return tr.map((Ot,Nt)=>{const er=Object.assign(Object.assign({},Ot),{sortable:Ot.sortable||!!Ot.sortFunction||void 0});return Ot.id||(er.id=Nt+1),er})}function c$1(tr,Ot){return Math.ceil(tr/Ot)}function g(tr,Ot){return Math.min(tr,Ot)}(function(tr){tr.ASC="asc",tr.DESC="desc"})(l||(l={}));const u=()=>null;function p(tr,Ot=[],Nt=[]){let er={},rr=[...Nt];return Ot.length&&Ot.forEach(ir=>{if(!ir.when||typeof ir.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');ir.when(tr)&&(er=ir.style||{},ir.classNames&&(rr=[...rr,...ir.classNames]),typeof ir.style=="function"&&(er=ir.style(tr)||{}))}),{conditionalStyle:er,classNames:rr.join(" ")}}function b(tr,Ot=[],Nt="id"){const er=r$1(tr,Nt);return er?Ot.some(rr=>r$1(rr,Nt)===er):Ot.some(rr=>rr===tr)}function m(tr,Ot){return Ot?tr.findIndex(Nt=>h(Nt.id,Ot)):-1}function h(tr,Ot){return tr==Ot}function w(tr,Ot){const Nt=!tr.toggleOnSelectedRowsChange;switch(Ot.type){case"SELECT_ALL_ROWS":{const{keyField:er,rows:rr,rowCount:ir,mergeSelections:nr}=Ot,sr=!tr.allSelected,ar=!tr.toggleOnSelectedRowsChange;if(nr){const lr=sr?[...tr.selectedRows,...rr.filter(cr=>!b(cr,tr.selectedRows,er))]:tr.selectedRows.filter(cr=>!b(cr,rr,er));return Object.assign(Object.assign({},tr),{allSelected:sr,selectedCount:lr.length,selectedRows:lr,toggleOnSelectedRowsChange:ar})}return Object.assign(Object.assign({},tr),{allSelected:sr,selectedCount:sr?ir:0,selectedRows:sr?rr:[],toggleOnSelectedRowsChange:ar})}case"SELECT_SINGLE_ROW":{const{keyField:er,row:rr,isSelected:ir,rowCount:nr,singleSelect:sr}=Ot;return sr?ir?Object.assign(Object.assign({},tr),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:Nt}):Object.assign(Object.assign({},tr),{selectedCount:1,allSelected:!1,selectedRows:[rr],toggleOnSelectedRowsChange:Nt}):ir?Object.assign(Object.assign({},tr),{selectedCount:tr.selectedRows.length>0?tr.selectedRows.length-1:0,allSelected:!1,selectedRows:s$1(tr.selectedRows,rr,er),toggleOnSelectedRowsChange:Nt}):Object.assign(Object.assign({},tr),{selectedCount:tr.selectedRows.length+1,allSelected:tr.selectedRows.length+1===nr,selectedRows:i$2(tr.selectedRows,rr),toggleOnSelectedRowsChange:Nt})}case"SELECT_MULTIPLE_ROWS":{const{keyField:er,selectedRows:rr,totalRows:ir,mergeSelections:nr}=Ot;if(nr){const sr=[...tr.selectedRows,...rr.filter(ar=>!b(ar,tr.selectedRows,er))];return Object.assign(Object.assign({},tr),{selectedCount:sr.length,allSelected:!1,selectedRows:sr,toggleOnSelectedRowsChange:Nt})}return Object.assign(Object.assign({},tr),{selectedCount:rr.length,allSelected:rr.length===ir,selectedRows:rr,toggleOnSelectedRowsChange:Nt})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:er}=Ot;return Object.assign(Object.assign({},tr),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:er})}case"SORT_CHANGE":{const{sortDirection:er,selectedColumn:rr,clearSelectedOnSort:ir}=Ot;return Object.assign(Object.assign(Object.assign({},tr),{selectedColumn:rr,sortDirection:er,currentPage:1}),ir&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:Nt})}case"CHANGE_PAGE":{const{page:er,paginationServer:rr,visibleOnly:ir,persistSelectedOnPageChange:nr}=Ot,sr=rr&&nr,ar=rr&&!nr||ir;return Object.assign(Object.assign(Object.assign(Object.assign({},tr),{currentPage:er}),sr&&{allSelected:!1}),ar&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:Nt})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:er,page:rr}=Ot;return Object.assign(Object.assign({},tr),{currentPage:rr,rowsPerPage:er})}}}const f$1=ct`
	pointer-events: none;
	opacity: 0.4;
`,x=pt.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:tr})=>tr&&f$1};
	${({theme:tr})=>tr.table.style};
`,C$1=ct`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,y=pt.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:tr})=>tr&&C$1};
	${({theme:tr})=>tr.head.style};
`,R=pt.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:tr})=>tr.headRow.style};
	${({$dense:tr,theme:Ot})=>tr&&Ot.headRow.denseStyle};
`,v=(tr,...Ot)=>ct`
		@media screen and (max-width: ${599}px) {
			${ct(tr,...Ot)}
		}
	`,S=(tr,...Ot)=>ct`
		@media screen and (max-width: ${959}px) {
			${ct(tr,...Ot)}
		}
	`,E=(tr,...Ot)=>ct`
		@media screen and (max-width: ${1280}px) {
			${ct(tr,...Ot)}
		}
	`,O=tr=>(Ot,...Nt)=>ct`
			@media screen and (max-width: ${tr}px) {
				${ct(Ot,...Nt)}
			}
		`,$=pt.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:tr,$headCell:Ot})=>tr[Ot?"headCells":"cells"].style};
	${({$noPadding:tr})=>tr&&"padding: 0"};
`,k=pt($)`
	flex-grow: ${({button:tr,grow:Ot})=>Ot===0||tr?0:Ot||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:tr})=>tr||"100%"};
	min-width: ${({minWidth:tr})=>tr||"100px"};
	${({width:tr})=>tr&&ct`
			min-width: ${tr};
			max-width: ${tr};
		`};
	${({right:tr})=>tr&&"justify-content: flex-end"};
	${({button:tr,center:Ot})=>(Ot||tr)&&"justify-content: center"};
	${({compact:tr,button:Ot})=>(tr||Ot)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:tr})=>tr&&tr==="sm"&&v`
    display: none;
  `};
	${({hide:tr})=>tr&&tr==="md"&&S`
    display: none;
  `};
	${({hide:tr})=>tr&&tr==="lg"&&E`
    display: none;
  `};
	${({hide:tr})=>tr&&Number.isInteger(tr)&&O(tr)`
    display: none;
  `};
`,P=ct`
	div:first-child {
		white-space: ${({$wrapCell:tr})=>tr?"normal":"nowrap"};
		overflow: ${({$allowOverflow:tr})=>tr?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,D=pt(k).attrs(tr=>({style:tr.style}))`
	${({$renderAsCell:tr})=>!tr&&P};
	${({theme:tr,$isDragging:Ot})=>Ot&&tr.cells.draggingStyle};
	${({$cellStyle:tr})=>tr};
`;var H=reactExports.memo(function({id:tr,column:Ot,row:Nt,rowIndex:er,dataTag:rr,isDragging:ir,onDragStart:nr,onDragOver:sr,onDragEnd:ar,onDragEnter:lr,onDragLeave:cr}){const{conditionalStyle:dr,classNames:ur}=p(Nt,Ot.conditionalCellStyles,["rdt_TableCell"]);return reactExports.createElement(D,{id:tr,"data-column-id":Ot.id,role:"cell",className:ur,"data-tag":rr,$cellStyle:Ot.style,$renderAsCell:!!Ot.cell,$allowOverflow:Ot.allowOverflow,button:Ot.button,center:Ot.center,compact:Ot.compact,grow:Ot.grow,hide:Ot.hide,maxWidth:Ot.maxWidth,minWidth:Ot.minWidth,right:Ot.right,width:Ot.width,$wrapCell:Ot.wrap,style:dr,$isDragging:ir,onDragStart:nr,onDragOver:sr,onDragEnd:ar,onDragEnter:lr,onDragLeave:cr},!Ot.cell&&reactExports.createElement("div",{"data-tag":rr},function(fr,hr,pr,gr){return hr?pr&&typeof pr=="function"?pr(fr,gr):hr(fr,gr):null}(Nt,Ot.selector,Ot.format,er)),Ot.cell&&Ot.cell(Nt,er,Ot,tr))});const F="input";var j=reactExports.memo(function({name:tr,component:Ot=F,componentOptions:Nt={style:{}},indeterminate:er=!1,checked:rr=!1,disabled:ir=!1,onClick:nr=u}){const sr=Ot,ar=sr!==F?Nt.style:(cr=>Object.assign(Object.assign({fontSize:"18px"},!cr&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(ir),lr=reactExports.useMemo(()=>function(cr,...dr){let ur;return Object.keys(cr).map(fr=>cr[fr]).forEach((fr,hr)=>{typeof fr=="function"&&(ur=Object.assign(Object.assign({},cr),{[Object.keys(cr)[hr]]:fr(...dr)}))}),ur||cr}(Nt,er),[Nt,er]);return reactExports.createElement(sr,Object.assign({type:"checkbox",ref:cr=>{cr&&(cr.indeterminate=er)},style:ar,onClick:ir?u:nr,name:tr,"aria-label":tr,checked:rr,disabled:ir},lr,{onChange:u}))});const I=pt($)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function T({name:tr,keyField:Ot,row:Nt,rowCount:er,selected:rr,selectableRowsComponent:ir,selectableRowsComponentProps:nr,selectableRowsSingle:sr,selectableRowDisabled:ar,onSelectedRow:lr}){const cr=!(!ar||!ar(Nt));return reactExports.createElement(I,{onClick:dr=>dr.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},reactExports.createElement(j,{name:tr,component:ir,componentOptions:nr,checked:rr,"aria-checked":rr,onClick:()=>{lr({type:"SELECT_SINGLE_ROW",row:Nt,isSelected:rr,keyField:Ot,rowCount:er,singleSelect:sr})},disabled:cr}))}const M=pt.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:tr})=>tr.expanderButton.style};
`;function L({disabled:tr=!1,expanded:Ot=!1,expandableIcon:Nt,id:er,row:rr,onToggled:ir}){const nr=Ot?Nt.expanded:Nt.collapsed;return reactExports.createElement(M,{"aria-disabled":tr,onClick:()=>ir&&ir(rr),"data-testid":`expander-button-${er}`,disabled:tr,"aria-label":Ot?"Collapse Row":"Expand Row",role:"button",type:"button"},nr)}const A=pt($)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:tr})=>tr.expanderCell.style};
`;function _({row:tr,expanded:Ot=!1,expandableIcon:Nt,id:er,onToggled:rr,disabled:ir=!1}){return reactExports.createElement(A,{onClick:nr=>nr.stopPropagation(),$noPadding:!0},reactExports.createElement(L,{id:er,row:tr,expanded:Ot,expandableIcon:Nt,disabled:ir,onToggled:rr}))}const N=pt.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:tr})=>tr.expanderRow.style};
	${({$extendedRowStyle:tr})=>tr};
`;var z=reactExports.memo(function({data:tr,ExpanderComponent:Ot,expanderComponentProps:Nt,extendedRowStyle:er,extendedClassNames:rr}){const ir=["rdt_ExpanderRow",...rr.split(" ").filter(nr=>nr!=="rdt_TableRow")].join(" ");return reactExports.createElement(N,{className:ir,$extendedRowStyle:er},reactExports.createElement(Ot,Object.assign({data:tr},Nt)))});const W="allowRowEvents";var B,G,V;(function(tr){tr.LTR="ltr",tr.RTL="rtl",tr.AUTO="auto"})(B||(B={})),function(tr){tr.LEFT="left",tr.RIGHT="right",tr.CENTER="center"}(G||(G={})),function(tr){tr.SM="sm",tr.MD="md",tr.LG="lg"}(V||(V={}));const U=ct`
	&:hover {
		${({$highlightOnHover:tr,theme:Ot})=>tr&&Ot.rows.highlightOnHoverStyle};
	}
`,Y=ct`
	&:hover {
		cursor: pointer;
	}
`,K=pt.div.attrs(tr=>({style:tr.style}))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:tr})=>tr.rows.style};
	${({$dense:tr,theme:Ot})=>tr&&Ot.rows.denseStyle};
	${({$striped:tr,theme:Ot})=>tr&&Ot.rows.stripedStyle};
	${({$highlightOnHover:tr})=>tr&&U};
	${({$pointerOnHover:tr})=>tr&&Y};
	${({$selected:tr,theme:Ot})=>tr&&Ot.rows.selectedHighlightStyle};
	${({$conditionalStyle:tr})=>tr};
`;function q({columns:tr=[],conditionalRowStyles:Ot=[],defaultExpanded:Nt=!1,defaultExpanderDisabled:er=!1,dense:rr=!1,expandableIcon:ir,expandableRows:nr=!1,expandableRowsComponent:sr,expandableRowsComponentProps:ar,expandableRowsHideExpander:lr,expandOnRowClicked:cr=!1,expandOnRowDoubleClicked:dr=!1,highlightOnHover:ur=!1,id:fr,expandableInheritConditionalStyles:hr,keyField:pr,onRowClicked:gr=u,onRowDoubleClicked:br=u,onRowMouseEnter:vr=u,onRowMouseLeave:kr=u,onRowExpandToggled:Sr=u,onSelectedRow:Cr=u,pointerOnHover:Ar=!1,row:Ir,rowCount:qr,rowIndex:Qr,selectableRowDisabled:Wr=null,selectableRows:jr=!1,selectableRowsComponent:Or,selectableRowsComponentProps:yr,selectableRowsHighlight:xr=!1,selectableRowsSingle:wr=!1,selected:Br,striped:_r=!1,draggingColumnId:Mr,onDragStart:Tr,onDragOver:Er,onDragEnd:Pr,onDragEnter:Rr,onDragLeave:Lr}){const[Hr,Gr]=reactExports.useState(Nt);reactExports.useEffect(()=>{Gr(Nt)},[Nt]);const Ur=reactExports.useCallback(()=>{Gr(!Hr),Sr(!Hr,Ir)},[Hr,Sr,Ir]),Nr=Ar||nr&&(cr||dr),Fr=reactExports.useCallback(ji=>{ji.target.getAttribute("data-tag")===W&&(gr(Ir,ji),!er&&nr&&cr&&Ur())},[er,cr,nr,Ur,gr,Ir]),Xr=reactExports.useCallback(ji=>{ji.target.getAttribute("data-tag")===W&&(br(Ir,ji),!er&&nr&&dr&&Ur())},[er,dr,nr,Ur,br,Ir]),Jr=reactExports.useCallback(ji=>{vr(Ir,ji)},[vr,Ir]),Vr=reactExports.useCallback(ji=>{kr(Ir,ji)},[kr,Ir]),Zr=r$1(Ir,pr),{conditionalStyle:Kr,classNames:Ci}=p(Ir,Ot,["rdt_TableRow"]),Mi=xr&&Br,Ti=hr?Kr:{},Ii=_r&&Qr%2==0;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(K,{id:`row-${fr}`,role:"row",$striped:Ii,$highlightOnHover:ur,$pointerOnHover:!er&&Nr,$dense:rr,onClick:Fr,onDoubleClick:Xr,onMouseEnter:Jr,onMouseLeave:Vr,className:Ci,$selected:Mi,$conditionalStyle:Kr},jr&&reactExports.createElement(T,{name:`select-row-${Zr}`,keyField:pr,row:Ir,rowCount:qr,selected:Br,selectableRowsComponent:Or,selectableRowsComponentProps:yr,selectableRowDisabled:Wr,selectableRowsSingle:wr,onSelectedRow:Cr}),nr&&!lr&&reactExports.createElement(_,{id:Zr,expandableIcon:ir,expanded:Hr,row:Ir,onToggled:Ur,disabled:er}),tr.map(ji=>ji.omit?null:reactExports.createElement(H,{id:`cell-${ji.id}-${Zr}`,key:`cell-${ji.id}-${Zr}`,dataTag:ji.ignoreRowClick||ji.button?null:W,column:ji,row:Ir,rowIndex:Qr,isDragging:h(Mr,ji.id),onDragStart:Tr,onDragOver:Er,onDragEnd:Pr,onDragEnter:Rr,onDragLeave:Lr}))),nr&&Hr&&reactExports.createElement(z,{key:`expander-${Zr}`,data:Ir,extendedRowStyle:Ti,extendedClassNames:Ci,ExpanderComponent:sr,expanderComponentProps:ar}))}const J=pt.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:tr})=>tr?"opacity: 1":"opacity: 0"};
	${({$sortDirection:tr})=>tr==="desc"&&"transform: rotate(180deg)"};
`,Q=({sortActive:tr,sortDirection:Ot})=>t$2.createElement(J,{$sortActive:tr,$sortDirection:Ot},"▲"),X=pt(k)`
	${({button:tr})=>tr&&"text-align: center"};
	${({theme:tr,$isDragging:Ot})=>Ot&&tr.headCells.draggingStyle};
`,Z=ct`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:tr})=>tr?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:tr})=>!tr&&ct`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,ee=pt.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:tr})=>!tr&&Z};
`,te=pt.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var ne=reactExports.memo(function({column:tr,disabled:Ot,draggingColumnId:Nt,selectedColumn:er={},sortDirection:rr,sortIcon:ir,sortServer:nr,pagination:sr,paginationServer:ar,persistSelectedOnSort:lr,selectableRowsVisibleOnly:cr,onSort:dr,onDragStart:ur,onDragOver:fr,onDragEnd:hr,onDragEnter:pr,onDragLeave:gr}){reactExports.useEffect(()=>{typeof tr.selector=="string"&&console.error(`Warning: ${tr.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)},[]);const[br,vr]=reactExports.useState(!1),kr=reactExports.useRef(null);if(reactExports.useEffect(()=>{kr.current&&vr(kr.current.scrollWidth>kr.current.clientWidth)},[br]),tr.omit)return null;const Sr=()=>{if(!tr.sortable&&!tr.selector)return;let yr=rr;h(er.id,tr.id)&&(yr=rr===l.ASC?l.DESC:l.ASC),dr({type:"SORT_CHANGE",sortDirection:yr,selectedColumn:tr,clearSelectedOnSort:sr&&ar&&!lr||nr||cr})},Cr=yr=>reactExports.createElement(Q,{sortActive:yr,sortDirection:rr}),Ar=()=>reactExports.createElement("span",{className:[rr,"__rdt_custom_sort_icon__"].join(" ")},ir),Ir=!(!tr.sortable||!h(er.id,tr.id)),qr=!tr.sortable||Ot,Qr=tr.sortable&&!ir&&!tr.right,Wr=tr.sortable&&!ir&&tr.right,jr=tr.sortable&&ir&&!tr.right,Or=tr.sortable&&ir&&tr.right;return reactExports.createElement(X,{"data-column-id":tr.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:tr.allowOverflow,button:tr.button,compact:tr.compact,grow:tr.grow,hide:tr.hide,maxWidth:tr.maxWidth,minWidth:tr.minWidth,right:tr.right,center:tr.center,width:tr.width,draggable:tr.reorder,$isDragging:h(tr.id,Nt),onDragStart:ur,onDragOver:fr,onDragEnd:hr,onDragEnter:pr,onDragLeave:gr},tr.name&&reactExports.createElement(ee,{"data-column-id":tr.id,"data-sort-id":tr.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:qr?void 0:Sr,onKeyPress:qr?void 0:yr=>{yr.key==="Enter"&&Sr()},$sortActive:!qr&&Ir,disabled:qr},!qr&&Or&&Ar(),!qr&&Wr&&Cr(Ir),typeof tr.name=="string"?reactExports.createElement(te,{title:br?tr.name:void 0,ref:kr,"data-column-id":tr.id},tr.name):tr.name,!qr&&jr&&Ar(),!qr&&Qr&&Cr(Ir)))});const oe=pt($)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function ae({headCell:tr=!0,rowData:Ot,keyField:Nt,allSelected:er,mergeSelections:rr,selectedRows:ir,selectableRowsComponent:nr,selectableRowsComponentProps:sr,selectableRowDisabled:ar,onSelectAllRows:lr}){const cr=ir.length>0&&!er,dr=ar?Ot.filter(hr=>!ar(hr)):Ot,ur=dr.length===0,fr=Math.min(Ot.length,dr.length);return reactExports.createElement(oe,{className:"rdt_TableCol",$headCell:tr,$noPadding:!0},reactExports.createElement(j,{name:"select-all-rows",component:nr,componentOptions:sr,onClick:()=>{lr({type:"SELECT_ALL_ROWS",rows:dr,rowCount:fr,mergeSelections:rr,keyField:Nt})},checked:er,indeterminate:cr,disabled:ur}))}function le(tr=B.AUTO){const Ot=typeof window=="object",[Nt,er]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(Ot)if(tr!=="auto")er(tr==="rtl");else{const rr=!(!window.document||!window.document.createElement),ir=document.getElementsByTagName("BODY")[0],nr=document.getElementsByTagName("HTML")[0],sr=ir.dir==="rtl"||nr.dir==="rtl";er(rr&&sr)}},[tr,Ot]),Nt}const re=pt.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:tr})=>tr.contextMenu.fontColor};
	font-size: ${({theme:tr})=>tr.contextMenu.fontSize};
	font-weight: 400;
`,ie$2=pt.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,se=pt.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:tr})=>tr&&"direction: rtl"};
	${({theme:tr})=>tr.contextMenu.style};
	${({theme:tr,$visible:Ot})=>Ot&&tr.contextMenu.activeStyle};
`;function de({contextMessage:tr,contextActions:Ot,contextComponent:Nt,selectedCount:er,direction:rr}){const ir=le(rr),nr=er>0;return Nt?reactExports.createElement(se,{$visible:nr},reactExports.cloneElement(Nt,{selectedCount:er})):reactExports.createElement(se,{$visible:nr,$rtl:ir},reactExports.createElement(re,null,((sr,ar,lr)=>{if(ar===0)return null;const cr=ar===1?sr.singular:sr.plural;return lr?`${ar} ${sr.message||""} ${cr}`:`${ar} ${cr} ${sr.message||""}`})(tr,er,ir)),reactExports.createElement(ie$2,null,Ot))}const ce=pt.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:tr})=>tr.header.style}
`,ge=pt.div`
	flex: 1 0 auto;
	color: ${({theme:tr})=>tr.header.fontColor};
	font-size: ${({theme:tr})=>tr.header.fontSize};
	font-weight: 400;
`,ue=pt.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,pe=({title:tr,actions:Ot=null,contextMessage:Nt,contextActions:er,contextComponent:rr,selectedCount:ir,direction:nr,showMenu:sr=!0})=>reactExports.createElement(ce,{className:"rdt_TableHeader",role:"heading","aria-level":1},reactExports.createElement(ge,null,tr),Ot&&reactExports.createElement(ue,null,Ot),sr&&reactExports.createElement(de,{contextMessage:Nt,contextActions:er,contextComponent:rr,direction:nr,selectedCount:ir}));function be(tr,Ot){var Nt={};for(var er in tr)Object.prototype.hasOwnProperty.call(tr,er)&&Ot.indexOf(er)<0&&(Nt[er]=tr[er]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function"){var rr=0;for(er=Object.getOwnPropertySymbols(tr);rr<er.length;rr++)Ot.indexOf(er[rr])<0&&Object.prototype.propertyIsEnumerable.call(tr,er[rr])&&(Nt[er[rr]]=tr[er[rr]])}return Nt}const me={left:"flex-start",right:"flex-end",center:"center"},he=pt.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:tr})=>me[tr]};
	flex-wrap: ${({$wrapContent:tr})=>tr?"wrap":"nowrap"};
	${({theme:tr})=>tr.subHeader.style}
`,we=tr=>{var{align:Ot="right",wrapContent:Nt=!0}=tr,er=be(tr,["align","wrapContent"]);return reactExports.createElement(he,Object.assign({align:Ot,$wrapContent:Nt},er))},fe=pt.div`
	display: flex;
	flex-direction: column;
`,xe=pt.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:tr,$fixedHeader:Ot})=>tr&&ct`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${Ot?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:tr=!1,$fixedHeaderScrollHeight:Ot="100vh"})=>tr&&ct`
			max-height: ${Ot};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:tr})=>tr.responsiveWrapper.style};
`,Ce=pt.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${tr=>tr.theme.progress.style};
`,ye=pt.div`
	position: relative;
	width: 100%;
	${({theme:tr})=>tr.tableWrapper.style};
`,Re=pt($)`
	white-space: nowrap;
	${({theme:tr})=>tr.expanderCell.style};
`,ve=pt.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:tr})=>tr.noData.style};
`,Se=()=>t$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},t$2.createElement("path",{d:"M7 10l5 5 5-5z"}),t$2.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),Ee=pt.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,Oe=pt.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,$e=tr=>{var{defaultValue:Ot,onChange:Nt}=tr,er=be(tr,["defaultValue","onChange"]);return reactExports.createElement(Oe,null,reactExports.createElement(Ee,Object.assign({onChange:Nt,defaultValue:Ot},er)),reactExports.createElement(Se,null))},ke={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return t$2.createElement("div",null,"To add an expander pass in a component instance via ",t$2.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:t$2.createElement(()=>t$2.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},t$2.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),t$2.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"})),null),expanded:t$2.createElement(()=>t$2.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},t$2.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),t$2.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"})),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:t$2.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:t$2.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:G.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:t$2.createElement(()=>t$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},t$2.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),t$2.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"})),null),paginationIconLastPage:t$2.createElement(()=>t$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},t$2.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),t$2.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),null),paginationIconNext:t$2.createElement(()=>t$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},t$2.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),t$2.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),paginationIconPrevious:t$2.createElement(()=>t$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},t$2.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),t$2.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:B.AUTO,onChangePage:u,onChangeRowsPerPage:u,onRowClicked:u,onRowDoubleClicked:u,onRowMouseEnter:u,onRowMouseLeave:u,onRowExpandToggled:u,onSelectedRowsChange:u,onSort:u,onColumnOrderChange:u},Pe={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},De=pt.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:tr})=>tr.pagination.style};
`,He=pt.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:tr})=>tr.pagination.pageButtonsStyle};
	${({$isRTL:tr})=>tr&&"transform: scale(-1, -1)"};
`,Fe=pt.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${v`
    width: 100%;
    justify-content: space-around;
  `};
`,je=pt.span`
	flex-shrink: 1;
	user-select: none;
`,Ie=pt(je)`
	margin: 0 24px;
`,Te=pt(je)`
	margin: 0 4px;
`;var Me=reactExports.memo(function({rowsPerPage:tr,rowCount:Ot,currentPage:Nt,direction:er=ke.direction,paginationRowsPerPageOptions:rr=ke.paginationRowsPerPageOptions,paginationIconLastPage:ir=ke.paginationIconLastPage,paginationIconFirstPage:nr=ke.paginationIconFirstPage,paginationIconNext:sr=ke.paginationIconNext,paginationIconPrevious:ar=ke.paginationIconPrevious,paginationComponentOptions:lr=ke.paginationComponentOptions,onChangeRowsPerPage:cr=ke.onChangeRowsPerPage,onChangePage:dr=ke.onChangePage}){const ur=(()=>{const yr=typeof window=="object";function xr(){return{width:yr?window.innerWidth:void 0,height:yr?window.innerHeight:void 0}}const[wr,Br]=reactExports.useState(xr);return reactExports.useEffect(()=>{if(!yr)return()=>null;function _r(){Br(xr())}return window.addEventListener("resize",_r),()=>window.removeEventListener("resize",_r)},[]),wr})(),fr=le(er),hr=ur.width&&ur.width>599,pr=c$1(Ot,tr),gr=Nt*tr,br=gr-tr+1,vr=Nt===1,kr=Nt===pr,Sr=Object.assign(Object.assign({},Pe),lr),Cr=Nt===pr?`${br}-${Ot} ${Sr.rangeSeparatorText} ${Ot}`:`${br}-${gr} ${Sr.rangeSeparatorText} ${Ot}`,Ar=reactExports.useCallback(()=>dr(Nt-1),[Nt,dr]),Ir=reactExports.useCallback(()=>dr(Nt+1),[Nt,dr]),qr=reactExports.useCallback(()=>dr(1),[dr]),Qr=reactExports.useCallback(()=>dr(c$1(Ot,tr)),[dr,Ot,tr]),Wr=reactExports.useCallback(yr=>cr(Number(yr.target.value),Nt),[Nt,cr]),jr=rr.map(yr=>reactExports.createElement("option",{key:yr,value:yr},yr));Sr.selectAllRowsItem&&jr.push(reactExports.createElement("option",{key:-1,value:Ot},Sr.selectAllRowsItemText));const Or=reactExports.createElement($e,{onChange:Wr,defaultValue:tr,"aria-label":Sr.rowsPerPageText},jr);return reactExports.createElement(De,{className:"rdt_Pagination"},!Sr.noRowsPerPage&&hr&&reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Te,null,Sr.rowsPerPageText),Or),hr&&reactExports.createElement(Ie,null,Cr),reactExports.createElement(Fe,null,reactExports.createElement(He,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":vr,onClick:qr,disabled:vr,$isRTL:fr},nr),reactExports.createElement(He,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":vr,onClick:Ar,disabled:vr,$isRTL:fr},ar),!Sr.noRowsPerPage&&!hr&&Or,reactExports.createElement(He,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":kr,onClick:Ir,disabled:kr,$isRTL:fr},sr),reactExports.createElement(He,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":kr,onClick:Qr,disabled:kr,$isRTL:fr},ir)))});const Le=(tr,Ot)=>{const Nt=reactExports.useRef(!0);reactExports.useEffect(()=>{Nt.current?Nt.current=!1:tr()},Ot)};function Ae(tr){return tr&&tr.__esModule&&Object.prototype.hasOwnProperty.call(tr,"default")?tr.default:tr}var _e=function(tr){return function(Ot){return!!Ot&&typeof Ot=="object"}(tr)&&!function(Ot){var Nt=Object.prototype.toString.call(Ot);return Nt==="[object RegExp]"||Nt==="[object Date]"||function(er){return er.$$typeof===Ne}(Ot)}(tr)},Ne=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function ze(tr,Ot){return Ot.clone!==!1&&Ot.isMergeableObject(tr)?Ue((Nt=tr,Array.isArray(Nt)?[]:{}),tr,Ot):tr;var Nt}function We(tr,Ot,Nt){return tr.concat(Ot).map(function(er){return ze(er,Nt)})}function Be(tr){return Object.keys(tr).concat(function(Ot){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(Ot).filter(function(Nt){return Object.propertyIsEnumerable.call(Ot,Nt)}):[]}(tr))}function Ge(tr,Ot){try{return Ot in tr}catch{return!1}}function Ve(tr,Ot,Nt){var er={};return Nt.isMergeableObject(tr)&&Be(tr).forEach(function(rr){er[rr]=ze(tr[rr],Nt)}),Be(Ot).forEach(function(rr){(function(ir,nr){return Ge(ir,nr)&&!(Object.hasOwnProperty.call(ir,nr)&&Object.propertyIsEnumerable.call(ir,nr))})(tr,rr)||(Ge(tr,rr)&&Nt.isMergeableObject(Ot[rr])?er[rr]=function(ir,nr){if(!nr.customMerge)return Ue;var sr=nr.customMerge(ir);return typeof sr=="function"?sr:Ue}(rr,Nt)(tr[rr],Ot[rr],Nt):er[rr]=ze(Ot[rr],Nt))}),er}function Ue(tr,Ot,Nt){(Nt=Nt||{}).arrayMerge=Nt.arrayMerge||We,Nt.isMergeableObject=Nt.isMergeableObject||_e,Nt.cloneUnlessOtherwiseSpecified=ze;var er=Array.isArray(Ot);return er===Array.isArray(tr)?er?Nt.arrayMerge(tr,Ot,Nt):Ve(tr,Ot,Nt):ze(Ot,Nt)}Ue.all=function(tr,Ot){if(!Array.isArray(tr))throw new Error("first argument should be an array");return tr.reduce(function(Nt,er){return Ue(Nt,er,Ot)},{})};var Ye=Ae(Ue);const Ke={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},qe={default:Ke,light:Ke,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function Qe(tr,Ot,Nt,er){const[rr,ir]=reactExports.useState(()=>d(tr)),[nr,sr]=reactExports.useState(""),ar=reactExports.useRef("");Le(()=>{ir(d(tr))},[tr]);const lr=reactExports.useCallback(gr=>{var br,vr,kr;const{attributes:Sr}=gr.target,Cr=(br=Sr.getNamedItem("data-column-id"))===null||br===void 0?void 0:br.value;Cr&&(ar.current=((kr=(vr=rr[m(rr,Cr)])===null||vr===void 0?void 0:vr.id)===null||kr===void 0?void 0:kr.toString())||"",sr(ar.current))},[rr]),cr=reactExports.useCallback(gr=>{var br;const{attributes:vr}=gr.target,kr=(br=vr.getNamedItem("data-column-id"))===null||br===void 0?void 0:br.value;if(kr&&ar.current&&kr!==ar.current){const Sr=m(rr,ar.current),Cr=m(rr,kr),Ar=[...rr];Ar[Sr]=rr[Cr],Ar[Cr]=rr[Sr],ir(Ar),Ot(Ar)}},[Ot,rr]),dr=reactExports.useCallback(gr=>{gr.preventDefault()},[]),ur=reactExports.useCallback(gr=>{gr.preventDefault()},[]),fr=reactExports.useCallback(gr=>{gr.preventDefault(),ar.current="",sr("")},[]),hr=function(gr=!1){return gr?l.ASC:l.DESC}(er),pr=reactExports.useMemo(()=>rr[m(rr,Nt==null?void 0:Nt.toString())]||{},[Nt,rr]);return{tableColumns:rr,draggingColumnId:nr,handleDragStart:lr,handleDragEnter:cr,handleDragOver:dr,handleDragLeave:ur,handleDragEnd:fr,defaultSortDirection:hr,defaultSortColumn:pr}}var Xe=reactExports.memo(function(tr){const{data:Ot=ke.data,columns:Nt=ke.columns,title:er=ke.title,actions:rr=ke.actions,keyField:ir=ke.keyField,striped:nr=ke.striped,highlightOnHover:sr=ke.highlightOnHover,pointerOnHover:ar=ke.pointerOnHover,dense:lr=ke.dense,selectableRows:cr=ke.selectableRows,selectableRowsSingle:dr=ke.selectableRowsSingle,selectableRowsHighlight:ur=ke.selectableRowsHighlight,selectableRowsNoSelectAll:fr=ke.selectableRowsNoSelectAll,selectableRowsVisibleOnly:hr=ke.selectableRowsVisibleOnly,selectableRowSelected:pr=ke.selectableRowSelected,selectableRowDisabled:gr=ke.selectableRowDisabled,selectableRowsComponent:br=ke.selectableRowsComponent,selectableRowsComponentProps:vr=ke.selectableRowsComponentProps,onRowExpandToggled:kr=ke.onRowExpandToggled,onSelectedRowsChange:Sr=ke.onSelectedRowsChange,expandableIcon:Cr=ke.expandableIcon,onChangeRowsPerPage:Ar=ke.onChangeRowsPerPage,onChangePage:Ir=ke.onChangePage,paginationServer:qr=ke.paginationServer,paginationServerOptions:Qr=ke.paginationServerOptions,paginationTotalRows:Wr=ke.paginationTotalRows,paginationDefaultPage:jr=ke.paginationDefaultPage,paginationResetDefaultPage:Or=ke.paginationResetDefaultPage,paginationPerPage:yr=ke.paginationPerPage,paginationRowsPerPageOptions:xr=ke.paginationRowsPerPageOptions,paginationIconLastPage:wr=ke.paginationIconLastPage,paginationIconFirstPage:Br=ke.paginationIconFirstPage,paginationIconNext:_r=ke.paginationIconNext,paginationIconPrevious:Mr=ke.paginationIconPrevious,paginationComponent:Tr=ke.paginationComponent,paginationComponentOptions:Er=ke.paginationComponentOptions,responsive:Pr=ke.responsive,progressPending:Rr=ke.progressPending,progressComponent:Lr=ke.progressComponent,persistTableHead:Hr=ke.persistTableHead,noDataComponent:Gr=ke.noDataComponent,disabled:Ur=ke.disabled,noTableHead:Nr=ke.noTableHead,noHeader:Fr=ke.noHeader,fixedHeader:Xr=ke.fixedHeader,fixedHeaderScrollHeight:Jr=ke.fixedHeaderScrollHeight,pagination:Vr=ke.pagination,subHeader:Zr=ke.subHeader,subHeaderAlign:Kr=ke.subHeaderAlign,subHeaderWrap:Ci=ke.subHeaderWrap,subHeaderComponent:Mi=ke.subHeaderComponent,noContextMenu:Ti=ke.noContextMenu,contextMessage:Ii=ke.contextMessage,contextActions:ji=ke.contextActions,contextComponent:Si=ke.contextComponent,expandableRows:zi=ke.expandableRows,onRowClicked:Di=ke.onRowClicked,onRowDoubleClicked:Fi=ke.onRowDoubleClicked,onRowMouseEnter:Vi=ke.onRowMouseEnter,onRowMouseLeave:Ni=ke.onRowMouseLeave,sortIcon:rn=ke.sortIcon,onSort:ln=ke.onSort,sortFunction:qi=ke.sortFunction,sortServer:fn=ke.sortServer,expandableRowsComponent:Sn=ke.expandableRowsComponent,expandableRowsComponentProps:Xi=ke.expandableRowsComponentProps,expandableRowDisabled:yn=ke.expandableRowDisabled,expandableRowsHideExpander:kn=ke.expandableRowsHideExpander,expandOnRowClicked:nn=ke.expandOnRowClicked,expandOnRowDoubleClicked:jn=ke.expandOnRowDoubleClicked,expandableRowExpanded:Tn=ke.expandableRowExpanded,expandableInheritConditionalStyles:cn=ke.expandableInheritConditionalStyles,defaultSortFieldId:Dn=ke.defaultSortFieldId,defaultSortAsc:Wi=ke.defaultSortAsc,clearSelectedRows:tn=ke.clearSelectedRows,conditionalRowStyles:Bn=ke.conditionalRowStyles,theme:Mn=ke.theme,customStyles:Yi=ke.customStyles,direction:Cn=ke.direction,onColumnOrderChange:wn=ke.onColumnOrderChange,className:on}=tr,{tableColumns:Pi,draggingColumnId:Pn,handleDragStart:Hi,handleDragEnter:En,handleDragOver:An,handleDragLeave:Ji,handleDragEnd:sn,defaultSortDirection:xn,defaultSortColumn:Ui}=Qe(Nt,wn,Dn,Wi),[{rowsPerPage:vn,currentPage:hn,selectedRows:an,allSelected:Ln,selectedCount:In,selectedColumn:Qi,sortDirection:_n,toggleOnSelectedRowsChange:Nn},On]=reactExports.useReducer(w,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Ui,toggleOnSelectedRowsChange:!1,sortDirection:xn,currentPage:jr,rowsPerPage:yr,selectedRowsFlag:!1,contextMessage:ke.contextMessage}),{persistSelectedOnSort:es=!1,persistSelectedOnPageChange:Zn=!1}=Qr,Qn=!(!qr||!Zn&&!es),Kn=Vr&&!Rr&&Ot.length>0,ts=Tr||Me,ss=reactExports.useMemo(()=>((Ki={},$n="default",pn="default")=>{const Gn=qe[$n]?$n:pn;return Ye({table:{style:{color:(en=qe[Gn]).text.primary,backgroundColor:en.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:en.text.primary,backgroundColor:en.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:en.background.default,minHeight:"52px"}},head:{style:{color:en.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:en.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:en.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:en.context.background,fontSize:"18px",fontWeight:400,color:en.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:en.text.primary,backgroundColor:en.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:en.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:en.selected.text,backgroundColor:en.selected.default,borderBottomColor:en.background.default}},highlightOnHoverStyle:{color:en.highlightOnHover.text,backgroundColor:en.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:en.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:en.background.default},stripedStyle:{color:en.striped.text,backgroundColor:en.striped.default}},expanderRow:{style:{color:en.text.primary,backgroundColor:en.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:en.button.default,fill:en.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:en.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:en.button.hover},"&:focus":{outline:"none",backgroundColor:en.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:en.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:en.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:en.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:en.button.default,fill:en.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:en.button.disabled,fill:en.button.disabled},"&:hover:not(:disabled)":{backgroundColor:en.button.hover},"&:focus":{outline:"none",backgroundColor:en.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:en.text.primary,backgroundColor:en.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:en.text.primary,backgroundColor:en.background.default}}},Ki);var en})(Yi,Mn),[Yi,Mn]),as=reactExports.useMemo(()=>Object.assign({},Cn!=="auto"&&{dir:Cn}),[Cn]),Fn=reactExports.useMemo(()=>{if(fn)return Ot;if(Qi!=null&&Qi.sortFunction&&typeof Qi.sortFunction=="function"){const Ki=Qi.sortFunction,$n=_n===l.ASC?Ki:(pn,Gn)=>-1*Ki(pn,Gn);return[...Ot].sort($n)}return function(Ki,$n,pn,Gn){return $n?Gn&&typeof Gn=="function"?Gn(Ki.slice(0),$n,pn):Ki.slice(0).sort((en,gs)=>{const ms=$n(en),is=$n(gs);if(pn==="asc"){if(ms<is)return-1;if(ms>is)return 1}if(pn==="desc"){if(ms>is)return-1;if(ms<is)return 1}return 0}):Ki}(Ot,Qi==null?void 0:Qi.selector,_n,qi)},[fn,Qi,_n,Ot,qi]),zn=reactExports.useMemo(()=>{if(Vr&&!qr){const Ki=hn*vn,$n=Ki-vn;return Fn.slice($n,Ki)}return Fn},[hn,Vr,qr,vn,Fn]),ls=reactExports.useCallback(Ki=>{On(Ki)},[]),Jn=reactExports.useCallback(Ki=>{On(Ki)},[]),cs=reactExports.useCallback(Ki=>{On(Ki)},[]),Xn=reactExports.useCallback((Ki,$n)=>Di(Ki,$n),[Di]),rs=reactExports.useCallback((Ki,$n)=>Fi(Ki,$n),[Fi]),ds=reactExports.useCallback((Ki,$n)=>Vi(Ki,$n),[Vi]),us=reactExports.useCallback((Ki,$n)=>Ni(Ki,$n),[Ni]),Vn=reactExports.useCallback(Ki=>On({type:"CHANGE_PAGE",page:Ki,paginationServer:qr,visibleOnly:hr,persistSelectedOnPageChange:Zn}),[qr,Zn,hr]),Es=reactExports.useCallback(Ki=>{const $n=c$1(Wr||zn.length,Ki),pn=g(hn,$n);qr||Vn(pn),On({type:"CHANGE_ROWS_PER_PAGE",page:pn,rowsPerPage:Ki})},[hn,Vn,qr,Wr,zn.length]);if(Vr&&!qr&&Fn.length>0&&zn.length===0){const Ki=c$1(Fn.length,vn),$n=g(hn,Ki);Vn($n)}Le(()=>{Sr({allSelected:Ln,selectedCount:In,selectedRows:an.slice(0)})},[Nn]),Le(()=>{ln(Qi,_n,Fn.slice(0))},[Qi,_n]),Le(()=>{Ir(hn,Wr||Fn.length)},[hn]),Le(()=>{Ar(vn,hn)},[vn]),Le(()=>{Vn(jr)},[jr,Or]),Le(()=>{if(Vr&&qr&&Wr>0){const Ki=c$1(Wr,vn),$n=g(hn,Ki);hn!==$n&&Vn($n)}},[Wr]),reactExports.useEffect(()=>{On({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:tn})},[dr,tn]),reactExports.useEffect(()=>{if(!pr)return;const Ki=Fn.filter(pn=>pr(pn)),$n=dr?Ki.slice(0,1):Ki;On({type:"SELECT_MULTIPLE_ROWS",keyField:ir,selectedRows:$n,totalRows:Fn.length,mergeSelections:Qn})},[Ot,pr]);const ws=hr?zn:Fn,Is=Zn||dr||fr;return reactExports.createElement(nt,{theme:ss},!Fr&&(!!er||!!rr)&&reactExports.createElement(pe,{title:er,actions:rr,showMenu:!Ti,selectedCount:In,direction:Cn,contextActions:ji,contextComponent:Si,contextMessage:Ii}),Zr&&reactExports.createElement(we,{align:Kr,wrapContent:Ci},Mi),reactExports.createElement(xe,Object.assign({$responsive:Pr,$fixedHeader:Xr,$fixedHeaderScrollHeight:Jr,className:on},as),reactExports.createElement(ye,null,Rr&&!Hr&&reactExports.createElement(Ce,null,Lr),reactExports.createElement(x,{disabled:Ur,className:"rdt_Table",role:"table"},!Nr&&(!!Hr||Fn.length>0&&!Rr)&&reactExports.createElement(y,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:Xr},reactExports.createElement(R,{className:"rdt_TableHeadRow",role:"row",$dense:lr},cr&&(Is?reactExports.createElement($,{style:{flex:"0 0 48px"}}):reactExports.createElement(ae,{allSelected:Ln,selectedRows:an,selectableRowsComponent:br,selectableRowsComponentProps:vr,selectableRowDisabled:gr,rowData:ws,keyField:ir,mergeSelections:Qn,onSelectAllRows:Jn})),zi&&!kn&&reactExports.createElement(Re,null),Pi.map(Ki=>reactExports.createElement(ne,{key:Ki.id,column:Ki,selectedColumn:Qi,disabled:Rr||Fn.length===0,pagination:Vr,paginationServer:qr,persistSelectedOnSort:es,selectableRowsVisibleOnly:hr,sortDirection:_n,sortIcon:rn,sortServer:fn,onSort:ls,onDragStart:Hi,onDragOver:An,onDragEnd:sn,onDragEnter:En,onDragLeave:Ji,draggingColumnId:Pn})))),!Fn.length&&!Rr&&reactExports.createElement(ve,null,Gr),Rr&&Hr&&reactExports.createElement(Ce,null,Lr),!Rr&&Fn.length>0&&reactExports.createElement(fe,{className:"rdt_TableBody",role:"rowgroup"},zn.map((Ki,$n)=>{const pn=r$1(Ki,ir),Gn=function(is=""){return typeof is!="number"&&(!is||is.length===0)}(pn)?$n:pn,en=b(Ki,an,ir),gs=!!(zi&&Tn&&Tn(Ki)),ms=!!(zi&&yn&&yn(Ki));return reactExports.createElement(q,{id:Gn,key:Gn,keyField:ir,"data-row-id":Gn,columns:Pi,row:Ki,rowCount:Fn.length,rowIndex:$n,selectableRows:cr,expandableRows:zi,expandableIcon:Cr,highlightOnHover:sr,pointerOnHover:ar,dense:lr,expandOnRowClicked:nn,expandOnRowDoubleClicked:jn,expandableRowsComponent:Sn,expandableRowsComponentProps:Xi,expandableRowsHideExpander:kn,defaultExpanderDisabled:ms,defaultExpanded:gs,expandableInheritConditionalStyles:cn,conditionalRowStyles:Bn,selected:en,selectableRowsHighlight:ur,selectableRowsComponent:br,selectableRowsComponentProps:vr,selectableRowDisabled:gr,selectableRowsSingle:dr,striped:nr,onRowExpandToggled:kr,onRowClicked:Xn,onRowDoubleClicked:rs,onRowMouseEnter:ds,onRowMouseLeave:us,onSelectedRow:cs,draggingColumnId:Pn,onDragStart:Hi,onDragOver:An,onDragEnd:sn,onDragEnter:En,onDragLeave:Ji})}))))),Kn&&reactExports.createElement("div",null,reactExports.createElement(ts,{onChangePage:Vn,onChangeRowsPerPage:Es,rowCount:Wr||Fn.length,currentPage:hn,rowsPerPage:vn,direction:Cn,paginationRowsPerPageOptions:xr,paginationIconLastPage:wr,paginationIconFirstPage:Br,paginationIconNext:_r,paginationIconPrevious:Mr,paginationComponentOptions:Er})))});const PageList=({className:tr,pages:Ot,onEditRow:Nt=er=>er})=>{const er=[{name:"No",prop:"no",width:"50px",selector:(sr,ar)=>ar+1,cell:(sr,ar,lr,cr)=>`${ar+1}.`},{name:"Name",prop:"name",width:"120px",selector:sr=>sr.name},{name:"Title",prop:"title",selector:sr=>sr.title},{name:"Meta Description",prop:"meta-description",selector:sr=>sr["meta-description"]},{name:"Meta Keyword",prop:"meta-keyword",selector:sr=>sr["meta-keyword"]},{name:"Path",prop:"@path",hide:"md",selector:sr=>sr["@path"]},{name:"Action",width:"120px",prop:"action",selector:sr=>sr.action,cell:sr=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Button,{size:"sm xs",onClick:ar=>Nt(sr),children:[jsxRuntimeExports.jsx(Edit,{})," Edit"," "]})})}],[rr,ir]=reactExports.useState([...er]),nr=sr=>{const ar=er.filter(lr=>Array.isArray(sr)?!sr.includes(lr.prop):lr.prop!==sr);console.log({filtered:ar}),ir(lr=>[...ar])};return console.log({columnDef:rr}),reactExports.useEffect(()=>{nr(["@path","meta-description","meta-keyword"])},[ir]),jsxRuntimeExports.jsx("div",{className:tr,children:jsxRuntimeExports.jsx(Xe,{columns:rr,data:Ot,striped:!0,pagination:!0,fixedHeader:!0})})};class DBGitFileList extends DBGit{constructor(){super(...arguments);Li(this,"type","files")}async getList(Nt={},er=!1){return await this.getData()}async getRow(Nt,er=!1){er||await this.getData();const rr=this.data.filter(ir=>ir.name===Nt);if(rr.length>0){let[ir]=rr;return ir}return null}async update(Nt,er,rr=!1){let ir=await this.getRow(Nt,rr);ir={...ir,...er},console.log(ir),await this.commitByRow(ir,!0)}async updateRow(Nt,er=!1){const{name:rr}=Nt;await this.update(rr,Nt)}async commitByRow(Nt,er=!1){const rr=Nt["@path"],ir=JSON.stringify(Nt,null,2);console.log(`WRITE:${rr}`);try{await this.fs.writeFileSync(rr,ir)}catch{console.log(`lfs write error on ${rr}`)}const nr=this.git.getRelativePath(rr);let sr=await this.git.commit([nr]);er&&(sr=await this.push()),console.log(sr)}async delete(Nt){}async create(Nt,er){}async getCount(Nt=!1){}}class MPages extends DBGitFileList{constructor(){super(...arguments);Li(this,"path","web/data/pages")}}const type$b="object",required$a=["title","meta-description","meta-keyword"],properties$a={title:{title:"Judul",type:"string"},"meta-description":{title:"Meta Description",type:"string"},"meta-keyword":{title:"Meta Keyword",type:"string"}},metaSchema={type:type$b,required:required$a,properties:properties$a},title$5={"ui:autofocus":!0},metaUiSchema={title:title$5,"meta-description":{"ui:widget":"textarea"},"meta-keyword":{"ui:widget":"textarea"}},git$d=createGit(),mPages=new MPages(git$d,metaSchema),PagesContentPage=({})=>{const tr=useLocation(),Ot=useDispatch(),Nt=useSelector(Ir=>Ir.content),er=useSelector(Ir=>Ir.setting),{setLoading:rr,setLoadingMessage:ir}=contentSlice.actions,{setHideGitNotReadyMessage:nr}=settingSlice.actions,[sr,ar]=reactExports.useState(mPages.defaultValue),[lr,cr]=reactExports.useState(!1),dr="Edit Meta Halaman",ur=[{title:"Konten",path:"contents"},{title:"Meta Halaman",path:"content/pages"}],[fr,hr]=reactExports.useState(null),[pr,gr]=reactExports.useState([]),br=()=>hr(null),vr=()=>hr(jsxRuntimeExports.jsx(_default,{showCancel:!0,confirmBtnText:"Ya, Unduh sekarang!",cancelBtnText:"Nanti saja",confirmBtnBsStyle:"success",type:"primary",title:"Unduh Git Repository ?",onCancel:Ir=>{Ot(nr(!0)),br()},onConfirm:async Ir=>{br(),Ot(rr(!0)),await git$d.init(),Ot(rr(!1)),Sr()},children:"Database repository Anda masih kosong, Anda perlu mengunduhnya sekarang, proses ini mungkin memerlukan waktu beberapa detik bergantung pada koneksi Internet Anda saat ini."})),kr=async Ir=>{const{formData:qr}=Ir;Ot(rr(!0)),Ot(ir("Menyimpan Data")),console.log("implement DBGitFileList.update"),await mPages.updateRow(qr,!0),Ot(rr(!1)),cr(!1),console.log("Back to list"),await Sr()},Sr=async()=>{const Ir=await mPages.getData();gr(qr=>Ir),console.log(Ir)},Cr=async()=>{git$d.setOnCloneProgressHandler(Ot,rr,ir),await git$d.isCloned()?(console.log("SET LIST DATA"),Sr()):er.hideGitNotReadyMessage||(vr(),console.log("SET DEFAULT LIST DATA"))},Ar=Ir=>{ar(qr=>({...qr,...Ir})),cr(!0)};return reactExports.useEffect(()=>{Cr(),console.log(tr.key)},[tr.key]),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:dr,breadcrumbs:ur,className:`${Nt.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsxs("div",{className:"card-body",children:[fr,lr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:`Edit Page Data for ${sr.name}`,formData:sr,schema:metaSchema,uiSchema:metaUiSchema,onSubmit:Ir=>kr(Ir),onCancel:Ir=>cr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"twx-text-2xl twx-text-center twx-py-4 twx-mb-8",children:"Daftar Halaman"}),jsxRuntimeExports.jsx(PageList,{className:"twx-border twx-border-slate-200 twx-border-solid",pages:pr,onEditRow:Ir=>Ar(Ir)})]})]}),jsxRuntimeExports.jsx("div",{className:"card-body twx-flex twx-justify-end",children:lr?null:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"DISPLAY BUTTON ON LIST"})})]})})})},type$a="object",required$9=["title","image"],properties$9={title:{title:"Title",type:"string"},image:{title:"Image",type:"string",format:"data-url"}},bannerSchema={type:type$a,required:required$9,properties:properties$9},title$4={"ui:autofocus":!0},image$4={"ui:options":{filePreview:!0}},bannerUiSchema={title:title$4,image:image$4},type$9="object",required$8=["waktu","kegiatan"],properties$8={waktu:{title:"Waktu",type:"string"},kegiatan:{title:"Kegiatan",type:"string"}},kegiatanSchema={type:type$9,required:required$8,properties:properties$8},waktu={"ui:autofocus":!0},kegiatan={"ui:widget":"textarea"},kegiatanUiSchema={waktu,kegiatan},KegiatanList=({git:tr,className:Ot,data:Nt,onEditRow:er=rr=>rr})=>{const rr=[{name:"No",prop:"no",width:"50px",selector:(sr,ar)=>ar+1,cell:(sr,ar,lr,cr)=>`${ar+1}.`},{name:"Waktu",prop:"waktu",width:"170px",selector:sr=>sr.waktu},{name:"Kegiatan",width:"500px",prop:"kegiatan",selector:sr=>sr.kegiatan},{name:"Action",width:"120px",prop:"action",selector:sr=>sr.action,cell:sr=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Button,{size:"sm xs",onClick:ar=>er(sr),children:[jsxRuntimeExports.jsx(Edit,{})," Edit"," "]})})}],[ir,nr]=reactExports.useState([...rr]);return reactExports.useEffect(()=>{},[nr]),jsxRuntimeExports.jsx("div",{className:Ot,children:jsxRuntimeExports.jsx(Xe,{columns:ir,data:Nt,striped:!0,pagination:!0,fixedHeader:!0})})};class DBGitList extends DBGit{constructor(){super(...arguments);Li(this,"type","list")}async getList(Nt={},er=!1){return await this.getData()}async getRow(Nt,er=!1){await this.getData(er);const rr=this.data.filter(ir=>ir[this.pk]===Nt);if(rr.length>0){const[ir]=rr;return ir}return null}async update(Nt,er,rr=!1){let ir=await this.getRow(Nt,rr);const nr=this.getFieldNames();for(const ar of nr)this.reservedFieldValues.includes(ar)||(ir[ar]=er[ar]);let sr=await this.transformShadowFieldOnSave();if(this.dataRootField){let ar={...this.originalData};ar[this.dataRootField]=sr,sr=ar}await this.fs.writeFileSync(this.getFilePath(),JSON.stringify(sr,null,2)),await this.commit(!0)}async commit(Nt=!1){const er=this.commitQueues;er.push(this.path);const rr=`${this.commitMessageQueues.join(`
`)}
Edit file ${this.path}`;console.log({commitFileList:er,commitMessage:rr});for(const nr of this.addQueues)await this.git.add(nr);let ir=await this.git.commit(er,rr);return this.commitQueues=[],this.commitMessageQueues=[],Nt&&(ir=await this.push()),ir}async updateRow(Nt,er=!1){console.log(Nt);const rr=Nt[this.pk];await this.update(rr,Nt,!0)}async delete(Nt){}async create(Nt,er){}async getCount(Nt=!1){}}class MKegiatan extends DBGitList{constructor(){super(...arguments);Li(this,"path","web/data/kegiatan.json");Li(this,"dataRootField","contents");Li(this,"pk","id")}}class MMetaKegiatan extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/pages/kegiatan.json")}}const fileTransform={async transformOnLoad(tr,Ot,Nt){return await Nt.git.getFile64Data(tr)},async transformOnSave(tr,Ot,Nt){let er;try{er=getFileInfo(tr,!0)}catch{return console.log("fileTransform error: getFileInfo failed"),null}const rr=Nt.shadowedFieldValues[Ot[Nt.pk]].image,ir=rr?rr.replace(/^\//,""):null,nr=`${Nt.imageUploadPath}/${er.name}`,sr=`/${nr}`;if(er.name==="DEFAULT_DATA_URL_FILENAME")return rr||null;if(console.log({oldPath:rr,newPath:sr,newGitPath:nr}),rr!==sr){Nt.commitQueues.push(nr),console.log(`Do save file from base64 to ${sr}`);const ar=Nt.git.basePath(ir),lr=Nt.git.basePath(nr);console.log({oldFsPath:ar,newFsPath:lr});try{await Nt.fs.writeFileSync(lr,er.buffer),Nt.commitMessageQueues.push(`Create file ${lr}`),Nt.addQueues.push(nr)}catch(dr){console.log(`lfs: cant writeFile ${lr}`,dr)}if(rr&&!1){console.log(`Do delete old file ${ar}`);try{await Nt.fs.unlinkSync(ar),await Nt.git.remove(ir),Nt.commitMessageQueues.push(`Delete ${ir}`)}catch(dr){console.log(`lfs: cant delete ${rr}`,dr)}}}else console.log("skip oldPath === newPath is true");return sr}};class MBanner extends DBGitSingle{constructor(){super(...arguments);Li(this,"imageUploadPath","assets/images/banner");Li(this,"dataRootField","banner");Li(this,"pk","id");Li(this,"shadowFields",{image:fileTransform})}}class MKegiatanBanner extends MBanner{constructor(){super(...arguments);Li(this,"path","web/data/kegiatan.json")}}const BannerEditor=({showLoading:tr,schema:Ot,uiSchema:Nt,page:er,model:rr,trigger:ir,showAlert:nr})=>{const[sr,ar]=reactExports.useState(rr.defaultValue),[lr,cr]=reactExports.useState(!1);reactExports.useState(null);const dr=async()=>{const fr=await rr.getData();ar(fr)},ur=async fr=>{const{formData:hr}=fr;tr(!0);try{await rr.update(hr),await rr.commit(!0)}catch(pr){nr("danger","error",pr.toString())}tr(!1),cr(!1),dr()};return reactExports.useEffect(()=>{dr()},[ir,ar]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:lr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{formData:sr,schema:Ot,uiSchema:Nt,onSubmit:fr=>ur(fr),onCancel:fr=>cr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Detail Banner",schema:Ot,rowData:sr,showImages:["image"]}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:fr=>cr(!0),children:[jsxRuntimeExports.jsx(Edit,{})," Edit"]})})]})})},git$c=createGit(),mKegiatan=new MKegiatan(git$c,kegiatanSchema),mKegiatanBanner=new MKegiatanBanner(git$c,bannerSchema),mMetaKegiatan=new MMetaKegiatan(git$c,metaSchema),pageTitle$8="Kegiatan",breadcrumbs$8=[{title:"Konten",path:"contents"},{title:"Kegiatan",path:"content/kegiatan"}],routePath$7="/contents/kegiatan",KegiatanContentPage=({subModule:tr})=>{const Ot=useLocation(),Nt=useDispatch(),er=useNavigate(),rr=useSelector(wr=>wr.content);useSelector(wr=>wr.setting);const{setLoading:ir,setLoadingMessage:nr,displayAlert:sr}=contentSlice.actions,[ar,lr]=reactExports.useState("banner"),[cr,dr]=reactExports.useState(!1),ur=(wr,Br="Menyimpan Data")=>{wr?(Nt(ir(!0)),Nt(nr(Br))):Nt(ir(!1))},fr=wr=>{er(`${routePath$7}/${wr}`)},hr=(wr,Br,_r)=>{Nt(sr([wr,Br,_r]))},[pr,gr]=reactExports.useState([]),[br,vr]=reactExports.useState(null),[kr,Sr]=reactExports.useState(!1),Cr=async()=>{const wr=await mKegiatan.getData();gr(wr)},Ar=async wr=>{vr(wr),Sr(!0)},Ir=async wr=>{const{formData:Br}=wr;ur(!0);try{await mKegiatan.updateRow(Br,!0)}catch(_r){Nt(sr(["danger","error",_r.toString()]))}ur(!1),Sr(!1),Cr()},[qr,Qr]=reactExports.useState(mMetaKegiatan.defaultValue),[Wr,jr]=reactExports.useState(!1),Or=async()=>{const wr=await mMetaKegiatan.get();Qr(wr)},yr=()=>{jr(!0)},xr=async wr=>{const{formData:Br}=wr;ur(!0);try{await mMetaKegiatan.update(Br),await mMetaKegiatan.commit(!0)}catch(_r){Nt(sr(["danger","error",_r.toString()]))}ur(!1),jr(!1),Or()};return reactExports.useEffect(()=>{const Br=Ot.pathname.split("/").at(-1);lr(Br),Br==="kegiatan"?Cr():Br==="meta"?Or():Br==="banner"&&dr(crc32id())},[Ot.key,lr,vr,Qr]),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:pageTitle$8,breadcrumbs:breadcrumbs$8,icon:jsxRuntimeExports.jsx(Slack,{}),className:`${rr.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsx("div",{className:"card",children:jsxRuntimeExports.jsx("div",{className:"card-body",children:jsxRuntimeExports.jsxs(Tabs,{id:"content-profile-tab",activeKey:ar,onSelect:wr=>fr(wr),children:[jsxRuntimeExports.jsx(Tab,{eventKey:"banner",title:"Banner",children:ar==="banner"&&jsxRuntimeExports.jsx(BannerEditor,{showLoading:ur,page:"profile",model:mKegiatanBanner,trigger:cr,schema:bannerSchema,uiSchema:bannerUiSchema,showAlert:hr})}),jsxRuntimeExports.jsx(Tab,{eventKey:"kegiatan",title:"Kegiatan",children:ar==="kegiatan"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:kr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Item Kegiatan",formData:br,schema:kegiatanSchema,uiSchema:kegiatanUiSchema,onSubmit:wr=>Ir(wr),onCancel:wr=>Sr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"twx-text-2xl twx-text-center twx-py-4 twx-mb-8",children:"Daftar Kegiatan"}),jsxRuntimeExports.jsx(KegiatanList,{git:git$c,className:"twx-border twx-border-slate-200 twx-border-solid",data:pr,onEditRow:wr=>Ar(wr)})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"meta",title:"Meta",children:ar==="meta"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Wr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Meta Page",formData:qr,schema:metaSchema,uiSchema:metaUiSchema,onSubmit:wr=>xr(wr),onCancel:wr=>jr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Meta Page",schema:metaSchema,rowData:qr}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:wr=>yr(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})})]})})})})})},type$8="object",required$7=["heading","title","image","contents","linkText"],properties$7={heading:{title:"Heading",type:"string"},title:{title:"Title",type:"string"},image:{title:"Image",type:"string",format:"data-url"},contents:{title:"Konten",type:"string"},linkText:{title:"Link Text",type:"string"}},shortProfileSchema={type:type$8,required:required$7,properties:properties$7},heading$2={"ui:autofocus":!0},title$3={},image$3={"ui:options":{filePreview:!0}},contents$1={"ui:widget":"block"},linkText={},shortProfileUiSchema={heading:heading$2,title:title$3,image:image$3,contents:contents$1,linkText},type$7="object",required$6=["name","description"],properties$6={name:{title:"Nama",type:"string"},image:{title:"Image",type:"string",format:"data-url"},description:{title:"Keterangan",type:"string"}},lembagaSchema={type:type$7,required:required$6,properties:properties$6},name$2={"ui:autofocus":!0},image$2={"ui:options":{filePreview:!0}},description$2={"ui:widget":"textarea"},lembagaUiSchema={name:name$2,image:image$2,description:description$2},LembagaList$1=({git:tr,className:Ot,data:Nt,onEditRow:er=rr=>rr})=>{const rr=[{name:"No",prop:"no",width:"50px",selector:(sr,ar)=>ar+1,cell:(sr,ar,lr,cr)=>`${ar+1}.`},{name:"Logo",prop:"image",width:"130px",selector:sr=>sr.image,cell:sr=>jsxRuntimeExports.jsx("img",{className:"twx-max-w-[100px]",src:sr.image})},{name:"Nama Lembaga",prop:"name",width:"270px",selector:sr=>sr.name},{name:"Keterangan",width:"300px",prop:"description",selector:sr=>sr.description},{name:"Action",width:"120px",prop:"action",selector:sr=>sr.action,cell:sr=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Button,{size:"sm xs",onClick:ar=>er(sr),children:[jsxRuntimeExports.jsx(Edit,{})," Edit"," "]})})}],[ir,nr]=reactExports.useState([...rr]);return reactExports.useEffect(()=>{},[nr]),jsxRuntimeExports.jsx("div",{className:Ot,children:jsxRuntimeExports.jsx(Xe,{columns:ir,data:Nt,striped:!0,pagination:!0,fixedHeader:!0})})};class MLembaga extends DBGitList{constructor(){super(...arguments);Li(this,"path","web/data/lembaga.json");Li(this,"imageUploadPath","assets/images/lembaga");Li(this,"dataRootField","contents");Li(this,"pk","id");Li(this,"shadowFields",{image:fileTransform});Li(this,"shadowedFieldValues",{})}}class MMetaLembaga extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/pages/lembaga.json")}}class MLembagaBanner extends MBanner{constructor(){super(...arguments);Li(this,"path","web/data/lembaga.json")}}const git$b=createGit(),mLembaga=new MLembaga(git$b,lembagaSchema),mLembagaBanner=new MLembagaBanner(git$b,bannerSchema),mMetaLembaga=new MMetaLembaga(git$b,metaSchema),pageTitle$7="Lembaga",breadcrumbs$7=[{title:"Konten",path:"contents"},{title:"Lembaga",path:"content/lembaga"}],routePath$6="/contents/lembaga",LembagaContentPage=({subModule:tr})=>{const Ot=useLocation(),Nt=useDispatch(),er=useNavigate(),rr=useSelector(wr=>wr.content);useSelector(wr=>wr.setting);const{setLoading:ir,setLoadingMessage:nr,displayAlert:sr}=contentSlice.actions,[ar,lr]=reactExports.useState("banner"),[cr,dr]=reactExports.useState(!1),ur=(wr,Br="Menyimpan Data")=>{wr?(Nt(ir(!0)),Nt(nr(Br))):Nt(ir(!1))},fr=(wr,Br,_r)=>{Nt(sr([wr,Br,_r]))},hr=wr=>{er(`${routePath$6}/${wr}`)},[pr,gr]=reactExports.useState([]),[br,vr]=reactExports.useState(null),[kr,Sr]=reactExports.useState(!1),Cr=async()=>{const wr=await mLembaga.getData();gr(wr)},Ar=async wr=>{vr(wr),Sr(!0)},Ir=async wr=>{const{formData:Br}=wr;ur(!0);try{await mLembaga.updateRow(Br,!0)}catch(_r){Nt(sr(["danger","error",_r.toString()]))}ur(!1),Sr(!1),Cr()},[qr,Qr]=reactExports.useState(mMetaLembaga.defaultValue),[Wr,jr]=reactExports.useState(!1),Or=async()=>{const wr=await mMetaLembaga.get();Qr(wr)},yr=()=>{jr(!0)},xr=async wr=>{const{formData:Br}=wr;ur(!0);try{await mMetaLembaga.update(Br),await mMetaLembaga.commit(!0)}catch(_r){Nt(sr(["danger","error",_r.toString()]))}ur(!1),jr(!1),Or()};return reactExports.useEffect(()=>{const Br=Ot.pathname.split("/").at(-1);lr(Br),Br==="lembaga"?Cr():Br==="meta"?Or():Br==="banner"&&dr(crc32id())},[Ot.key,lr,vr,Qr]),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:pageTitle$7,breadcrumbs:breadcrumbs$7,icon:jsxRuntimeExports.jsx(Octagon,{}),className:`${rr.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsx("div",{className:"card",children:jsxRuntimeExports.jsx("div",{className:"card-body",children:jsxRuntimeExports.jsxs(Tabs,{id:"content-profile-tab",activeKey:ar,onSelect:wr=>hr(wr),children:[jsxRuntimeExports.jsx(Tab,{eventKey:"banner",title:"Banner",children:ar==="banner"&&jsxRuntimeExports.jsx(BannerEditor,{showLoading:ur,page:"profile",model:mLembagaBanner,trigger:cr,schema:bannerSchema,uiSchema:bannerUiSchema,showAlert:fr})}),jsxRuntimeExports.jsx(Tab,{eventKey:"lembaga",title:"Lembaga",children:ar==="lembaga"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:kr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Item Lembaga",formData:br,schema:lembagaSchema,uiSchema:lembagaUiSchema,onSubmit:wr=>Ir(wr),onCancel:wr=>Sr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"twx-text-2xl twx-text-center twx-py-4 twx-mb-8",children:"Daftar Lembaga"}),jsxRuntimeExports.jsx(LembagaList$1,{git:git$b,className:"twx-border twx-border-slate-200 twx-border-solid",data:pr,onEditRow:wr=>Ar(wr)})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"meta",title:"Meta",children:ar==="meta"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Wr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Meta Page",formData:qr,schema:metaSchema,uiSchema:metaUiSchema,onSubmit:wr=>xr(wr),onCancel:wr=>jr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Meta Page",schema:metaSchema,rowData:qr}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:wr=>yr(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})})]})})})})})},type$6="object",required$5=["content"],properties$5={content:{title:"Isi",type:"string"}},syaratSchema={type:type$6,required:required$5,properties:properties$5},content$2={"ui:autofocus":!0,"ui:widget":"textarea"},syaratUiSchema={content:content$2},type$5="object",required$4=["keterangan","biaya"],properties$4={legend:{title:"Legend",type:"string"},keterangan:{title:"Keterangan",type:"string"},biaya:{title:"Nominal",type:"number"}},biayaSchema={type:type$5,required:required$4,properties:properties$4},legend={"ui:autofocus":!0},keterangan={"ui:widget":"textarea"},biaya={},biayaUiSchema={legend,keterangan,biaya};class MPendaftaranBanner extends MBanner{constructor(){super(...arguments);Li(this,"path","web/data/pendaftaran.json")}}class MSyarat extends DBGitList{constructor(){super(...arguments);Li(this,"path","web/data/pendaftaran.json")}}class MSyaratUtama extends MSyarat{constructor(){super(...arguments);Li(this,"dataRootField","syarat-utama")}}class MSyaratAdministrasi extends MSyarat{constructor(){super(...arguments);Li(this,"dataRootField","syarat-administrasi")}}class MBiaya extends MSyarat{constructor(){super(...arguments);Li(this,"dataRootField","biaya-pendaftaran")}}class MMetaPendaftaran extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/pages/pendaftaran.json")}}const SyaratList=({git:tr,className:Ot,data:Nt,onEditRow:er=rr=>rr})=>{const rr=[{name:"No",prop:"no",width:"50px",selector:(sr,ar)=>ar+1,cell:(sr,ar,lr,cr)=>`${ar+1}.`},{name:"Konten",prop:"content",selector:sr=>sr.content},{name:"Action",width:"120px",prop:"action",selector:sr=>sr.action,cell:sr=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Button,{size:"sm xs",onClick:ar=>er(sr),children:[jsxRuntimeExports.jsx(Edit,{})," Edit"," "]})})}],[ir,nr]=reactExports.useState([...rr]);return reactExports.useEffect(()=>{},[nr]),jsxRuntimeExports.jsx("div",{className:Ot,children:jsxRuntimeExports.jsx(Xe,{columns:ir,data:Nt,striped:!0,pagination:!0,fixedHeader:!0})})},BiayaList=({git:tr,className:Ot,data:Nt,onEditRow:er=rr=>rr})=>{const rr=[{name:"No",prop:"no",width:"50px",selector:(sr,ar)=>ar+1,cell:(sr,ar,lr,cr)=>`${ar+1}.`},{name:"Legend",prop:"legend",width:"170px",selector:sr=>sr.legend},{name:"Keterangan",prop:"keterangan",selector:sr=>sr.keterangan},{name:"Nominal",prop:"biaya",width:"120px",selector:sr=>sr.biaya},{name:"Action",width:"120px",prop:"action",selector:sr=>sr.action,cell:sr=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Button,{size:"sm xs",onClick:ar=>er(sr),children:[jsxRuntimeExports.jsx(Edit,{})," Edit"," "]})})}],[ir,nr]=reactExports.useState([...rr]);return reactExports.useEffect(()=>{},[nr]),jsxRuntimeExports.jsx("div",{className:Ot,children:jsxRuntimeExports.jsx(Xe,{columns:ir,data:Nt,striped:!0,pagination:!0,fixedHeader:!0})})},git$a=createGit(),mPendaftaranBanner=new MPendaftaranBanner(git$a,bannerSchema),mSyaratUtama=new MSyaratUtama(git$a,syaratSchema),mSyaratAdministrasi=new MSyaratAdministrasi(git$a,syaratSchema),mBiaya=new MBiaya(git$a,biayaSchema),mMetaPendaftaran=new MMetaPendaftaran(git$a,metaSchema),PendaftaranContentPage=({subModule:tr})=>{const Ot=useLocation(),Nt=useDispatch(),er=useNavigate(),rr=useSelector(Fr=>Fr.content);useSelector(Fr=>Fr.setting);const{setLoading:ir,setLoadingMessage:nr,displayAlert:sr}=contentSlice.actions;settingSlice.actions,reactExports.useState(null),reactExports.useState(!1);const[ar,lr]=reactExports.useState(!1),cr="Pendaftaran",dr=[{title:"Konten",path:"contents"},{title:"Pendaftaran",path:"content/pendaftaran"}],[ur,fr]=reactExports.useState("banner"),hr=(Fr,Xr="Menyimpan Data")=>{Fr?(Nt(ir(!0)),Nt(nr(Xr))):Nt(ir(!1))},pr=(Fr,Xr,Jr)=>{Nt(sr([Fr,Xr,Jr]))},gr=Fr=>{er(`/contents/pendaftaran/${Fr}`),console.log(Fr)},[br,vr]=reactExports.useState(null),[kr,Sr]=reactExports.useState([]),[Cr,Ar]=reactExports.useState(null),[Ir,qr]=reactExports.useState(!1),Qr=async()=>{let Fr;br==="utama"?Fr=await mSyaratUtama.getData():Fr=await mSyaratAdministrasi.getData(),Sr(Fr)},Wr=(Fr,Xr)=>{Ar(Fr),qr(!0)},jr=async(Fr,Xr)=>{const{formData:Jr}=Fr;hr(!0);try{Xr==="administrasi"?await mSyaratAdministrasi.updateRow(Jr,!0):await mSyaratUtama.updateRow(Jr,!0)}catch(Vr){Nt(sr(["danger","error",Vr.toString()]))}hr(!1),qr(!1),Qr()},[Or,yr]=reactExports.useState([]),[xr,wr]=reactExports.useState(null),[Br,_r]=reactExports.useState(!1),Mr=async()=>{const Fr=await mBiaya.getData();yr(Fr)},Tr=async Fr=>{wr(Fr),_r(!0)},Er=async Fr=>{const{formData:Xr}=Fr;hr(!0);try{await mBiaya.updateRow(Xr,!0)}catch(Jr){Nt(sr(["danger","error",Jr.toString()]))}hr(!1),_r(!1),Mr()},[Pr,Rr]=reactExports.useState(mMetaPendaftaran.defaultValue),[Lr,Hr]=reactExports.useState(!1),Gr=async()=>{const Fr=await mMetaPendaftaran.get();Rr(Fr)},Ur=()=>{Hr(!0)},Nr=async Fr=>{const{formData:Xr}=Fr;hr(!0);try{await mMetaPendaftaran.update(Xr),await mMetaPendaftaran.commit(!0)}catch(Jr){Nt(sr(["danger","error",Jr.toString()]))}hr(!1),Hr(!1),Gr()};return reactExports.useEffect(()=>{br&&Qr()},[br,Sr]),reactExports.useEffect(()=>{const Xr=Ot.pathname.split("/").at(-1);fr(Xr),Xr==="syarat-utama"?vr("utama"):Xr==="syarat-administrasi"?vr("administrasi"):Xr==="banner"?lr(crc32id()):(vr(null),Xr==="biaya-pendaftaran"?Mr():Xr==="meta"&&Gr())},[Ot.key,fr,vr,yr,Rr]),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:cr,breadcrumbs:dr,icon:jsxRuntimeExports.jsx(Wind,{}),className:`${rr.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsx("div",{className:"card",children:jsxRuntimeExports.jsx("div",{className:"card-body",children:jsxRuntimeExports.jsxs(Tabs,{id:"content-pendaftaran-tab",activeKey:ur,onSelect:Fr=>gr(Fr),children:[jsxRuntimeExports.jsx(Tab,{eventKey:"banner",title:"Banner",children:ur==="banner"&&jsxRuntimeExports.jsx(BannerEditor,{showLoading:hr,page:"pendaftaran",model:mPendaftaranBanner,trigger:ar,schema:bannerSchema,uiSchema:bannerUiSchema,showAlert:pr})}),jsxRuntimeExports.jsx(Tab,{eventKey:"syarat-utama",title:"Syarat Utama",children:ur==="syarat-utama"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ir?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Item Syarat Utama",formData:Cr,schema:syaratSchema,uiSchema:syaratUiSchema,onSubmit:Fr=>jr(Fr,"utama"),onCancel:Fr=>qr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"twx-text-2xl twx-text-center twx-py-4 twx-mb-8",children:"Syarat Utama"}),jsxRuntimeExports.jsx(SyaratList,{git:git$a,className:"twx-border twx-border-slate-200 twx-border-solid",data:kr,onEditRow:Fr=>Wr(Fr)})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"syarat-administrasi",title:"Syarat Administrasi",children:ur==="syarat-administrasi"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ir?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Item Syarat Administrasi",formData:Cr,schema:syaratSchema,uiSchema:syaratUiSchema,onSubmit:Fr=>jr(Fr,"administrasi"),onCancel:Fr=>qr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"twx-text-2xl twx-text-center twx-py-4 twx-mb-8",children:"Syarat Administrasi"}),jsxRuntimeExports.jsx(SyaratList,{git:git$a,className:"twx-border twx-border-slate-200 twx-border-solid",data:kr,onEditRow:Fr=>Wr(Fr)})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"biaya-pendaftaran",title:"Biaya Pendaftaran",children:ur==="biaya-pendaftaran"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Br?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Item Biaya",formData:xr,schema:biayaSchema,uiSchema:biayaUiSchema,onSubmit:Fr=>Er(Fr),onCancel:Fr=>_r(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"twx-text-2xl twx-text-center twx-py-4 twx-mb-8",children:"Biaya Pendaftaran"}),jsxRuntimeExports.jsx(BiayaList,{git:git$a,className:"twx-border twx-border-slate-200 twx-border-solid",data:Or,onEditRow:Fr=>Tr(Fr)})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"meta",title:"Meta",children:ur==="meta"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Lr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Meta Page",formData:Pr,schema:metaSchema,uiSchema:metaUiSchema,onSubmit:Fr=>Nr(Fr),onCancel:Fr=>Hr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Meta Page",schema:metaSchema,rowData:Pr}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Fr=>Ur(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})})]})})})})})},useTraverseTree=()=>{const tr=(er,rr,ir,nr)=>{if(er.id===rr)return nr?er.items.unshift({id:new Date().getTime(),name:ir,isFolder:nr,items:[]}):er.items.push({id:new Date().getTime(),name:ir,isFolder:nr,items:[]}),er;const sr=er.items.map(ar=>tr(ar,rr,ir,nr));return{...er,items:sr}};return{insertNode:tr,deleteNode:()=>{},updateNode:()=>{}}},Folder=({isSelected:tr,onSelect:Ot,explorerData:Nt,handleFolderFileCreation:er,isRoot:rr,setExpand:ir})=>{const[nr,sr]=reactExports.useState(Nt.isExpanded);reactExports.useState(Nt.selected);const[ar,lr]=reactExports.useState({visible:!1,isFolder:null}),cr=(fr,hr)=>{fr.stopPropagation(),sr(!0),lr({visible:!0,isFolder:hr})},dr=()=>{const fr=!nr;sr(fr),ir({id:Nt.id,expanded:fr})},ur=fr=>{fr.keyCode===13&&fr.target.value&&(er(Nt.id,fr.target.value,ar.isFolder),lr(hr=>({...hr,visible:!1})))};return Nt.isFolder?jsxRuntimeExports.jsxs("section",{className:`folder ${rr?"root-folder":""}`,children:[jsxRuntimeExports.jsxs("div",{onClick:()=>{dr(),Ot(Nt.id,Nt.path)},className:`folder-wrap ${tr(Nt.id)?"selected":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"icon-wrap",children:[nr?jsxRuntimeExports.jsx(CaretDown,{className:"feather-icon"}):jsxRuntimeExports.jsx(CaretRight,{className:"feather-icon"}),nr?jsxRuntimeExports.jsx(Folder2Open,{className:"feather-icon"}):jsxRuntimeExports.jsx(Folder$1,{className:"feather-icon"})," ",jsxRuntimeExports.jsx("span",{className:"folder-name",children:Nt.name})]}),jsxRuntimeExports.jsx("div",{className:"folder-toolbar-action",children:nr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"btn-action",onClick:fr=>cr(fr,!0),children:jsxRuntimeExports.jsx(FolderPlus,{className:"feather-icon"})}),jsxRuntimeExports.jsx("button",{className:"btn-action",onClick:fr=>cr(fr,!1),children:jsxRuntimeExports.jsx(FilePlus,{className:"feather-icon"})})]}):null})]}),jsxRuntimeExports.jsxs("div",{style:{display:nr?"block":"none"},children:[ar.visible&&jsxRuntimeExports.jsxs("div",{className:"ml-5",children:[jsxRuntimeExports.jsx("span",{children:ar.isFolder?"📁":"📄"}),jsxRuntimeExports.jsx("input",{autoFocus:!0,type:"text",className:"twx-outline-0 twx-border twx-border-gray-300 twx-rounded twx-mt-1 twx-px-1 twx-pt-0",onBlur:()=>lr(fr=>({...fr,visible:!1})),onKeyDown:fr=>ur(fr)})]}),Nt.items.sort().map(fr=>jsxRuntimeExports.jsx(Folder,{isSelected:tr,onSelect:Ot,explorerData:fr,setExpand:ir,handleFolderFileCreation:er},fr.id))]})]}):jsxRuntimeExports.jsxs("div",{className:`file ${tr(Nt.id)?"selected":""}`,onClick:fr=>{Ot(Nt.id,Nt.path)},children:[jsxRuntimeExports.jsx(File$1,{className:"feather-icon"}),jsxRuntimeExports.jsx("span",{className:"filename",children:Nt.name})]})},explorer={id:"1",name:"root",isFolder:!0,items:[{id:"2",name:"public",isFolder:!0,items:[{id:"11",name:"index.html",isFolder:!1,items:[]}]},{id:"7",name:"src",isFolder:!0,items:[{id:"3",name:"components",isFolder:!0,items:[{id:"4",name:"Header.jsx",isFolder:!1,items:[]},{id:"5",name:"Footer.jsx",isFolder:!1,items:[]}]},{id:"8",name:"App.js",isFolder:!1,items:[]},{id:"9",name:"index.js",isFolder:!1,items:[]},{id:"10",name:"styles.css",isFolder:!1,items:[]}]},{id:"11",name:"package.json",isFolder:!1,items:[]}]},git$9=gitInstance(),{fs}=git$9,FileExplorerApp=({isSelected:tr,onSelect:Ot,isExpand:Nt,setExpand:er,children:rr})=>{const{insertNode:ir}=useTraverseTree(),[nr,sr]=reactExports.useState(explorer),ar=(dr,ur,fr)=>{const hr=ir(nr,dr,ur,fr);sr(hr)},lr=async(dr=null)=>{let ur=dr||"/";const fr=ur==="/",hr=await fs.readdirSync(ur);let pr={id:crc32id(ur),name:ur,isFolder:!0,items:[]};fr||(pr=[]),pr.isExpanded=Nt(pr.id);for(const gr of hr){if(gr===".git")continue;const br=`${ur==="/"?"":ur}/${gr}`,kr=(await fs.statSync(br)).type==="dir",Sr={id:crc32id(br),name:gr,isFolder:kr,path:br};kr&&(Sr.isExpanded=Nt(Sr.id),Sr.items=await lr(br)),fr?pr.items.push(Sr):pr.push(Sr)}return pr},cr=async()=>{const dr=await lr();sr(null),setTimeout(()=>{sr(ur=>dr)},256)};return reactExports.useEffect(()=>{cr()},[sr]),jsxRuntimeExports.jsxs("main",{className:"file-explorer-app",children:[jsxRuntimeExports.jsx("div",{className:"left-side",children:nr?jsxRuntimeExports.jsx(Folder,{isSelected:tr,onSelect:Ot,setExpand:er,explorerData:nr,handleFolderFileCreation:ar,isRoot:!0}):null}),jsxRuntimeExports.jsx("div",{className:"right-side",children:rr})]})};let Text$1=class ka{lineAt(Ot){if(Ot<0||Ot>this.length)throw new RangeError(`Invalid position ${Ot} in document of length ${this.length}`);return this.lineInner(Ot,!1,1,0)}line(Ot){if(Ot<1||Ot>this.lines)throw new RangeError(`Invalid line number ${Ot} in ${this.lines}-line document`);return this.lineInner(Ot,!0,1,0)}replace(Ot,Nt,er){[Ot,Nt]=clip(this,Ot,Nt);let rr=[];return this.decompose(0,Ot,rr,2),er.length&&er.decompose(0,er.length,rr,3),this.decompose(Nt,this.length,rr,1),TextNode.from(rr,this.length-(Nt-Ot)+er.length)}append(Ot){return this.replace(this.length,this.length,Ot)}slice(Ot,Nt=this.length){[Ot,Nt]=clip(this,Ot,Nt);let er=[];return this.decompose(Ot,Nt,er,0),TextNode.from(er,Nt-Ot)}eq(Ot){if(Ot==this)return!0;if(Ot.length!=this.length||Ot.lines!=this.lines)return!1;let Nt=this.scanIdentical(Ot,1),er=this.length-this.scanIdentical(Ot,-1),rr=new RawTextCursor(this),ir=new RawTextCursor(Ot);for(let nr=Nt,sr=Nt;;){if(rr.next(nr),ir.next(nr),nr=0,rr.lineBreak!=ir.lineBreak||rr.done!=ir.done||rr.value!=ir.value)return!1;if(sr+=rr.value.length,rr.done||sr>=er)return!0}}iter(Ot=1){return new RawTextCursor(this,Ot)}iterRange(Ot,Nt=this.length){return new PartialTextCursor(this,Ot,Nt)}iterLines(Ot,Nt){let er;if(Ot==null)er=this.iter();else{Nt==null&&(Nt=this.lines+1);let rr=this.line(Ot).from;er=this.iterRange(rr,Math.max(rr,Nt==this.lines+1?this.length:Nt<=1?0:this.line(Nt-1).to))}return new LineCursor(er)}toString(){return this.sliceString(0)}toJSON(){let Ot=[];return this.flatten(Ot),Ot}constructor(){}static of(Ot){if(Ot.length==0)throw new RangeError("A document must have at least one line");return Ot.length==1&&!Ot[0]?ka.empty:Ot.length<=32?new TextLeaf(Ot):TextNode.from(TextLeaf.split(Ot,[]))}};class TextLeaf extends Text$1{constructor(Ot,Nt=textLength(Ot)){super(),this.text=Ot,this.length=Nt}get lines(){return this.text.length}get children(){return null}lineInner(Ot,Nt,er,rr){for(let ir=0;;ir++){let nr=this.text[ir],sr=rr+nr.length;if((Nt?er:sr)>=Ot)return new Line(rr,sr,er,nr);rr=sr+1,er++}}decompose(Ot,Nt,er,rr){let ir=Ot<=0&&Nt>=this.length?this:new TextLeaf(sliceText(this.text,Ot,Nt),Math.min(Nt,this.length)-Math.max(0,Ot));if(rr&1){let nr=er.pop(),sr=appendText(ir.text,nr.text.slice(),0,ir.length);if(sr.length<=32)er.push(new TextLeaf(sr,nr.length+ir.length));else{let ar=sr.length>>1;er.push(new TextLeaf(sr.slice(0,ar)),new TextLeaf(sr.slice(ar)))}}else er.push(ir)}replace(Ot,Nt,er){if(!(er instanceof TextLeaf))return super.replace(Ot,Nt,er);[Ot,Nt]=clip(this,Ot,Nt);let rr=appendText(this.text,appendText(er.text,sliceText(this.text,0,Ot)),Nt),ir=this.length+er.length-(Nt-Ot);return rr.length<=32?new TextLeaf(rr,ir):TextNode.from(TextLeaf.split(rr,[]),ir)}sliceString(Ot,Nt=this.length,er=`
`){[Ot,Nt]=clip(this,Ot,Nt);let rr="";for(let ir=0,nr=0;ir<=Nt&&nr<this.text.length;nr++){let sr=this.text[nr],ar=ir+sr.length;ir>Ot&&nr&&(rr+=er),Ot<ar&&Nt>ir&&(rr+=sr.slice(Math.max(0,Ot-ir),Nt-ir)),ir=ar+1}return rr}flatten(Ot){for(let Nt of this.text)Ot.push(Nt)}scanIdentical(){return 0}static split(Ot,Nt){let er=[],rr=-1;for(let ir of Ot)er.push(ir),rr+=ir.length+1,er.length==32&&(Nt.push(new TextLeaf(er,rr)),er=[],rr=-1);return rr>-1&&Nt.push(new TextLeaf(er,rr)),Nt}}class TextNode extends Text$1{constructor(Ot,Nt){super(),this.children=Ot,this.length=Nt,this.lines=0;for(let er of Ot)this.lines+=er.lines}lineInner(Ot,Nt,er,rr){for(let ir=0;;ir++){let nr=this.children[ir],sr=rr+nr.length,ar=er+nr.lines-1;if((Nt?ar:sr)>=Ot)return nr.lineInner(Ot,Nt,er,rr);rr=sr+1,er=ar+1}}decompose(Ot,Nt,er,rr){for(let ir=0,nr=0;nr<=Nt&&ir<this.children.length;ir++){let sr=this.children[ir],ar=nr+sr.length;if(Ot<=ar&&Nt>=nr){let lr=rr&((nr<=Ot?1:0)|(ar>=Nt?2:0));nr>=Ot&&ar<=Nt&&!lr?er.push(sr):sr.decompose(Ot-nr,Nt-nr,er,lr)}nr=ar+1}}replace(Ot,Nt,er){if([Ot,Nt]=clip(this,Ot,Nt),er.lines<this.lines)for(let rr=0,ir=0;rr<this.children.length;rr++){let nr=this.children[rr],sr=ir+nr.length;if(Ot>=ir&&Nt<=sr){let ar=nr.replace(Ot-ir,Nt-ir,er),lr=this.lines-nr.lines+ar.lines;if(ar.lines<lr>>4&&ar.lines>lr>>6){let cr=this.children.slice();return cr[rr]=ar,new TextNode(cr,this.length-(Nt-Ot)+er.length)}return super.replace(ir,sr,ar)}ir=sr+1}return super.replace(Ot,Nt,er)}sliceString(Ot,Nt=this.length,er=`
`){[Ot,Nt]=clip(this,Ot,Nt);let rr="";for(let ir=0,nr=0;ir<this.children.length&&nr<=Nt;ir++){let sr=this.children[ir],ar=nr+sr.length;nr>Ot&&ir&&(rr+=er),Ot<ar&&Nt>nr&&(rr+=sr.sliceString(Ot-nr,Nt-nr,er)),nr=ar+1}return rr}flatten(Ot){for(let Nt of this.children)Nt.flatten(Ot)}scanIdentical(Ot,Nt){if(!(Ot instanceof TextNode))return 0;let er=0,[rr,ir,nr,sr]=Nt>0?[0,0,this.children.length,Ot.children.length]:[this.children.length-1,Ot.children.length-1,-1,-1];for(;;rr+=Nt,ir+=Nt){if(rr==nr||ir==sr)return er;let ar=this.children[rr],lr=Ot.children[ir];if(ar!=lr)return er+ar.scanIdentical(lr,Nt);er+=ar.length+1}}static from(Ot,Nt=Ot.reduce((er,rr)=>er+rr.length+1,-1)){let er=0;for(let fr of Ot)er+=fr.lines;if(er<32){let fr=[];for(let hr of Ot)hr.flatten(fr);return new TextLeaf(fr,Nt)}let rr=Math.max(32,er>>5),ir=rr<<1,nr=rr>>1,sr=[],ar=0,lr=-1,cr=[];function dr(fr){let hr;if(fr.lines>ir&&fr instanceof TextNode)for(let pr of fr.children)dr(pr);else fr.lines>nr&&(ar>nr||!ar)?(ur(),sr.push(fr)):fr instanceof TextLeaf&&ar&&(hr=cr[cr.length-1])instanceof TextLeaf&&fr.lines+hr.lines<=32?(ar+=fr.lines,lr+=fr.length+1,cr[cr.length-1]=new TextLeaf(hr.text.concat(fr.text),hr.length+1+fr.length)):(ar+fr.lines>rr&&ur(),ar+=fr.lines,lr+=fr.length+1,cr.push(fr))}function ur(){ar!=0&&(sr.push(cr.length==1?cr[0]:TextNode.from(cr,lr)),lr=-1,ar=cr.length=0)}for(let fr of Ot)dr(fr);return ur(),sr.length==1?sr[0]:new TextNode(sr,Nt)}}Text$1.empty=new TextLeaf([""],0);function textLength(tr){let Ot=-1;for(let Nt of tr)Ot+=Nt.length+1;return Ot}function appendText(tr,Ot,Nt=0,er=1e9){for(let rr=0,ir=0,nr=!0;ir<tr.length&&rr<=er;ir++){let sr=tr[ir],ar=rr+sr.length;ar>=Nt&&(ar>er&&(sr=sr.slice(0,er-rr)),rr<Nt&&(sr=sr.slice(Nt-rr)),nr?(Ot[Ot.length-1]+=sr,nr=!1):Ot.push(sr)),rr=ar+1}return Ot}function sliceText(tr,Ot,Nt){return appendText(tr,[""],Ot,Nt)}class RawTextCursor{constructor(Ot,Nt=1){this.dir=Nt,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[Ot],this.offsets=[Nt>0?1:(Ot instanceof TextLeaf?Ot.text.length:Ot.children.length)<<1]}nextInner(Ot,Nt){for(this.done=this.lineBreak=!1;;){let er=this.nodes.length-1,rr=this.nodes[er],ir=this.offsets[er],nr=ir>>1,sr=rr instanceof TextLeaf?rr.text.length:rr.children.length;if(nr==(Nt>0?sr:0)){if(er==0)return this.done=!0,this.value="",this;Nt>0&&this.offsets[er-1]++,this.nodes.pop(),this.offsets.pop()}else if((ir&1)==(Nt>0?0:1)){if(this.offsets[er]+=Nt,Ot==0)return this.lineBreak=!0,this.value=`
`,this;Ot--}else if(rr instanceof TextLeaf){let ar=rr.text[nr+(Nt<0?-1:0)];if(this.offsets[er]+=Nt,ar.length>Math.max(0,Ot))return this.value=Ot==0?ar:Nt>0?ar.slice(Ot):ar.slice(0,ar.length-Ot),this;Ot-=ar.length}else{let ar=rr.children[nr+(Nt<0?-1:0)];Ot>ar.length?(Ot-=ar.length,this.offsets[er]+=Nt):(Nt<0&&this.offsets[er]--,this.nodes.push(ar),this.offsets.push(Nt>0?1:(ar instanceof TextLeaf?ar.text.length:ar.children.length)<<1))}}}next(Ot=0){return Ot<0&&(this.nextInner(-Ot,-this.dir),Ot=this.value.length),this.nextInner(Ot,this.dir)}}class PartialTextCursor{constructor(Ot,Nt,er){this.value="",this.done=!1,this.cursor=new RawTextCursor(Ot,Nt>er?-1:1),this.pos=Nt>er?Ot.length:0,this.from=Math.min(Nt,er),this.to=Math.max(Nt,er)}nextInner(Ot,Nt){if(Nt<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;Ot+=Math.max(0,Nt<0?this.pos-this.to:this.from-this.pos);let er=Nt<0?this.pos-this.from:this.to-this.pos;Ot>er&&(Ot=er),er-=Ot;let{value:rr}=this.cursor.next(Ot);return this.pos+=(rr.length+Ot)*Nt,this.value=rr.length<=er?rr:Nt<0?rr.slice(rr.length-er):rr.slice(0,er),this.done=!this.value,this}next(Ot=0){return Ot<0?Ot=Math.max(Ot,this.from-this.pos):Ot>0&&(Ot=Math.min(Ot,this.to-this.pos)),this.nextInner(Ot,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(Ot){this.inner=Ot,this.afterBreak=!0,this.value="",this.done=!1}next(Ot=0){let{done:Nt,lineBreak:er,value:rr}=this.inner.next(Ot);return Nt&&this.afterBreak?(this.value="",this.afterBreak=!1):Nt?(this.done=!0,this.value=""):er?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=rr,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text$1.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(Ot,Nt,er,rr){this.from=Ot,this.to=Nt,this.number=er,this.text=rr}get length(){return this.to-this.from}}function clip(tr,Ot,Nt){return Ot=Math.max(0,Math.min(tr.length,Ot)),[Ot,Math.max(Ot,Math.min(tr.length,Nt))]}let extend="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(tr=>tr?parseInt(tr,36):1);for(let tr=1;tr<extend.length;tr++)extend[tr]+=extend[tr-1];function isExtendingChar(tr){for(let Ot=1;Ot<extend.length;Ot+=2)if(extend[Ot]>tr)return extend[Ot-1]<=tr;return!1}function isRegionalIndicator(tr){return tr>=127462&&tr<=127487}const ZWJ=8205;function findClusterBreak(tr,Ot,Nt=!0,er=!0){return(Nt?nextClusterBreak:prevClusterBreak)(tr,Ot,er)}function nextClusterBreak(tr,Ot,Nt){if(Ot==tr.length)return Ot;Ot&&surrogateLow(tr.charCodeAt(Ot))&&surrogateHigh(tr.charCodeAt(Ot-1))&&Ot--;let er=codePointAt(tr,Ot);for(Ot+=codePointSize(er);Ot<tr.length;){let rr=codePointAt(tr,Ot);if(er==ZWJ||rr==ZWJ||Nt&&isExtendingChar(rr))Ot+=codePointSize(rr),er=rr;else if(isRegionalIndicator(rr)){let ir=0,nr=Ot-2;for(;nr>=0&&isRegionalIndicator(codePointAt(tr,nr));)ir++,nr-=2;if(ir%2==0)break;Ot+=2}else break}return Ot}function prevClusterBreak(tr,Ot,Nt){for(;Ot>0;){let er=nextClusterBreak(tr,Ot-2,Nt);if(er<Ot)return er;Ot--}return 0}function surrogateLow(tr){return tr>=56320&&tr<57344}function surrogateHigh(tr){return tr>=55296&&tr<56320}function codePointAt(tr,Ot){let Nt=tr.charCodeAt(Ot);if(!surrogateHigh(Nt)||Ot+1==tr.length)return Nt;let er=tr.charCodeAt(Ot+1);return surrogateLow(er)?(Nt-55296<<10)+(er-56320)+65536:Nt}function fromCodePoint(tr){return tr<=65535?String.fromCharCode(tr):(tr-=65536,String.fromCharCode((tr>>10)+55296,(tr&1023)+56320))}function codePointSize(tr){return tr<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(tr){return tr[tr.Simple=0]="Simple",tr[tr.TrackDel=1]="TrackDel",tr[tr.TrackBefore=2]="TrackBefore",tr[tr.TrackAfter=3]="TrackAfter",tr}(MapMode||(MapMode={}));class ChangeDesc{constructor(Ot){this.sections=Ot}get length(){let Ot=0;for(let Nt=0;Nt<this.sections.length;Nt+=2)Ot+=this.sections[Nt];return Ot}get newLength(){let Ot=0;for(let Nt=0;Nt<this.sections.length;Nt+=2){let er=this.sections[Nt+1];Ot+=er<0?this.sections[Nt]:er}return Ot}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(Ot){for(let Nt=0,er=0,rr=0;Nt<this.sections.length;){let ir=this.sections[Nt++],nr=this.sections[Nt++];nr<0?(Ot(er,rr,ir),rr+=ir):rr+=nr,er+=ir}}iterChangedRanges(Ot,Nt=!1){iterChanges(this,Ot,Nt)}get invertedDesc(){let Ot=[];for(let Nt=0;Nt<this.sections.length;){let er=this.sections[Nt++],rr=this.sections[Nt++];rr<0?Ot.push(er,rr):Ot.push(rr,er)}return new ChangeDesc(Ot)}composeDesc(Ot){return this.empty?Ot:Ot.empty?this:composeSets(this,Ot)}mapDesc(Ot,Nt=!1){return Ot.empty?this:mapSet(this,Ot,Nt)}mapPos(Ot,Nt=-1,er=MapMode.Simple){let rr=0,ir=0;for(let nr=0;nr<this.sections.length;){let sr=this.sections[nr++],ar=this.sections[nr++],lr=rr+sr;if(ar<0){if(lr>Ot)return ir+(Ot-rr);ir+=sr}else{if(er!=MapMode.Simple&&lr>=Ot&&(er==MapMode.TrackDel&&rr<Ot&&lr>Ot||er==MapMode.TrackBefore&&rr<Ot||er==MapMode.TrackAfter&&lr>Ot))return null;if(lr>Ot||lr==Ot&&Nt<0&&!sr)return Ot==rr||Nt<0?ir:ir+ar;ir+=ar}rr=lr}if(Ot>rr)throw new RangeError(`Position ${Ot} is out of range for changeset of length ${rr}`);return ir}touchesRange(Ot,Nt=Ot){for(let er=0,rr=0;er<this.sections.length&&rr<=Nt;){let ir=this.sections[er++],nr=this.sections[er++],sr=rr+ir;if(nr>=0&&rr<=Nt&&sr>=Ot)return rr<Ot&&sr>Nt?"cover":!0;rr=sr}return!1}toString(){let Ot="";for(let Nt=0;Nt<this.sections.length;){let er=this.sections[Nt++],rr=this.sections[Nt++];Ot+=(Ot?" ":"")+er+(rr>=0?":"+rr:"")}return Ot}toJSON(){return this.sections}static fromJSON(Ot){if(!Array.isArray(Ot)||Ot.length%2||Ot.some(Nt=>typeof Nt!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(Ot)}static create(Ot){return new ChangeDesc(Ot)}}class ChangeSet extends ChangeDesc{constructor(Ot,Nt){super(Ot),this.inserted=Nt}apply(Ot){if(this.length!=Ot.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(Nt,er,rr,ir,nr)=>Ot=Ot.replace(rr,rr+(er-Nt),nr),!1),Ot}mapDesc(Ot,Nt=!1){return mapSet(this,Ot,Nt,!0)}invert(Ot){let Nt=this.sections.slice(),er=[];for(let rr=0,ir=0;rr<Nt.length;rr+=2){let nr=Nt[rr],sr=Nt[rr+1];if(sr>=0){Nt[rr]=sr,Nt[rr+1]=nr;let ar=rr>>1;for(;er.length<ar;)er.push(Text$1.empty);er.push(nr?Ot.slice(ir,ir+nr):Text$1.empty)}ir+=nr}return new ChangeSet(Nt,er)}compose(Ot){return this.empty?Ot:Ot.empty?this:composeSets(this,Ot,!0)}map(Ot,Nt=!1){return Ot.empty?this:mapSet(this,Ot,Nt,!0)}iterChanges(Ot,Nt=!1){iterChanges(this,Ot,Nt)}get desc(){return ChangeDesc.create(this.sections)}filter(Ot){let Nt=[],er=[],rr=[],ir=new SectionIter(this);e:for(let nr=0,sr=0;;){let ar=nr==Ot.length?1e9:Ot[nr++];for(;sr<ar||sr==ar&&ir.len==0;){if(ir.done)break e;let cr=Math.min(ir.len,ar-sr);addSection(rr,cr,-1);let dr=ir.ins==-1?-1:ir.off==0?ir.ins:0;addSection(Nt,cr,dr),dr>0&&addInsert(er,Nt,ir.text),ir.forward(cr),sr+=cr}let lr=Ot[nr++];for(;sr<lr;){if(ir.done)break e;let cr=Math.min(ir.len,lr-sr);addSection(Nt,cr,-1),addSection(rr,cr,ir.ins==-1?-1:ir.off==0?ir.ins:0),ir.forward(cr),sr+=cr}}return{changes:new ChangeSet(Nt,er),filtered:ChangeDesc.create(rr)}}toJSON(){let Ot=[];for(let Nt=0;Nt<this.sections.length;Nt+=2){let er=this.sections[Nt],rr=this.sections[Nt+1];rr<0?Ot.push(er):rr==0?Ot.push([er]):Ot.push([er].concat(this.inserted[Nt>>1].toJSON()))}return Ot}static of(Ot,Nt,er){let rr=[],ir=[],nr=0,sr=null;function ar(cr=!1){if(!cr&&!rr.length)return;nr<Nt&&addSection(rr,Nt-nr,-1);let dr=new ChangeSet(rr,ir);sr=sr?sr.compose(dr.map(sr)):dr,rr=[],ir=[],nr=0}function lr(cr){if(Array.isArray(cr))for(let dr of cr)lr(dr);else if(cr instanceof ChangeSet){if(cr.length!=Nt)throw new RangeError(`Mismatched change set length (got ${cr.length}, expected ${Nt})`);ar(),sr=sr?sr.compose(cr.map(sr)):cr}else{let{from:dr,to:ur=dr,insert:fr}=cr;if(dr>ur||dr<0||ur>Nt)throw new RangeError(`Invalid change range ${dr} to ${ur} (in doc of length ${Nt})`);let hr=fr?typeof fr=="string"?Text$1.of(fr.split(er||DefaultSplit)):fr:Text$1.empty,pr=hr.length;if(dr==ur&&pr==0)return;dr<nr&&ar(),dr>nr&&addSection(rr,dr-nr,-1),addSection(rr,ur-dr,pr),addInsert(ir,rr,hr),nr=ur}}return lr(Ot),ar(!sr),sr}static empty(Ot){return new ChangeSet(Ot?[Ot,-1]:[],[])}static fromJSON(Ot){if(!Array.isArray(Ot))throw new RangeError("Invalid JSON representation of ChangeSet");let Nt=[],er=[];for(let rr=0;rr<Ot.length;rr++){let ir=Ot[rr];if(typeof ir=="number")Nt.push(ir,-1);else{if(!Array.isArray(ir)||typeof ir[0]!="number"||ir.some((nr,sr)=>sr&&typeof nr!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(ir.length==1)Nt.push(ir[0],0);else{for(;er.length<rr;)er.push(Text$1.empty);er[rr]=Text$1.of(ir.slice(1)),Nt.push(ir[0],er[rr].length)}}}return new ChangeSet(Nt,er)}static createSet(Ot,Nt){return new ChangeSet(Ot,Nt)}}function addSection(tr,Ot,Nt,er=!1){if(Ot==0&&Nt<=0)return;let rr=tr.length-2;rr>=0&&Nt<=0&&Nt==tr[rr+1]?tr[rr]+=Ot:Ot==0&&tr[rr]==0?tr[rr+1]+=Nt:er?(tr[rr]+=Ot,tr[rr+1]+=Nt):tr.push(Ot,Nt)}function addInsert(tr,Ot,Nt){if(Nt.length==0)return;let er=Ot.length-2>>1;if(er<tr.length)tr[tr.length-1]=tr[tr.length-1].append(Nt);else{for(;tr.length<er;)tr.push(Text$1.empty);tr.push(Nt)}}function iterChanges(tr,Ot,Nt){let er=tr.inserted;for(let rr=0,ir=0,nr=0;nr<tr.sections.length;){let sr=tr.sections[nr++],ar=tr.sections[nr++];if(ar<0)rr+=sr,ir+=sr;else{let lr=rr,cr=ir,dr=Text$1.empty;for(;lr+=sr,cr+=ar,ar&&er&&(dr=dr.append(er[nr-2>>1])),!(Nt||nr==tr.sections.length||tr.sections[nr+1]<0);)sr=tr.sections[nr++],ar=tr.sections[nr++];Ot(rr,lr,ir,cr,dr),rr=lr,ir=cr}}}function mapSet(tr,Ot,Nt,er=!1){let rr=[],ir=er?[]:null,nr=new SectionIter(tr),sr=new SectionIter(Ot);for(let ar=-1;;)if(nr.ins==-1&&sr.ins==-1){let lr=Math.min(nr.len,sr.len);addSection(rr,lr,-1),nr.forward(lr),sr.forward(lr)}else if(sr.ins>=0&&(nr.ins<0||ar==nr.i||nr.off==0&&(sr.len<nr.len||sr.len==nr.len&&!Nt))){let lr=sr.len;for(addSection(rr,sr.ins,-1);lr;){let cr=Math.min(nr.len,lr);nr.ins>=0&&ar<nr.i&&nr.len<=cr&&(addSection(rr,0,nr.ins),ir&&addInsert(ir,rr,nr.text),ar=nr.i),nr.forward(cr),lr-=cr}sr.next()}else if(nr.ins>=0){let lr=0,cr=nr.len;for(;cr;)if(sr.ins==-1){let dr=Math.min(cr,sr.len);lr+=dr,cr-=dr,sr.forward(dr)}else if(sr.ins==0&&sr.len<cr)cr-=sr.len,sr.next();else break;addSection(rr,lr,ar<nr.i?nr.ins:0),ir&&ar<nr.i&&addInsert(ir,rr,nr.text),ar=nr.i,nr.forward(nr.len-cr)}else{if(nr.done&&sr.done)return ir?ChangeSet.createSet(rr,ir):ChangeDesc.create(rr);throw new Error("Mismatched change set lengths")}}function composeSets(tr,Ot,Nt=!1){let er=[],rr=Nt?[]:null,ir=new SectionIter(tr),nr=new SectionIter(Ot);for(let sr=!1;;){if(ir.done&&nr.done)return rr?ChangeSet.createSet(er,rr):ChangeDesc.create(er);if(ir.ins==0)addSection(er,ir.len,0,sr),ir.next();else if(nr.len==0&&!nr.done)addSection(er,0,nr.ins,sr),rr&&addInsert(rr,er,nr.text),nr.next();else{if(ir.done||nr.done)throw new Error("Mismatched change set lengths");{let ar=Math.min(ir.len2,nr.len),lr=er.length;if(ir.ins==-1){let cr=nr.ins==-1?-1:nr.off?0:nr.ins;addSection(er,ar,cr,sr),rr&&cr&&addInsert(rr,er,nr.text)}else nr.ins==-1?(addSection(er,ir.off?0:ir.len,ar,sr),rr&&addInsert(rr,er,ir.textBit(ar))):(addSection(er,ir.off?0:ir.len,nr.off?0:nr.ins,sr),rr&&!nr.off&&addInsert(rr,er,nr.text));sr=(ir.ins>ar||nr.ins>=0&&nr.len>ar)&&(sr||er.length>lr),ir.forward2(ar),nr.forward(ar)}}}}class SectionIter{constructor(Ot){this.set=Ot,this.i=0,this.next()}next(){let{sections:Ot}=this.set;this.i<Ot.length?(this.len=Ot[this.i++],this.ins=Ot[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:Ot}=this.set,Nt=this.i-2>>1;return Nt>=Ot.length?Text$1.empty:Ot[Nt]}textBit(Ot){let{inserted:Nt}=this.set,er=this.i-2>>1;return er>=Nt.length&&!Ot?Text$1.empty:Nt[er].slice(this.off,Ot==null?void 0:this.off+Ot)}forward(Ot){Ot==this.len?this.next():(this.len-=Ot,this.off+=Ot)}forward2(Ot){this.ins==-1?this.forward(Ot):Ot==this.ins?this.next():(this.ins-=Ot,this.off+=Ot)}}class SelectionRange{constructor(Ot,Nt,er){this.from=Ot,this.to=Nt,this.flags=er}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let Ot=this.flags&7;return Ot==7?null:Ot}get goalColumn(){let Ot=this.flags>>6;return Ot==16777215?void 0:Ot}map(Ot,Nt=-1){let er,rr;return this.empty?er=rr=Ot.mapPos(this.from,Nt):(er=Ot.mapPos(this.from,1),rr=Ot.mapPos(this.to,-1)),er==this.from&&rr==this.to?this:new SelectionRange(er,rr,this.flags)}extend(Ot,Nt=Ot){if(Ot<=this.anchor&&Nt>=this.anchor)return EditorSelection.range(Ot,Nt);let er=Math.abs(Ot-this.anchor)>Math.abs(Nt-this.anchor)?Ot:Nt;return EditorSelection.range(this.anchor,er)}eq(Ot,Nt=!1){return this.anchor==Ot.anchor&&this.head==Ot.head&&(!Nt||!this.empty||this.assoc==Ot.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(Ot){if(!Ot||typeof Ot.anchor!="number"||typeof Ot.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(Ot.anchor,Ot.head)}static create(Ot,Nt,er){return new SelectionRange(Ot,Nt,er)}}class EditorSelection{constructor(Ot,Nt){this.ranges=Ot,this.mainIndex=Nt}map(Ot,Nt=-1){return Ot.empty?this:EditorSelection.create(this.ranges.map(er=>er.map(Ot,Nt)),this.mainIndex)}eq(Ot,Nt=!1){if(this.ranges.length!=Ot.ranges.length||this.mainIndex!=Ot.mainIndex)return!1;for(let er=0;er<this.ranges.length;er++)if(!this.ranges[er].eq(Ot.ranges[er],Nt))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(Ot,Nt=!0){return EditorSelection.create([Ot].concat(this.ranges),Nt?0:this.mainIndex+1)}replaceRange(Ot,Nt=this.mainIndex){let er=this.ranges.slice();return er[Nt]=Ot,EditorSelection.create(er,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(Ot=>Ot.toJSON()),main:this.mainIndex}}static fromJSON(Ot){if(!Ot||!Array.isArray(Ot.ranges)||typeof Ot.main!="number"||Ot.main>=Ot.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(Ot.ranges.map(Nt=>SelectionRange.fromJSON(Nt)),Ot.main)}static single(Ot,Nt=Ot){return new EditorSelection([EditorSelection.range(Ot,Nt)],0)}static create(Ot,Nt=0){if(Ot.length==0)throw new RangeError("A selection needs at least one range");for(let er=0,rr=0;rr<Ot.length;rr++){let ir=Ot[rr];if(ir.empty?ir.from<=er:ir.from<er)return EditorSelection.normalized(Ot.slice(),Nt);er=ir.to}return new EditorSelection(Ot,Nt)}static cursor(Ot,Nt=0,er,rr){return SelectionRange.create(Ot,Ot,(Nt==0?0:Nt<0?8:16)|(er==null?7:Math.min(6,er))|(rr??16777215)<<6)}static range(Ot,Nt,er,rr){let ir=(er??16777215)<<6|(rr==null?7:Math.min(6,rr));return Nt<Ot?SelectionRange.create(Nt,Ot,48|ir):SelectionRange.create(Ot,Nt,(Nt>Ot?8:0)|ir)}static normalized(Ot,Nt=0){let er=Ot[Nt];Ot.sort((rr,ir)=>rr.from-ir.from),Nt=Ot.indexOf(er);for(let rr=1;rr<Ot.length;rr++){let ir=Ot[rr],nr=Ot[rr-1];if(ir.empty?ir.from<=nr.to:ir.from<nr.to){let sr=nr.from,ar=Math.max(ir.to,nr.to);rr<=Nt&&Nt--,Ot.splice(--rr,2,ir.anchor>ir.head?EditorSelection.range(ar,sr):EditorSelection.range(sr,ar))}}return new EditorSelection(Ot,Nt)}}function checkSelection(tr,Ot){for(let Nt of tr.ranges)if(Nt.to>Ot)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(Ot,Nt,er,rr,ir){this.combine=Ot,this.compareInput=Nt,this.compare=er,this.isStatic=rr,this.id=nextID++,this.default=Ot([]),this.extensions=typeof ir=="function"?ir(this):ir}get reader(){return this}static define(Ot={}){return new Facet(Ot.combine||(Nt=>Nt),Ot.compareInput||((Nt,er)=>Nt===er),Ot.compare||(Ot.combine?(Nt,er)=>Nt===er:sameArray$1),!!Ot.static,Ot.enables)}of(Ot){return new FacetProvider([],this,0,Ot)}compute(Ot,Nt){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(Ot,this,1,Nt)}computeN(Ot,Nt){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(Ot,this,2,Nt)}from(Ot,Nt){return Nt||(Nt=er=>er),this.compute([Ot],er=>Nt(er.field(Ot)))}}function sameArray$1(tr,Ot){return tr==Ot||tr.length==Ot.length&&tr.every((Nt,er)=>Nt===Ot[er])}class FacetProvider{constructor(Ot,Nt,er,rr){this.dependencies=Ot,this.facet=Nt,this.type=er,this.value=rr,this.id=nextID++}dynamicSlot(Ot){var Nt;let er=this.value,rr=this.facet.compareInput,ir=this.id,nr=Ot[ir]>>1,sr=this.type==2,ar=!1,lr=!1,cr=[];for(let dr of this.dependencies)dr=="doc"?ar=!0:dr=="selection"?lr=!0:((Nt=Ot[dr.id])!==null&&Nt!==void 0?Nt:1)&1||cr.push(Ot[dr.id]);return{create(dr){return dr.values[nr]=er(dr),1},update(dr,ur){if(ar&&ur.docChanged||lr&&(ur.docChanged||ur.selection)||ensureAll(dr,cr)){let fr=er(dr);if(sr?!compareArray(fr,dr.values[nr],rr):!rr(fr,dr.values[nr]))return dr.values[nr]=fr,1}return 0},reconfigure:(dr,ur)=>{let fr,hr=ur.config.address[ir];if(hr!=null){let pr=getAddr(ur,hr);if(this.dependencies.every(gr=>gr instanceof Facet?ur.facet(gr)===dr.facet(gr):gr instanceof StateField?ur.field(gr,!1)==dr.field(gr,!1):!0)||(sr?compareArray(fr=er(dr),pr,rr):rr(fr=er(dr),pr)))return dr.values[nr]=pr,0}else fr=er(dr);return dr.values[nr]=fr,1}}}}function compareArray(tr,Ot,Nt){if(tr.length!=Ot.length)return!1;for(let er=0;er<tr.length;er++)if(!Nt(tr[er],Ot[er]))return!1;return!0}function ensureAll(tr,Ot){let Nt=!1;for(let er of Ot)ensureAddr(tr,er)&1&&(Nt=!0);return Nt}function dynamicFacetSlot(tr,Ot,Nt){let er=Nt.map(ar=>tr[ar.id]),rr=Nt.map(ar=>ar.type),ir=er.filter(ar=>!(ar&1)),nr=tr[Ot.id]>>1;function sr(ar){let lr=[];for(let cr=0;cr<er.length;cr++){let dr=getAddr(ar,er[cr]);if(rr[cr]==2)for(let ur of dr)lr.push(ur);else lr.push(dr)}return Ot.combine(lr)}return{create(ar){for(let lr of er)ensureAddr(ar,lr);return ar.values[nr]=sr(ar),1},update(ar,lr){if(!ensureAll(ar,ir))return 0;let cr=sr(ar);return Ot.compare(cr,ar.values[nr])?0:(ar.values[nr]=cr,1)},reconfigure(ar,lr){let cr=ensureAll(ar,er),dr=lr.config.facets[Ot.id],ur=lr.facet(Ot);if(dr&&!cr&&sameArray$1(Nt,dr))return ar.values[nr]=ur,0;let fr=sr(ar);return Ot.compare(fr,ur)?(ar.values[nr]=ur,0):(ar.values[nr]=fr,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(Ot,Nt,er,rr,ir){this.id=Ot,this.createF=Nt,this.updateF=er,this.compareF=rr,this.spec=ir,this.provides=void 0}static define(Ot){let Nt=new StateField(nextID++,Ot.create,Ot.update,Ot.compare||((er,rr)=>er===rr),Ot);return Ot.provide&&(Nt.provides=Ot.provide(Nt)),Nt}create(Ot){let Nt=Ot.facet(initField).find(er=>er.field==this);return((Nt==null?void 0:Nt.create)||this.createF)(Ot)}slot(Ot){let Nt=Ot[this.id]>>1;return{create:er=>(er.values[Nt]=this.create(er),1),update:(er,rr)=>{let ir=er.values[Nt],nr=this.updateF(ir,rr);return this.compareF(ir,nr)?0:(er.values[Nt]=nr,1)},reconfigure:(er,rr)=>rr.config.address[this.id]!=null?(er.values[Nt]=rr.field(this),0):(er.values[Nt]=this.create(er),1)}}init(Ot){return[this,initField.of({field:this,create:Ot})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(tr){return Ot=>new PrecExtension(Ot,tr)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(Ot,Nt){this.inner=Ot,this.prec=Nt}}class Compartment{of(Ot){return new CompartmentInstance(this,Ot)}reconfigure(Ot){return Compartment.reconfigure.of({compartment:this,extension:Ot})}get(Ot){return Ot.config.compartments.get(this)}}class CompartmentInstance{constructor(Ot,Nt){this.compartment=Ot,this.inner=Nt}}class Configuration{constructor(Ot,Nt,er,rr,ir,nr){for(this.base=Ot,this.compartments=Nt,this.dynamicSlots=er,this.address=rr,this.staticValues=ir,this.facets=nr,this.statusTemplate=[];this.statusTemplate.length<er.length;)this.statusTemplate.push(0)}staticFacet(Ot){let Nt=this.address[Ot.id];return Nt==null?Ot.default:this.staticValues[Nt>>1]}static resolve(Ot,Nt,er){let rr=[],ir=Object.create(null),nr=new Map;for(let ur of flatten(Ot,Nt,nr))ur instanceof StateField?rr.push(ur):(ir[ur.facet.id]||(ir[ur.facet.id]=[])).push(ur);let sr=Object.create(null),ar=[],lr=[];for(let ur of rr)sr[ur.id]=lr.length<<1,lr.push(fr=>ur.slot(fr));let cr=er==null?void 0:er.config.facets;for(let ur in ir){let fr=ir[ur],hr=fr[0].facet,pr=cr&&cr[ur]||[];if(fr.every(gr=>gr.type==0))if(sr[hr.id]=ar.length<<1|1,sameArray$1(pr,fr))ar.push(er.facet(hr));else{let gr=hr.combine(fr.map(br=>br.value));ar.push(er&&hr.compare(gr,er.facet(hr))?er.facet(hr):gr)}else{for(let gr of fr)gr.type==0?(sr[gr.id]=ar.length<<1|1,ar.push(gr.value)):(sr[gr.id]=lr.length<<1,lr.push(br=>gr.dynamicSlot(br)));sr[hr.id]=lr.length<<1,lr.push(gr=>dynamicFacetSlot(gr,hr,fr))}}let dr=lr.map(ur=>ur(sr));return new Configuration(Ot,nr,dr,sr,ar,ir)}}function flatten(tr,Ot,Nt){let er=[[],[],[],[],[]],rr=new Map;function ir(nr,sr){let ar=rr.get(nr);if(ar!=null){if(ar<=sr)return;let lr=er[ar].indexOf(nr);lr>-1&&er[ar].splice(lr,1),nr instanceof CompartmentInstance&&Nt.delete(nr.compartment)}if(rr.set(nr,sr),Array.isArray(nr))for(let lr of nr)ir(lr,sr);else if(nr instanceof CompartmentInstance){if(Nt.has(nr.compartment))throw new RangeError("Duplicate use of compartment in extensions");let lr=Ot.get(nr.compartment)||nr.inner;Nt.set(nr.compartment,lr),ir(lr,sr)}else if(nr instanceof PrecExtension)ir(nr.inner,nr.prec);else if(nr instanceof StateField)er[sr].push(nr),nr.provides&&ir(nr.provides,sr);else if(nr instanceof FacetProvider)er[sr].push(nr),nr.facet.extensions&&ir(nr.facet.extensions,Prec_.default);else{let lr=nr.extension;if(!lr)throw new Error(`Unrecognized extension value in extension set (${nr}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);ir(lr,sr)}}return ir(tr,Prec_.default),er.reduce((nr,sr)=>nr.concat(sr))}function ensureAddr(tr,Ot){if(Ot&1)return 2;let Nt=Ot>>1,er=tr.status[Nt];if(er==4)throw new Error("Cyclic dependency between fields and/or facets");if(er&2)return er;tr.status[Nt]=4;let rr=tr.computeSlot(tr,tr.config.dynamicSlots[Nt]);return tr.status[Nt]=2|rr}function getAddr(tr,Ot){return Ot&1?tr.config.staticValues[Ot>>1]:tr.values[Ot>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:tr=>tr.some(Ot=>Ot),static:!0}),lineSeparator=Facet.define({combine:tr=>tr.length?tr[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:tr=>tr.length?tr[0]:!1});class Annotation{constructor(Ot,Nt){this.type=Ot,this.value=Nt}static define(){return new AnnotationType}}class AnnotationType{of(Ot){return new Annotation(this,Ot)}}class StateEffectType{constructor(Ot){this.map=Ot}of(Ot){return new StateEffect(this,Ot)}}class StateEffect{constructor(Ot,Nt){this.type=Ot,this.value=Nt}map(Ot){let Nt=this.type.map(this.value,Ot);return Nt===void 0?void 0:Nt==this.value?this:new StateEffect(this.type,Nt)}is(Ot){return this.type==Ot}static define(Ot={}){return new StateEffectType(Ot.map||(Nt=>Nt))}static mapEffects(Ot,Nt){if(!Ot.length)return Ot;let er=[];for(let rr of Ot){let ir=rr.map(Nt);ir&&er.push(ir)}return er}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(Ot,Nt,er,rr,ir,nr){this.startState=Ot,this.changes=Nt,this.selection=er,this.effects=rr,this.annotations=ir,this.scrollIntoView=nr,this._doc=null,this._state=null,er&&checkSelection(er,Nt.newLength),ir.some(sr=>sr.type==Transaction.time)||(this.annotations=ir.concat(Transaction.time.of(Date.now())))}static create(Ot,Nt,er,rr,ir,nr){return new Transaction(Ot,Nt,er,rr,ir,nr)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(Ot){for(let Nt of this.annotations)if(Nt.type==Ot)return Nt.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(Ot){let Nt=this.annotation(Transaction.userEvent);return!!(Nt&&(Nt==Ot||Nt.length>Ot.length&&Nt.slice(0,Ot.length)==Ot&&Nt[Ot.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(tr,Ot){let Nt=[];for(let er=0,rr=0;;){let ir,nr;if(er<tr.length&&(rr==Ot.length||Ot[rr]>=tr[er]))ir=tr[er++],nr=tr[er++];else if(rr<Ot.length)ir=Ot[rr++],nr=Ot[rr++];else return Nt;!Nt.length||Nt[Nt.length-1]<ir?Nt.push(ir,nr):Nt[Nt.length-1]<nr&&(Nt[Nt.length-1]=nr)}}function mergeTransaction(tr,Ot,Nt){var er;let rr,ir,nr;return Nt?(rr=Ot.changes,ir=ChangeSet.empty(Ot.changes.length),nr=tr.changes.compose(Ot.changes)):(rr=Ot.changes.map(tr.changes),ir=tr.changes.mapDesc(Ot.changes,!0),nr=tr.changes.compose(rr)),{changes:nr,selection:Ot.selection?Ot.selection.map(ir):(er=tr.selection)===null||er===void 0?void 0:er.map(rr),effects:StateEffect.mapEffects(tr.effects,rr).concat(StateEffect.mapEffects(Ot.effects,ir)),annotations:tr.annotations.length?tr.annotations.concat(Ot.annotations):Ot.annotations,scrollIntoView:tr.scrollIntoView||Ot.scrollIntoView}}function resolveTransactionInner(tr,Ot,Nt){let er=Ot.selection,rr=asArray$1(Ot.annotations);return Ot.userEvent&&(rr=rr.concat(Transaction.userEvent.of(Ot.userEvent))),{changes:Ot.changes instanceof ChangeSet?Ot.changes:ChangeSet.of(Ot.changes||[],Nt,tr.facet(lineSeparator)),selection:er&&(er instanceof EditorSelection?er:EditorSelection.single(er.anchor,er.head)),effects:asArray$1(Ot.effects),annotations:rr,scrollIntoView:!!Ot.scrollIntoView}}function resolveTransaction(tr,Ot,Nt){let er=resolveTransactionInner(tr,Ot.length?Ot[0]:{},tr.doc.length);Ot.length&&Ot[0].filter===!1&&(Nt=!1);for(let ir=1;ir<Ot.length;ir++){Ot[ir].filter===!1&&(Nt=!1);let nr=!!Ot[ir].sequential;er=mergeTransaction(er,resolveTransactionInner(tr,Ot[ir],nr?er.changes.newLength:tr.doc.length),nr)}let rr=Transaction.create(tr,er.changes,er.selection,er.effects,er.annotations,er.scrollIntoView);return extendTransaction(Nt?filterTransaction(rr):rr)}function filterTransaction(tr){let Ot=tr.startState,Nt=!0;for(let rr of Ot.facet(changeFilter)){let ir=rr(tr);if(ir===!1){Nt=!1;break}Array.isArray(ir)&&(Nt=Nt===!0?ir:joinRanges(Nt,ir))}if(Nt!==!0){let rr,ir;if(Nt===!1)ir=tr.changes.invertedDesc,rr=ChangeSet.empty(Ot.doc.length);else{let nr=tr.changes.filter(Nt);rr=nr.changes,ir=nr.filtered.mapDesc(nr.changes).invertedDesc}tr=Transaction.create(Ot,rr,tr.selection&&tr.selection.map(ir),StateEffect.mapEffects(tr.effects,ir),tr.annotations,tr.scrollIntoView)}let er=Ot.facet(transactionFilter);for(let rr=er.length-1;rr>=0;rr--){let ir=er[rr](tr);ir instanceof Transaction?tr=ir:Array.isArray(ir)&&ir.length==1&&ir[0]instanceof Transaction?tr=ir[0]:tr=resolveTransaction(Ot,asArray$1(ir),!1)}return tr}function extendTransaction(tr){let Ot=tr.startState,Nt=Ot.facet(transactionExtender),er=tr;for(let rr=Nt.length-1;rr>=0;rr--){let ir=Nt[rr](tr);ir&&Object.keys(ir).length&&(er=mergeTransaction(er,resolveTransactionInner(Ot,ir,tr.changes.newLength),!0))}return er==tr?tr:Transaction.create(Ot,tr.changes,tr.selection,er.effects,er.annotations,er.scrollIntoView)}const none$2=[];function asArray$1(tr){return tr==null?none$2:Array.isArray(tr)?tr:[tr]}var CharCategory=function(tr){return tr[tr.Word=0]="Word",tr[tr.Space=1]="Space",tr[tr.Other=2]="Other",tr}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(tr){if(wordChar)return wordChar.test(tr);for(let Ot=0;Ot<tr.length;Ot++){let Nt=tr[Ot];if(/\w/.test(Nt)||Nt>""&&(Nt.toUpperCase()!=Nt.toLowerCase()||nonASCIISingleCaseWordChar.test(Nt)))return!0}return!1}function makeCategorizer(tr){return Ot=>{if(!/\S/.test(Ot))return CharCategory.Space;if(hasWordChar(Ot))return CharCategory.Word;for(let Nt=0;Nt<tr.length;Nt++)if(Ot.indexOf(tr[Nt])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(Ot,Nt,er,rr,ir,nr){this.config=Ot,this.doc=Nt,this.selection=er,this.values=rr,this.status=Ot.statusTemplate.slice(),this.computeSlot=ir,nr&&(nr._state=this);for(let sr=0;sr<this.config.dynamicSlots.length;sr++)ensureAddr(this,sr<<1);this.computeSlot=null}field(Ot,Nt=!0){let er=this.config.address[Ot.id];if(er==null){if(Nt)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,er),getAddr(this,er)}update(...Ot){return resolveTransaction(this,Ot,!0)}applyTransaction(Ot){let Nt=this.config,{base:er,compartments:rr}=Nt;for(let sr of Ot.effects)sr.is(Compartment.reconfigure)?(Nt&&(rr=new Map,Nt.compartments.forEach((ar,lr)=>rr.set(lr,ar)),Nt=null),rr.set(sr.value.compartment,sr.value.extension)):sr.is(StateEffect.reconfigure)?(Nt=null,er=sr.value):sr.is(StateEffect.appendConfig)&&(Nt=null,er=asArray$1(er).concat(sr.value));let ir;Nt?ir=Ot.startState.values.slice():(Nt=Configuration.resolve(er,rr,this),ir=new EditorState(Nt,this.doc,this.selection,Nt.dynamicSlots.map(()=>null),(ar,lr)=>lr.reconfigure(ar,this),null).values);let nr=Ot.startState.facet(allowMultipleSelections)?Ot.newSelection:Ot.newSelection.asSingle();new EditorState(Nt,Ot.newDoc,nr,ir,(sr,ar)=>ar.update(sr,Ot),Ot)}replaceSelection(Ot){return typeof Ot=="string"&&(Ot=this.toText(Ot)),this.changeByRange(Nt=>({changes:{from:Nt.from,to:Nt.to,insert:Ot},range:EditorSelection.cursor(Nt.from+Ot.length)}))}changeByRange(Ot){let Nt=this.selection,er=Ot(Nt.ranges[0]),rr=this.changes(er.changes),ir=[er.range],nr=asArray$1(er.effects);for(let sr=1;sr<Nt.ranges.length;sr++){let ar=Ot(Nt.ranges[sr]),lr=this.changes(ar.changes),cr=lr.map(rr);for(let ur=0;ur<sr;ur++)ir[ur]=ir[ur].map(cr);let dr=rr.mapDesc(lr,!0);ir.push(ar.range.map(dr)),rr=rr.compose(cr),nr=StateEffect.mapEffects(nr,cr).concat(StateEffect.mapEffects(asArray$1(ar.effects),dr))}return{changes:rr,selection:EditorSelection.create(ir,Nt.mainIndex),effects:nr}}changes(Ot=[]){return Ot instanceof ChangeSet?Ot:ChangeSet.of(Ot,this.doc.length,this.facet(EditorState.lineSeparator))}toText(Ot){return Text$1.of(Ot.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(Ot=0,Nt=this.doc.length){return this.doc.sliceString(Ot,Nt,this.lineBreak)}facet(Ot){let Nt=this.config.address[Ot.id];return Nt==null?Ot.default:(ensureAddr(this,Nt),getAddr(this,Nt))}toJSON(Ot){let Nt={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(Ot)for(let er in Ot){let rr=Ot[er];rr instanceof StateField&&this.config.address[rr.id]!=null&&(Nt[er]=rr.spec.toJSON(this.field(Ot[er]),this))}return Nt}static fromJSON(Ot,Nt={},er){if(!Ot||typeof Ot.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let rr=[];if(er){for(let ir in er)if(Object.prototype.hasOwnProperty.call(Ot,ir)){let nr=er[ir],sr=Ot[ir];rr.push(nr.init(ar=>nr.spec.fromJSON(sr,ar)))}}return EditorState.create({doc:Ot.doc,selection:EditorSelection.fromJSON(Ot.selection),extensions:Nt.extensions?rr.concat([Nt.extensions]):rr})}static create(Ot={}){let Nt=Configuration.resolve(Ot.extensions||[],new Map),er=Ot.doc instanceof Text$1?Ot.doc:Text$1.of((Ot.doc||"").split(Nt.staticFacet(EditorState.lineSeparator)||DefaultSplit)),rr=Ot.selection?Ot.selection instanceof EditorSelection?Ot.selection:EditorSelection.single(Ot.selection.anchor,Ot.selection.head):EditorSelection.single(0);return checkSelection(rr,er.length),Nt.staticFacet(allowMultipleSelections)||(rr=rr.asSingle()),new EditorState(Nt,er,rr,Nt.dynamicSlots.map(()=>null),(ir,nr)=>nr.create(ir),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(Ot,...Nt){for(let er of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(er,Ot)){Ot=er[Ot];break}return Nt.length&&(Ot=Ot.replace(/\$(\$|\d*)/g,(er,rr)=>{if(rr=="$")return"$";let ir=+(rr||1);return!ir||ir>Nt.length?er:Nt[ir-1]})),Ot}languageDataAt(Ot,Nt,er=-1){let rr=[];for(let ir of this.facet(languageData))for(let nr of ir(this,Nt,er))Object.prototype.hasOwnProperty.call(nr,Ot)&&rr.push(nr[Ot]);return rr}charCategorizer(Ot){return makeCategorizer(this.languageDataAt("wordChars",Ot).join(""))}wordAt(Ot){let{text:Nt,from:er,length:rr}=this.doc.lineAt(Ot),ir=this.charCategorizer(Ot),nr=Ot-er,sr=Ot-er;for(;nr>0;){let ar=findClusterBreak(Nt,nr,!1);if(ir(Nt.slice(ar,nr))!=CharCategory.Word)break;nr=ar}for(;sr<rr;){let ar=findClusterBreak(Nt,sr);if(ir(Nt.slice(sr,ar))!=CharCategory.Word)break;sr=ar}return nr==sr?null:EditorSelection.range(nr+er,sr+er)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:tr=>tr.length?tr[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(tr,Ot){let Nt=Object.keys(tr),er=Object.keys(Ot);return Nt.length==er.length&&Nt.every(rr=>tr[rr]==Ot[rr])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(tr,Ot,Nt={}){let er={};for(let rr of tr)for(let ir of Object.keys(rr)){let nr=rr[ir],sr=er[ir];if(sr===void 0)er[ir]=nr;else if(!(sr===nr||nr===void 0))if(Object.hasOwnProperty.call(Nt,ir))er[ir]=Nt[ir](sr,nr);else throw new Error("Config merge conflict for field "+ir)}for(let rr in Ot)er[rr]===void 0&&(er[rr]=Ot[rr]);return er}class RangeValue{eq(Ot){return this==Ot}range(Ot,Nt=Ot){return Range$2.create(Ot,Nt,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$2=class Ea{constructor(Ot,Nt,er){this.from=Ot,this.to=Nt,this.value=er}static create(Ot,Nt,er){return new Ea(Ot,Nt,er)}};function cmpRange(tr,Ot){return tr.from-Ot.from||tr.value.startSide-Ot.value.startSide}class Chunk{constructor(Ot,Nt,er,rr){this.from=Ot,this.to=Nt,this.value=er,this.maxPoint=rr}get length(){return this.to[this.to.length-1]}findIndex(Ot,Nt,er,rr=0){let ir=er?this.to:this.from;for(let nr=rr,sr=ir.length;;){if(nr==sr)return nr;let ar=nr+sr>>1,lr=ir[ar]-Ot||(er?this.value[ar].endSide:this.value[ar].startSide)-Nt;if(ar==nr)return lr>=0?nr:sr;lr>=0?sr=ar:nr=ar+1}}between(Ot,Nt,er,rr){for(let ir=this.findIndex(Nt,-1e9,!0),nr=this.findIndex(er,1e9,!1,ir);ir<nr;ir++)if(rr(this.from[ir]+Ot,this.to[ir]+Ot,this.value[ir])===!1)return!1}map(Ot,Nt){let er=[],rr=[],ir=[],nr=-1,sr=-1;for(let ar=0;ar<this.value.length;ar++){let lr=this.value[ar],cr=this.from[ar]+Ot,dr=this.to[ar]+Ot,ur,fr;if(cr==dr){let hr=Nt.mapPos(cr,lr.startSide,lr.mapMode);if(hr==null||(ur=fr=hr,lr.startSide!=lr.endSide&&(fr=Nt.mapPos(cr,lr.endSide),fr<ur)))continue}else if(ur=Nt.mapPos(cr,lr.startSide),fr=Nt.mapPos(dr,lr.endSide),ur>fr||ur==fr&&lr.startSide>0&&lr.endSide<=0)continue;(fr-ur||lr.endSide-lr.startSide)<0||(nr<0&&(nr=ur),lr.point&&(sr=Math.max(sr,fr-ur)),er.push(lr),rr.push(ur-nr),ir.push(fr-nr))}return{mapped:er.length?new Chunk(rr,ir,er,sr):null,pos:nr}}}class RangeSet{constructor(Ot,Nt,er,rr){this.chunkPos=Ot,this.chunk=Nt,this.nextLayer=er,this.maxPoint=rr}static create(Ot,Nt,er,rr){return new RangeSet(Ot,Nt,er,rr)}get length(){let Ot=this.chunk.length-1;return Ot<0?0:Math.max(this.chunkEnd(Ot),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let Ot=this.nextLayer.size;for(let Nt of this.chunk)Ot+=Nt.value.length;return Ot}chunkEnd(Ot){return this.chunkPos[Ot]+this.chunk[Ot].length}update(Ot){let{add:Nt=[],sort:er=!1,filterFrom:rr=0,filterTo:ir=this.length}=Ot,nr=Ot.filter;if(Nt.length==0&&!nr)return this;if(er&&(Nt=Nt.slice().sort(cmpRange)),this.isEmpty)return Nt.length?RangeSet.of(Nt):this;let sr=new LayerCursor(this,null,-1).goto(0),ar=0,lr=[],cr=new RangeSetBuilder;for(;sr.value||ar<Nt.length;)if(ar<Nt.length&&(sr.from-Nt[ar].from||sr.startSide-Nt[ar].value.startSide)>=0){let dr=Nt[ar++];cr.addInner(dr.from,dr.to,dr.value)||lr.push(dr)}else sr.rangeIndex==1&&sr.chunkIndex<this.chunk.length&&(ar==Nt.length||this.chunkEnd(sr.chunkIndex)<Nt[ar].from)&&(!nr||rr>this.chunkEnd(sr.chunkIndex)||ir<this.chunkPos[sr.chunkIndex])&&cr.addChunk(this.chunkPos[sr.chunkIndex],this.chunk[sr.chunkIndex])?sr.nextChunk():((!nr||rr>sr.to||ir<sr.from||nr(sr.from,sr.to,sr.value))&&(cr.addInner(sr.from,sr.to,sr.value)||lr.push(Range$2.create(sr.from,sr.to,sr.value))),sr.next());return cr.finishInner(this.nextLayer.isEmpty&&!lr.length?RangeSet.empty:this.nextLayer.update({add:lr,filter:nr,filterFrom:rr,filterTo:ir}))}map(Ot){if(Ot.empty||this.isEmpty)return this;let Nt=[],er=[],rr=-1;for(let nr=0;nr<this.chunk.length;nr++){let sr=this.chunkPos[nr],ar=this.chunk[nr],lr=Ot.touchesRange(sr,sr+ar.length);if(lr===!1)rr=Math.max(rr,ar.maxPoint),Nt.push(ar),er.push(Ot.mapPos(sr));else if(lr===!0){let{mapped:cr,pos:dr}=ar.map(sr,Ot);cr&&(rr=Math.max(rr,cr.maxPoint),Nt.push(cr),er.push(dr))}}let ir=this.nextLayer.map(Ot);return Nt.length==0?ir:new RangeSet(er,Nt,ir||RangeSet.empty,rr)}between(Ot,Nt,er){if(!this.isEmpty){for(let rr=0;rr<this.chunk.length;rr++){let ir=this.chunkPos[rr],nr=this.chunk[rr];if(Nt>=ir&&Ot<=ir+nr.length&&nr.between(ir,Ot-ir,Nt-ir,er)===!1)return}this.nextLayer.between(Ot,Nt,er)}}iter(Ot=0){return HeapCursor.from([this]).goto(Ot)}get isEmpty(){return this.nextLayer==this}static iter(Ot,Nt=0){return HeapCursor.from(Ot).goto(Nt)}static compare(Ot,Nt,er,rr,ir=-1){let nr=Ot.filter(dr=>dr.maxPoint>0||!dr.isEmpty&&dr.maxPoint>=ir),sr=Nt.filter(dr=>dr.maxPoint>0||!dr.isEmpty&&dr.maxPoint>=ir),ar=findSharedChunks(nr,sr,er),lr=new SpanCursor(nr,ar,ir),cr=new SpanCursor(sr,ar,ir);er.iterGaps((dr,ur,fr)=>compare(lr,dr,cr,ur,fr,rr)),er.empty&&er.length==0&&compare(lr,0,cr,0,0,rr)}static eq(Ot,Nt,er=0,rr){rr==null&&(rr=999999999);let ir=Ot.filter(cr=>!cr.isEmpty&&Nt.indexOf(cr)<0),nr=Nt.filter(cr=>!cr.isEmpty&&Ot.indexOf(cr)<0);if(ir.length!=nr.length)return!1;if(!ir.length)return!0;let sr=findSharedChunks(ir,nr),ar=new SpanCursor(ir,sr,0).goto(er),lr=new SpanCursor(nr,sr,0).goto(er);for(;;){if(ar.to!=lr.to||!sameValues(ar.active,lr.active)||ar.point&&(!lr.point||!ar.point.eq(lr.point)))return!1;if(ar.to>rr)return!0;ar.next(),lr.next()}}static spans(Ot,Nt,er,rr,ir=-1){let nr=new SpanCursor(Ot,null,ir).goto(Nt),sr=Nt,ar=nr.openStart;for(;;){let lr=Math.min(nr.to,er);if(nr.point){let cr=nr.activeForPoint(nr.to),dr=nr.pointFrom<Nt?cr.length+1:nr.point.startSide<0?cr.length:Math.min(cr.length,ar);rr.point(sr,lr,nr.point,cr,dr,nr.pointRank),ar=Math.min(nr.openEnd(lr),cr.length)}else lr>sr&&(rr.span(sr,lr,nr.active,ar),ar=nr.openEnd(lr));if(nr.to>er)return ar+(nr.point&&nr.to>er?1:0);sr=nr.to,nr.next()}}static of(Ot,Nt=!1){let er=new RangeSetBuilder;for(let rr of Ot instanceof Range$2?[Ot]:Nt?lazySort(Ot):Ot)er.add(rr.from,rr.to,rr.value);return er.finish()}static join(Ot){if(!Ot.length)return RangeSet.empty;let Nt=Ot[Ot.length-1];for(let er=Ot.length-2;er>=0;er--)for(let rr=Ot[er];rr!=RangeSet.empty;rr=rr.nextLayer)Nt=new RangeSet(rr.chunkPos,rr.chunk,Nt,Math.max(rr.maxPoint,Nt.maxPoint));return Nt}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(tr){if(tr.length>1)for(let Ot=tr[0],Nt=1;Nt<tr.length;Nt++){let er=tr[Nt];if(cmpRange(Ot,er)>0)return tr.slice().sort(cmpRange);Ot=er}return tr}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(Ot){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,Ot&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(Ot,Nt,er){this.addInner(Ot,Nt,er)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(Ot,Nt,er)}addInner(Ot,Nt,er){let rr=Ot-this.lastTo||er.startSide-this.last.endSide;if(rr<=0&&(Ot-this.lastFrom||er.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return rr<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=Ot),this.from.push(Ot-this.chunkStart),this.to.push(Nt-this.chunkStart),this.last=er,this.lastFrom=Ot,this.lastTo=Nt,this.value.push(er),er.point&&(this.maxPoint=Math.max(this.maxPoint,Nt-Ot)),!0)}addChunk(Ot,Nt){if((Ot-this.lastTo||Nt.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,Nt.maxPoint),this.chunks.push(Nt),this.chunkPos.push(Ot);let er=Nt.value.length-1;return this.last=Nt.value[er],this.lastFrom=Nt.from[er]+Ot,this.lastTo=Nt.to[er]+Ot,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(Ot){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return Ot;let Nt=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(Ot):Ot,this.setMaxPoint);return this.from=null,Nt}}function findSharedChunks(tr,Ot,Nt){let er=new Map;for(let ir of tr)for(let nr=0;nr<ir.chunk.length;nr++)ir.chunk[nr].maxPoint<=0&&er.set(ir.chunk[nr],ir.chunkPos[nr]);let rr=new Set;for(let ir of Ot)for(let nr=0;nr<ir.chunk.length;nr++){let sr=er.get(ir.chunk[nr]);sr!=null&&(Nt?Nt.mapPos(sr):sr)==ir.chunkPos[nr]&&!(Nt!=null&&Nt.touchesRange(sr,sr+ir.chunk[nr].length))&&rr.add(ir.chunk[nr])}return rr}class LayerCursor{constructor(Ot,Nt,er,rr=0){this.layer=Ot,this.skip=Nt,this.minPoint=er,this.rank=rr}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(Ot,Nt=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(Ot,Nt,!1),this}gotoInner(Ot,Nt,er){for(;this.chunkIndex<this.layer.chunk.length;){let rr=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(rr)||this.layer.chunkEnd(this.chunkIndex)<Ot||rr.maxPoint<this.minPoint))break;this.chunkIndex++,er=!1}if(this.chunkIndex<this.layer.chunk.length){let rr=this.layer.chunk[this.chunkIndex].findIndex(Ot-this.layer.chunkPos[this.chunkIndex],Nt,!0);(!er||this.rangeIndex<rr)&&this.setRangeIndex(rr)}this.next()}forward(Ot,Nt){(this.to-Ot||this.endSide-Nt)<0&&this.gotoInner(Ot,Nt,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let Ot=this.layer.chunkPos[this.chunkIndex],Nt=this.layer.chunk[this.chunkIndex],er=Ot+Nt.from[this.rangeIndex];if(this.from=er,this.to=Ot+Nt.to[this.rangeIndex],this.value=Nt.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(Ot){if(Ot==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=Ot}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(Ot){return this.from-Ot.from||this.startSide-Ot.startSide||this.rank-Ot.rank||this.to-Ot.to||this.endSide-Ot.endSide}}class HeapCursor{constructor(Ot){this.heap=Ot}static from(Ot,Nt=null,er=-1){let rr=[];for(let ir=0;ir<Ot.length;ir++)for(let nr=Ot[ir];!nr.isEmpty;nr=nr.nextLayer)nr.maxPoint>=er&&rr.push(new LayerCursor(nr,Nt,er,ir));return rr.length==1?rr[0]:new HeapCursor(rr)}get startSide(){return this.value?this.value.startSide:0}goto(Ot,Nt=-1e9){for(let er of this.heap)er.goto(Ot,Nt);for(let er=this.heap.length>>1;er>=0;er--)heapBubble(this.heap,er);return this.next(),this}forward(Ot,Nt){for(let er of this.heap)er.forward(Ot,Nt);for(let er=this.heap.length>>1;er>=0;er--)heapBubble(this.heap,er);(this.to-Ot||this.value.endSide-Nt)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let Ot=this.heap[0];this.from=Ot.from,this.to=Ot.to,this.value=Ot.value,this.rank=Ot.rank,Ot.value&&Ot.next(),heapBubble(this.heap,0)}}}function heapBubble(tr,Ot){for(let Nt=tr[Ot];;){let er=(Ot<<1)+1;if(er>=tr.length)break;let rr=tr[er];if(er+1<tr.length&&rr.compare(tr[er+1])>=0&&(rr=tr[er+1],er++),Nt.compare(rr)<0)break;tr[er]=Nt,tr[Ot]=rr,Ot=er}}class SpanCursor{constructor(Ot,Nt,er){this.minPoint=er,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(Ot,Nt,er)}goto(Ot,Nt=-1e9){return this.cursor.goto(Ot,Nt),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=Ot,this.endSide=Nt,this.openStart=-1,this.next(),this}forward(Ot,Nt){for(;this.minActive>-1&&(this.activeTo[this.minActive]-Ot||this.active[this.minActive].endSide-Nt)<0;)this.removeActive(this.minActive);this.cursor.forward(Ot,Nt)}removeActive(Ot){remove(this.active,Ot),remove(this.activeTo,Ot),remove(this.activeRank,Ot),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(Ot){let Nt=0,{value:er,to:rr,rank:ir}=this.cursor;for(;Nt<this.activeRank.length&&(ir-this.activeRank[Nt]||rr-this.activeTo[Nt])>0;)Nt++;insert(this.active,Nt,er),insert(this.activeTo,Nt,rr),insert(this.activeRank,Nt,ir),Ot&&insert(Ot,Nt,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let Ot=this.to,Nt=this.point;this.point=null;let er=this.openStart<0?[]:null;for(;;){let rr=this.minActive;if(rr>-1&&(this.activeTo[rr]-this.cursor.from||this.active[rr].endSide-this.cursor.startSide)<0){if(this.activeTo[rr]>Ot){this.to=this.activeTo[rr],this.endSide=this.active[rr].endSide;break}this.removeActive(rr),er&&remove(er,rr)}else if(this.cursor.value)if(this.cursor.from>Ot){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let ir=this.cursor.value;if(!ir.point)this.addActive(er),this.cursor.next();else if(Nt&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=ir,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=ir.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(er){this.openStart=0;for(let rr=er.length-1;rr>=0&&er[rr]<Ot;rr--)this.openStart++}}activeForPoint(Ot){if(!this.active.length)return this.active;let Nt=[];for(let er=this.active.length-1;er>=0&&!(this.activeRank[er]<this.pointRank);er--)(this.activeTo[er]>Ot||this.activeTo[er]==Ot&&this.active[er].endSide>=this.point.endSide)&&Nt.push(this.active[er]);return Nt.reverse()}openEnd(Ot){let Nt=0;for(let er=this.activeTo.length-1;er>=0&&this.activeTo[er]>Ot;er--)Nt++;return Nt}}function compare(tr,Ot,Nt,er,rr,ir){tr.goto(Ot),Nt.goto(er);let nr=er+rr,sr=er,ar=er-Ot;for(;;){let lr=tr.to+ar-Nt.to||tr.endSide-Nt.endSide,cr=lr<0?tr.to+ar:Nt.to,dr=Math.min(cr,nr);if(tr.point||Nt.point?tr.point&&Nt.point&&(tr.point==Nt.point||tr.point.eq(Nt.point))&&sameValues(tr.activeForPoint(tr.to),Nt.activeForPoint(Nt.to))||ir.comparePoint(sr,dr,tr.point,Nt.point):dr>sr&&!sameValues(tr.active,Nt.active)&&ir.compareRange(sr,dr,tr.active,Nt.active),cr>nr)break;sr=cr,lr<=0&&tr.next(),lr>=0&&Nt.next()}}function sameValues(tr,Ot){if(tr.length!=Ot.length)return!1;for(let Nt=0;Nt<tr.length;Nt++)if(tr[Nt]!=Ot[Nt]&&!tr[Nt].eq(Ot[Nt]))return!1;return!0}function remove(tr,Ot){for(let Nt=Ot,er=tr.length-1;Nt<er;Nt++)tr[Nt]=tr[Nt+1];tr.pop()}function insert(tr,Ot,Nt){for(let er=tr.length-1;er>=Ot;er--)tr[er+1]=tr[er];tr[Ot]=Nt}function findMinIndex(tr,Ot){let Nt=-1,er=1e9;for(let rr=0;rr<Ot.length;rr++)(Ot[rr]-er||tr[rr].endSide-tr[Nt].endSide)<0&&(Nt=rr,er=Ot[rr]);return Nt}function countColumn(tr,Ot,Nt=tr.length){let er=0;for(let rr=0;rr<Nt;)tr.charCodeAt(rr)==9?(er+=Ot-er%Ot,rr++):(er++,rr=findClusterBreak(tr,rr));return er}function findColumn(tr,Ot,Nt,er){for(let rr=0,ir=0;;){if(ir>=Ot)return rr;if(rr==tr.length)break;ir+=tr.charCodeAt(rr)==9?Nt-ir%Nt:1,rr=findClusterBreak(tr,rr)}return er===!0?-1:tr.length}const C="ͼ",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(Ot,Nt){this.rules=[];let{finish:er}=Nt||{};function rr(nr){return/^@/.test(nr)?[nr]:nr.split(/,\s*/)}function ir(nr,sr,ar,lr){let cr=[],dr=/^@(\w+)\b/.exec(nr[0]),ur=dr&&dr[1]=="keyframes";if(dr&&sr==null)return ar.push(nr[0]+";");for(let fr in sr){let hr=sr[fr];if(/&/.test(fr))ir(fr.split(/,\s*/).map(pr=>nr.map(gr=>pr.replace(/&/,gr))).reduce((pr,gr)=>pr.concat(gr)),hr,ar);else if(hr&&typeof hr=="object"){if(!dr)throw new RangeError("The value of a property ("+fr+") should be a primitive value.");ir(rr(fr),hr,cr,ur)}else hr!=null&&cr.push(fr.replace(/_.*/,"").replace(/[A-Z]/g,pr=>"-"+pr.toLowerCase())+": "+hr+";")}(cr.length||ur)&&ar.push((er&&!dr&&!lr?nr.map(er):nr).join(", ")+" {"+cr.join(" ")+"}")}for(let nr in Ot)ir(rr(nr),Ot[nr],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let Ot=top[COUNT]||1;return top[COUNT]=Ot+1,C+Ot.toString(36)}static mount(Ot,Nt,er){let rr=Ot[SET],ir=er&&er.nonce;rr?ir&&rr.setNonce(ir):rr=new StyleSet(Ot,ir),rr.mount(Array.isArray(Nt)?Nt:[Nt],Ot)}}let adoptedSet=new Map;class StyleSet{constructor(Ot,Nt){let er=Ot.ownerDocument||Ot,rr=er.defaultView;if(!Ot.head&&Ot.adoptedStyleSheets&&rr.CSSStyleSheet){let ir=adoptedSet.get(er);if(ir)return Ot[SET]=ir;this.sheet=new rr.CSSStyleSheet,adoptedSet.set(er,this)}else this.styleTag=er.createElement("style"),Nt&&this.styleTag.setAttribute("nonce",Nt);this.modules=[],Ot[SET]=this}mount(Ot,Nt){let er=this.sheet,rr=0,ir=0;for(let nr=0;nr<Ot.length;nr++){let sr=Ot[nr],ar=this.modules.indexOf(sr);if(ar<ir&&ar>-1&&(this.modules.splice(ar,1),ir--,ar=-1),ar==-1){if(this.modules.splice(ir++,0,sr),er)for(let lr=0;lr<sr.rules.length;lr++)er.insertRule(sr.rules[lr],rr++)}else{for(;ir<ar;)rr+=this.modules[ir++].rules.length;rr+=sr.rules.length,ir++}}if(er)Nt.adoptedStyleSheets.indexOf(this.sheet)<0&&(Nt.adoptedStyleSheets=[this.sheet,...Nt.adoptedStyleSheets]);else{let nr="";for(let ar=0;ar<this.modules.length;ar++)nr+=this.modules[ar].getRules()+`
`;this.styleTag.textContent=nr;let sr=Nt.head||Nt;this.styleTag.parentNode!=sr&&sr.insertBefore(this.styleTag,sr.firstChild)}}setNonce(Ot){this.styleTag&&this.styleTag.getAttribute("nonce")!=Ot&&this.styleTag.setAttribute("nonce",Ot)}}var base$2={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i$1=0;i$1<10;i$1++)base$2[48+i$1]=base$2[96+i$1]=String(i$1);for(var i$1=1;i$1<=24;i$1++)base$2[i$1+111]="F"+i$1;for(var i$1=65;i$1<=90;i$1++)base$2[i$1]=String.fromCharCode(i$1+32),shift[i$1]=String.fromCharCode(i$1);for(var code in base$2)shift.hasOwnProperty(code)||(shift[code]=base$2[code]);function keyName(tr){var Ot=mac&&tr.metaKey&&tr.shiftKey&&!tr.ctrlKey&&!tr.altKey||ie$1&&tr.shiftKey&&tr.key&&tr.key.length==1||tr.key=="Unidentified",Nt=!Ot&&tr.key||(tr.shiftKey?shift:base$2)[tr.keyCode]||tr.key||"Unidentified";return Nt=="Esc"&&(Nt="Escape"),Nt=="Del"&&(Nt="Delete"),Nt=="Left"&&(Nt="ArrowLeft"),Nt=="Up"&&(Nt="ArrowUp"),Nt=="Right"&&(Nt="ArrowRight"),Nt=="Down"&&(Nt="ArrowDown"),Nt}function getSelection(tr){let Ot;return tr.nodeType==11?Ot=tr.getSelection?tr:tr.ownerDocument:Ot=tr,Ot.getSelection()}function contains(tr,Ot){return Ot?tr==Ot||tr.contains(Ot.nodeType!=1?Ot.parentNode:Ot):!1}function deepActiveElement(tr){let Ot=tr.activeElement;for(;Ot&&Ot.shadowRoot;)Ot=Ot.shadowRoot.activeElement;return Ot}function hasSelection(tr,Ot){if(!Ot.anchorNode)return!1;try{return contains(tr,Ot.anchorNode)}catch{return!1}}function clientRectsFor(tr){return tr.nodeType==3?textRange(tr,0,tr.nodeValue.length).getClientRects():tr.nodeType==1?tr.getClientRects():[]}function isEquivalentPosition(tr,Ot,Nt,er){return Nt?scanFor(tr,Ot,Nt,er,-1)||scanFor(tr,Ot,Nt,er,1):!1}function domIndex(tr){for(var Ot=0;;Ot++)if(tr=tr.previousSibling,!tr)return Ot}function isBlockElement(tr){return tr.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(tr.nodeName)}function scanFor(tr,Ot,Nt,er,rr){for(;;){if(tr==Nt&&Ot==er)return!0;if(Ot==(rr<0?0:maxOffset(tr))){if(tr.nodeName=="DIV")return!1;let ir=tr.parentNode;if(!ir||ir.nodeType!=1)return!1;Ot=domIndex(tr)+(rr<0?0:1),tr=ir}else if(tr.nodeType==1){if(tr=tr.childNodes[Ot+(rr<0?-1:0)],tr.nodeType==1&&tr.contentEditable=="false")return!1;Ot=rr<0?maxOffset(tr):0}else return!1}}function maxOffset(tr){return tr.nodeType==3?tr.nodeValue.length:tr.childNodes.length}function flattenRect(tr,Ot){let Nt=Ot?tr.left:tr.right;return{left:Nt,right:Nt,top:tr.top,bottom:tr.bottom}}function windowRect(tr){let Ot=tr.visualViewport;return Ot?{left:0,right:Ot.width,top:0,bottom:Ot.height}:{left:0,right:tr.innerWidth,top:0,bottom:tr.innerHeight}}function getScale(tr,Ot){let Nt=Ot.width/tr.offsetWidth,er=Ot.height/tr.offsetHeight;return(Nt>.995&&Nt<1.005||!isFinite(Nt)||Math.abs(Ot.width-tr.offsetWidth)<1)&&(Nt=1),(er>.995&&er<1.005||!isFinite(er)||Math.abs(Ot.height-tr.offsetHeight)<1)&&(er=1),{scaleX:Nt,scaleY:er}}function scrollRectIntoView(tr,Ot,Nt,er,rr,ir,nr,sr){let ar=tr.ownerDocument,lr=ar.defaultView||window;for(let cr=tr,dr=!1;cr&&!dr;)if(cr.nodeType==1){let ur,fr=cr==ar.body,hr=1,pr=1;if(fr)ur=windowRect(lr);else{if(/^(fixed|sticky)$/.test(getComputedStyle(cr).position)&&(dr=!0),cr.scrollHeight<=cr.clientHeight&&cr.scrollWidth<=cr.clientWidth){cr=cr.assignedSlot||cr.parentNode;continue}let vr=cr.getBoundingClientRect();({scaleX:hr,scaleY:pr}=getScale(cr,vr)),ur={left:vr.left,right:vr.left+cr.clientWidth*hr,top:vr.top,bottom:vr.top+cr.clientHeight*pr}}let gr=0,br=0;if(rr=="nearest")Ot.top<ur.top?(br=-(ur.top-Ot.top+nr),Nt>0&&Ot.bottom>ur.bottom+br&&(br=Ot.bottom-ur.bottom+br+nr)):Ot.bottom>ur.bottom&&(br=Ot.bottom-ur.bottom+nr,Nt<0&&Ot.top-br<ur.top&&(br=-(ur.top+br-Ot.top+nr)));else{let vr=Ot.bottom-Ot.top,kr=ur.bottom-ur.top;br=(rr=="center"&&vr<=kr?Ot.top+vr/2-kr/2:rr=="start"||rr=="center"&&Nt<0?Ot.top-nr:Ot.bottom-kr+nr)-ur.top}if(er=="nearest"?Ot.left<ur.left?(gr=-(ur.left-Ot.left+ir),Nt>0&&Ot.right>ur.right+gr&&(gr=Ot.right-ur.right+gr+ir)):Ot.right>ur.right&&(gr=Ot.right-ur.right+ir,Nt<0&&Ot.left<ur.left+gr&&(gr=-(ur.left+gr-Ot.left+ir))):gr=(er=="center"?Ot.left+(Ot.right-Ot.left)/2-(ur.right-ur.left)/2:er=="start"==sr?Ot.left-ir:Ot.right-(ur.right-ur.left)+ir)-ur.left,gr||br)if(fr)lr.scrollBy(gr,br);else{let vr=0,kr=0;if(br){let Sr=cr.scrollTop;cr.scrollTop+=br/pr,kr=(cr.scrollTop-Sr)*pr}if(gr){let Sr=cr.scrollLeft;cr.scrollLeft+=gr/hr,vr=(cr.scrollLeft-Sr)*hr}Ot={left:Ot.left-vr,top:Ot.top-kr,right:Ot.right-vr,bottom:Ot.bottom-kr},vr&&Math.abs(vr-gr)<1&&(er="nearest"),kr&&Math.abs(kr-br)<1&&(rr="nearest")}if(fr)break;cr=cr.assignedSlot||cr.parentNode}else if(cr.nodeType==11)cr=cr.host;else break}function scrollableParent(tr){let Ot=tr.ownerDocument;for(let Nt=tr.parentNode;Nt&&Nt!=Ot.body;)if(Nt.nodeType==1){if(Nt.scrollHeight>Nt.clientHeight||Nt.scrollWidth>Nt.clientWidth)return Nt;Nt=Nt.assignedSlot||Nt.parentNode}else if(Nt.nodeType==11)Nt=Nt.host;else break;return null}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(Ot){return this.anchorNode==Ot.anchorNode&&this.anchorOffset==Ot.anchorOffset&&this.focusNode==Ot.focusNode&&this.focusOffset==Ot.focusOffset}setRange(Ot){let{anchorNode:Nt,focusNode:er}=Ot;this.set(Nt,Math.min(Ot.anchorOffset,Nt?maxOffset(Nt):0),er,Math.min(Ot.focusOffset,er?maxOffset(er):0))}set(Ot,Nt,er,rr){this.anchorNode=Ot,this.anchorOffset=Nt,this.focusNode=er,this.focusOffset=rr}}let preventScrollSupported=null;function focusPreventScroll(tr){if(tr.setActive)return tr.setActive();if(preventScrollSupported)return tr.focus(preventScrollSupported);let Ot=[];for(let Nt=tr;Nt&&(Ot.push(Nt,Nt.scrollTop,Nt.scrollLeft),Nt!=Nt.ownerDocument);Nt=Nt.parentNode);if(tr.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let Nt=0;Nt<Ot.length;){let er=Ot[Nt++],rr=Ot[Nt++],ir=Ot[Nt++];er.scrollTop!=rr&&(er.scrollTop=rr),er.scrollLeft!=ir&&(er.scrollLeft=ir)}}}let scratchRange;function textRange(tr,Ot,Nt=Ot){let er=scratchRange||(scratchRange=document.createRange());return er.setEnd(tr,Nt),er.setStart(tr,Ot),er}function dispatchKey(tr,Ot,Nt,er){let rr={key:Ot,code:Ot,keyCode:Nt,which:Nt,cancelable:!0};er&&({altKey:rr.altKey,ctrlKey:rr.ctrlKey,shiftKey:rr.shiftKey,metaKey:rr.metaKey}=er);let ir=new KeyboardEvent("keydown",rr);ir.synthetic=!0,tr.dispatchEvent(ir);let nr=new KeyboardEvent("keyup",rr);return nr.synthetic=!0,tr.dispatchEvent(nr),ir.defaultPrevented||nr.defaultPrevented}function getRoot(tr){for(;tr;){if(tr&&(tr.nodeType==9||tr.nodeType==11&&tr.host))return tr;tr=tr.assignedSlot||tr.parentNode}return null}function clearAttributes(tr){for(;tr.attributes.length;)tr.removeAttributeNode(tr.attributes[0])}function atElementStart(tr,Ot){let Nt=Ot.focusNode,er=Ot.focusOffset;if(!Nt||Ot.anchorNode!=Nt||Ot.anchorOffset!=er)return!1;for(er=Math.min(er,maxOffset(Nt));;)if(er){if(Nt.nodeType!=1)return!1;let rr=Nt.childNodes[er-1];rr.contentEditable=="false"?er--:(Nt=rr,er=maxOffset(Nt))}else{if(Nt==tr)return!0;er=domIndex(Nt),Nt=Nt.parentNode}}function isScrolledToBottom(tr){return tr.scrollTop>Math.max(1,tr.scrollHeight-tr.clientHeight-4)}function textNodeBefore(tr,Ot){for(let Nt=tr,er=Ot;;){if(Nt.nodeType==3&&er>0)return{node:Nt,offset:er};if(Nt.nodeType==1&&er>0){if(Nt.contentEditable=="false")return null;Nt=Nt.childNodes[er-1],er=maxOffset(Nt)}else if(Nt.parentNode&&!isBlockElement(Nt))er=domIndex(Nt),Nt=Nt.parentNode;else return null}}function textNodeAfter(tr,Ot){for(let Nt=tr,er=Ot;;){if(Nt.nodeType==3&&er<Nt.nodeValue.length)return{node:Nt,offset:er};if(Nt.nodeType==1&&er<Nt.childNodes.length){if(Nt.contentEditable=="false")return null;Nt=Nt.childNodes[er],er=0}else if(Nt.parentNode&&!isBlockElement(Nt))er=domIndex(Nt)+1,Nt=Nt.parentNode;else return null}}class DOMPos{constructor(Ot,Nt,er=!0){this.node=Ot,this.offset=Nt,this.precise=er}static before(Ot,Nt){return new DOMPos(Ot.parentNode,domIndex(Ot),Nt)}static after(Ot,Nt){return new DOMPos(Ot.parentNode,domIndex(Ot)+1,Nt)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(Ot){let Nt=this.posAtStart;for(let er of this.children){if(er==Ot)return Nt;Nt+=er.length+er.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(Ot){return this.posBefore(Ot)+Ot.length}sync(Ot,Nt){if(this.flags&2){let er=this.dom,rr=null,ir;for(let nr of this.children){if(nr.flags&7){if(!nr.dom&&(ir=rr?rr.nextSibling:er.firstChild)){let sr=ContentView.get(ir);(!sr||!sr.parent&&sr.canReuseDOM(nr))&&nr.reuseDOM(ir)}nr.sync(Ot,Nt),nr.flags&=-8}if(ir=rr?rr.nextSibling:er.firstChild,Nt&&!Nt.written&&Nt.node==er&&ir!=nr.dom&&(Nt.written=!0),nr.dom.parentNode==er)for(;ir&&ir!=nr.dom;)ir=rm$1(ir);else er.insertBefore(nr.dom,ir);rr=nr.dom}for(ir=rr?rr.nextSibling:er.firstChild,ir&&Nt&&Nt.node==er&&(Nt.written=!0);ir;)ir=rm$1(ir)}else if(this.flags&1)for(let er of this.children)er.flags&7&&(er.sync(Ot,Nt),er.flags&=-8)}reuseDOM(Ot){}localPosFromDOM(Ot,Nt){let er;if(Ot==this.dom)er=this.dom.childNodes[Nt];else{let rr=maxOffset(Ot)==0?0:Nt==0?-1:1;for(;;){let ir=Ot.parentNode;if(ir==this.dom)break;rr==0&&ir.firstChild!=ir.lastChild&&(Ot==ir.firstChild?rr=-1:rr=1),Ot=ir}rr<0?er=Ot:er=Ot.nextSibling}if(er==this.dom.firstChild)return 0;for(;er&&!ContentView.get(er);)er=er.nextSibling;if(!er)return this.length;for(let rr=0,ir=0;;rr++){let nr=this.children[rr];if(nr.dom==er)return ir;ir+=nr.length+nr.breakAfter}}domBoundsAround(Ot,Nt,er=0){let rr=-1,ir=-1,nr=-1,sr=-1;for(let ar=0,lr=er,cr=er;ar<this.children.length;ar++){let dr=this.children[ar],ur=lr+dr.length;if(lr<Ot&&ur>Nt)return dr.domBoundsAround(Ot,Nt,lr);if(ur>=Ot&&rr==-1&&(rr=ar,ir=lr),lr>Nt&&dr.dom.parentNode==this.dom){nr=ar,sr=cr;break}cr=ur,lr=ur+dr.breakAfter}return{from:ir,to:sr<0?er+this.length:sr,startDOM:(rr?this.children[rr-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:nr<this.children.length&&nr>=0?this.children[nr].dom:null}}markDirty(Ot=!1){this.flags|=2,this.markParentsDirty(Ot)}markParentsDirty(Ot){for(let Nt=this.parent;Nt;Nt=Nt.parent){if(Ot&&(Nt.flags|=2),Nt.flags&1)return;Nt.flags|=1,Ot=!1}}setParent(Ot){this.parent!=Ot&&(this.parent=Ot,this.flags&7&&this.markParentsDirty(!0))}setDOM(Ot){this.dom!=Ot&&(this.dom&&(this.dom.cmView=null),this.dom=Ot,Ot.cmView=this)}get rootView(){for(let Ot=this;;){let Nt=Ot.parent;if(!Nt)return Ot;Ot=Nt}}replaceChildren(Ot,Nt,er=noChildren){this.markDirty();for(let rr=Ot;rr<Nt;rr++){let ir=this.children[rr];ir.parent==this&&er.indexOf(ir)<0&&ir.destroy()}this.children.splice(Ot,Nt-Ot,...er);for(let rr=0;rr<er.length;rr++)er[rr].setParent(this)}ignoreMutation(Ot){return!1}ignoreEvent(Ot){return!1}childCursor(Ot=this.length){return new ChildCursor(this.children,Ot,this.children.length)}childPos(Ot,Nt=1){return this.childCursor().findPos(Ot,Nt)}toString(){let Ot=this.constructor.name.replace("View","");return Ot+(this.children.length?"("+this.children.join()+")":this.length?"["+(Ot=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(Ot){return Ot.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(Ot,Nt,er,rr,ir,nr){return!1}become(Ot){return!1}canReuseDOM(Ot){return Ot.constructor==this.constructor&&!((this.flags|Ot.flags)&8)}getSide(){return 0}destroy(){for(let Ot of this.children)Ot.parent==this&&Ot.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(tr){let Ot=tr.nextSibling;return tr.parentNode.removeChild(tr),Ot}class ChildCursor{constructor(Ot,Nt,er){this.children=Ot,this.pos=Nt,this.i=er,this.off=0}findPos(Ot,Nt=1){for(;;){if(Ot>this.pos||Ot==this.pos&&(Nt>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=Ot-this.pos,this;let er=this.children[--this.i];this.pos-=er.length+er.breakAfter}}}function replaceRange(tr,Ot,Nt,er,rr,ir,nr,sr,ar){let{children:lr}=tr,cr=lr.length?lr[Ot]:null,dr=ir.length?ir[ir.length-1]:null,ur=dr?dr.breakAfter:nr;if(!(Ot==er&&cr&&!nr&&!ur&&ir.length<2&&cr.merge(Nt,rr,ir.length?dr:null,Nt==0,sr,ar))){if(er<lr.length){let fr=lr[er];fr&&(rr<fr.length||fr.breakAfter&&(dr!=null&&dr.breakAfter))?(Ot==er&&(fr=fr.split(rr),rr=0),!ur&&dr&&fr.merge(0,rr,dr,!0,0,ar)?ir[ir.length-1]=fr:((rr||fr.children.length&&!fr.children[0].length)&&fr.merge(0,rr,null,!1,0,ar),ir.push(fr))):fr!=null&&fr.breakAfter&&(dr?dr.breakAfter=1:nr=1),er++}for(cr&&(cr.breakAfter=nr,Nt>0&&(!nr&&ir.length&&cr.merge(Nt,cr.length,ir[0],!1,sr,0)?cr.breakAfter=ir.shift().breakAfter:(Nt<cr.length||cr.children.length&&cr.children[cr.children.length-1].length==0)&&cr.merge(Nt,cr.length,null,!1,sr,0),Ot++));Ot<er&&ir.length;)if(lr[er-1].become(ir[ir.length-1]))er--,ir.pop(),ar=ir.length?0:sr;else if(lr[Ot].become(ir[0]))Ot++,ir.shift(),sr=ir.length?0:ar;else break;!ir.length&&Ot&&er<lr.length&&!lr[Ot-1].breakAfter&&lr[er].merge(0,0,lr[Ot-1],!1,sr,ar)&&Ot--,(Ot<er||ir.length)&&tr.replaceChildren(Ot,er,ir)}}function mergeChildrenInto(tr,Ot,Nt,er,rr,ir){let nr=tr.childCursor(),{i:sr,off:ar}=nr.findPos(Nt,1),{i:lr,off:cr}=nr.findPos(Ot,-1),dr=Ot-Nt;for(let ur of er)dr+=ur.length;tr.length+=dr,replaceRange(tr,lr,cr,sr,ar,er,0,rr,ir)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser$c={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(Ot){super(),this.text=Ot}get length(){return this.text.length}createDOM(Ot){this.setDOM(Ot||document.createTextNode(this.text))}sync(Ot,Nt){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(Nt&&Nt.node==this.dom&&(Nt.written=!0),this.dom.nodeValue=this.text)}reuseDOM(Ot){Ot.nodeType==3&&this.createDOM(Ot)}merge(Ot,Nt,er){return this.flags&8||er&&(!(er instanceof TextView)||this.length-(Nt-Ot)+er.length>MaxJoinLen||er.flags&8)?!1:(this.text=this.text.slice(0,Ot)+(er?er.text:"")+this.text.slice(Nt),this.markDirty(),!0)}split(Ot){let Nt=new TextView(this.text.slice(Ot));return this.text=this.text.slice(0,Ot),this.markDirty(),Nt.flags|=this.flags&8,Nt}localPosFromDOM(Ot,Nt){return Ot==this.dom?Nt:Nt?this.text.length:0}domAtPos(Ot){return new DOMPos(this.dom,Ot)}domBoundsAround(Ot,Nt,er){return{from:er,to:er+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(Ot,Nt){return textCoords(this.dom,Ot,Nt)}}class MarkView extends ContentView{constructor(Ot,Nt=[],er=0){super(),this.mark=Ot,this.children=Nt,this.length=er;for(let rr of Nt)rr.setParent(this)}setAttrs(Ot){if(clearAttributes(Ot),this.mark.class&&(Ot.className=this.mark.class),this.mark.attrs)for(let Nt in this.mark.attrs)Ot.setAttribute(Nt,this.mark.attrs[Nt]);return Ot}canReuseDOM(Ot){return super.canReuseDOM(Ot)&&!((this.flags|Ot.flags)&8)}reuseDOM(Ot){Ot.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(Ot),this.flags|=6)}sync(Ot,Nt){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(Ot,Nt)}merge(Ot,Nt,er,rr,ir,nr){return er&&(!(er instanceof MarkView&&er.mark.eq(this.mark))||Ot&&ir<=0||Nt<this.length&&nr<=0)?!1:(mergeChildrenInto(this,Ot,Nt,er?er.children.slice():[],ir-1,nr-1),this.markDirty(),!0)}split(Ot){let Nt=[],er=0,rr=-1,ir=0;for(let sr of this.children){let ar=er+sr.length;ar>Ot&&Nt.push(er<Ot?sr.split(Ot-er):sr),rr<0&&er>=Ot&&(rr=ir),er=ar,ir++}let nr=this.length-Ot;return this.length=Ot,rr>-1&&(this.children.length=rr,this.markDirty()),new MarkView(this.mark,Nt,nr)}domAtPos(Ot){return inlineDOMAtPos(this,Ot)}coordsAt(Ot,Nt){return coordsInChildren(this,Ot,Nt)}}function textCoords(tr,Ot,Nt){let er=tr.nodeValue.length;Ot>er&&(Ot=er);let rr=Ot,ir=Ot,nr=0;Ot==0&&Nt<0||Ot==er&&Nt>=0?browser$c.chrome||browser$c.gecko||(Ot?(rr--,nr=1):ir<er&&(ir++,nr=-1)):Nt<0?rr--:ir<er&&ir++;let sr=textRange(tr,rr,ir).getClientRects();if(!sr.length)return null;let ar=sr[(nr?nr<0:Nt>=0)?0:sr.length-1];return browser$c.safari&&!nr&&ar.width==0&&(ar=Array.prototype.find.call(sr,lr=>lr.width)||ar),nr?flattenRect(ar,nr<0):ar||null}class WidgetView extends ContentView{static create(Ot,Nt,er){return new WidgetView(Ot,Nt,er)}constructor(Ot,Nt,er){super(),this.widget=Ot,this.length=Nt,this.side=er,this.prevWidget=null}split(Ot){let Nt=WidgetView.create(this.widget,this.length-Ot,this.side);return this.length-=Ot,Nt}sync(Ot){(!this.dom||!this.widget.updateDOM(this.dom,Ot))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(Ot)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(Ot,Nt,er,rr,ir,nr){return er&&(!(er instanceof WidgetView)||!this.widget.compare(er.widget)||Ot>0&&ir<=0||Nt<this.length&&nr<=0)?!1:(this.length=Ot+(er?er.length:0)+(this.length-Nt),!0)}become(Ot){return Ot instanceof WidgetView&&Ot.side==this.side&&this.widget.constructor==Ot.widget.constructor?(this.widget.compare(Ot.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=Ot.widget,this.length=Ot.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(Ot){return this.widget.ignoreEvent(Ot)}get overrideDOMText(){if(this.length==0)return Text$1.empty;let Ot=this;for(;Ot.parent;)Ot=Ot.parent;let{view:Nt}=Ot,er=Nt&&Nt.state.doc,rr=this.posAtStart;return er?er.slice(rr,rr+this.length):Text$1.empty}domAtPos(Ot){return(this.length?Ot==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,Ot==this.length)}domBoundsAround(){return null}coordsAt(Ot,Nt){let er=this.widget.coordsAt(this.dom,Ot,Nt);if(er)return er;let rr=this.dom.getClientRects(),ir=null;if(!rr.length)return null;let nr=this.side?this.side<0:Ot>0;for(let sr=nr?rr.length-1:0;ir=rr[sr],!(Ot>0?sr==0:sr==rr.length-1||ir.top<ir.bottom);sr+=nr?-1:1);return flattenRect(ir,!nr)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(Ot){super(),this.side=Ot}get length(){return 0}merge(){return!1}become(Ot){return Ot instanceof WidgetBufferView&&Ot.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let Ot=document.createElement("img");Ot.className="cm-widgetBuffer",Ot.setAttribute("aria-hidden","true"),this.setDOM(Ot)}}getSide(){return this.side}domAtPos(Ot){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(Ot){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text$1.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(tr,Ot){let Nt=tr.dom,{children:er}=tr,rr=0;for(let ir=0;rr<er.length;rr++){let nr=er[rr],sr=ir+nr.length;if(!(sr==ir&&nr.getSide()<=0)){if(Ot>ir&&Ot<sr&&nr.dom.parentNode==Nt)return nr.domAtPos(Ot-ir);if(Ot<=ir)break;ir=sr}}for(let ir=rr;ir>0;ir--){let nr=er[ir-1];if(nr.dom.parentNode==Nt)return nr.domAtPos(nr.length)}for(let ir=rr;ir<er.length;ir++){let nr=er[ir];if(nr.dom.parentNode==Nt)return nr.domAtPos(0)}return new DOMPos(Nt,0)}function joinInlineInto(tr,Ot,Nt){let er,{children:rr}=tr;Nt>0&&Ot instanceof MarkView&&rr.length&&(er=rr[rr.length-1])instanceof MarkView&&er.mark.eq(Ot.mark)?joinInlineInto(er,Ot.children[0],Nt-1):(rr.push(Ot),Ot.setParent(tr)),tr.length+=Ot.length}function coordsInChildren(tr,Ot,Nt){let er=null,rr=-1,ir=null,nr=-1;function sr(lr,cr){for(let dr=0,ur=0;dr<lr.children.length&&ur<=cr;dr++){let fr=lr.children[dr],hr=ur+fr.length;hr>=cr&&(fr.children.length?sr(fr,cr-ur):(!ir||ir.isHidden&&Nt>0)&&(hr>cr||ur==hr&&fr.getSide()>0)?(ir=fr,nr=cr-ur):(ur<cr||ur==hr&&fr.getSide()<0&&!fr.isHidden)&&(er=fr,rr=cr-ur)),ur=hr}}sr(tr,Ot);let ar=(Nt<0?er:ir)||er||ir;return ar?ar.coordsAt(Math.max(0,ar==er?rr:nr),Nt):fallbackRect(tr)}function fallbackRect(tr){let Ot=tr.dom.lastChild;if(!Ot)return tr.dom.getBoundingClientRect();let Nt=clientRectsFor(Ot);return Nt[Nt.length-1]||null}function combineAttrs(tr,Ot){for(let Nt in tr)Nt=="class"&&Ot.class?Ot.class+=" "+tr.class:Nt=="style"&&Ot.style?Ot.style+=";"+tr.style:Ot[Nt]=tr[Nt];return Ot}const noAttrs=Object.create(null);function attrsEq(tr,Ot,Nt){if(tr==Ot)return!0;tr||(tr=noAttrs),Ot||(Ot=noAttrs);let er=Object.keys(tr),rr=Object.keys(Ot);if(er.length-(Nt&&er.indexOf(Nt)>-1?1:0)!=rr.length-(Nt&&rr.indexOf(Nt)>-1?1:0))return!1;for(let ir of er)if(ir!=Nt&&(rr.indexOf(ir)==-1||tr[ir]!==Ot[ir]))return!1;return!0}function updateAttrs(tr,Ot,Nt){let er=!1;if(Ot)for(let rr in Ot)Nt&&rr in Nt||(er=!0,rr=="style"?tr.style.cssText="":tr.removeAttribute(rr));if(Nt)for(let rr in Nt)Ot&&Ot[rr]==Nt[rr]||(er=!0,rr=="style"?tr.style.cssText=Nt[rr]:tr.setAttribute(rr,Nt[rr]));return er}function getAttrs(tr){let Ot=Object.create(null);for(let Nt=0;Nt<tr.attributes.length;Nt++){let er=tr.attributes[Nt];Ot[er.name]=er.value}return Ot}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(Ot,Nt,er,rr,ir,nr){if(er){if(!(er instanceof LineView))return!1;this.dom||er.transferDOM(this)}return rr&&this.setDeco(er?er.attrs:null),mergeChildrenInto(this,Ot,Nt,er?er.children.slice():[],ir,nr),!0}split(Ot){let Nt=new LineView;if(Nt.breakAfter=this.breakAfter,this.length==0)return Nt;let{i:er,off:rr}=this.childPos(Ot);rr&&(Nt.append(this.children[er].split(rr),0),this.children[er].merge(rr,this.children[er].length,null,!1,0,0),er++);for(let ir=er;ir<this.children.length;ir++)Nt.append(this.children[ir],0);for(;er>0&&this.children[er-1].length==0;)this.children[--er].destroy();return this.children.length=er,this.markDirty(),this.length=Ot,Nt}transferDOM(Ot){this.dom&&(this.markDirty(),Ot.setDOM(this.dom),Ot.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(Ot){attrsEq(this.attrs,Ot)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=Ot)}append(Ot,Nt){joinInlineInto(this,Ot,Nt)}addLineDeco(Ot){let Nt=Ot.spec.attributes,er=Ot.spec.class;Nt&&(this.attrs=combineAttrs(Nt,this.attrs||{})),er&&(this.attrs=combineAttrs({class:er},this.attrs||{}))}domAtPos(Ot){return inlineDOMAtPos(this,Ot)}reuseDOM(Ot){Ot.nodeName=="DIV"&&(this.setDOM(Ot),this.flags|=6)}sync(Ot,Nt){var er;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(Ot,Nt);let rr=this.dom.lastChild;for(;rr&&ContentView.get(rr)instanceof MarkView;)rr=rr.lastChild;if(!rr||!this.length||rr.nodeName!="BR"&&((er=ContentView.get(rr))===null||er===void 0?void 0:er.isEditable)==!1&&(!browser$c.ios||!this.children.some(ir=>ir instanceof TextView))){let ir=document.createElement("BR");ir.cmIgnore=!0,this.dom.appendChild(ir)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let Ot=0,Nt;for(let er of this.children){if(!(er instanceof TextView)||/[^ -~]/.test(er.text))return null;let rr=clientRectsFor(er.dom);if(rr.length!=1)return null;Ot+=rr[0].width,Nt=rr[0].height}return Ot?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:Ot/this.length,textHeight:Nt}:null}coordsAt(Ot,Nt){let er=coordsInChildren(this,Ot,Nt);if(!this.children.length&&er&&this.parent){let{heightOracle:rr}=this.parent.view.viewState,ir=er.bottom-er.top;if(Math.abs(ir-rr.lineHeight)<2&&rr.textHeight<ir){let nr=(ir-rr.textHeight)/2;return{top:er.top+nr,bottom:er.bottom-nr,left:er.left,right:er.left}}}return er}become(Ot){return!1}covers(){return!0}static find(Ot,Nt){for(let er=0,rr=0;er<Ot.children.length;er++){let ir=Ot.children[er],nr=rr+ir.length;if(nr>=Nt){if(ir instanceof LineView)return ir;if(nr>Nt)break}rr=nr+ir.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(Ot,Nt,er){super(),this.widget=Ot,this.length=Nt,this.deco=er,this.breakAfter=0,this.prevWidget=null}merge(Ot,Nt,er,rr,ir,nr){return er&&(!(er instanceof BlockWidgetView)||!this.widget.compare(er.widget)||Ot>0&&ir<=0||Nt<this.length&&nr<=0)?!1:(this.length=Ot+(er?er.length:0)+(this.length-Nt),!0)}domAtPos(Ot){return Ot==0?DOMPos.before(this.dom):DOMPos.after(this.dom,Ot==this.length)}split(Ot){let Nt=this.length-Ot;this.length=Ot;let er=new BlockWidgetView(this.widget,Nt,this.deco);return er.breakAfter=this.breakAfter,er}get children(){return noChildren}sync(Ot){(!this.dom||!this.widget.updateDOM(this.dom,Ot))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(Ot)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text$1.empty}domBoundsAround(){return null}become(Ot){return Ot instanceof BlockWidgetView&&Ot.widget.constructor==this.widget.constructor?(Ot.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=Ot.widget,this.length=Ot.length,this.deco=Ot.deco,this.breakAfter=Ot.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(Ot){return this.widget.ignoreEvent(Ot)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(Ot,Nt){return this.widget.coordsAt(this.dom,Ot,Nt)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(Ot){let{startSide:Nt,endSide:er}=this.deco;return Nt==er?!1:Ot<0?Nt<0:er>0}}class WidgetType{eq(Ot){return!1}updateDOM(Ot,Nt){return!1}compare(Ot){return this==Ot||this.constructor==Ot.constructor&&this.eq(Ot)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(Ot){return!0}coordsAt(Ot,Nt,er){return null}get isHidden(){return!1}get editable(){return!1}destroy(Ot){}}var BlockType=function(tr){return tr[tr.Text=0]="Text",tr[tr.WidgetBefore=1]="WidgetBefore",tr[tr.WidgetAfter=2]="WidgetAfter",tr[tr.WidgetRange=3]="WidgetRange",tr}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(Ot,Nt,er,rr){super(),this.startSide=Ot,this.endSide=Nt,this.widget=er,this.spec=rr}get heightRelevant(){return!1}static mark(Ot){return new MarkDecoration(Ot)}static widget(Ot){let Nt=Math.max(-1e4,Math.min(1e4,Ot.side||0)),er=!!Ot.block;return Nt+=er&&!Ot.inlineOrder?Nt>0?3e8:-4e8:Nt>0?1e8:-1e8,new PointDecoration(Ot,Nt,Nt,er,Ot.widget||null,!1)}static replace(Ot){let Nt=!!Ot.block,er,rr;if(Ot.isBlockGap)er=-5e8,rr=4e8;else{let{start:ir,end:nr}=getInclusive(Ot,Nt);er=(ir?Nt?-3e8:-1:5e8)-1,rr=(nr?Nt?2e8:1:-6e8)+1}return new PointDecoration(Ot,er,rr,Nt,Ot.widget||null,!0)}static line(Ot){return new LineDecoration(Ot)}static set(Ot,Nt=!1){return RangeSet.of(Ot,Nt)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(Ot){let{start:Nt,end:er}=getInclusive(Ot);super(Nt?-1:5e8,er?1:-6e8,null,Ot),this.tagName=Ot.tagName||"span",this.class=Ot.class||"",this.attrs=Ot.attributes||null}eq(Ot){var Nt,er;return this==Ot||Ot instanceof MarkDecoration&&this.tagName==Ot.tagName&&(this.class||((Nt=this.attrs)===null||Nt===void 0?void 0:Nt.class))==(Ot.class||((er=Ot.attrs)===null||er===void 0?void 0:er.class))&&attrsEq(this.attrs,Ot.attrs,"class")}range(Ot,Nt=Ot){if(Ot>=Nt)throw new RangeError("Mark decorations may not be empty");return super.range(Ot,Nt)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(Ot){super(-2e8,-2e8,null,Ot)}eq(Ot){return Ot instanceof LineDecoration&&this.spec.class==Ot.spec.class&&attrsEq(this.spec.attributes,Ot.spec.attributes)}range(Ot,Nt=Ot){if(Nt!=Ot)throw new RangeError("Line decoration ranges must be zero-length");return super.range(Ot,Nt)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(Ot,Nt,er,rr,ir,nr){super(Nt,er,ir,Ot),this.block=rr,this.isReplace=nr,this.mapMode=rr?Nt<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(Ot){return Ot instanceof PointDecoration&&widgetsEq(this.widget,Ot.widget)&&this.block==Ot.block&&this.startSide==Ot.startSide&&this.endSide==Ot.endSide}range(Ot,Nt=Ot){if(this.isReplace&&(Ot>Nt||Ot==Nt&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&Nt!=Ot)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(Ot,Nt)}}PointDecoration.prototype.point=!0;function getInclusive(tr,Ot=!1){let{inclusiveStart:Nt,inclusiveEnd:er}=tr;return Nt==null&&(Nt=tr.inclusive),er==null&&(er=tr.inclusive),{start:Nt??Ot,end:er??Ot}}function widgetsEq(tr,Ot){return tr==Ot||!!(tr&&Ot&&tr.compare(Ot))}function addRange(tr,Ot,Nt,er=0){let rr=Nt.length-1;rr>=0&&Nt[rr]+er>=tr?Nt[rr]=Math.max(Nt[rr],Ot):Nt.push(tr,Ot)}class ContentBuilder{constructor(Ot,Nt,er,rr){this.doc=Ot,this.pos=Nt,this.end=er,this.disallowBlockEffectsFor=rr,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=Ot.iter(),this.skip=Nt}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let Ot=this.content[this.content.length-1];return!(Ot.breakAfter||Ot instanceof BlockWidgetView&&Ot.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(Ot=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),Ot),Ot.length),this.pendingBuffer=0)}addBlockWidget(Ot){this.flushBuffer(),this.curLine=null,this.content.push(Ot)}finish(Ot){this.pendingBuffer&&Ot<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(Ot&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(Ot,Nt,er){for(;Ot>0;){if(this.textOff==this.text.length){let{value:ir,lineBreak:nr,done:sr}=this.cursor.next(this.skip);if(this.skip=0,sr)throw new Error("Ran out of text content when drawing inline views");if(nr){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,Ot--;continue}else this.text=ir,this.textOff=0}let rr=Math.min(this.text.length-this.textOff,Ot,512);this.flushBuffer(Nt.slice(Nt.length-er)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+rr)),Nt),er),this.atCursorPos=!0,this.textOff+=rr,Ot-=rr,er=0}}span(Ot,Nt,er,rr){this.buildText(Nt-Ot,er,rr),this.pos=Nt,this.openStart<0&&(this.openStart=rr)}point(Ot,Nt,er,rr,ir,nr){if(this.disallowBlockEffectsFor[nr]&&er instanceof PointDecoration){if(er.block)throw new RangeError("Block decorations may not be specified via plugins");if(Nt>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let sr=Nt-Ot;if(er instanceof PointDecoration)if(er.block)er.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(er.widget||NullWidget.block,sr,er));else{let ar=WidgetView.create(er.widget||NullWidget.inline,sr,sr?0:er.startSide),lr=this.atCursorPos&&!ar.isEditable&&ir<=rr.length&&(Ot<Nt||er.startSide>0),cr=!ar.isEditable&&(Ot<Nt||ir>rr.length||er.startSide<=0),dr=this.getLine();this.pendingBuffer==2&&!lr&&!ar.isEditable&&(this.pendingBuffer=0),this.flushBuffer(rr),lr&&(dr.append(wrapMarks(new WidgetBufferView(1),rr),ir),ir=rr.length+Math.max(0,ir-rr.length)),dr.append(wrapMarks(ar,rr),ir),this.atCursorPos=cr,this.pendingBuffer=cr?Ot<Nt||ir>rr.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=rr.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(er);sr&&(this.textOff+sr<=this.text.length?this.textOff+=sr:(this.skip+=sr-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=Nt),this.openStart<0&&(this.openStart=ir)}static build(Ot,Nt,er,rr,ir){let nr=new ContentBuilder(Ot,Nt,er,ir);return nr.openEnd=RangeSet.spans(rr,Nt,er,nr),nr.openStart<0&&(nr.openStart=nr.openEnd),nr.finish(nr.openEnd),nr}}function wrapMarks(tr,Ot){for(let Nt of Ot)tr=new MarkView(Nt,[tr],tr.length);return tr}class NullWidget extends WidgetType{constructor(Ot){super(),this.tag=Ot}eq(Ot){return Ot.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(Ot){return Ot.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(tr){return tr[tr.LTR=0]="LTR",tr[tr.RTL=1]="RTL",tr}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(tr){let Ot=[];for(let Nt=0;Nt<tr.length;Nt++)Ot.push(1<<+tr[Nt]);return Ot}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let tr of["()","[]","{}"]){let Ot=tr.charCodeAt(0),Nt=tr.charCodeAt(1);Brackets[Ot]=Nt,Brackets[Nt]=-Ot}function charType(tr){return tr<=247?LowTypes[tr]:1424<=tr&&tr<=1524?2:1536<=tr&&tr<=1785?ArabicTypes[tr-1536]:1774<=tr&&tr<=2220?4:8192<=tr&&tr<=8204?256:64336<=tr&&tr<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(Ot,Nt,er){this.from=Ot,this.to=Nt,this.level=er}side(Ot,Nt){return this.dir==Nt==Ot?this.to:this.from}forward(Ot,Nt){return Ot==(this.dir==Nt)}static find(Ot,Nt,er,rr){let ir=-1;for(let nr=0;nr<Ot.length;nr++){let sr=Ot[nr];if(sr.from<=Nt&&sr.to>=Nt){if(sr.level==er)return nr;(ir<0||(rr!=0?rr<0?sr.from<Nt:sr.to>Nt:Ot[ir].level>sr.level))&&(ir=nr)}}if(ir<0)throw new RangeError("Index out of range");return ir}}function isolatesEq(tr,Ot){if(tr.length!=Ot.length)return!1;for(let Nt=0;Nt<tr.length;Nt++){let er=tr[Nt],rr=Ot[Nt];if(er.from!=rr.from||er.to!=rr.to||er.direction!=rr.direction||!isolatesEq(er.inner,rr.inner))return!1}return!0}const types$1=[];function computeCharTypes(tr,Ot,Nt,er,rr){for(let ir=0;ir<=er.length;ir++){let nr=ir?er[ir-1].to:Ot,sr=ir<er.length?er[ir].from:Nt,ar=ir?256:rr;for(let lr=nr,cr=ar,dr=ar;lr<sr;lr++){let ur=charType(tr.charCodeAt(lr));ur==512?ur=cr:ur==8&&dr==4&&(ur=16),types$1[lr]=ur==4?2:ur,ur&7&&(dr=ur),cr=ur}for(let lr=nr,cr=ar,dr=ar;lr<sr;lr++){let ur=types$1[lr];if(ur==128)lr<sr-1&&cr==types$1[lr+1]&&cr&24?ur=types$1[lr]=cr:types$1[lr]=256;else if(ur==64){let fr=lr+1;for(;fr<sr&&types$1[fr]==64;)fr++;let hr=lr&&cr==8||fr<Nt&&types$1[fr]==8?dr==1?1:8:256;for(let pr=lr;pr<fr;pr++)types$1[pr]=hr;lr=fr-1}else ur==8&&dr==1&&(types$1[lr]=1);cr=ur,ur&7&&(dr=ur)}}}function processBracketPairs(tr,Ot,Nt,er,rr){let ir=rr==1?2:1;for(let nr=0,sr=0,ar=0;nr<=er.length;nr++){let lr=nr?er[nr-1].to:Ot,cr=nr<er.length?er[nr].from:Nt;for(let dr=lr,ur,fr,hr;dr<cr;dr++)if(fr=Brackets[ur=tr.charCodeAt(dr)])if(fr<0){for(let pr=sr-3;pr>=0;pr-=3)if(BracketStack[pr+1]==-fr){let gr=BracketStack[pr+2],br=gr&2?rr:gr&4?gr&1?ir:rr:0;br&&(types$1[dr]=types$1[BracketStack[pr]]=br),sr=pr;break}}else{if(BracketStack.length==189)break;BracketStack[sr++]=dr,BracketStack[sr++]=ur,BracketStack[sr++]=ar}else if((hr=types$1[dr])==2||hr==1){let pr=hr==rr;ar=pr?0:1;for(let gr=sr-3;gr>=0;gr-=3){let br=BracketStack[gr+2];if(br&2)break;if(pr)BracketStack[gr+2]|=2;else{if(br&4)break;BracketStack[gr+2]|=4}}}}}function processNeutrals(tr,Ot,Nt,er){for(let rr=0,ir=er;rr<=Nt.length;rr++){let nr=rr?Nt[rr-1].to:tr,sr=rr<Nt.length?Nt[rr].from:Ot;for(let ar=nr;ar<sr;){let lr=types$1[ar];if(lr==256){let cr=ar+1;for(;;)if(cr==sr){if(rr==Nt.length)break;cr=Nt[rr++].to,sr=rr<Nt.length?Nt[rr].from:Ot}else if(types$1[cr]==256)cr++;else break;let dr=ir==1,ur=(cr<Ot?types$1[cr]:er)==1,fr=dr==ur?dr?1:2:er;for(let hr=cr,pr=rr,gr=pr?Nt[pr-1].to:tr;hr>ar;)hr==gr&&(hr=Nt[--pr].from,gr=pr?Nt[pr-1].to:tr),types$1[--hr]=fr;ar=cr}else ir=lr,ar++}}}function emitSpans(tr,Ot,Nt,er,rr,ir,nr){let sr=er%2?2:1;if(er%2==rr%2)for(let ar=Ot,lr=0;ar<Nt;){let cr=!0,dr=!1;if(lr==ir.length||ar<ir[lr].from){let pr=types$1[ar];pr!=sr&&(cr=!1,dr=pr==16)}let ur=!cr&&sr==1?[]:null,fr=cr?er:er+1,hr=ar;e:for(;;)if(lr<ir.length&&hr==ir[lr].from){if(dr)break e;let pr=ir[lr];if(!cr)for(let gr=pr.to,br=lr+1;;){if(gr==Nt)break e;if(br<ir.length&&ir[br].from==gr)gr=ir[br++].to;else{if(types$1[gr]==sr)break e;break}}if(lr++,ur)ur.push(pr);else{pr.from>ar&&nr.push(new BidiSpan(ar,pr.from,fr));let gr=pr.direction==LTR!=!(fr%2);computeSectionOrder(tr,gr?er+1:er,rr,pr.inner,pr.from,pr.to,nr),ar=pr.to}hr=pr.to}else{if(hr==Nt||(cr?types$1[hr]!=sr:types$1[hr]==sr))break;hr++}ur?emitSpans(tr,ar,hr,er+1,rr,ur,nr):ar<hr&&nr.push(new BidiSpan(ar,hr,fr)),ar=hr}else for(let ar=Nt,lr=ir.length;ar>Ot;){let cr=!0,dr=!1;if(!lr||ar>ir[lr-1].to){let pr=types$1[ar-1];pr!=sr&&(cr=!1,dr=pr==16)}let ur=!cr&&sr==1?[]:null,fr=cr?er:er+1,hr=ar;e:for(;;)if(lr&&hr==ir[lr-1].to){if(dr)break e;let pr=ir[--lr];if(!cr)for(let gr=pr.from,br=lr;;){if(gr==Ot)break e;if(br&&ir[br-1].to==gr)gr=ir[--br].from;else{if(types$1[gr-1]==sr)break e;break}}if(ur)ur.push(pr);else{pr.to<ar&&nr.push(new BidiSpan(pr.to,ar,fr));let gr=pr.direction==LTR!=!(fr%2);computeSectionOrder(tr,gr?er+1:er,rr,pr.inner,pr.from,pr.to,nr),ar=pr.from}hr=pr.from}else{if(hr==Ot||(cr?types$1[hr-1]!=sr:types$1[hr-1]==sr))break;hr--}ur?emitSpans(tr,hr,ar,er+1,rr,ur,nr):hr<ar&&nr.push(new BidiSpan(hr,ar,fr)),ar=hr}}function computeSectionOrder(tr,Ot,Nt,er,rr,ir,nr){let sr=Ot%2?2:1;computeCharTypes(tr,rr,ir,er,sr),processBracketPairs(tr,rr,ir,er,sr),processNeutrals(rr,ir,er,sr),emitSpans(tr,rr,ir,Ot,Nt,er,nr)}function computeOrder(tr,Ot,Nt){if(!tr)return[new BidiSpan(0,0,Ot==RTL?1:0)];if(Ot==LTR&&!Nt.length&&!BidiRE.test(tr))return trivialOrder(tr.length);if(Nt.length)for(;tr.length>types$1.length;)types$1[types$1.length]=256;let er=[],rr=Ot==LTR?0:1;return computeSectionOrder(tr,rr,rr,Nt,0,tr.length,er),er}function trivialOrder(tr){return[new BidiSpan(0,tr,0)]}let movedOver="";function moveVisually(tr,Ot,Nt,er,rr){var ir;let nr=er.head-tr.from,sr=BidiSpan.find(Ot,nr,(ir=er.bidiLevel)!==null&&ir!==void 0?ir:-1,er.assoc),ar=Ot[sr],lr=ar.side(rr,Nt);if(nr==lr){let ur=sr+=rr?1:-1;if(ur<0||ur>=Ot.length)return null;ar=Ot[sr=ur],nr=ar.side(!rr,Nt),lr=ar.side(rr,Nt)}let cr=findClusterBreak(tr.text,nr,ar.forward(rr,Nt));(cr<ar.from||cr>ar.to)&&(cr=lr),movedOver=tr.text.slice(Math.min(nr,cr),Math.max(nr,cr));let dr=sr==(rr?Ot.length-1:0)?null:Ot[sr+(rr?1:-1)];return dr&&cr==lr&&dr.level+(rr?0:1)<ar.level?EditorSelection.cursor(dr.side(!rr,Nt)+tr.from,dr.forward(rr,Nt)?1:-1,dr.level):EditorSelection.cursor(cr+tr.from,ar.forward(rr,Nt)?-1:1,ar.level)}function autoDirection(tr,Ot,Nt){for(let er=Ot;er<Nt;er++){let rr=charType(tr.charCodeAt(er));if(rr==1)return LTR;if(rr==2||rr==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),perLineTextDirection=Facet.define({combine:tr=>tr.some(Ot=>Ot)}),nativeSelectionHidden=Facet.define({combine:tr=>tr.some(Ot=>Ot)}),scrollHandler=Facet.define();class ScrollTarget{constructor(Ot,Nt="nearest",er="nearest",rr=5,ir=5,nr=!1){this.range=Ot,this.y=Nt,this.x=er,this.yMargin=rr,this.xMargin=ir,this.isSnapshot=nr}map(Ot){return Ot.empty?this:new ScrollTarget(this.range.map(Ot),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(Ot){return this.range.to<=Ot.doc.length?this:new ScrollTarget(EditorSelection.cursor(Ot.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(tr,Ot)=>tr.map(Ot)}),setEditContextFormatting=StateEffect.define();function logException(tr,Ot,Nt){let er=tr.facet(exceptionSink);er.length?er[0](Ot):window.onerror?window.onerror(String(Ot),Nt,void 0,void 0,Ot):Nt?console.error(Nt+":",Ot):console.error(Ot)}const editable=Facet.define({combine:tr=>tr.length?tr[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(Ot,Nt,er,rr,ir){this.id=Ot,this.create=Nt,this.domEventHandlers=er,this.domEventObservers=rr,this.extension=ir(this)}static define(Ot,Nt){const{eventHandlers:er,eventObservers:rr,provide:ir,decorations:nr}=Nt||{};return new ViewPlugin(nextPluginID++,Ot,er,rr,sr=>{let ar=[viewPlugin.of(sr)];return nr&&ar.push(decorations.of(lr=>{let cr=lr.plugin(sr);return cr?nr(cr):Decoration.none})),ir&&ar.push(ir(sr)),ar})}static fromClass(Ot,Nt){return ViewPlugin.define(er=>new Ot(er),Nt)}}class PluginInstance{constructor(Ot){this.spec=Ot,this.mustUpdate=null,this.value=null}update(Ot){if(this.value){if(this.mustUpdate){let Nt=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(Nt)}catch(er){if(logException(Nt.state,er,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(Ot)}catch(Nt){logException(Ot.state,Nt,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(Ot){var Nt;if(!((Nt=this.value)===null||Nt===void 0)&&Nt.destroy)try{this.value.destroy()}catch(er){logException(Ot.state,er,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(tr,Ot){let Nt=tr.state.facet(bidiIsolatedRanges);if(!Nt.length)return Nt;let er=Nt.map(ir=>ir instanceof Function?ir(tr):ir),rr=[];return RangeSet.spans(er,Ot.from,Ot.to,{point(){},span(ir,nr,sr,ar){let lr=ir-Ot.from,cr=nr-Ot.from,dr=rr;for(let ur=sr.length-1;ur>=0;ur--,ar--){let fr=sr[ur].spec.bidiIsolate,hr;if(fr==null&&(fr=autoDirection(Ot.text,lr,cr)),ar>0&&dr.length&&(hr=dr[dr.length-1]).to==lr&&hr.direction==fr)hr.to=cr,dr=hr.inner;else{let pr={from:lr,to:cr,direction:fr,inner:[]};dr.push(pr),dr=pr.inner}}}}),rr}const scrollMargins=Facet.define();function getScrollMargins(tr){let Ot=0,Nt=0,er=0,rr=0;for(let ir of tr.state.facet(scrollMargins)){let nr=ir(tr);nr&&(nr.left!=null&&(Ot=Math.max(Ot,nr.left)),nr.right!=null&&(Nt=Math.max(Nt,nr.right)),nr.top!=null&&(er=Math.max(er,nr.top)),nr.bottom!=null&&(rr=Math.max(rr,nr.bottom)))}return{left:Ot,right:Nt,top:er,bottom:rr}}const styleModule=Facet.define();class ChangedRange{constructor(Ot,Nt,er,rr){this.fromA=Ot,this.toA=Nt,this.fromB=er,this.toB=rr}join(Ot){return new ChangedRange(Math.min(this.fromA,Ot.fromA),Math.max(this.toA,Ot.toA),Math.min(this.fromB,Ot.fromB),Math.max(this.toB,Ot.toB))}addToSet(Ot){let Nt=Ot.length,er=this;for(;Nt>0;Nt--){let rr=Ot[Nt-1];if(!(rr.fromA>er.toA)){if(rr.toA<er.fromA)break;er=er.join(rr),Ot.splice(Nt-1,1)}}return Ot.splice(Nt,0,er),Ot}static extendWithRanges(Ot,Nt){if(Nt.length==0)return Ot;let er=[];for(let rr=0,ir=0,nr=0,sr=0;;rr++){let ar=rr==Ot.length?null:Ot[rr],lr=nr-sr,cr=ar?ar.fromB:1e9;for(;ir<Nt.length&&Nt[ir]<cr;){let dr=Nt[ir],ur=Nt[ir+1],fr=Math.max(sr,dr),hr=Math.min(cr,ur);if(fr<=hr&&new ChangedRange(fr+lr,hr+lr,fr,hr).addToSet(er),ur>cr)break;ir+=2}if(!ar)return er;new ChangedRange(ar.fromA,ar.toA,ar.fromB,ar.toB).addToSet(er),nr=ar.toA,sr=ar.toB}}}class ViewUpdate{constructor(Ot,Nt,er){this.view=Ot,this.state=Nt,this.transactions=er,this.flags=0,this.startState=Ot.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let ir of er)this.changes=this.changes.compose(ir.changes);let rr=[];this.changes.iterChangedRanges((ir,nr,sr,ar)=>rr.push(new ChangedRange(ir,nr,sr,ar))),this.changedRanges=rr}static create(Ot,Nt,er){return new ViewUpdate(Ot,Nt,er)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(Ot=>Ot.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(Ot){super(),this.view=Ot,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(Ot.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,Ot.state.doc.length)],0,null)}update(Ot){var Nt;let er=Ot.changedRanges;this.minWidth>0&&er.length&&(er.every(({fromA:lr,toA:cr})=>cr<this.minWidthFrom||lr>this.minWidthTo)?(this.minWidthFrom=Ot.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=Ot.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(Ot);let rr=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((Nt=this.domChanged)===null||Nt===void 0)&&Nt.newSel?rr=this.domChanged.newSel.head:!touchesComposition(Ot.changes,this.hasComposition)&&!Ot.selectionSet&&(rr=Ot.state.selection.main.head));let ir=rr>-1?findCompositionRange(this.view,Ot.changes,rr):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:lr,to:cr}=this.hasComposition;er=new ChangedRange(lr,cr,Ot.changes.mapPos(lr,-1),Ot.changes.mapPos(cr,1)).addToSet(er.slice())}this.hasComposition=ir?{from:ir.range.fromB,to:ir.range.toB}:null,(browser$c.ie||browser$c.chrome)&&!ir&&Ot&&Ot.state.doc.lines!=Ot.startState.doc.lines&&(this.forceSelection=!0);let nr=this.decorations,sr=this.updateDeco(),ar=findChangedDeco(nr,sr,Ot.changes);return er=ChangedRange.extendWithRanges(er,ar),!(this.flags&7)&&er.length==0?!1:(this.updateInner(er,Ot.startState.doc.length,ir),Ot.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(Ot,Nt,er){this.view.viewState.mustMeasureContent=!0,this.updateChildren(Ot,Nt,er);let{observer:rr}=this.view;rr.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let nr=browser$c.chrome||browser$c.ios?{node:rr.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,nr),this.flags&=-8,nr&&(nr.written||rr.selectionRange.focusNode!=nr.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(nr=>nr.flags&=-9);let ir=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let nr of this.children)nr instanceof BlockWidgetView&&nr.widget instanceof BlockGapWidget&&ir.push(nr.dom);rr.updateGaps(ir)}updateChildren(Ot,Nt,er){let rr=er?er.range.addToSet(Ot.slice()):Ot,ir=this.childCursor(Nt);for(let nr=rr.length-1;;nr--){let sr=nr>=0?rr[nr]:null;if(!sr)break;let{fromA:ar,toA:lr,fromB:cr,toB:dr}=sr,ur,fr,hr,pr;if(er&&er.range.fromB<dr&&er.range.toB>cr){let Sr=ContentBuilder.build(this.view.state.doc,cr,er.range.fromB,this.decorations,this.dynamicDecorationMap),Cr=ContentBuilder.build(this.view.state.doc,er.range.toB,dr,this.decorations,this.dynamicDecorationMap);fr=Sr.breakAtStart,hr=Sr.openStart,pr=Cr.openEnd;let Ar=this.compositionView(er);Cr.breakAtStart?Ar.breakAfter=1:Cr.content.length&&Ar.merge(Ar.length,Ar.length,Cr.content[0],!1,Cr.openStart,0)&&(Ar.breakAfter=Cr.content[0].breakAfter,Cr.content.shift()),Sr.content.length&&Ar.merge(0,0,Sr.content[Sr.content.length-1],!0,0,Sr.openEnd)&&Sr.content.pop(),ur=Sr.content.concat(Ar).concat(Cr.content)}else({content:ur,breakAtStart:fr,openStart:hr,openEnd:pr}=ContentBuilder.build(this.view.state.doc,cr,dr,this.decorations,this.dynamicDecorationMap));let{i:gr,off:br}=ir.findPos(lr,1),{i:vr,off:kr}=ir.findPos(ar,-1);replaceRange(this,vr,kr,gr,br,ur,fr,hr,pr)}er&&this.fixCompositionDOM(er)}updateEditContextFormatting(Ot){this.editContextFormatting=this.editContextFormatting.map(Ot.changes);for(let Nt of Ot.transactions)for(let er of Nt.effects)er.is(setEditContextFormatting)&&(this.editContextFormatting=er.value)}compositionView(Ot){let Nt=new TextView(Ot.text.nodeValue);Nt.flags|=8;for(let{deco:rr}of Ot.marks)Nt=new MarkView(rr,[Nt],Nt.length);let er=new LineView;return er.append(Nt,0),er}fixCompositionDOM(Ot){let Nt=(ir,nr)=>{nr.flags|=8|(nr.children.some(ar=>ar.flags&7)?1:0),this.markedForComposition.add(nr);let sr=ContentView.get(ir);sr&&sr!=nr&&(sr.dom=null),nr.setDOM(ir)},er=this.childPos(Ot.range.fromB,1),rr=this.children[er.i];Nt(Ot.line,rr);for(let ir=Ot.marks.length-1;ir>=-1;ir--)er=rr.childPos(er.off,1),rr=rr.children[er.i],Nt(ir>=0?Ot.marks[ir].node:Ot.text,rr)}updateSelection(Ot=!1,Nt=!1){(Ot||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let er=this.view.root.activeElement,rr=er==this.dom,ir=!rr&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(er&&this.dom.contains(er));if(!(rr||Nt||ir))return;let nr=this.forceSelection;this.forceSelection=!1;let sr=this.view.state.selection.main,ar=this.moveToLine(this.domAtPos(sr.anchor)),lr=sr.empty?ar:this.moveToLine(this.domAtPos(sr.head));if(browser$c.gecko&&sr.empty&&!this.hasComposition&&betweenUneditable(ar)){let dr=document.createTextNode("");this.view.observer.ignore(()=>ar.node.insertBefore(dr,ar.node.childNodes[ar.offset]||null)),ar=lr=new DOMPos(dr,0),nr=!0}let cr=this.view.observer.selectionRange;(nr||!cr.focusNode||(!isEquivalentPosition(ar.node,ar.offset,cr.anchorNode,cr.anchorOffset)||!isEquivalentPosition(lr.node,lr.offset,cr.focusNode,cr.focusOffset))&&!this.suppressWidgetCursorChange(cr,sr))&&(this.view.observer.ignore(()=>{browser$c.android&&browser$c.chrome&&this.dom.contains(cr.focusNode)&&inUneditable(cr.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let dr=getSelection(this.view.root);if(dr)if(sr.empty){if(browser$c.gecko){let ur=nextToUneditable(ar.node,ar.offset);if(ur&&ur!=3){let fr=(ur==1?textNodeBefore:textNodeAfter)(ar.node,ar.offset);fr&&(ar=new DOMPos(fr.node,fr.offset))}}dr.collapse(ar.node,ar.offset),sr.bidiLevel!=null&&dr.caretBidiLevel!==void 0&&(dr.caretBidiLevel=sr.bidiLevel)}else if(dr.extend){dr.collapse(ar.node,ar.offset);try{dr.extend(lr.node,lr.offset)}catch{}}else{let ur=document.createRange();sr.anchor>sr.head&&([ar,lr]=[lr,ar]),ur.setEnd(lr.node,lr.offset),ur.setStart(ar.node,ar.offset),dr.removeAllRanges(),dr.addRange(ur)}ir&&this.view.root.activeElement==this.dom&&(this.dom.blur(),er&&er.focus())}),this.view.observer.setSelectionRange(ar,lr)),this.impreciseAnchor=ar.precise?null:new DOMPos(cr.anchorNode,cr.anchorOffset),this.impreciseHead=lr.precise?null:new DOMPos(cr.focusNode,cr.focusOffset)}suppressWidgetCursorChange(Ot,Nt){return this.hasComposition&&Nt.empty&&isEquivalentPosition(Ot.focusNode,Ot.focusOffset,Ot.anchorNode,Ot.anchorOffset)&&this.posFromDOM(Ot.focusNode,Ot.focusOffset)==Nt.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:Ot}=this,Nt=Ot.state.selection.main,er=getSelection(Ot.root),{anchorNode:rr,anchorOffset:ir}=Ot.observer.selectionRange;if(!er||!Nt.empty||!Nt.assoc||!er.modify)return;let nr=LineView.find(this,Nt.head);if(!nr)return;let sr=nr.posAtStart;if(Nt.head==sr||Nt.head==sr+nr.length)return;let ar=this.coordsAt(Nt.head,-1),lr=this.coordsAt(Nt.head,1);if(!ar||!lr||ar.bottom>lr.top)return;let cr=this.domAtPos(Nt.head+Nt.assoc);er.collapse(cr.node,cr.offset),er.modify("move",Nt.assoc<0?"forward":"backward","lineboundary"),Ot.observer.readSelectionRange();let dr=Ot.observer.selectionRange;Ot.docView.posFromDOM(dr.anchorNode,dr.anchorOffset)!=Nt.from&&er.collapse(rr,ir)}moveToLine(Ot){let Nt=this.dom,er;if(Ot.node!=Nt)return Ot;for(let rr=Ot.offset;!er&&rr<Nt.childNodes.length;rr++){let ir=ContentView.get(Nt.childNodes[rr]);ir instanceof LineView&&(er=ir.domAtPos(0))}for(let rr=Ot.offset-1;!er&&rr>=0;rr--){let ir=ContentView.get(Nt.childNodes[rr]);ir instanceof LineView&&(er=ir.domAtPos(ir.length))}return er?new DOMPos(er.node,er.offset,!0):Ot}nearest(Ot){for(let Nt=Ot;Nt;){let er=ContentView.get(Nt);if(er&&er.rootView==this)return er;Nt=Nt.parentNode}return null}posFromDOM(Ot,Nt){let er=this.nearest(Ot);if(!er)throw new RangeError("Trying to find position for a DOM position outside of the document");return er.localPosFromDOM(Ot,Nt)+er.posAtStart}domAtPos(Ot){let{i:Nt,off:er}=this.childCursor().findPos(Ot,-1);for(;Nt<this.children.length-1;){let rr=this.children[Nt];if(er<rr.length||rr instanceof LineView)break;Nt++,er=0}return this.children[Nt].domAtPos(er)}coordsAt(Ot,Nt){let er=null,rr=0;for(let ir=this.length,nr=this.children.length-1;nr>=0;nr--){let sr=this.children[nr],ar=ir-sr.breakAfter,lr=ar-sr.length;if(ar<Ot)break;if(lr<=Ot&&(lr<Ot||sr.covers(-1))&&(ar>Ot||sr.covers(1))&&(!er||sr instanceof LineView&&!(er instanceof LineView&&Nt>=0)))er=sr,rr=lr;else if(er&&lr==Ot&&ar==Ot&&sr instanceof BlockWidgetView&&Math.abs(Nt)<2){if(sr.deco.startSide<0)break;nr&&(er=null)}ir=lr}return er?er.coordsAt(Ot-rr,Nt):null}coordsForChar(Ot){let{i:Nt,off:er}=this.childPos(Ot,1),rr=this.children[Nt];if(!(rr instanceof LineView))return null;for(;rr.children.length;){let{i:sr,off:ar}=rr.childPos(er,1);for(;;sr++){if(sr==rr.children.length)return null;if((rr=rr.children[sr]).length)break}er=ar}if(!(rr instanceof TextView))return null;let ir=findClusterBreak(rr.text,er);if(ir==er)return null;let nr=textRange(rr.dom,er,ir).getClientRects();for(let sr=0;sr<nr.length;sr++){let ar=nr[sr];if(sr==nr.length-1||ar.top<ar.bottom&&ar.left<ar.right)return ar}return null}measureVisibleLineHeights(Ot){let Nt=[],{from:er,to:rr}=Ot,ir=this.view.contentDOM.clientWidth,nr=ir>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,sr=-1,ar=this.view.textDirection==Direction.LTR;for(let lr=0,cr=0;cr<this.children.length;cr++){let dr=this.children[cr],ur=lr+dr.length;if(ur>rr)break;if(lr>=er){let fr=dr.dom.getBoundingClientRect();if(Nt.push(fr.height),nr){let hr=dr.dom.lastChild,pr=hr?clientRectsFor(hr):[];if(pr.length){let gr=pr[pr.length-1],br=ar?gr.right-fr.left:fr.right-gr.left;br>sr&&(sr=br,this.minWidth=ir,this.minWidthFrom=lr,this.minWidthTo=ur)}}}lr=ur+dr.breakAfter}return Nt}textDirectionAt(Ot){let{i:Nt}=this.childPos(Ot,1);return getComputedStyle(this.children[Nt].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let ir of this.children)if(ir instanceof LineView){let nr=ir.measureTextSize();if(nr)return nr}let Ot=document.createElement("div"),Nt,er,rr;return Ot.className="cm-line",Ot.style.width="99999px",Ot.style.position="absolute",Ot.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(Ot);let ir=clientRectsFor(Ot.firstChild)[0];Nt=Ot.getBoundingClientRect().height,er=ir?ir.width/27:7,rr=ir?ir.height:Nt,Ot.remove()}),{lineHeight:Nt,charWidth:er,textHeight:rr}}childCursor(Ot=this.length){let Nt=this.children.length;return Nt&&(Ot-=this.children[--Nt].length),new ChildCursor(this.children,Ot,Nt)}computeBlockGapDeco(){let Ot=[],Nt=this.view.viewState;for(let er=0,rr=0;;rr++){let ir=rr==Nt.viewports.length?null:Nt.viewports[rr],nr=ir?ir.from-1:this.length;if(nr>er){let sr=(Nt.lineBlockAt(nr).bottom-Nt.lineBlockAt(er).top)/this.view.scaleY;Ot.push(Decoration.replace({widget:new BlockGapWidget(sr),block:!0,inclusive:!0,isBlockGap:!0}).range(er,nr))}if(!ir)break;er=ir.to+1}return Decoration.set(Ot)}updateDeco(){let Ot=1,Nt=this.view.state.facet(decorations).map(ir=>(this.dynamicDecorationMap[Ot++]=typeof ir=="function")?ir(this.view):ir),er=!1,rr=this.view.state.facet(outerDecorations).map((ir,nr)=>{let sr=typeof ir=="function";return sr&&(er=!0),sr?ir(this.view):ir});for(rr.length&&(this.dynamicDecorationMap[Ot++]=er,Nt.push(RangeSet.join(rr))),this.decorations=[this.editContextFormatting,...Nt,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];Ot<this.decorations.length;)this.dynamicDecorationMap[Ot++]=!1;return this.decorations}scrollIntoView(Ot){if(Ot.isSnapshot){let lr=this.view.viewState.lineBlockAt(Ot.range.head);this.view.scrollDOM.scrollTop=lr.top-Ot.yMargin,this.view.scrollDOM.scrollLeft=Ot.xMargin;return}for(let lr of this.view.state.facet(scrollHandler))try{if(lr(this.view,Ot.range,Ot))return!0}catch(cr){logException(this.view.state,cr,"scroll handler")}let{range:Nt}=Ot,er=this.coordsAt(Nt.head,Nt.empty?Nt.assoc:Nt.head>Nt.anchor?-1:1),rr;if(!er)return;!Nt.empty&&(rr=this.coordsAt(Nt.anchor,Nt.anchor>Nt.head?-1:1))&&(er={left:Math.min(er.left,rr.left),top:Math.min(er.top,rr.top),right:Math.max(er.right,rr.right),bottom:Math.max(er.bottom,rr.bottom)});let ir=getScrollMargins(this.view),nr={left:er.left-ir.left,top:er.top-ir.top,right:er.right+ir.right,bottom:er.bottom+ir.bottom},{offsetWidth:sr,offsetHeight:ar}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,nr,Nt.head<Nt.anchor?-1:1,Ot.x,Ot.y,Math.max(Math.min(Ot.xMargin,sr),-sr),Math.max(Math.min(Ot.yMargin,ar),-ar),this.view.textDirection==Direction.LTR)}}function betweenUneditable(tr){return tr.node.nodeType==1&&tr.node.firstChild&&(tr.offset==0||tr.node.childNodes[tr.offset-1].contentEditable=="false")&&(tr.offset==tr.node.childNodes.length||tr.node.childNodes[tr.offset].contentEditable=="false")}class BlockGapWidget extends WidgetType{constructor(Ot){super(),this.height=Ot}toDOM(){let Ot=document.createElement("div");return Ot.className="cm-gap",this.updateDOM(Ot),Ot}eq(Ot){return Ot.height==this.height}updateDOM(Ot){return Ot.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function findCompositionNode(tr,Ot){let Nt=tr.observer.selectionRange;if(!Nt.focusNode)return null;let er=textNodeBefore(Nt.focusNode,Nt.focusOffset),rr=textNodeAfter(Nt.focusNode,Nt.focusOffset),ir=er||rr;if(rr&&er&&rr.node!=er.node){let sr=ContentView.get(rr.node);if(!sr||sr instanceof TextView&&sr.text!=rr.node.nodeValue)ir=rr;else if(tr.docView.lastCompositionAfterCursor){let ar=ContentView.get(er.node);!ar||ar instanceof TextView&&ar.text!=er.node.nodeValue||(ir=rr)}}if(tr.docView.lastCompositionAfterCursor=ir!=er,!ir)return null;let nr=Ot-ir.offset;return{from:nr,to:nr+ir.node.nodeValue.length,node:ir.node}}function findCompositionRange(tr,Ot,Nt){let er=findCompositionNode(tr,Nt);if(!er)return null;let{node:rr,from:ir,to:nr}=er,sr=rr.nodeValue;if(/[\n\r]/.test(sr)||tr.state.doc.sliceString(er.from,er.to)!=sr)return null;let ar=Ot.invertedDesc,lr=new ChangedRange(ar.mapPos(ir),ar.mapPos(nr),ir,nr),cr=[];for(let dr=rr.parentNode;;dr=dr.parentNode){let ur=ContentView.get(dr);if(ur instanceof MarkView)cr.push({node:dr,deco:ur.mark});else{if(ur instanceof LineView||dr.nodeName=="DIV"&&dr.parentNode==tr.contentDOM)return{range:lr,text:rr,marks:cr,line:dr};if(dr!=tr.contentDOM)cr.push({node:dr,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(dr),tagName:dr.tagName.toLowerCase()})});else return null}}}function nextToUneditable(tr,Ot){return tr.nodeType!=1?0:(Ot&&tr.childNodes[Ot-1].contentEditable=="false"?1:0)|(Ot<tr.childNodes.length&&tr.childNodes[Ot].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(Ot,Nt){addRange(Ot,Nt,this.changes)}comparePoint(Ot,Nt){addRange(Ot,Nt,this.changes)}};function findChangedDeco(tr,Ot,Nt){let er=new DecorationComparator$1;return RangeSet.compare(tr,Ot,Nt,er),er.changes}function inUneditable(tr,Ot){for(let Nt=tr;Nt&&Nt!=Ot;Nt=Nt.assignedSlot||Nt.parentNode)if(Nt.nodeType==1&&Nt.contentEditable=="false")return!0;return!1}function touchesComposition(tr,Ot){let Nt=!1;return Ot&&tr.iterChangedRanges((er,rr)=>{er<Ot.to&&rr>Ot.from&&(Nt=!0)}),Nt}function groupAt(tr,Ot,Nt=1){let er=tr.charCategorizer(Ot),rr=tr.doc.lineAt(Ot),ir=Ot-rr.from;if(rr.length==0)return EditorSelection.cursor(Ot);ir==0?Nt=1:ir==rr.length&&(Nt=-1);let nr=ir,sr=ir;Nt<0?nr=findClusterBreak(rr.text,ir,!1):sr=findClusterBreak(rr.text,ir);let ar=er(rr.text.slice(nr,sr));for(;nr>0;){let lr=findClusterBreak(rr.text,nr,!1);if(er(rr.text.slice(lr,nr))!=ar)break;nr=lr}for(;sr<rr.length;){let lr=findClusterBreak(rr.text,sr);if(er(rr.text.slice(sr,lr))!=ar)break;sr=lr}return EditorSelection.range(nr+rr.from,sr+rr.from)}function getdx(tr,Ot){return Ot.left>tr?Ot.left-tr:Math.max(0,tr-Ot.right)}function getdy(tr,Ot){return Ot.top>tr?Ot.top-tr:Math.max(0,tr-Ot.bottom)}function yOverlap(tr,Ot){return tr.top<Ot.bottom-1&&tr.bottom>Ot.top+1}function upTop(tr,Ot){return Ot<tr.top?{top:Ot,left:tr.left,right:tr.right,bottom:tr.bottom}:tr}function upBot(tr,Ot){return Ot>tr.bottom?{top:tr.top,left:tr.left,right:tr.right,bottom:Ot}:tr}function domPosAtCoords(tr,Ot,Nt){let er,rr,ir,nr,sr=!1,ar,lr,cr,dr;for(let hr=tr.firstChild;hr;hr=hr.nextSibling){let pr=clientRectsFor(hr);for(let gr=0;gr<pr.length;gr++){let br=pr[gr];rr&&yOverlap(rr,br)&&(br=upTop(upBot(br,rr.bottom),rr.top));let vr=getdx(Ot,br),kr=getdy(Nt,br);if(vr==0&&kr==0)return hr.nodeType==3?domPosInText(hr,Ot,Nt):domPosAtCoords(hr,Ot,Nt);if(!er||nr>kr||nr==kr&&ir>vr){er=hr,rr=br,ir=vr,nr=kr;let Sr=kr?Nt<br.top?-1:1:vr?Ot<br.left?-1:1:0;sr=!Sr||(Sr>0?gr<pr.length-1:gr>0)}vr==0?Nt>br.bottom&&(!cr||cr.bottom<br.bottom)?(ar=hr,cr=br):Nt<br.top&&(!dr||dr.top>br.top)&&(lr=hr,dr=br):cr&&yOverlap(cr,br)?cr=upBot(cr,br.bottom):dr&&yOverlap(dr,br)&&(dr=upTop(dr,br.top))}}if(cr&&cr.bottom>=Nt?(er=ar,rr=cr):dr&&dr.top<=Nt&&(er=lr,rr=dr),!er)return{node:tr,offset:0};let ur=Math.max(rr.left,Math.min(rr.right,Ot));if(er.nodeType==3)return domPosInText(er,ur,Nt);if(sr&&er.contentEditable!="false")return domPosAtCoords(er,ur,Nt);let fr=Array.prototype.indexOf.call(tr.childNodes,er)+(Ot>=(rr.left+rr.right)/2?1:0);return{node:tr,offset:fr}}function domPosInText(tr,Ot,Nt){let er=tr.nodeValue.length,rr=-1,ir=1e9,nr=0;for(let sr=0;sr<er;sr++){let ar=textRange(tr,sr,sr+1).getClientRects();for(let lr=0;lr<ar.length;lr++){let cr=ar[lr];if(cr.top==cr.bottom)continue;nr||(nr=Ot-cr.left);let dr=(cr.top>Nt?cr.top-Nt:Nt-cr.bottom)-1;if(cr.left-1<=Ot&&cr.right+1>=Ot&&dr<ir){let ur=Ot>=(cr.left+cr.right)/2,fr=ur;if((browser$c.chrome||browser$c.gecko)&&textRange(tr,sr).getBoundingClientRect().left==cr.right&&(fr=!ur),dr<=0)return{node:tr,offset:sr+(fr?1:0)};rr=sr+(fr?1:0),ir=dr}}}return{node:tr,offset:rr>-1?rr:nr>0?tr.nodeValue.length:0}}function posAtCoords(tr,Ot,Nt,er=-1){var rr,ir;let nr=tr.contentDOM.getBoundingClientRect(),sr=nr.top+tr.viewState.paddingTop,ar,{docHeight:lr}=tr.viewState,{x:cr,y:dr}=Ot,ur=dr-sr;if(ur<0)return 0;if(ur>lr)return tr.state.doc.length;for(let Sr=tr.viewState.heightOracle.textHeight/2,Cr=!1;ar=tr.elementAtHeight(ur),ar.type!=BlockType.Text;)for(;ur=er>0?ar.bottom+Sr:ar.top-Sr,!(ur>=0&&ur<=lr);){if(Cr)return Nt?null:0;Cr=!0,er=-er}dr=sr+ur;let fr=ar.from;if(fr<tr.viewport.from)return tr.viewport.from==0?0:Nt?null:posAtCoordsImprecise(tr,nr,ar,cr,dr);if(fr>tr.viewport.to)return tr.viewport.to==tr.state.doc.length?tr.state.doc.length:Nt?null:posAtCoordsImprecise(tr,nr,ar,cr,dr);let hr=tr.dom.ownerDocument,pr=tr.root.elementFromPoint?tr.root:hr,gr=pr.elementFromPoint(cr,dr);gr&&!tr.contentDOM.contains(gr)&&(gr=null),gr||(cr=Math.max(nr.left+1,Math.min(nr.right-1,cr)),gr=pr.elementFromPoint(cr,dr),gr&&!tr.contentDOM.contains(gr)&&(gr=null));let br,vr=-1;if(gr&&((rr=tr.docView.nearest(gr))===null||rr===void 0?void 0:rr.isEditable)!=!1){if(hr.caretPositionFromPoint){let Sr=hr.caretPositionFromPoint(cr,dr);Sr&&({offsetNode:br,offset:vr}=Sr)}else if(hr.caretRangeFromPoint){let Sr=hr.caretRangeFromPoint(cr,dr);Sr&&({startContainer:br,startOffset:vr}=Sr,(!tr.contentDOM.contains(br)||browser$c.safari&&isSuspiciousSafariCaretResult(br,vr,cr)||browser$c.chrome&&isSuspiciousChromeCaretResult(br,vr,cr))&&(br=void 0))}}if(!br||!tr.docView.dom.contains(br)){let Sr=LineView.find(tr.docView,fr);if(!Sr)return ur>ar.top+ar.height/2?ar.to:ar.from;({node:br,offset:vr}=domPosAtCoords(Sr.dom,cr,dr))}let kr=tr.docView.nearest(br);if(!kr)return null;if(kr.isWidget&&((ir=kr.dom)===null||ir===void 0?void 0:ir.nodeType)==1){let Sr=kr.dom.getBoundingClientRect();return Ot.y<Sr.top||Ot.y<=Sr.bottom&&Ot.x<=(Sr.left+Sr.right)/2?kr.posAtStart:kr.posAtEnd}else return kr.localPosFromDOM(br,vr)+kr.posAtStart}function posAtCoordsImprecise(tr,Ot,Nt,er,rr){let ir=Math.round((er-Ot.left)*tr.defaultCharacterWidth);if(tr.lineWrapping&&Nt.height>tr.defaultLineHeight*1.5){let sr=tr.viewState.heightOracle.textHeight,ar=Math.floor((rr-Nt.top-(tr.defaultLineHeight-sr)*.5)/sr);ir+=ar*tr.viewState.heightOracle.lineLength}let nr=tr.state.sliceDoc(Nt.from,Nt.to);return Nt.from+findColumn(nr,ir,tr.state.tabSize)}function isSuspiciousSafariCaretResult(tr,Ot,Nt){let er;if(tr.nodeType!=3||Ot!=(er=tr.nodeValue.length))return!1;for(let rr=tr.nextSibling;rr;rr=rr.nextSibling)if(rr.nodeType!=1||rr.nodeName!="BR")return!1;return textRange(tr,er-1,er).getBoundingClientRect().left>Nt}function isSuspiciousChromeCaretResult(tr,Ot,Nt){if(Ot!=0)return!1;for(let rr=tr;;){let ir=rr.parentNode;if(!ir||ir.nodeType!=1||ir.firstChild!=rr)return!1;if(ir.classList.contains("cm-line"))break;rr=ir}let er=tr.nodeType==1?tr.getBoundingClientRect():textRange(tr,0,Math.max(tr.nodeValue.length,1)).getBoundingClientRect();return Nt-er.left>5}function blockAt(tr,Ot){let Nt=tr.lineBlockAt(Ot);if(Array.isArray(Nt.type)){for(let er of Nt.type)if(er.to>Ot||er.to==Ot&&(er.to==Nt.to||er.type==BlockType.Text))return er}return Nt}function moveToLineBoundary(tr,Ot,Nt,er){let rr=blockAt(tr,Ot.head),ir=!er||rr.type!=BlockType.Text||!(tr.lineWrapping||rr.widgetLineBreaks)?null:tr.coordsAtPos(Ot.assoc<0&&Ot.head>rr.from?Ot.head-1:Ot.head);if(ir){let nr=tr.dom.getBoundingClientRect(),sr=tr.textDirectionAt(rr.from),ar=tr.posAtCoords({x:Nt==(sr==Direction.LTR)?nr.right-1:nr.left+1,y:(ir.top+ir.bottom)/2});if(ar!=null)return EditorSelection.cursor(ar,Nt?-1:1)}return EditorSelection.cursor(Nt?rr.to:rr.from,Nt?-1:1)}function moveByChar(tr,Ot,Nt,er){let rr=tr.state.doc.lineAt(Ot.head),ir=tr.bidiSpans(rr),nr=tr.textDirectionAt(rr.from);for(let sr=Ot,ar=null;;){let lr=moveVisually(rr,ir,nr,sr,Nt),cr=movedOver;if(!lr){if(rr.number==(Nt?tr.state.doc.lines:1))return sr;cr=`
`,rr=tr.state.doc.line(rr.number+(Nt?1:-1)),ir=tr.bidiSpans(rr),lr=tr.visualLineSide(rr,!Nt)}if(ar){if(!ar(cr))return sr}else{if(!er)return lr;ar=er(cr)}sr=lr}}function byGroup(tr,Ot,Nt){let er=tr.state.charCategorizer(Ot),rr=er(Nt);return ir=>{let nr=er(ir);return rr==CharCategory.Space&&(rr=nr),rr==nr}}function moveVertically(tr,Ot,Nt,er){let rr=Ot.head,ir=Nt?1:-1;if(rr==(Nt?tr.state.doc.length:0))return EditorSelection.cursor(rr,Ot.assoc);let nr=Ot.goalColumn,sr,ar=tr.contentDOM.getBoundingClientRect(),lr=tr.coordsAtPos(rr,Ot.assoc||-1),cr=tr.documentTop;if(lr)nr==null&&(nr=lr.left-ar.left),sr=ir<0?lr.top:lr.bottom;else{let fr=tr.viewState.lineBlockAt(rr);nr==null&&(nr=Math.min(ar.right-ar.left,tr.defaultCharacterWidth*(rr-fr.from))),sr=(ir<0?fr.top:fr.bottom)+cr}let dr=ar.left+nr,ur=er??tr.viewState.heightOracle.textHeight>>1;for(let fr=0;;fr+=10){let hr=sr+(ur+fr)*ir,pr=posAtCoords(tr,{x:dr,y:hr},!1,ir);if(hr<ar.top||hr>ar.bottom||(ir<0?pr<rr:pr>rr)){let gr=tr.docView.coordsForChar(pr),br=!gr||hr<gr.top?-1:1;return EditorSelection.cursor(pr,br,void 0,nr)}}}function skipAtomicRanges(tr,Ot,Nt){for(;;){let er=0;for(let rr of tr)rr.between(Ot-1,Ot+1,(ir,nr,sr)=>{if(Ot>ir&&Ot<nr){let ar=er||Nt||(Ot-ir<nr-Ot?-1:1);Ot=ar<0?ir:nr,er=ar}});if(!er)return Ot}}function skipAtoms(tr,Ot,Nt){let er=skipAtomicRanges(tr.state.facet(atomicRanges).map(rr=>rr(tr)),Nt.from,Ot.head>Nt.from?-1:1);return er==Nt.from?Nt:EditorSelection.cursor(er,er<Nt.from?1:-1)}class InputState{setSelectionOrigin(Ot){this.lastSelectionOrigin=Ot,this.lastSelectionTime=Date.now()}constructor(Ot){this.view=Ot,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=Ot.hasFocus,browser$c.safari&&Ot.contentDOM.addEventListener("input",()=>null),browser$c.gecko&&firefoxCopyCutHack(Ot.contentDOM.ownerDocument)}handleEvent(Ot){!eventBelongsToEditor(this.view,Ot)||this.ignoreDuringComposition(Ot)||Ot.type=="keydown"&&this.keydown(Ot)||this.runHandlers(Ot.type,Ot)}runHandlers(Ot,Nt){let er=this.handlers[Ot];if(er){for(let rr of er.observers)rr(this.view,Nt);for(let rr of er.handlers){if(Nt.defaultPrevented)break;if(rr(this.view,Nt)){Nt.preventDefault();break}}}}ensureHandlers(Ot){let Nt=computeHandlers(Ot),er=this.handlers,rr=this.view.contentDOM;for(let ir in Nt)if(ir!="scroll"){let nr=!Nt[ir].handlers.length,sr=er[ir];sr&&nr!=!sr.handlers.length&&(rr.removeEventListener(ir,this.handleEvent),sr=null),sr||rr.addEventListener(ir,this.handleEvent,{passive:nr})}for(let ir in er)ir!="scroll"&&!Nt[ir]&&rr.removeEventListener(ir,this.handleEvent);this.handlers=Nt}keydown(Ot){if(this.lastKeyCode=Ot.keyCode,this.lastKeyTime=Date.now(),Ot.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&Ot.keyCode!=27&&modifierCodes.indexOf(Ot.keyCode)<0&&(this.tabFocusMode=-1),browser$c.android&&browser$c.chrome&&!Ot.synthetic&&(Ot.keyCode==13||Ot.keyCode==8))return this.view.observer.delayAndroidKey(Ot.key,Ot.keyCode),!0;let Nt;return browser$c.ios&&!Ot.synthetic&&!Ot.altKey&&!Ot.metaKey&&((Nt=PendingKeys.find(er=>er.keyCode==Ot.keyCode))&&!Ot.ctrlKey||EmacsyPendingKeys.indexOf(Ot.key)>-1&&Ot.ctrlKey&&!Ot.shiftKey)?(this.pendingIOSKey=Nt||Ot,setTimeout(()=>this.flushIOSKey(),250),!0):(Ot.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(Ot){let Nt=this.pendingIOSKey;return!Nt||Nt.key=="Enter"&&Ot&&Ot.from<Ot.to&&/^\S+$/.test(Ot.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,Nt.key,Nt.keyCode,Nt instanceof KeyboardEvent?Nt:void 0))}ignoreDuringComposition(Ot){return/^key/.test(Ot.type)?this.composing>0?!0:browser$c.safari&&!browser$c.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(Ot){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=Ot}update(Ot){this.view.observer.update(Ot),this.mouseSelection&&this.mouseSelection.update(Ot),this.draggedContent&&Ot.docChanged&&(this.draggedContent=this.draggedContent.map(Ot.changes)),Ot.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(tr,Ot){return(Nt,er)=>{try{return Ot.call(tr,er,Nt)}catch(rr){logException(Nt.state,rr)}}}function computeHandlers(tr){let Ot=Object.create(null);function Nt(er){return Ot[er]||(Ot[er]={observers:[],handlers:[]})}for(let er of tr){let rr=er.spec;if(rr&&rr.domEventHandlers)for(let ir in rr.domEventHandlers){let nr=rr.domEventHandlers[ir];nr&&Nt(ir).handlers.push(bindHandler(er.value,nr))}if(rr&&rr.domEventObservers)for(let ir in rr.domEventObservers){let nr=rr.domEventObservers[ir];nr&&Nt(ir).observers.push(bindHandler(er.value,nr))}}for(let er in handlers)Nt(er).handlers.push(handlers[er]);for(let er in observers)Nt(er).observers.push(observers[er]);return Ot}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(tr){return Math.max(0,tr)*.7+8}function dist(tr,Ot){return Math.max(Math.abs(tr.clientX-Ot.clientX),Math.abs(tr.clientY-Ot.clientY))}class MouseSelection{constructor(Ot,Nt,er,rr){this.view=Ot,this.startEvent=Nt,this.style=er,this.mustSelect=rr,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=Nt,this.scrollParent=scrollableParent(Ot.contentDOM),this.atoms=Ot.state.facet(atomicRanges).map(nr=>nr(Ot));let ir=Ot.contentDOM.ownerDocument;ir.addEventListener("mousemove",this.move=this.move.bind(this)),ir.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=Nt.shiftKey,this.multiple=Ot.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(Ot,Nt),this.dragging=isInPrimarySelection(Ot,Nt)&&getClickType(Nt)==1?null:!1}start(Ot){this.dragging===!1&&this.select(Ot)}move(Ot){var Nt;if(Ot.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,Ot)<10)return;this.select(this.lastEvent=Ot);let er=0,rr=0,ir=((Nt=this.scrollParent)===null||Nt===void 0?void 0:Nt.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},nr=getScrollMargins(this.view);Ot.clientX-nr.left<=ir.left+dragScrollMargin?er=-dragScrollSpeed(ir.left-Ot.clientX):Ot.clientX+nr.right>=ir.right-dragScrollMargin&&(er=dragScrollSpeed(Ot.clientX-ir.right)),Ot.clientY-nr.top<=ir.top+dragScrollMargin?rr=-dragScrollSpeed(ir.top-Ot.clientY):Ot.clientY+nr.bottom>=ir.bottom-dragScrollMargin&&(rr=dragScrollSpeed(Ot.clientY-ir.bottom)),this.setScrollSpeed(er,rr)}up(Ot){this.dragging==null&&this.select(this.lastEvent),this.dragging||Ot.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let Ot=this.view.contentDOM.ownerDocument;Ot.removeEventListener("mousemove",this.move),Ot.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(Ot,Nt){this.scrollSpeed={x:Ot,y:Nt},Ot||Nt?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(Ot){let Nt=null;for(let er=0;er<Ot.ranges.length;er++){let rr=Ot.ranges[er],ir=null;if(rr.empty){let nr=skipAtomicRanges(this.atoms,rr.from,0);nr!=rr.from&&(ir=EditorSelection.cursor(nr,-1))}else{let nr=skipAtomicRanges(this.atoms,rr.from,-1),sr=skipAtomicRanges(this.atoms,rr.to,1);(nr!=rr.from||sr!=rr.to)&&(ir=EditorSelection.range(rr.from==rr.anchor?nr:sr,rr.from==rr.head?nr:sr))}ir&&(Nt||(Nt=Ot.ranges.slice()),Nt[er]=ir)}return Nt?EditorSelection.create(Nt,Ot.mainIndex):Ot}select(Ot){let{view:Nt}=this,er=this.skipAtoms(this.style.get(Ot,this.extend,this.multiple));(this.mustSelect||!er.eq(Nt.state.selection,this.dragging===!1))&&this.view.dispatch({selection:er,userEvent:"select.pointer"}),this.mustSelect=!1}update(Ot){Ot.transactions.some(Nt=>Nt.isUserEvent("input.type"))?this.destroy():this.style.update(Ot)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(tr,Ot){let Nt=tr.state.facet(clickAddsSelectionRange);return Nt.length?Nt[0](Ot):browser$c.mac?Ot.metaKey:Ot.ctrlKey}function dragMovesSelection(tr,Ot){let Nt=tr.state.facet(dragMovesSelection$1);return Nt.length?Nt[0](Ot):browser$c.mac?!Ot.altKey:!Ot.ctrlKey}function isInPrimarySelection(tr,Ot){let{main:Nt}=tr.state.selection;if(Nt.empty)return!1;let er=getSelection(tr.root);if(!er||er.rangeCount==0)return!0;let rr=er.getRangeAt(0).getClientRects();for(let ir=0;ir<rr.length;ir++){let nr=rr[ir];if(nr.left<=Ot.clientX&&nr.right>=Ot.clientX&&nr.top<=Ot.clientY&&nr.bottom>=Ot.clientY)return!0}return!1}function eventBelongsToEditor(tr,Ot){if(!Ot.bubbles)return!0;if(Ot.defaultPrevented)return!1;for(let Nt=Ot.target,er;Nt!=tr.contentDOM;Nt=Nt.parentNode)if(!Nt||Nt.nodeType==11||(er=ContentView.get(Nt))&&er.ignoreEvent(Ot))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser$c.ie&&browser$c.ie_version<15||browser$c.ios&&browser$c.webkit_version<604;function capturePaste(tr){let Ot=tr.dom.parentNode;if(!Ot)return;let Nt=Ot.appendChild(document.createElement("textarea"));Nt.style.cssText="position: fixed; left: -10000px; top: 10px",Nt.focus(),setTimeout(()=>{tr.focus(),Nt.remove(),doPaste(tr,Nt.value)},50)}function doPaste(tr,Ot){let{state:Nt}=tr,er,rr=1,ir=Nt.toText(Ot),nr=ir.lines==Nt.selection.ranges.length;if(lastLinewiseCopy!=null&&Nt.selection.ranges.every(ar=>ar.empty)&&lastLinewiseCopy==ir.toString()){let ar=-1;er=Nt.changeByRange(lr=>{let cr=Nt.doc.lineAt(lr.from);if(cr.from==ar)return{range:lr};ar=cr.from;let dr=Nt.toText((nr?ir.line(rr++).text:Ot)+Nt.lineBreak);return{changes:{from:cr.from,insert:dr},range:EditorSelection.cursor(lr.from+dr.length)}})}else nr?er=Nt.changeByRange(ar=>{let lr=ir.line(rr++);return{changes:{from:ar.from,to:ar.to,insert:lr.text},range:EditorSelection.cursor(ar.from+lr.length)}}):er=Nt.replaceSelection(ir);tr.dispatch(er,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=tr=>{tr.inputState.lastScrollTop=tr.scrollDOM.scrollTop,tr.inputState.lastScrollLeft=tr.scrollDOM.scrollLeft};handlers.keydown=(tr,Ot)=>(tr.inputState.setSelectionOrigin("select"),Ot.keyCode==27&&tr.inputState.tabFocusMode!=0&&(tr.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(tr,Ot)=>{tr.inputState.lastTouchTime=Date.now(),tr.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=tr=>{tr.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(tr,Ot)=>{if(tr.observer.flush(),tr.inputState.lastTouchTime>Date.now()-2e3)return!1;let Nt=null;for(let er of tr.state.facet(mouseSelectionStyle))if(Nt=er(tr,Ot),Nt)break;if(!Nt&&Ot.button==0&&(Nt=basicMouseSelection(tr,Ot)),Nt){let er=!tr.hasFocus;tr.inputState.startMouseSelection(new MouseSelection(tr,Ot,Nt,er)),er&&tr.observer.ignore(()=>{focusPreventScroll(tr.contentDOM);let ir=tr.root.activeElement;ir&&!ir.contains(tr.contentDOM)&&ir.blur()});let rr=tr.inputState.mouseSelection;if(rr)return rr.start(Ot),rr.dragging===!1}return!1};function rangeForClick(tr,Ot,Nt,er){if(er==1)return EditorSelection.cursor(Ot,Nt);if(er==2)return groupAt(tr.state,Ot,Nt);{let rr=LineView.find(tr.docView,Ot),ir=tr.state.doc.lineAt(rr?rr.posAtEnd:Ot),nr=rr?rr.posAtStart:ir.from,sr=rr?rr.posAtEnd:ir.to;return sr<tr.state.doc.length&&sr==ir.to&&sr++,EditorSelection.range(nr,sr)}}let insideY=(tr,Ot)=>tr>=Ot.top&&tr<=Ot.bottom,inside=(tr,Ot,Nt)=>insideY(Ot,Nt)&&tr>=Nt.left&&tr<=Nt.right;function findPositionSide(tr,Ot,Nt,er){let rr=LineView.find(tr.docView,Ot);if(!rr)return 1;let ir=Ot-rr.posAtStart;if(ir==0)return 1;if(ir==rr.length)return-1;let nr=rr.coordsAt(ir,-1);if(nr&&inside(Nt,er,nr))return-1;let sr=rr.coordsAt(ir,1);return sr&&inside(Nt,er,sr)?1:nr&&insideY(er,nr)?-1:1}function queryPos(tr,Ot){let Nt=tr.posAtCoords({x:Ot.clientX,y:Ot.clientY},!1);return{pos:Nt,bias:findPositionSide(tr,Nt,Ot.clientX,Ot.clientY)}}const BadMouseDetail=browser$c.ie&&browser$c.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(tr){if(!BadMouseDetail)return tr.detail;let Ot=lastMouseDown,Nt=lastMouseDownTime;return lastMouseDown=tr,lastMouseDownTime=Date.now(),lastMouseDownCount=!Ot||Nt>Date.now()-400&&Math.abs(Ot.clientX-tr.clientX)<2&&Math.abs(Ot.clientY-tr.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(tr,Ot){let Nt=queryPos(tr,Ot),er=getClickType(Ot),rr=tr.state.selection;return{update(ir){ir.docChanged&&(Nt.pos=ir.changes.mapPos(Nt.pos),rr=rr.map(ir.changes))},get(ir,nr,sr){let ar=queryPos(tr,ir),lr,cr=rangeForClick(tr,ar.pos,ar.bias,er);if(Nt.pos!=ar.pos&&!nr){let dr=rangeForClick(tr,Nt.pos,Nt.bias,er),ur=Math.min(dr.from,cr.from),fr=Math.max(dr.to,cr.to);cr=ur<cr.from?EditorSelection.range(ur,fr):EditorSelection.range(fr,ur)}return nr?rr.replaceRange(rr.main.extend(cr.from,cr.to)):sr&&er==1&&rr.ranges.length>1&&(lr=removeRangeAround(rr,ar.pos))?lr:sr?rr.addRange(cr):EditorSelection.create([cr])}}}function removeRangeAround(tr,Ot){for(let Nt=0;Nt<tr.ranges.length;Nt++){let{from:er,to:rr}=tr.ranges[Nt];if(er<=Ot&&rr>=Ot)return EditorSelection.create(tr.ranges.slice(0,Nt).concat(tr.ranges.slice(Nt+1)),tr.mainIndex==Nt?0:tr.mainIndex-(tr.mainIndex>Nt?1:0))}return null}handlers.dragstart=(tr,Ot)=>{let{selection:{main:Nt}}=tr.state;if(Ot.target.draggable){let rr=tr.docView.nearest(Ot.target);if(rr&&rr.isWidget){let ir=rr.posAtStart,nr=ir+rr.length;(ir>=Nt.to||nr<=Nt.from)&&(Nt=EditorSelection.range(ir,nr))}}let{inputState:er}=tr;return er.mouseSelection&&(er.mouseSelection.dragging=!0),er.draggedContent=Nt,Ot.dataTransfer&&(Ot.dataTransfer.setData("Text",tr.state.sliceDoc(Nt.from,Nt.to)),Ot.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=tr=>(tr.inputState.draggedContent=null,!1);function dropText(tr,Ot,Nt,er){if(!Nt)return;let rr=tr.posAtCoords({x:Ot.clientX,y:Ot.clientY},!1),{draggedContent:ir}=tr.inputState,nr=er&&ir&&dragMovesSelection(tr,Ot)?{from:ir.from,to:ir.to}:null,sr={from:rr,insert:Nt},ar=tr.state.changes(nr?[nr,sr]:sr);tr.focus(),tr.dispatch({changes:ar,selection:{anchor:ar.mapPos(rr,-1),head:ar.mapPos(rr,1)},userEvent:nr?"move.drop":"input.drop"}),tr.inputState.draggedContent=null}handlers.drop=(tr,Ot)=>{if(!Ot.dataTransfer)return!1;if(tr.state.readOnly)return!0;let Nt=Ot.dataTransfer.files;if(Nt&&Nt.length){let er=Array(Nt.length),rr=0,ir=()=>{++rr==Nt.length&&dropText(tr,Ot,er.filter(nr=>nr!=null).join(tr.state.lineBreak),!1)};for(let nr=0;nr<Nt.length;nr++){let sr=new FileReader;sr.onerror=ir,sr.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(sr.result)||(er[nr]=sr.result),ir()},sr.readAsText(Nt[nr])}return!0}else{let er=Ot.dataTransfer.getData("Text");if(er)return dropText(tr,Ot,er,!0),!0}return!1};handlers.paste=(tr,Ot)=>{if(tr.state.readOnly)return!0;tr.observer.flush();let Nt=brokenClipboardAPI?null:Ot.clipboardData;return Nt?(doPaste(tr,Nt.getData("text/plain")||Nt.getData("text/uri-list")),!0):(capturePaste(tr),!1)};function captureCopy(tr,Ot){let Nt=tr.dom.parentNode;if(!Nt)return;let er=Nt.appendChild(document.createElement("textarea"));er.style.cssText="position: fixed; left: -10000px; top: 10px",er.value=Ot,er.focus(),er.selectionEnd=Ot.length,er.selectionStart=0,setTimeout(()=>{er.remove(),tr.focus()},50)}function copiedRange(tr){let Ot=[],Nt=[],er=!1;for(let rr of tr.selection.ranges)rr.empty||(Ot.push(tr.sliceDoc(rr.from,rr.to)),Nt.push(rr));if(!Ot.length){let rr=-1;for(let{from:ir}of tr.selection.ranges){let nr=tr.doc.lineAt(ir);nr.number>rr&&(Ot.push(nr.text),Nt.push({from:nr.from,to:Math.min(tr.doc.length,nr.to+1)})),rr=nr.number}er=!0}return{text:Ot.join(tr.lineBreak),ranges:Nt,linewise:er}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(tr,Ot)=>{let{text:Nt,ranges:er,linewise:rr}=copiedRange(tr.state);if(!Nt&&!rr)return!1;lastLinewiseCopy=rr?Nt:null,Ot.type=="cut"&&!tr.state.readOnly&&tr.dispatch({changes:er,scrollIntoView:!0,userEvent:"delete.cut"});let ir=brokenClipboardAPI?null:Ot.clipboardData;return ir?(ir.clearData(),ir.setData("text/plain",Nt),!0):(captureCopy(tr,Nt),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(tr,Ot){let Nt=[];for(let er of tr.facet(focusChangeEffect)){let rr=er(tr,Ot);rr&&Nt.push(rr)}return Nt?tr.update({effects:Nt,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(tr){setTimeout(()=>{let Ot=tr.hasFocus;if(Ot!=tr.inputState.notifiedFocused){let Nt=focusChangeTransaction(tr.state,Ot);Nt?tr.dispatch(Nt):tr.update([])}},10)}observers.focus=tr=>{tr.inputState.lastFocusTime=Date.now(),!tr.scrollDOM.scrollTop&&(tr.inputState.lastScrollTop||tr.inputState.lastScrollLeft)&&(tr.scrollDOM.scrollTop=tr.inputState.lastScrollTop,tr.scrollDOM.scrollLeft=tr.inputState.lastScrollLeft),updateForFocusChange(tr)};observers.blur=tr=>{tr.observer.clearSelectionRange(),updateForFocusChange(tr)};observers.compositionstart=observers.compositionupdate=tr=>{tr.observer.editContext||(tr.inputState.compositionFirstChange==null&&(tr.inputState.compositionFirstChange=!0),tr.inputState.composing<0&&(tr.inputState.composing=0))};observers.compositionend=tr=>{tr.observer.editContext||(tr.inputState.composing=-1,tr.inputState.compositionEndedAt=Date.now(),tr.inputState.compositionPendingKey=!0,tr.inputState.compositionPendingChange=tr.observer.pendingRecords().length>0,tr.inputState.compositionFirstChange=null,browser$c.chrome&&browser$c.android?tr.observer.flushSoon():tr.inputState.compositionPendingChange?Promise.resolve().then(()=>tr.observer.flush()):setTimeout(()=>{tr.inputState.composing<0&&tr.docView.hasComposition&&tr.update([])},50))};observers.contextmenu=tr=>{tr.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(tr,Ot)=>{var Nt;let er;if(browser$c.chrome&&browser$c.android&&(er=PendingKeys.find(rr=>rr.inputType==Ot.inputType))&&(tr.observer.delayAndroidKey(er.key,er.keyCode),er.key=="Backspace"||er.key=="Delete")){let rr=((Nt=window.visualViewport)===null||Nt===void 0?void 0:Nt.height)||0;setTimeout(()=>{var ir;(((ir=window.visualViewport)===null||ir===void 0?void 0:ir.height)||0)>rr+10&&tr.hasFocus&&(tr.contentDOM.blur(),tr.focus())},100)}return browser$c.ios&&Ot.inputType=="deleteContentForward"&&tr.observer.flushSoon(),browser$c.safari&&Ot.inputType=="insertText"&&tr.inputState.composing>=0&&setTimeout(()=>observers.compositionend(tr,Ot),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(tr){appliedFirefoxHack.has(tr)||(appliedFirefoxHack.add(tr),tr.addEventListener("copy",()=>{}),tr.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];class HeightOracle{constructor(Ot){this.lineWrapping=Ot,this.doc=Text$1.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(Ot,Nt){let er=this.doc.lineAt(Nt).number-this.doc.lineAt(Ot).number+1;return this.lineWrapping&&(er+=Math.max(0,Math.ceil((Nt-Ot-er*this.lineLength*.5)/this.lineLength))),this.lineHeight*er}heightForLine(Ot){return this.lineWrapping?(1+Math.max(0,Math.ceil((Ot-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(Ot){return this.doc=Ot,this}mustRefreshForWrapping(Ot){return wrappingWhiteSpace.indexOf(Ot)>-1!=this.lineWrapping}mustRefreshForHeights(Ot){let Nt=!1;for(let er=0;er<Ot.length;er++){let rr=Ot[er];rr<0?er++:this.heightSamples[Math.floor(rr*10)]||(Nt=!0,this.heightSamples[Math.floor(rr*10)]=!0)}return Nt}refresh(Ot,Nt,er,rr,ir,nr){let sr=wrappingWhiteSpace.indexOf(Ot)>-1,ar=Math.round(Nt)!=Math.round(this.lineHeight)||this.lineWrapping!=sr;if(this.lineWrapping=sr,this.lineHeight=Nt,this.charWidth=er,this.textHeight=rr,this.lineLength=ir,ar){this.heightSamples={};for(let lr=0;lr<nr.length;lr++){let cr=nr[lr];cr<0?lr++:this.heightSamples[Math.floor(cr*10)]=!0}}return ar}}class MeasuredHeights{constructor(Ot,Nt){this.from=Ot,this.heights=Nt,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(Ot,Nt,er,rr,ir){this.from=Ot,this.length=Nt,this.top=er,this.height=rr,this._content=ir}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(Ot){let Nt=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(Ot._content)?Ot._content:[Ot]);return new BlockInfo(this.from,this.length+Ot.length,this.top,this.height+Ot.height,Nt)}}var QueryType$1=function(tr){return tr[tr.ByPos=0]="ByPos",tr[tr.ByHeight=1]="ByHeight",tr[tr.ByPosNoHeight=2]="ByPosNoHeight",tr}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(Ot,Nt,er=2){this.length=Ot,this.height=Nt,this.flags=er}get outdated(){return(this.flags&2)>0}set outdated(Ot){this.flags=(Ot?2:0)|this.flags&-3}setHeight(Ot,Nt){this.height!=Nt&&(Math.abs(this.height-Nt)>Epsilon&&(Ot.heightChanged=!0),this.height=Nt)}replace(Ot,Nt,er){return HeightMap.of(er)}decomposeLeft(Ot,Nt){Nt.push(this)}decomposeRight(Ot,Nt){Nt.push(this)}applyChanges(Ot,Nt,er,rr){let ir=this,nr=er.doc;for(let sr=rr.length-1;sr>=0;sr--){let{fromA:ar,toA:lr,fromB:cr,toB:dr}=rr[sr],ur=ir.lineAt(ar,QueryType$1.ByPosNoHeight,er.setDoc(Nt),0,0),fr=ur.to>=lr?ur:ir.lineAt(lr,QueryType$1.ByPosNoHeight,er,0,0);for(dr+=fr.to-lr,lr=fr.to;sr>0&&ur.from<=rr[sr-1].toA;)ar=rr[sr-1].fromA,cr=rr[sr-1].fromB,sr--,ar<ur.from&&(ur=ir.lineAt(ar,QueryType$1.ByPosNoHeight,er,0,0));cr+=ur.from-ar,ar=ur.from;let hr=NodeBuilder.build(er.setDoc(nr),Ot,cr,dr);ir=ir.replace(ar,lr,hr)}return ir.updateHeight(er,0)}static empty(){return new HeightMapText(0,0)}static of(Ot){if(Ot.length==1)return Ot[0];let Nt=0,er=Ot.length,rr=0,ir=0;for(;;)if(Nt==er)if(rr>ir*2){let sr=Ot[Nt-1];sr.break?Ot.splice(--Nt,1,sr.left,null,sr.right):Ot.splice(--Nt,1,sr.left,sr.right),er+=1+sr.break,rr-=sr.size}else if(ir>rr*2){let sr=Ot[er];sr.break?Ot.splice(er,1,sr.left,null,sr.right):Ot.splice(er,1,sr.left,sr.right),er+=2+sr.break,ir-=sr.size}else break;else if(rr<ir){let sr=Ot[Nt++];sr&&(rr+=sr.size)}else{let sr=Ot[--er];sr&&(ir+=sr.size)}let nr=0;return Ot[Nt-1]==null?(nr=1,Nt--):Ot[Nt]==null&&(nr=1,er++),new HeightMapBranch(HeightMap.of(Ot.slice(0,Nt)),nr,HeightMap.of(Ot.slice(er)))}}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(Ot,Nt,er){super(Ot,Nt),this.deco=er}blockAt(Ot,Nt,er,rr){return new BlockInfo(rr,this.length,er,this.height,this.deco||0)}lineAt(Ot,Nt,er,rr,ir){return this.blockAt(0,er,rr,ir)}forEachLine(Ot,Nt,er,rr,ir,nr){Ot<=ir+this.length&&Nt>=ir&&nr(this.blockAt(0,er,rr,ir))}updateHeight(Ot,Nt=0,er=!1,rr){return rr&&rr.from<=Nt&&rr.more&&this.setHeight(Ot,rr.heights[rr.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(Ot,Nt){super(Ot,Nt,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(Ot,Nt,er,rr){return new BlockInfo(rr,this.length,er,this.height,this.breaks)}replace(Ot,Nt,er){let rr=er[0];return er.length==1&&(rr instanceof HeightMapText||rr instanceof HeightMapGap&&rr.flags&4)&&Math.abs(this.length-rr.length)<10?(rr instanceof HeightMapGap?rr=new HeightMapText(rr.length,this.height):rr.height=this.height,this.outdated||(rr.outdated=!1),rr):HeightMap.of(er)}updateHeight(Ot,Nt=0,er=!1,rr){return rr&&rr.from<=Nt&&rr.more?this.setHeight(Ot,rr.heights[rr.index++]):(er||this.outdated)&&this.setHeight(Ot,Math.max(this.widgetHeight,Ot.heightForLine(this.length-this.collapsed))+this.breaks*Ot.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(Ot){super(Ot,0)}heightMetrics(Ot,Nt){let er=Ot.doc.lineAt(Nt).number,rr=Ot.doc.lineAt(Nt+this.length).number,ir=rr-er+1,nr,sr=0;if(Ot.lineWrapping){let ar=Math.min(this.height,Ot.lineHeight*ir);nr=ar/ir,this.length>ir+1&&(sr=(this.height-ar)/(this.length-ir-1))}else nr=this.height/ir;return{firstLine:er,lastLine:rr,perLine:nr,perChar:sr}}blockAt(Ot,Nt,er,rr){let{firstLine:ir,lastLine:nr,perLine:sr,perChar:ar}=this.heightMetrics(Nt,rr);if(Nt.lineWrapping){let lr=rr+(Ot<Nt.lineHeight?0:Math.round(Math.max(0,Math.min(1,(Ot-er)/this.height))*this.length)),cr=Nt.doc.lineAt(lr),dr=sr+cr.length*ar,ur=Math.max(er,Ot-dr/2);return new BlockInfo(cr.from,cr.length,ur,dr,0)}else{let lr=Math.max(0,Math.min(nr-ir,Math.floor((Ot-er)/sr))),{from:cr,length:dr}=Nt.doc.line(ir+lr);return new BlockInfo(cr,dr,er+sr*lr,sr,0)}}lineAt(Ot,Nt,er,rr,ir){if(Nt==QueryType$1.ByHeight)return this.blockAt(Ot,er,rr,ir);if(Nt==QueryType$1.ByPosNoHeight){let{from:fr,to:hr}=er.doc.lineAt(Ot);return new BlockInfo(fr,hr-fr,0,0,0)}let{firstLine:nr,perLine:sr,perChar:ar}=this.heightMetrics(er,ir),lr=er.doc.lineAt(Ot),cr=sr+lr.length*ar,dr=lr.number-nr,ur=rr+sr*dr+ar*(lr.from-ir-dr);return new BlockInfo(lr.from,lr.length,Math.max(rr,Math.min(ur,rr+this.height-cr)),cr,0)}forEachLine(Ot,Nt,er,rr,ir,nr){Ot=Math.max(Ot,ir),Nt=Math.min(Nt,ir+this.length);let{firstLine:sr,perLine:ar,perChar:lr}=this.heightMetrics(er,ir);for(let cr=Ot,dr=rr;cr<=Nt;){let ur=er.doc.lineAt(cr);if(cr==Ot){let hr=ur.number-sr;dr+=ar*hr+lr*(Ot-ir-hr)}let fr=ar+lr*ur.length;nr(new BlockInfo(ur.from,ur.length,dr,fr,0)),dr+=fr,cr=ur.to+1}}replace(Ot,Nt,er){let rr=this.length-Nt;if(rr>0){let ir=er[er.length-1];ir instanceof HeightMapGap?er[er.length-1]=new HeightMapGap(ir.length+rr):er.push(null,new HeightMapGap(rr-1))}if(Ot>0){let ir=er[0];ir instanceof HeightMapGap?er[0]=new HeightMapGap(Ot+ir.length):er.unshift(new HeightMapGap(Ot-1),null)}return HeightMap.of(er)}decomposeLeft(Ot,Nt){Nt.push(new HeightMapGap(Ot-1),null)}decomposeRight(Ot,Nt){Nt.push(null,new HeightMapGap(this.length-Ot-1))}updateHeight(Ot,Nt=0,er=!1,rr){let ir=Nt+this.length;if(rr&&rr.from<=Nt+this.length&&rr.more){let nr=[],sr=Math.max(Nt,rr.from),ar=-1;for(rr.from>Nt&&nr.push(new HeightMapGap(rr.from-Nt-1).updateHeight(Ot,Nt));sr<=ir&&rr.more;){let cr=Ot.doc.lineAt(sr).length;nr.length&&nr.push(null);let dr=rr.heights[rr.index++];ar==-1?ar=dr:Math.abs(dr-ar)>=Epsilon&&(ar=-2);let ur=new HeightMapText(cr,dr);ur.outdated=!1,nr.push(ur),sr+=cr+1}sr<=ir&&nr.push(null,new HeightMapGap(ir-sr).updateHeight(Ot,sr));let lr=HeightMap.of(nr);return(ar<0||Math.abs(lr.height-this.height)>=Epsilon||Math.abs(ar-this.heightMetrics(Ot,Nt).perLine)>=Epsilon)&&(Ot.heightChanged=!0),lr}else(er||this.outdated)&&(this.setHeight(Ot,Ot.heightForGap(Nt,Nt+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(Ot,Nt,er){super(Ot.length+Nt+er.length,Ot.height+er.height,Nt|(Ot.outdated||er.outdated?2:0)),this.left=Ot,this.right=er,this.size=Ot.size+er.size}get break(){return this.flags&1}blockAt(Ot,Nt,er,rr){let ir=er+this.left.height;return Ot<ir?this.left.blockAt(Ot,Nt,er,rr):this.right.blockAt(Ot,Nt,ir,rr+this.left.length+this.break)}lineAt(Ot,Nt,er,rr,ir){let nr=rr+this.left.height,sr=ir+this.left.length+this.break,ar=Nt==QueryType$1.ByHeight?Ot<nr:Ot<sr,lr=ar?this.left.lineAt(Ot,Nt,er,rr,ir):this.right.lineAt(Ot,Nt,er,nr,sr);if(this.break||(ar?lr.to<sr:lr.from>sr))return lr;let cr=Nt==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return ar?lr.join(this.right.lineAt(sr,cr,er,nr,sr)):this.left.lineAt(sr,cr,er,rr,ir).join(lr)}forEachLine(Ot,Nt,er,rr,ir,nr){let sr=rr+this.left.height,ar=ir+this.left.length+this.break;if(this.break)Ot<ar&&this.left.forEachLine(Ot,Nt,er,rr,ir,nr),Nt>=ar&&this.right.forEachLine(Ot,Nt,er,sr,ar,nr);else{let lr=this.lineAt(ar,QueryType$1.ByPos,er,rr,ir);Ot<lr.from&&this.left.forEachLine(Ot,lr.from-1,er,rr,ir,nr),lr.to>=Ot&&lr.from<=Nt&&nr(lr),Nt>lr.to&&this.right.forEachLine(lr.to+1,Nt,er,sr,ar,nr)}}replace(Ot,Nt,er){let rr=this.left.length+this.break;if(Nt<rr)return this.balanced(this.left.replace(Ot,Nt,er),this.right);if(Ot>this.left.length)return this.balanced(this.left,this.right.replace(Ot-rr,Nt-rr,er));let ir=[];Ot>0&&this.decomposeLeft(Ot,ir);let nr=ir.length;for(let sr of er)ir.push(sr);if(Ot>0&&mergeGaps(ir,nr-1),Nt<this.length){let sr=ir.length;this.decomposeRight(Nt,ir),mergeGaps(ir,sr)}return HeightMap.of(ir)}decomposeLeft(Ot,Nt){let er=this.left.length;if(Ot<=er)return this.left.decomposeLeft(Ot,Nt);Nt.push(this.left),this.break&&(er++,Ot>=er&&Nt.push(null)),Ot>er&&this.right.decomposeLeft(Ot-er,Nt)}decomposeRight(Ot,Nt){let er=this.left.length,rr=er+this.break;if(Ot>=rr)return this.right.decomposeRight(Ot-rr,Nt);Ot<er&&this.left.decomposeRight(Ot,Nt),this.break&&Ot<rr&&Nt.push(null),Nt.push(this.right)}balanced(Ot,Nt){return Ot.size>2*Nt.size||Nt.size>2*Ot.size?HeightMap.of(this.break?[Ot,null,Nt]:[Ot,Nt]):(this.left=Ot,this.right=Nt,this.height=Ot.height+Nt.height,this.outdated=Ot.outdated||Nt.outdated,this.size=Ot.size+Nt.size,this.length=Ot.length+this.break+Nt.length,this)}updateHeight(Ot,Nt=0,er=!1,rr){let{left:ir,right:nr}=this,sr=Nt+ir.length+this.break,ar=null;return rr&&rr.from<=Nt+ir.length&&rr.more?ar=ir=ir.updateHeight(Ot,Nt,er,rr):ir.updateHeight(Ot,Nt,er),rr&&rr.from<=sr+nr.length&&rr.more?ar=nr=nr.updateHeight(Ot,sr,er,rr):nr.updateHeight(Ot,sr,er),ar?this.balanced(ir,nr):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(tr,Ot){let Nt,er;tr[Ot]==null&&(Nt=tr[Ot-1])instanceof HeightMapGap&&(er=tr[Ot+1])instanceof HeightMapGap&&tr.splice(Ot-1,3,new HeightMapGap(Nt.length+1+er.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(Ot,Nt){this.pos=Ot,this.oracle=Nt,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=Ot}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(Ot,Nt){if(this.lineStart>-1){let er=Math.min(Nt,this.lineEnd),rr=this.nodes[this.nodes.length-1];rr instanceof HeightMapText?rr.length+=er-this.pos:(er>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(er-this.pos,-1)),this.writtenTo=er,Nt>er&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=Nt}point(Ot,Nt,er){if(Ot<Nt||er.heightRelevant){let rr=er.widget?er.widget.estimatedHeight:0,ir=er.widget?er.widget.lineBreaks:0;rr<0&&(rr=this.oracle.lineHeight);let nr=Nt-Ot;er.block?this.addBlock(new HeightMapBlock(nr,rr,er)):(nr||ir||rr>=relevantWidgetHeight)&&this.addLineDeco(rr,ir,nr)}else Nt>Ot&&this.span(Ot,Nt);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:Ot,to:Nt}=this.oracle.doc.lineAt(this.pos);this.lineStart=Ot,this.lineEnd=Nt,this.writtenTo<Ot&&((this.writtenTo<Ot-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,Ot-1)),this.nodes.push(null)),this.pos>Ot&&this.nodes.push(new HeightMapText(this.pos-Ot,-1)),this.writtenTo=this.pos}blankContent(Ot,Nt){let er=new HeightMapGap(Nt-Ot);return this.oracle.doc.lineAt(Ot).to==Nt&&(er.flags|=4),er}ensureLine(){this.enterLine();let Ot=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(Ot instanceof HeightMapText)return Ot;let Nt=new HeightMapText(0,-1);return this.nodes.push(Nt),Nt}addBlock(Ot){this.enterLine();let Nt=Ot.deco;Nt&&Nt.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(Ot),this.writtenTo=this.pos=this.pos+Ot.length,Nt&&Nt.endSide>0&&(this.covering=Ot)}addLineDeco(Ot,Nt,er){let rr=this.ensureLine();rr.length+=er,rr.collapsed+=er,rr.widgetHeight=Math.max(rr.widgetHeight,Ot),rr.breaks+=Nt,this.writtenTo=this.pos=this.pos+er}finish(Ot){let Nt=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(Nt instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||Nt==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let er=Ot;for(let rr of this.nodes)rr instanceof HeightMapText&&rr.updateHeight(this.oracle,er),er+=rr?rr.length:1;return this.nodes}static build(Ot,Nt,er,rr){let ir=new NodeBuilder(er,Ot);return RangeSet.spans(Nt,er,rr,ir,0),ir.finish(er)}}function heightRelevantDecoChanges(tr,Ot,Nt){let er=new DecorationComparator;return RangeSet.compare(tr,Ot,Nt,er,0),er.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(Ot,Nt,er,rr){(Ot<Nt||er&&er.heightRelevant||rr&&rr.heightRelevant)&&addRange(Ot,Nt,this.changes,5)}}function visiblePixelRange(tr,Ot){let Nt=tr.getBoundingClientRect(),er=tr.ownerDocument,rr=er.defaultView||window,ir=Math.max(0,Nt.left),nr=Math.min(rr.innerWidth,Nt.right),sr=Math.max(0,Nt.top),ar=Math.min(rr.innerHeight,Nt.bottom);for(let lr=tr.parentNode;lr&&lr!=er.body;)if(lr.nodeType==1){let cr=lr,dr=window.getComputedStyle(cr);if((cr.scrollHeight>cr.clientHeight||cr.scrollWidth>cr.clientWidth)&&dr.overflow!="visible"){let ur=cr.getBoundingClientRect();ir=Math.max(ir,ur.left),nr=Math.min(nr,ur.right),sr=Math.max(sr,ur.top),ar=lr==tr.parentNode?ur.bottom:Math.min(ar,ur.bottom)}lr=dr.position=="absolute"||dr.position=="fixed"?cr.offsetParent:cr.parentNode}else if(lr.nodeType==11)lr=lr.host;else break;return{left:ir-Nt.left,right:Math.max(ir,nr)-Nt.left,top:sr-(Nt.top+Ot),bottom:Math.max(sr,ar)-(Nt.top+Ot)}}function fullPixelRange(tr,Ot){let Nt=tr.getBoundingClientRect();return{left:0,right:Nt.right-Nt.left,top:Ot,bottom:Nt.bottom-(Nt.top+Ot)}}class LineGap{constructor(Ot,Nt,er){this.from=Ot,this.to=Nt,this.size=er}static same(Ot,Nt){if(Ot.length!=Nt.length)return!1;for(let er=0;er<Ot.length;er++){let rr=Ot[er],ir=Nt[er];if(rr.from!=ir.from||rr.to!=ir.to||rr.size!=ir.size)return!1}return!0}draw(Ot,Nt){return Decoration.replace({widget:new LineGapWidget(this.size*(Nt?Ot.scaleY:Ot.scaleX),Nt)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(Ot,Nt){super(),this.size=Ot,this.vertical=Nt}eq(Ot){return Ot.size==this.size&&Ot.vertical==this.vertical}toDOM(){let Ot=document.createElement("div");return this.vertical?Ot.style.height=this.size+"px":(Ot.style.width=this.size+"px",Ot.style.height="2px",Ot.style.display="inline-block"),Ot}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(Ot){this.state=Ot,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let Nt=Ot.facet(contentAttributes).some(er=>typeof er!="function"&&er.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(Nt),this.stateDeco=Ot.facet(decorations).filter(er=>typeof er!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text$1.empty,this.heightOracle.setDoc(Ot.doc),[new ChangedRange(0,0,0,Ot.doc.length)]);for(let er=0;er<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());er++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(er=>er.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let Ot=[this.viewport],{main:Nt}=this.state.selection;for(let er=0;er<=1;er++){let rr=er?Nt.head:Nt.anchor;if(!Ot.some(({from:ir,to:nr})=>rr>=ir&&rr<=nr)){let{from:ir,to:nr}=this.lineBlockAt(rr);Ot.push(new Viewport(ir,nr))}}return this.viewports=Ot.sort((er,rr)=>er.from-rr.from),this.updateScaler()}updateScaler(){let Ot=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),Ot.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,Ot=>{this.viewportLines.push(scaleBlock(Ot,this.scaler))})}update(Ot,Nt=null){this.state=Ot.state;let er=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(cr=>typeof cr!="function");let rr=Ot.changedRanges,ir=ChangedRange.extendWithRanges(rr,heightRelevantDecoChanges(er,this.stateDeco,Ot?Ot.changes:ChangeSet.empty(this.state.doc.length))),nr=this.heightMap.height,sr=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,Ot.startState.doc,this.heightOracle.setDoc(this.state.doc),ir),this.heightMap.height!=nr&&(Ot.flags|=2),sr?(this.scrollAnchorPos=Ot.changes.mapPos(sr.from,-1),this.scrollAnchorHeight=sr.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let ar=ir.length?this.mapViewport(this.viewport,Ot.changes):this.viewport;(Nt&&(Nt.range.head<ar.from||Nt.range.head>ar.to)||!this.viewportIsAppropriate(ar))&&(ar=this.getViewport(0,Nt));let lr=ar.from!=this.viewport.from||ar.to!=this.viewport.to;this.viewport=ar,Ot.flags|=this.updateForViewport(),(lr||!Ot.changes.empty||Ot.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,Ot.changes))),Ot.flags|=this.computeVisibleRanges(),Nt&&(this.scrollTarget=Nt),!this.mustEnforceCursorAssoc&&Ot.selectionSet&&Ot.view.lineWrapping&&Ot.state.selection.main.empty&&Ot.state.selection.main.assoc&&!Ot.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(Ot){let Nt=Ot.contentDOM,er=window.getComputedStyle(Nt),rr=this.heightOracle,ir=er.whiteSpace;this.defaultTextDirection=er.direction=="rtl"?Direction.RTL:Direction.LTR;let nr=this.heightOracle.mustRefreshForWrapping(ir),sr=Nt.getBoundingClientRect(),ar=nr||this.mustMeasureContent||this.contentDOMHeight!=sr.height;this.contentDOMHeight=sr.height,this.mustMeasureContent=!1;let lr=0,cr=0;if(sr.width&&sr.height){let{scaleX:Sr,scaleY:Cr}=getScale(Nt,sr);(Sr>.005&&Math.abs(this.scaleX-Sr)>.005||Cr>.005&&Math.abs(this.scaleY-Cr)>.005)&&(this.scaleX=Sr,this.scaleY=Cr,lr|=8,nr=ar=!0)}let dr=(parseInt(er.paddingTop)||0)*this.scaleY,ur=(parseInt(er.paddingBottom)||0)*this.scaleY;(this.paddingTop!=dr||this.paddingBottom!=ur)&&(this.paddingTop=dr,this.paddingBottom=ur,lr|=10),this.editorWidth!=Ot.scrollDOM.clientWidth&&(rr.lineWrapping&&(ar=!0),this.editorWidth=Ot.scrollDOM.clientWidth,lr|=8);let fr=Ot.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=fr&&(this.scrollAnchorHeight=-1,this.scrollTop=fr),this.scrolledToBottom=isScrolledToBottom(Ot.scrollDOM);let hr=(this.printing?fullPixelRange:visiblePixelRange)(Nt,this.paddingTop),pr=hr.top-this.pixelViewport.top,gr=hr.bottom-this.pixelViewport.bottom;this.pixelViewport=hr;let br=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(br!=this.inView&&(this.inView=br,br&&(ar=!0)),!this.inView&&!this.scrollTarget)return 0;let vr=sr.width;if((this.contentDOMWidth!=vr||this.editorHeight!=Ot.scrollDOM.clientHeight)&&(this.contentDOMWidth=sr.width,this.editorHeight=Ot.scrollDOM.clientHeight,lr|=8),ar){let Sr=Ot.docView.measureVisibleLineHeights(this.viewport);if(rr.mustRefreshForHeights(Sr)&&(nr=!0),nr||rr.lineWrapping&&Math.abs(vr-this.contentDOMWidth)>rr.charWidth){let{lineHeight:Cr,charWidth:Ar,textHeight:Ir}=Ot.docView.measureTextSize();nr=Cr>0&&rr.refresh(ir,Cr,Ar,Ir,vr/Ar,Sr),nr&&(Ot.docView.minWidth=0,lr|=8)}pr>0&&gr>0?cr=Math.max(pr,gr):pr<0&&gr<0&&(cr=Math.min(pr,gr)),rr.heightChanged=!1;for(let Cr of this.viewports){let Ar=Cr.from==this.viewport.from?Sr:Ot.docView.measureVisibleLineHeights(Cr);this.heightMap=(nr?HeightMap.empty().applyChanges(this.stateDeco,Text$1.empty,this.heightOracle,[new ChangedRange(0,0,0,Ot.state.doc.length)]):this.heightMap).updateHeight(rr,0,nr,new MeasuredHeights(Cr.from,Ar))}rr.heightChanged&&(lr|=2)}let kr=!this.viewportIsAppropriate(this.viewport,cr)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return kr&&(lr&2&&(lr|=this.updateScaler()),this.viewport=this.getViewport(cr,this.scrollTarget),lr|=this.updateForViewport()),(lr&2||kr)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(nr?[]:this.lineGaps,Ot)),lr|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,Ot.docView.enforceCursorAssoc()),lr}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(Ot,Nt){let er=.5-Math.max(-.5,Math.min(.5,Ot/1e3/2)),rr=this.heightMap,ir=this.heightOracle,{visibleTop:nr,visibleBottom:sr}=this,ar=new Viewport(rr.lineAt(nr-er*1e3,QueryType$1.ByHeight,ir,0,0).from,rr.lineAt(sr+(1-er)*1e3,QueryType$1.ByHeight,ir,0,0).to);if(Nt){let{head:lr}=Nt.range;if(lr<ar.from||lr>ar.to){let cr=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),dr=rr.lineAt(lr,QueryType$1.ByPos,ir,0,0),ur;Nt.y=="center"?ur=(dr.top+dr.bottom)/2-cr/2:Nt.y=="start"||Nt.y=="nearest"&&lr<ar.from?ur=dr.top:ur=dr.bottom-cr,ar=new Viewport(rr.lineAt(ur-1e3/2,QueryType$1.ByHeight,ir,0,0).from,rr.lineAt(ur+cr+1e3/2,QueryType$1.ByHeight,ir,0,0).to)}}return ar}mapViewport(Ot,Nt){let er=Nt.mapPos(Ot.from,-1),rr=Nt.mapPos(Ot.to,1);return new Viewport(this.heightMap.lineAt(er,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(rr,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:Ot,to:Nt},er=0){if(!this.inView)return!0;let{top:rr}=this.heightMap.lineAt(Ot,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:ir}=this.heightMap.lineAt(Nt,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:nr,visibleBottom:sr}=this;return(Ot==0||rr<=nr-Math.max(10,Math.min(-er,250)))&&(Nt==this.state.doc.length||ir>=sr+Math.max(10,Math.min(er,250)))&&rr>nr-2*1e3&&ir<sr+2*1e3}mapLineGaps(Ot,Nt){if(!Ot.length||Nt.empty)return Ot;let er=[];for(let rr of Ot)Nt.touchesRange(rr.from,rr.to)||er.push(new LineGap(Nt.mapPos(rr.from),Nt.mapPos(rr.to),rr.size));return er}ensureLineGaps(Ot,Nt){let er=this.heightOracle.lineWrapping,rr=er?1e4:2e3,ir=rr>>1,nr=rr<<1;if(this.defaultTextDirection!=Direction.LTR&&!er)return[];let sr=[],ar=(cr,dr,ur,fr)=>{if(dr-cr<ir)return;let hr=this.state.selection.main,pr=[hr.from];hr.empty||pr.push(hr.to);for(let br of pr)if(br>cr&&br<dr){ar(cr,br-10,ur,fr),ar(br+10,dr,ur,fr);return}let gr=find(Ot,br=>br.from>=ur.from&&br.to<=ur.to&&Math.abs(br.from-cr)<ir&&Math.abs(br.to-dr)<ir&&!pr.some(vr=>br.from<vr&&br.to>vr));if(!gr){if(dr<ur.to&&Nt&&er&&Nt.visibleRanges.some(br=>br.from<=dr&&br.to>=dr)){let br=Nt.moveToLineBoundary(EditorSelection.cursor(dr),!1,!0).head;br>cr&&(dr=br)}gr=new LineGap(cr,dr,this.gapSize(ur,cr,dr,fr))}sr.push(gr)},lr=cr=>{if(cr.length<nr||cr.type!=BlockType.Text)return;let dr=lineStructure(cr.from,cr.to,this.stateDeco);if(dr.total<nr)return;let ur=this.scrollTarget?this.scrollTarget.range.head:null,fr,hr;if(er){let pr=rr/this.heightOracle.lineLength*this.heightOracle.lineHeight,gr,br;if(ur!=null){let vr=findFraction(dr,ur),kr=((this.visibleBottom-this.visibleTop)/2+pr)/cr.height;gr=vr-kr,br=vr+kr}else gr=(this.visibleTop-cr.top-pr)/cr.height,br=(this.visibleBottom-cr.top+pr)/cr.height;fr=findPosition(dr,gr),hr=findPosition(dr,br)}else{let pr=dr.total*this.heightOracle.charWidth,gr=rr*this.heightOracle.charWidth,br,vr;if(ur!=null){let kr=findFraction(dr,ur),Sr=((this.pixelViewport.right-this.pixelViewport.left)/2+gr)/pr;br=kr-Sr,vr=kr+Sr}else br=(this.pixelViewport.left-gr)/pr,vr=(this.pixelViewport.right+gr)/pr;fr=findPosition(dr,br),hr=findPosition(dr,vr)}fr>cr.from&&ar(cr.from,fr,cr,dr),hr<cr.to&&ar(hr,cr.to,cr,dr)};for(let cr of this.viewportLines)Array.isArray(cr.type)?cr.type.forEach(lr):lr(cr);return sr}gapSize(Ot,Nt,er,rr){let ir=findFraction(rr,er)-findFraction(rr,Nt);return this.heightOracle.lineWrapping?Ot.height*ir:rr.total*this.heightOracle.charWidth*ir}updateLineGaps(Ot){LineGap.same(Ot,this.lineGaps)||(this.lineGaps=Ot,this.lineGapDeco=Decoration.set(Ot.map(Nt=>Nt.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let Ot=this.stateDeco;this.lineGaps.length&&(Ot=Ot.concat(this.lineGapDeco));let Nt=[];RangeSet.spans(Ot,this.viewport.from,this.viewport.to,{span(rr,ir){Nt.push({from:rr,to:ir})},point(){}},20);let er=Nt.length!=this.visibleRanges.length||this.visibleRanges.some((rr,ir)=>rr.from!=Nt[ir].from||rr.to!=Nt[ir].to);return this.visibleRanges=Nt,er?4:0}lineBlockAt(Ot){return Ot>=this.viewport.from&&Ot<=this.viewport.to&&this.viewportLines.find(Nt=>Nt.from<=Ot&&Nt.to>=Ot)||scaleBlock(this.heightMap.lineAt(Ot,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(Ot){return Ot>=this.viewportLines[0].top&&Ot<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(Nt=>Nt.top<=Ot&&Nt.bottom>=Ot)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(Ot),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(Ot){let Nt=this.lineBlockAtHeight(Ot+8);return Nt.from>=this.viewport.from||this.viewportLines[0].top-Ot>200?Nt:this.viewportLines[0]}elementAtHeight(Ot){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(Ot),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(Ot,Nt){this.from=Ot,this.to=Nt}}function lineStructure(tr,Ot,Nt){let er=[],rr=tr,ir=0;return RangeSet.spans(Nt,tr,Ot,{span(){},point(nr,sr){nr>rr&&(er.push({from:rr,to:nr}),ir+=nr-rr),rr=sr}},20),rr<Ot&&(er.push({from:rr,to:Ot}),ir+=Ot-rr),{total:ir,ranges:er}}function findPosition({total:tr,ranges:Ot},Nt){if(Nt<=0)return Ot[0].from;if(Nt>=1)return Ot[Ot.length-1].to;let er=Math.floor(tr*Nt);for(let rr=0;;rr++){let{from:ir,to:nr}=Ot[rr],sr=nr-ir;if(er<=sr)return ir+er;er-=sr}}function findFraction(tr,Ot){let Nt=0;for(let{from:er,to:rr}of tr.ranges){if(Ot<=rr){Nt+=Ot-er;break}Nt+=rr-er}return Nt/tr.total}function find(tr,Ot){for(let Nt of tr)if(Ot(Nt))return Nt}const IdScaler={toDOM(tr){return tr},fromDOM(tr){return tr},scale:1,eq(tr){return tr==this}};class BigScaler{constructor(Ot,Nt,er){let rr=0,ir=0,nr=0;this.viewports=er.map(({from:sr,to:ar})=>{let lr=Nt.lineAt(sr,QueryType$1.ByPos,Ot,0,0).top,cr=Nt.lineAt(ar,QueryType$1.ByPos,Ot,0,0).bottom;return rr+=cr-lr,{from:sr,to:ar,top:lr,bottom:cr,domTop:0,domBottom:0}}),this.scale=(7e6-rr)/(Nt.height-rr);for(let sr of this.viewports)sr.domTop=nr+(sr.top-ir)*this.scale,nr=sr.domBottom=sr.domTop+(sr.bottom-sr.top),ir=sr.bottom}toDOM(Ot){for(let Nt=0,er=0,rr=0;;Nt++){let ir=Nt<this.viewports.length?this.viewports[Nt]:null;if(!ir||Ot<ir.top)return rr+(Ot-er)*this.scale;if(Ot<=ir.bottom)return ir.domTop+(Ot-ir.top);er=ir.bottom,rr=ir.domBottom}}fromDOM(Ot){for(let Nt=0,er=0,rr=0;;Nt++){let ir=Nt<this.viewports.length?this.viewports[Nt]:null;if(!ir||Ot<ir.domTop)return er+(Ot-rr)/this.scale;if(Ot<=ir.domBottom)return ir.top+(Ot-ir.domTop);er=ir.bottom,rr=ir.domBottom}}eq(Ot){return Ot instanceof BigScaler?this.scale==Ot.scale&&this.viewports.length==Ot.viewports.length&&this.viewports.every((Nt,er)=>Nt.from==Ot.viewports[er].from&&Nt.to==Ot.viewports[er].to):!1}}function scaleBlock(tr,Ot){if(Ot.scale==1)return tr;let Nt=Ot.toDOM(tr.top),er=Ot.toDOM(tr.bottom);return new BlockInfo(tr.from,tr.length,Nt,er-Nt,Array.isArray(tr._content)?tr._content.map(rr=>scaleBlock(rr,Ot)):tr._content)}const theme=Facet.define({combine:tr=>tr.join(" ")}),darkTheme=Facet.define({combine:tr=>tr.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(tr,Ot,Nt){return new StyleModule(Ot,{finish(er){return/&/.test(er)?er.replace(/&\w*/,rr=>{if(rr=="&")return tr;if(!Nt||!Nt[rr])throw new RangeError(`Unsupported selector: ${rr}`);return Nt[rr]}):tr+" "+er}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),LineBreakPlaceholder="￿";class DOMReader{constructor(Ot,Nt){this.points=Ot,this.text="",this.lineSeparator=Nt.facet(EditorState.lineSeparator)}append(Ot){this.text+=Ot}lineBreak(){this.text+=LineBreakPlaceholder}readRange(Ot,Nt){if(!Ot)return this;let er=Ot.parentNode;for(let rr=Ot;;){this.findPointBefore(er,rr);let ir=this.text.length;this.readNode(rr);let nr=rr.nextSibling;if(nr==Nt)break;let sr=ContentView.get(rr),ar=ContentView.get(nr);(sr&&ar?sr.breakAfter:(sr?sr.breakAfter:isBlockElement(rr))||isBlockElement(nr)&&(rr.nodeName!="BR"||rr.cmIgnore)&&this.text.length>ir)&&this.lineBreak(),rr=nr}return this.findPointBefore(er,Nt),this}readTextNode(Ot){let Nt=Ot.nodeValue;for(let er of this.points)er.node==Ot&&(er.pos=this.text.length+Math.min(er.offset,Nt.length));for(let er=0,rr=this.lineSeparator?null:/\r\n?|\n/g;;){let ir=-1,nr=1,sr;if(this.lineSeparator?(ir=Nt.indexOf(this.lineSeparator,er),nr=this.lineSeparator.length):(sr=rr.exec(Nt))&&(ir=sr.index,nr=sr[0].length),this.append(Nt.slice(er,ir<0?Nt.length:ir)),ir<0)break;if(this.lineBreak(),nr>1)for(let ar of this.points)ar.node==Ot&&ar.pos>this.text.length&&(ar.pos-=nr-1);er=ir+nr}}readNode(Ot){if(Ot.cmIgnore)return;let Nt=ContentView.get(Ot),er=Nt&&Nt.overrideDOMText;if(er!=null){this.findPointInside(Ot,er.length);for(let rr=er.iter();!rr.next().done;)rr.lineBreak?this.lineBreak():this.append(rr.value)}else Ot.nodeType==3?this.readTextNode(Ot):Ot.nodeName=="BR"?Ot.nextSibling&&this.lineBreak():Ot.nodeType==1&&this.readRange(Ot.firstChild,null)}findPointBefore(Ot,Nt){for(let er of this.points)er.node==Ot&&Ot.childNodes[er.offset]==Nt&&(er.pos=this.text.length)}findPointInside(Ot,Nt){for(let er of this.points)(Ot.nodeType==3?er.node==Ot:Ot.contains(er.node))&&(er.pos=this.text.length+(isAtEnd(Ot,er.node,er.offset)?Nt:0))}}function isAtEnd(tr,Ot,Nt){for(;;){if(!Ot||Nt<maxOffset(Ot))return!1;if(Ot==tr)return!0;Nt=domIndex(Ot)+1,Ot=Ot.parentNode}}class DOMPoint{constructor(Ot,Nt){this.node=Ot,this.offset=Nt,this.pos=-1}}class DOMChange{constructor(Ot,Nt,er,rr){this.typeOver=rr,this.bounds=null,this.text="",this.domChanged=Nt>-1;let{impreciseHead:ir,impreciseAnchor:nr}=Ot.docView;if(Ot.state.readOnly&&Nt>-1)this.newSel=null;else if(Nt>-1&&(this.bounds=Ot.docView.domBoundsAround(Nt,er,0))){let sr=ir||nr?[]:selectionPoints(Ot),ar=new DOMReader(sr,Ot.state);ar.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=ar.text,this.newSel=selectionFromPoints(sr,this.bounds.from)}else{let sr=Ot.observer.selectionRange,ar=ir&&ir.node==sr.focusNode&&ir.offset==sr.focusOffset||!contains(Ot.contentDOM,sr.focusNode)?Ot.state.selection.main.head:Ot.docView.posFromDOM(sr.focusNode,sr.focusOffset),lr=nr&&nr.node==sr.anchorNode&&nr.offset==sr.anchorOffset||!contains(Ot.contentDOM,sr.anchorNode)?Ot.state.selection.main.anchor:Ot.docView.posFromDOM(sr.anchorNode,sr.anchorOffset),cr=Ot.viewport;if((browser$c.ios||browser$c.chrome)&&Ot.state.selection.main.empty&&ar!=lr&&(cr.from>0||cr.to<Ot.state.doc.length)){let dr=Math.min(ar,lr),ur=Math.max(ar,lr),fr=cr.from-dr,hr=cr.to-ur;(fr==0||fr==1||dr==0)&&(hr==0||hr==-1||ur==Ot.state.doc.length)&&(ar=0,lr=Ot.state.doc.length)}this.newSel=EditorSelection.single(lr,ar)}}}function applyDOMChange(tr,Ot){let Nt,{newSel:er}=Ot,rr=tr.state.selection.main,ir=tr.inputState.lastKeyTime>Date.now()-100?tr.inputState.lastKeyCode:-1;if(Ot.bounds){let{from:nr,to:sr}=Ot.bounds,ar=rr.from,lr=null;(ir===8||browser$c.android&&Ot.text.length<sr-nr)&&(ar=rr.to,lr="end");let cr=findDiff(tr.state.doc.sliceString(nr,sr,LineBreakPlaceholder),Ot.text,ar-nr,lr);cr&&(browser$c.chrome&&ir==13&&cr.toB==cr.from+2&&Ot.text.slice(cr.from,cr.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&cr.toB--,Nt={from:nr+cr.from,to:nr+cr.toA,insert:Text$1.of(Ot.text.slice(cr.from,cr.toB).split(LineBreakPlaceholder))})}else er&&(!tr.hasFocus&&tr.state.facet(editable)||er.main.eq(rr))&&(er=null);if(!Nt&&!er)return!1;if(!Nt&&Ot.typeOver&&!rr.empty&&er&&er.main.empty?Nt={from:rr.from,to:rr.to,insert:tr.state.doc.slice(rr.from,rr.to)}:Nt&&Nt.from>=rr.from&&Nt.to<=rr.to&&(Nt.from!=rr.from||Nt.to!=rr.to)&&rr.to-rr.from-(Nt.to-Nt.from)<=4?Nt={from:rr.from,to:rr.to,insert:tr.state.doc.slice(rr.from,Nt.from).append(Nt.insert).append(tr.state.doc.slice(Nt.to,rr.to))}:(browser$c.mac||browser$c.android)&&Nt&&Nt.from==Nt.to&&Nt.from==rr.head-1&&/^\. ?$/.test(Nt.insert.toString())&&tr.contentDOM.getAttribute("autocorrect")=="off"?(er&&Nt.insert.length==2&&(er=EditorSelection.single(er.main.anchor-1,er.main.head-1)),Nt={from:rr.from,to:rr.to,insert:Text$1.of([" "])}):browser$c.chrome&&Nt&&Nt.from==Nt.to&&Nt.from==rr.head&&Nt.insert.toString()==`
 `&&tr.lineWrapping&&(er&&(er=EditorSelection.single(er.main.anchor-1,er.main.head-1)),Nt={from:rr.from,to:rr.to,insert:Text$1.of([" "])}),Nt)return applyDOMChangeInner(tr,Nt,er,ir);if(er&&!er.main.eq(rr)){let nr=!1,sr="select";return tr.inputState.lastSelectionTime>Date.now()-50&&(tr.inputState.lastSelectionOrigin=="select"&&(nr=!0),sr=tr.inputState.lastSelectionOrigin),tr.dispatch({selection:er,scrollIntoView:nr,userEvent:sr}),!0}else return!1}function applyDOMChangeInner(tr,Ot,Nt,er=-1){if(browser$c.ios&&tr.inputState.flushIOSKey(Ot))return!0;let rr=tr.state.selection.main;if(browser$c.android&&(Ot.to==rr.to&&(Ot.from==rr.from||Ot.from==rr.from-1&&tr.state.sliceDoc(Ot.from,rr.from)==" ")&&Ot.insert.length==1&&Ot.insert.lines==2&&dispatchKey(tr.contentDOM,"Enter",13)||(Ot.from==rr.from-1&&Ot.to==rr.to&&Ot.insert.length==0||er==8&&Ot.insert.length<Ot.to-Ot.from&&Ot.to>rr.head)&&dispatchKey(tr.contentDOM,"Backspace",8)||Ot.from==rr.from&&Ot.to==rr.to+1&&Ot.insert.length==0&&dispatchKey(tr.contentDOM,"Delete",46)))return!0;let ir=Ot.insert.toString();tr.inputState.composing>=0&&tr.inputState.composing++;let nr,sr=()=>nr||(nr=applyDefaultInsert(tr,Ot,Nt));return tr.state.facet(inputHandler$1).some(ar=>ar(tr,Ot.from,Ot.to,ir,sr))||tr.dispatch(sr()),!0}function applyDefaultInsert(tr,Ot,Nt){let er,rr=tr.state,ir=rr.selection.main;if(Ot.from>=ir.from&&Ot.to<=ir.to&&Ot.to-Ot.from>=(ir.to-ir.from)/3&&(!Nt||Nt.main.empty&&Nt.main.from==Ot.from+Ot.insert.length)&&tr.inputState.composing<0){let sr=ir.from<Ot.from?rr.sliceDoc(ir.from,Ot.from):"",ar=ir.to>Ot.to?rr.sliceDoc(Ot.to,ir.to):"";er=rr.replaceSelection(tr.state.toText(sr+Ot.insert.sliceString(0,void 0,tr.state.lineBreak)+ar))}else{let sr=rr.changes(Ot),ar=Nt&&Nt.main.to<=sr.newLength?Nt.main:void 0;if(rr.selection.ranges.length>1&&tr.inputState.composing>=0&&Ot.to<=ir.to&&Ot.to>=ir.to-10){let lr=tr.state.sliceDoc(Ot.from,Ot.to),cr,dr=Nt&&findCompositionNode(tr,Nt.main.head);if(dr){let hr=Ot.insert.length-(Ot.to-Ot.from);cr={from:dr.from,to:dr.to-hr}}else cr=tr.state.doc.lineAt(ir.head);let ur=ir.to-Ot.to,fr=ir.to-ir.from;er=rr.changeByRange(hr=>{if(hr.from==ir.from&&hr.to==ir.to)return{changes:sr,range:ar||hr.map(sr)};let pr=hr.to-ur,gr=pr-lr.length;if(hr.to-hr.from!=fr||tr.state.sliceDoc(gr,pr)!=lr||hr.to>=cr.from&&hr.from<=cr.to)return{range:hr};let br=rr.changes({from:gr,to:pr,insert:Ot.insert}),vr=hr.to-ir.to;return{changes:br,range:ar?EditorSelection.range(Math.max(0,ar.anchor+vr),Math.max(0,ar.head+vr)):hr.map(br)}})}else er={changes:sr,selection:ar&&rr.selection.replaceRange(ar)}}let nr="input.type";return(tr.composing||tr.inputState.compositionPendingChange&&tr.inputState.compositionEndedAt>Date.now()-50)&&(tr.inputState.compositionPendingChange=!1,nr+=".compose",tr.inputState.compositionFirstChange&&(nr+=".start",tr.inputState.compositionFirstChange=!1)),rr.update(er,{userEvent:nr,scrollIntoView:!0})}function findDiff(tr,Ot,Nt,er){let rr=Math.min(tr.length,Ot.length),ir=0;for(;ir<rr&&tr.charCodeAt(ir)==Ot.charCodeAt(ir);)ir++;if(ir==rr&&tr.length==Ot.length)return null;let nr=tr.length,sr=Ot.length;for(;nr>0&&sr>0&&tr.charCodeAt(nr-1)==Ot.charCodeAt(sr-1);)nr--,sr--;if(er=="end"){let ar=Math.max(0,ir-Math.min(nr,sr));Nt-=nr+ar-ir}if(nr<ir&&tr.length<Ot.length){let ar=Nt<=ir&&Nt>=nr?ir-Nt:0;ir-=ar,sr=ir+(sr-nr),nr=ir}else if(sr<ir){let ar=Nt<=ir&&Nt>=sr?ir-Nt:0;ir-=ar,nr=ir+(nr-sr),sr=ir}return{from:ir,toA:nr,toB:sr}}function selectionPoints(tr){let Ot=[];if(tr.root.activeElement!=tr.contentDOM)return Ot;let{anchorNode:Nt,anchorOffset:er,focusNode:rr,focusOffset:ir}=tr.observer.selectionRange;return Nt&&(Ot.push(new DOMPoint(Nt,er)),(rr!=Nt||ir!=er)&&Ot.push(new DOMPoint(rr,ir))),Ot}function selectionFromPoints(tr,Ot){if(tr.length==0)return null;let Nt=tr[0].pos,er=tr.length==2?tr[1].pos:Nt;return Nt>-1&&er>-1?EditorSelection.single(Nt+Ot,er+Ot):null}const observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser$c.ie&&browser$c.ie_version<=11;class DOMObserver{constructor(Ot){this.view=Ot,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=Ot.contentDOM,this.observer=new MutationObserver(Nt=>{for(let er of Nt)this.queue.push(er);(browser$c.ie&&browser$c.ie_version<=11||browser$c.ios&&Ot.composing)&&Nt.some(er=>er.type=="childList"&&er.removedNodes.length||er.type=="characterData"&&er.oldValue.length>er.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Ot.constructor.EDIT_CONTEXT!==!1&&(this.editContext=new EditContextManager(Ot),Ot.contentDOM.editContext=this.editContext.editContext),useCharData&&(this.onCharData=Nt=>{this.queue.push({target:Nt.target,type:"characterData",oldValue:Nt.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var Nt;((Nt=this.view.docView)===null||Nt===void 0?void 0:Nt.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(Ot.scrollDOM)),this.addWindowListeners(this.win=Ot.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(Nt=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),Nt.length>0&&Nt[Nt.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(Nt=>{Nt.length>0&&Nt[Nt.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(Ot){this.view.inputState.runHandlers("scroll",Ot),this.intersecting&&this.view.measure()}onScroll(Ot){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(Ot)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(Ot){Ot.type=="change"&&!Ot.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(Ot){if(this.gapIntersection&&(Ot.length!=this.gaps.length||this.gaps.some((Nt,er)=>Nt!=Ot[er]))){this.gapIntersection.disconnect();for(let Nt of Ot)this.gapIntersection.observe(Nt);this.gaps=Ot}}onSelectionChange(Ot){let Nt=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:er}=this,rr=this.selectionRange;if(er.state.facet(editable)?er.root.activeElement!=this.dom:!hasSelection(er.dom,rr))return;let ir=rr.anchorNode&&er.docView.nearest(rr.anchorNode);if(ir&&ir.ignoreEvent(Ot)){Nt||(this.selectionChanged=!1);return}(browser$c.ie&&browser$c.ie_version<=11||browser$c.android&&browser$c.chrome)&&!er.state.selection.main.empty&&rr.focusNode&&isEquivalentPosition(rr.focusNode,rr.focusOffset,rr.anchorNode,rr.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:Ot}=this,Nt=getSelection(Ot.root);if(!Nt)return!1;let er=browser$c.safari&&Ot.root.nodeType==11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariSelectionRangeHack(this.view,Nt)||Nt;if(!er||this.selectionRange.eq(er))return!1;let rr=hasSelection(this.dom,er);return rr&&!this.selectionChanged&&Ot.inputState.lastFocusTime>Date.now()-200&&Ot.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,er)?(this.view.inputState.lastFocusTime=0,Ot.docView.updateSelection(),!1):(this.selectionRange.setRange(er),rr&&(this.selectionChanged=!0),!0)}setSelectionRange(Ot,Nt){this.selectionRange.set(Ot.node,Ot.offset,Nt.node,Nt.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let Ot=0,Nt=null;for(let er=this.dom;er;)if(er.nodeType==1)!Nt&&Ot<this.scrollTargets.length&&this.scrollTargets[Ot]==er?Ot++:Nt||(Nt=this.scrollTargets.slice(0,Ot)),Nt&&Nt.push(er),er=er.assignedSlot||er.parentNode;else if(er.nodeType==11)er=er.host;else break;if(Ot<this.scrollTargets.length&&!Nt&&(Nt=this.scrollTargets.slice(0,Ot)),Nt){for(let er of this.scrollTargets)er.removeEventListener("scroll",this.onScroll);for(let er of this.scrollTargets=Nt)er.addEventListener("scroll",this.onScroll)}}ignore(Ot){if(!this.active)return Ot();try{return this.stop(),Ot()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(Ot,Nt){var er;if(!this.delayedAndroidKey){let rr=()=>{let ir=this.delayedAndroidKey;ir&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=ir.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&ir.force&&dispatchKey(this.dom,ir.key,ir.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(rr)}(!this.delayedAndroidKey||Ot=="Enter")&&(this.delayedAndroidKey={key:Ot,keyCode:Nt,force:this.lastChange<Date.now()-50||!!(!((er=this.delayedAndroidKey)===null||er===void 0)&&er.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let Ot of this.observer.takeRecords())this.queue.push(Ot);return this.queue}processRecords(){let Ot=this.pendingRecords();Ot.length&&(this.queue=[]);let Nt=-1,er=-1,rr=!1;for(let ir of Ot){let nr=this.readMutation(ir);nr&&(nr.typeOver&&(rr=!0),Nt==-1?{from:Nt,to:er}=nr:(Nt=Math.min(nr.from,Nt),er=Math.max(nr.to,er)))}return{from:Nt,to:er,typeOver:rr}}readChange(){let{from:Ot,to:Nt,typeOver:er}=this.processRecords(),rr=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(Ot<0&&!rr)return null;Ot>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let ir=new DOMChange(this.view,Ot,Nt,er);return this.view.docView.domChanged={newSel:ir.newSel?ir.newSel.main:null},ir}flush(Ot=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;Ot&&this.readSelectionRange();let Nt=this.readChange();if(!Nt)return this.view.requestMeasure(),!1;let er=this.view.state,rr=applyDOMChange(this.view,Nt);return this.view.state==er&&(Nt.domChanged||Nt.newSel&&!Nt.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),rr}readMutation(Ot){let Nt=this.view.docView.nearest(Ot.target);if(!Nt||Nt.ignoreMutation(Ot))return null;if(Nt.markDirty(Ot.type=="attributes"),Ot.type=="attributes"&&(Nt.flags|=4),Ot.type=="childList"){let er=findChild(Nt,Ot.previousSibling||Ot.target.previousSibling,-1),rr=findChild(Nt,Ot.nextSibling||Ot.target.nextSibling,1);return{from:er?Nt.posAfter(er):Nt.posAtStart,to:rr?Nt.posBefore(rr):Nt.posAtEnd,typeOver:!1}}else return Ot.type=="characterData"?{from:Nt.posAtStart,to:Nt.posAtEnd,typeOver:Ot.target.nodeValue==Ot.oldValue}:null}setWindow(Ot){Ot!=this.win&&(this.removeWindowListeners(this.win),this.win=Ot,this.addWindowListeners(this.win))}addWindowListeners(Ot){Ot.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):Ot.addEventListener("beforeprint",this.onPrint),Ot.addEventListener("scroll",this.onScroll),Ot.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(Ot){Ot.removeEventListener("scroll",this.onScroll),Ot.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):Ot.removeEventListener("beforeprint",this.onPrint),Ot.document.removeEventListener("selectionchange",this.onSelectionChange)}update(Ot){this.editContext&&this.editContext.update(Ot)}destroy(){var Ot,Nt,er;this.stop(),(Ot=this.intersection)===null||Ot===void 0||Ot.disconnect(),(Nt=this.gapIntersection)===null||Nt===void 0||Nt.disconnect(),(er=this.resizeScroll)===null||er===void 0||er.disconnect();for(let rr of this.scrollTargets)rr.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function findChild(tr,Ot,Nt){for(;Ot;){let er=ContentView.get(Ot);if(er&&er.parent==tr)return er;let rr=Ot.parentNode;Ot=rr!=tr.dom?rr:Nt>0?Ot.nextSibling:Ot.previousSibling}return null}function buildSelectionRangeFromRange(tr,Ot){let Nt=Ot.startContainer,er=Ot.startOffset,rr=Ot.endContainer,ir=Ot.endOffset,nr=tr.docView.domAtPos(tr.state.selection.main.anchor);return isEquivalentPosition(nr.node,nr.offset,rr,ir)&&([Nt,er,rr,ir]=[rr,ir,Nt,er]),{anchorNode:Nt,anchorOffset:er,focusNode:rr,focusOffset:ir}}function safariSelectionRangeHack(tr,Ot){if(Ot.getComposedRanges){let rr=Ot.getComposedRanges(tr.root)[0];if(rr)return buildSelectionRangeFromRange(tr,rr)}let Nt=null;function er(rr){rr.preventDefault(),rr.stopImmediatePropagation(),Nt=rr.getTargetRanges()[0]}return tr.contentDOM.addEventListener("beforeinput",er,!0),tr.dom.ownerDocument.execCommand("indent"),tr.contentDOM.removeEventListener("beforeinput",er,!0),Nt?buildSelectionRangeFromRange(tr,Nt):null}class EditContextManager{constructor(Ot){this.from=0,this.to=0,this.pendingContextChange=null,this.resetRange(Ot.state);let Nt=this.editContext=new window.EditContext({text:Ot.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,Ot.state.selection.main.anchor))),selectionEnd:this.toContextPos(Ot.state.selection.main.head)});Nt.addEventListener("textupdate",er=>{let{anchor:rr}=Ot.state.selection.main,ir={from:this.toEditorPos(er.updateRangeStart),to:this.toEditorPos(er.updateRangeEnd),insert:Text$1.of(er.text.split(`
`))};ir.from==this.from&&rr<this.from?ir.from=rr:ir.to==this.to&&rr>this.to&&(ir.to=rr),!(ir.from==ir.to&&!ir.insert.length)&&(this.pendingContextChange=ir,applyDOMChangeInner(Ot,ir,EditorSelection.single(this.toEditorPos(er.selectionStart),this.toEditorPos(er.selectionEnd))),this.pendingContextChange&&this.revertPending(Ot.state))}),Nt.addEventListener("characterboundsupdate",er=>{let rr=[],ir=null;for(let nr=this.toEditorPos(er.rangeStart),sr=this.toEditorPos(er.rangeEnd);nr<sr;nr++){let ar=Ot.coordsForChar(nr);ir=ar&&new DOMRect(ar.left,ar.right,ar.right-ar.left,ar.bottom-ar.top)||ir||new DOMRect,rr.push(ir)}Nt.updateCharacterBounds(er.rangeStart,rr)}),Nt.addEventListener("textformatupdate",er=>{let rr=[];for(let ir of er.getTextFormats()){let nr=ir.underlineStyle,sr=ir.underlineThickness;if(nr!="None"&&sr!="None"){let ar=`text-decoration: underline ${nr=="Dashed"?"dashed ":nr=="Squiggle"?"wavy ":""}${sr=="Thin"?1:2}px`;rr.push(Decoration.mark({attributes:{style:ar}}).range(this.toEditorPos(ir.rangeStart),this.toEditorPos(ir.rangeEnd)))}}Ot.dispatch({effects:setEditContextFormatting.of(Decoration.set(rr))})}),Nt.addEventListener("compositionstart",()=>{Ot.inputState.composing<0&&(Ot.inputState.composing=0,Ot.inputState.compositionFirstChange=!0)}),Nt.addEventListener("compositionend",()=>{Ot.inputState.composing=-1,Ot.inputState.compositionFirstChange=null}),this.measureReq={read:er=>{this.editContext.updateControlBounds(er.contentDOM.getBoundingClientRect());let rr=getSelection(er.root);rr&&rr.rangeCount&&this.editContext.updateSelectionBounds(rr.getRangeAt(0).getBoundingClientRect())}}}applyEdits(Ot){let Nt=0,er=!1,rr=this.pendingContextChange;return Ot.changes.iterChanges((ir,nr,sr,ar,lr)=>{if(er)return;let cr=lr.length-(nr-ir);if(rr&&nr>=rr.to)if(rr.from==ir&&rr.to==nr&&rr.insert.eq(lr)){rr=this.pendingContextChange=null,Nt+=cr;return}else rr=null,this.revertPending(Ot.state);if(ir+=Nt,nr+=Nt,nr<=this.from)this.from+=cr,this.to+=cr;else if(ir<this.to){if(ir<this.from||nr>this.to||this.to-this.from+lr.length>3e4){er=!0;return}this.editContext.updateText(this.toContextPos(ir),this.toContextPos(nr),lr.toString()),this.to+=cr}Nt+=cr}),rr&&!er&&this.revertPending(Ot.state),!er}update(Ot){!this.applyEdits(Ot)||!this.rangeIsValid(Ot.state)?(this.pendingContextChange=null,this.resetRange(Ot.state),this.editContext.updateText(0,this.editContext.text.length,Ot.state.doc.sliceString(this.from,this.to)),this.setSelection(Ot.state)):(Ot.docChanged||Ot.selectionSet)&&this.setSelection(Ot.state),(Ot.geometryChanged||Ot.docChanged||Ot.selectionSet)&&Ot.view.requestMeasure(this.measureReq)}resetRange(Ot){let{head:Nt}=Ot.selection.main;this.from=Math.max(0,Nt-1e4),this.to=Math.min(Ot.doc.length,Nt+1e4)}revertPending(Ot){let Nt=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(Nt.from),this.toContextPos(Nt.to+Nt.insert.length),Ot.doc.sliceString(Nt.from,Nt.to))}setSelection(Ot){let{main:Nt}=Ot.selection,er=this.toContextPos(Math.max(this.from,Math.min(this.to,Nt.anchor))),rr=this.toContextPos(Nt.head);(this.editContext.selectionStart!=er||this.editContext.selectionEnd!=rr)&&this.editContext.updateSelection(er,rr)}rangeIsValid(Ot){let{head:Nt}=Ot.selection.main;return!(this.from>0&&Nt-this.from<500||this.to<Ot.doc.length&&this.to-Nt<500||this.to-this.from>1e4*3)}toEditorPos(Ot){return Ot+this.from}toContextPos(Ot){return Ot-this.from}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(Ot={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),Ot.parent&&Ot.parent.appendChild(this.dom);let{dispatch:Nt}=Ot;this.dispatchTransactions=Ot.dispatchTransactions||Nt&&(er=>er.forEach(rr=>Nt(rr,this)))||(er=>this.update(er)),this.dispatch=this.dispatch.bind(this),this._root=Ot.root||getRoot(Ot.parent)||document,this.viewState=new ViewState(Ot.state||EditorState.create(Ot)),Ot.scrollTo&&Ot.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=Ot.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(er=>new PluginInstance(er));for(let er of this.plugins)er.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...Ot){let Nt=Ot.length==1&&Ot[0]instanceof Transaction?Ot:Ot.length==1&&Array.isArray(Ot[0])?Ot[0]:[this.state.update(...Ot)];this.dispatchTransactions(Nt,this)}update(Ot){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let Nt=!1,er=!1,rr,ir=this.state;for(let ur of Ot){if(ur.startState!=ir)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");ir=ur.state}if(this.destroyed){this.viewState.state=ir;return}let nr=this.hasFocus,sr=0,ar=null;Ot.some(ur=>ur.annotation(isFocusChange))?(this.inputState.notifiedFocused=nr,sr=1):nr!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=nr,ar=focusChangeTransaction(ir,nr),ar||(sr=1));let lr=this.observer.delayedAndroidKey,cr=null;if(lr?(this.observer.clearDelayedAndroidKey(),cr=this.observer.readChange(),(cr&&!this.state.doc.eq(ir.doc)||!this.state.selection.eq(ir.selection))&&(cr=null)):this.observer.clear(),ir.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(ir);rr=ViewUpdate.create(this,ir,Ot),rr.flags|=sr;let dr=this.viewState.scrollTarget;try{this.updateState=2;for(let ur of Ot){if(dr&&(dr=dr.map(ur.changes)),ur.scrollIntoView){let{main:fr}=ur.state.selection;dr=new ScrollTarget(fr.empty?fr:EditorSelection.cursor(fr.head,fr.head>fr.anchor?-1:1))}for(let fr of ur.effects)fr.is(scrollIntoView$1)&&(dr=fr.value.clip(this.state))}this.viewState.update(rr,dr),this.bidiCache=CachedOrder.update(this.bidiCache,rr.changes),rr.empty||(this.updatePlugins(rr),this.inputState.update(rr)),Nt=this.docView.update(rr),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),er=this.updateAttrs(),this.showAnnouncements(Ot),this.docView.updateSelection(Nt,Ot.some(ur=>ur.isUserEvent("select.pointer")))}finally{this.updateState=0}if(rr.startState.facet(theme)!=rr.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(Nt||er||dr||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),Nt&&this.docViewUpdate(),!rr.empty)for(let ur of this.state.facet(updateListener))try{ur(rr)}catch(fr){logException(this.state,fr,"update listener")}(ar||cr)&&Promise.resolve().then(()=>{ar&&this.state==ar.startState&&this.dispatch(ar),cr&&!applyDOMChange(this,cr)&&lr.force&&dispatchKey(this.contentDOM,lr.key,lr.keyCode)})}setState(Ot){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=Ot;return}this.updateState=2;let Nt=this.hasFocus;try{for(let er of this.plugins)er.destroy(this);this.viewState=new ViewState(Ot),this.plugins=Ot.facet(viewPlugin).map(er=>new PluginInstance(er)),this.pluginMap.clear();for(let er of this.plugins)er.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}Nt&&this.focus(),this.requestMeasure()}updatePlugins(Ot){let Nt=Ot.startState.facet(viewPlugin),er=Ot.state.facet(viewPlugin);if(Nt!=er){let rr=[];for(let ir of er){let nr=Nt.indexOf(ir);if(nr<0)rr.push(new PluginInstance(ir));else{let sr=this.plugins[nr];sr.mustUpdate=Ot,rr.push(sr)}}for(let ir of this.plugins)ir.mustUpdate!=Ot&&ir.destroy(this);this.plugins=rr,this.pluginMap.clear()}else for(let rr of this.plugins)rr.mustUpdate=Ot;for(let rr=0;rr<this.plugins.length;rr++)this.plugins[rr].update(this);Nt!=er&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let Ot of this.plugins){let Nt=Ot.value;if(Nt&&Nt.docViewUpdate)try{Nt.docViewUpdate(this)}catch(er){logException(this.state,er,"doc view update listener")}}}measure(Ot=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,Ot&&this.observer.forceFlush();let Nt=null,er=this.scrollDOM,rr=er.scrollTop*this.scaleY,{scrollAnchorPos:ir,scrollAnchorHeight:nr}=this.viewState;Math.abs(rr-this.viewState.scrollTop)>1&&(nr=-1),this.viewState.scrollAnchorHeight=-1;try{for(let sr=0;;sr++){if(nr<0)if(isScrolledToBottom(er))ir=-1,nr=this.viewState.heightMap.height;else{let fr=this.viewState.scrollAnchorAt(rr);ir=fr.from,nr=fr.top}this.updateState=1;let ar=this.viewState.measure(this);if(!ar&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(sr>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let lr=[];ar&4||([this.measureRequests,lr]=[lr,this.measureRequests]);let cr=lr.map(fr=>{try{return fr.read(this)}catch(hr){return logException(this.state,hr),BadMeasure}}),dr=ViewUpdate.create(this,this.state,[]),ur=!1;dr.flags|=ar,Nt?Nt.flags|=ar:Nt=dr,this.updateState=2,dr.empty||(this.updatePlugins(dr),this.inputState.update(dr),this.updateAttrs(),ur=this.docView.update(dr),ur&&this.docViewUpdate());for(let fr=0;fr<lr.length;fr++)if(cr[fr]!=BadMeasure)try{let hr=lr[fr];hr.write&&hr.write(cr[fr],this)}catch(hr){logException(this.state,hr)}if(ur&&this.docView.updateSelection(!0),!dr.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,nr=-1;continue}else{let hr=(ir<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(ir).top)-nr;if(hr>1||hr<-1){rr=rr+hr,er.scrollTop=rr/this.scaleY,nr=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(Nt&&!Nt.empty)for(let sr of this.state.facet(updateListener))sr(Nt)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let Ot=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),Nt={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser$c.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(Nt["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,Nt);let er=this.observer.ignore(()=>{let rr=updateAttrs(this.contentDOM,this.contentAttrs,Nt),ir=updateAttrs(this.dom,this.editorAttrs,Ot);return rr||ir});return this.editorAttrs=Ot,this.contentAttrs=Nt,er}showAnnouncements(Ot){let Nt=!0;for(let er of Ot)for(let rr of er.effects)if(rr.is(EditorView.announce)){Nt&&(this.announceDOM.textContent=""),Nt=!1;let ir=this.announceDOM.appendChild(document.createElement("div"));ir.textContent=rr.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let Ot=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),Ot?{nonce:Ot}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(Ot){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),Ot){if(this.measureRequests.indexOf(Ot)>-1)return;if(Ot.key!=null){for(let Nt=0;Nt<this.measureRequests.length;Nt++)if(this.measureRequests[Nt].key===Ot.key){this.measureRequests[Nt]=Ot;return}}this.measureRequests.push(Ot)}}plugin(Ot){let Nt=this.pluginMap.get(Ot);return(Nt===void 0||Nt&&Nt.spec!=Ot)&&this.pluginMap.set(Ot,Nt=this.plugins.find(er=>er.spec==Ot)||null),Nt&&Nt.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(Ot){return this.readMeasured(),this.viewState.elementAtHeight(Ot)}lineBlockAtHeight(Ot){return this.readMeasured(),this.viewState.lineBlockAtHeight(Ot)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(Ot){return this.viewState.lineBlockAt(Ot)}get contentHeight(){return this.viewState.contentHeight}moveByChar(Ot,Nt,er){return skipAtoms(this,Ot,moveByChar(this,Ot,Nt,er))}moveByGroup(Ot,Nt){return skipAtoms(this,Ot,moveByChar(this,Ot,Nt,er=>byGroup(this,Ot.head,er)))}visualLineSide(Ot,Nt){let er=this.bidiSpans(Ot),rr=this.textDirectionAt(Ot.from),ir=er[Nt?er.length-1:0];return EditorSelection.cursor(ir.side(Nt,rr)+Ot.from,ir.forward(!Nt,rr)?1:-1)}moveToLineBoundary(Ot,Nt,er=!0){return moveToLineBoundary(this,Ot,Nt,er)}moveVertically(Ot,Nt,er){return skipAtoms(this,Ot,moveVertically(this,Ot,Nt,er))}domAtPos(Ot){return this.docView.domAtPos(Ot)}posAtDOM(Ot,Nt=0){return this.docView.posFromDOM(Ot,Nt)}posAtCoords(Ot,Nt=!0){return this.readMeasured(),posAtCoords(this,Ot,Nt)}coordsAtPos(Ot,Nt=1){this.readMeasured();let er=this.docView.coordsAt(Ot,Nt);if(!er||er.left==er.right)return er;let rr=this.state.doc.lineAt(Ot),ir=this.bidiSpans(rr),nr=ir[BidiSpan.find(ir,Ot-rr.from,-1,Nt)];return flattenRect(er,nr.dir==Direction.LTR==Nt>0)}coordsForChar(Ot){return this.readMeasured(),this.docView.coordsForChar(Ot)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(Ot){return!this.state.facet(perLineTextDirection)||Ot<this.viewport.from||Ot>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(Ot))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(Ot){if(Ot.length>MaxBidiLine)return trivialOrder(Ot.length);let Nt=this.textDirectionAt(Ot.from),er;for(let ir of this.bidiCache)if(ir.from==Ot.from&&ir.dir==Nt&&(ir.fresh||isolatesEq(ir.isolates,er=getIsolatedRanges(this,Ot))))return ir.order;er||(er=getIsolatedRanges(this,Ot));let rr=computeOrder(Ot.text,Nt,er);return this.bidiCache.push(new CachedOrder(Ot.from,Ot.to,Nt,er,!0,rr)),rr}get hasFocus(){var Ot;return(this.dom.ownerDocument.hasFocus()||browser$c.safari&&((Ot=this.inputState)===null||Ot===void 0?void 0:Ot.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(Ot){this._root!=Ot&&(this._root=Ot,this.observer.setWindow((Ot.nodeType==9?Ot:Ot.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let Ot of this.plugins)Ot.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(Ot,Nt={}){return scrollIntoView$1.of(new ScrollTarget(typeof Ot=="number"?EditorSelection.cursor(Ot):Ot,Nt.y,Nt.x,Nt.yMargin,Nt.xMargin))}scrollSnapshot(){let{scrollTop:Ot,scrollLeft:Nt}=this.scrollDOM,er=this.viewState.scrollAnchorAt(Ot);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(er.from),"start","start",er.top-Ot,Nt,!0))}setTabFocusMode(Ot){Ot==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof Ot=="boolean"?this.inputState.tabFocusMode=Ot?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+Ot)}static domEventHandlers(Ot){return ViewPlugin.define(()=>({}),{eventHandlers:Ot})}static domEventObservers(Ot){return ViewPlugin.define(()=>({}),{eventObservers:Ot})}static theme(Ot,Nt){let er=StyleModule.newName(),rr=[theme.of(er),styleModule.of(buildTheme(`.${er}`,Ot))];return Nt&&Nt.dark&&rr.push(darkTheme.of(!0)),rr}static baseTheme(Ot){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,Ot,lightDarkIDs)))}static findFromDOM(Ot){var Nt;let er=Ot.querySelector(".cm-content"),rr=er&&ContentView.get(er)||ContentView.get(Ot);return((Nt=rr==null?void 0:rr.rootView)===null||Nt===void 0?void 0:Nt.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:tr=>tr.length?tr[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(Ot,Nt,er,rr,ir,nr){this.from=Ot,this.to=Nt,this.dir=er,this.isolates=rr,this.fresh=ir,this.order=nr}static update(Ot,Nt){if(Nt.empty&&!Ot.some(ir=>ir.fresh))return Ot;let er=[],rr=Ot.length?Ot[Ot.length-1].dir:Direction.LTR;for(let ir=Math.max(0,Ot.length-10);ir<Ot.length;ir++){let nr=Ot[ir];nr.dir==rr&&!Nt.touchesRange(nr.from,nr.to)&&er.push(new CachedOrder(Nt.mapPos(nr.from,1),Nt.mapPos(nr.to,-1),nr.dir,nr.isolates,!1,nr.order))}return er}}function attrsFromFacet(tr,Ot,Nt){for(let er=tr.state.facet(Ot),rr=er.length-1;rr>=0;rr--){let ir=er[rr],nr=typeof ir=="function"?ir(tr):ir;nr&&combineAttrs(nr,Nt)}return Nt}const currentPlatform=browser$c.mac?"mac":browser$c.windows?"win":browser$c.linux?"linux":"key";function normalizeKeyName(tr,Ot){const Nt=tr.split(/-(?!$)/);let er=Nt[Nt.length-1];er=="Space"&&(er=" ");let rr,ir,nr,sr;for(let ar=0;ar<Nt.length-1;++ar){const lr=Nt[ar];if(/^(cmd|meta|m)$/i.test(lr))sr=!0;else if(/^a(lt)?$/i.test(lr))rr=!0;else if(/^(c|ctrl|control)$/i.test(lr))ir=!0;else if(/^s(hift)?$/i.test(lr))nr=!0;else if(/^mod$/i.test(lr))Ot=="mac"?sr=!0:ir=!0;else throw new Error("Unrecognized modifier name: "+lr)}return rr&&(er="Alt-"+er),ir&&(er="Ctrl-"+er),sr&&(er="Meta-"+er),nr&&(er="Shift-"+er),er}function modifiers(tr,Ot,Nt){return Ot.altKey&&(tr="Alt-"+tr),Ot.ctrlKey&&(tr="Ctrl-"+tr),Ot.metaKey&&(tr="Meta-"+tr),Nt!==!1&&Ot.shiftKey&&(tr="Shift-"+tr),tr}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(tr,Ot){return runHandlers(getKeymap(Ot.state),tr,Ot,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(tr){let Ot=tr.facet(keymap),Nt=Keymaps.get(Ot);return Nt||Keymaps.set(Ot,Nt=buildKeymap(Ot.reduce((er,rr)=>er.concat(rr),[]))),Nt}function runScopeHandlers(tr,Ot,Nt){return runHandlers(getKeymap(tr.state),Ot,tr,Nt)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(tr,Ot=currentPlatform){let Nt=Object.create(null),er=Object.create(null),rr=(nr,sr)=>{let ar=er[nr];if(ar==null)er[nr]=sr;else if(ar!=sr)throw new Error("Key binding "+nr+" is used both as a regular binding and as a multi-stroke prefix")},ir=(nr,sr,ar,lr,cr)=>{var dr,ur;let fr=Nt[nr]||(Nt[nr]=Object.create(null)),hr=sr.split(/ (?!$)/).map(br=>normalizeKeyName(br,Ot));for(let br=1;br<hr.length;br++){let vr=hr.slice(0,br).join(" ");rr(vr,!0),fr[vr]||(fr[vr]={preventDefault:!0,stopPropagation:!1,run:[kr=>{let Sr=storedPrefix={view:kr,prefix:vr,scope:nr};return setTimeout(()=>{storedPrefix==Sr&&(storedPrefix=null)},PrefixTimeout),!0}]})}let pr=hr.join(" ");rr(pr,!1);let gr=fr[pr]||(fr[pr]={preventDefault:!1,stopPropagation:!1,run:((ur=(dr=fr._any)===null||dr===void 0?void 0:dr.run)===null||ur===void 0?void 0:ur.slice())||[]});ar&&gr.run.push(ar),lr&&(gr.preventDefault=!0),cr&&(gr.stopPropagation=!0)};for(let nr of tr){let sr=nr.scope?nr.scope.split(" "):["editor"];if(nr.any)for(let lr of sr){let cr=Nt[lr]||(Nt[lr]=Object.create(null));cr._any||(cr._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:dr}=nr;for(let ur in cr)cr[ur].run.push(fr=>dr(fr,currentKeyEvent))}let ar=nr[Ot]||nr.key;if(ar)for(let lr of sr)ir(lr,ar,nr.run,nr.preventDefault,nr.stopPropagation),nr.shift&&ir(lr,"Shift-"+ar,nr.shift,nr.preventDefault,nr.stopPropagation)}return Nt}let currentKeyEvent=null;function runHandlers(tr,Ot,Nt,er){currentKeyEvent=Ot;let rr=keyName(Ot),ir=codePointAt(rr,0),nr=codePointSize(ir)==rr.length&&rr!=" ",sr="",ar=!1,lr=!1,cr=!1;storedPrefix&&storedPrefix.view==Nt&&storedPrefix.scope==er&&(sr=storedPrefix.prefix+" ",modifierCodes.indexOf(Ot.keyCode)<0&&(lr=!0,storedPrefix=null));let dr=new Set,ur=gr=>{if(gr){for(let br of gr.run)if(!dr.has(br)&&(dr.add(br),br(Nt)))return gr.stopPropagation&&(cr=!0),!0;gr.preventDefault&&(gr.stopPropagation&&(cr=!0),lr=!0)}return!1},fr=tr[er],hr,pr;return fr&&(ur(fr[sr+modifiers(rr,Ot,!nr)])?ar=!0:nr&&(Ot.altKey||Ot.metaKey||Ot.ctrlKey)&&!(browser$c.windows&&Ot.ctrlKey&&Ot.altKey)&&(hr=base$2[Ot.keyCode])&&hr!=rr?(ur(fr[sr+modifiers(hr,Ot,!0)])||Ot.shiftKey&&(pr=shift[Ot.keyCode])!=rr&&pr!=hr&&ur(fr[sr+modifiers(pr,Ot,!1)]))&&(ar=!0):nr&&Ot.shiftKey&&ur(fr[sr+modifiers(rr,Ot,!0)])&&(ar=!0),!ar&&ur(fr._any)&&(ar=!0)),lr&&(ar=!0),ar&&cr&&Ot.stopPropagation(),currentKeyEvent=null,ar}class RectangleMarker{constructor(Ot,Nt,er,rr,ir){this.className=Ot,this.left=Nt,this.top=er,this.width=rr,this.height=ir}draw(){let Ot=document.createElement("div");return Ot.className=this.className,this.adjust(Ot),Ot}update(Ot,Nt){return Nt.className!=this.className?!1:(this.adjust(Ot),!0)}adjust(Ot){Ot.style.left=this.left+"px",Ot.style.top=this.top+"px",this.width!=null&&(Ot.style.width=this.width+"px"),Ot.style.height=this.height+"px"}eq(Ot){return this.left==Ot.left&&this.top==Ot.top&&this.width==Ot.width&&this.height==Ot.height&&this.className==Ot.className}static forRange(Ot,Nt,er){if(er.empty){let rr=Ot.coordsAtPos(er.head,er.assoc||1);if(!rr)return[];let ir=getBase(Ot);return[new RectangleMarker(Nt,rr.left-ir.left,rr.top-ir.top,null,rr.bottom-rr.top)]}else return rectanglesForRange(Ot,Nt,er)}}function getBase(tr){let Ot=tr.scrollDOM.getBoundingClientRect();return{left:(tr.textDirection==Direction.LTR?Ot.left:Ot.right-tr.scrollDOM.clientWidth*tr.scaleX)-tr.scrollDOM.scrollLeft*tr.scaleX,top:Ot.top-tr.scrollDOM.scrollTop*tr.scaleY}}function wrappedLine(tr,Ot,Nt,er){let rr=tr.coordsAtPos(Ot,Nt*2);if(!rr)return er;let ir=tr.dom.getBoundingClientRect(),nr=(rr.top+rr.bottom)/2,sr=tr.posAtCoords({x:ir.left+1,y:nr}),ar=tr.posAtCoords({x:ir.right-1,y:nr});return sr==null||ar==null?er:{from:Math.max(er.from,Math.min(sr,ar)),to:Math.min(er.to,Math.max(sr,ar))}}function rectanglesForRange(tr,Ot,Nt){if(Nt.to<=tr.viewport.from||Nt.from>=tr.viewport.to)return[];let er=Math.max(Nt.from,tr.viewport.from),rr=Math.min(Nt.to,tr.viewport.to),ir=tr.textDirection==Direction.LTR,nr=tr.contentDOM,sr=nr.getBoundingClientRect(),ar=getBase(tr),lr=nr.querySelector(".cm-line"),cr=lr&&window.getComputedStyle(lr),dr=sr.left+(cr?parseInt(cr.paddingLeft)+Math.min(0,parseInt(cr.textIndent)):0),ur=sr.right-(cr?parseInt(cr.paddingRight):0),fr=blockAt(tr,er),hr=blockAt(tr,rr),pr=fr.type==BlockType.Text?fr:null,gr=hr.type==BlockType.Text?hr:null;if(pr&&(tr.lineWrapping||fr.widgetLineBreaks)&&(pr=wrappedLine(tr,er,1,pr)),gr&&(tr.lineWrapping||hr.widgetLineBreaks)&&(gr=wrappedLine(tr,rr,-1,gr)),pr&&gr&&pr.from==gr.from&&pr.to==gr.to)return vr(kr(Nt.from,Nt.to,pr));{let Cr=pr?kr(Nt.from,null,pr):Sr(fr,!1),Ar=gr?kr(null,Nt.to,gr):Sr(hr,!0),Ir=[];return(pr||fr).to<(gr||hr).from-(pr&&gr?1:0)||fr.widgetLineBreaks>1&&Cr.bottom+tr.defaultLineHeight/2<Ar.top?Ir.push(br(dr,Cr.bottom,ur,Ar.top)):Cr.bottom<Ar.top&&tr.elementAtHeight((Cr.bottom+Ar.top)/2).type==BlockType.Text&&(Cr.bottom=Ar.top=(Cr.bottom+Ar.top)/2),vr(Cr).concat(Ir).concat(vr(Ar))}function br(Cr,Ar,Ir,qr){return new RectangleMarker(Ot,Cr-ar.left,Ar-ar.top-.01,Ir-Cr,qr-Ar+.01)}function vr({top:Cr,bottom:Ar,horizontal:Ir}){let qr=[];for(let Qr=0;Qr<Ir.length;Qr+=2)qr.push(br(Ir[Qr],Cr,Ir[Qr+1],Ar));return qr}function kr(Cr,Ar,Ir){let qr=1e9,Qr=-1e9,Wr=[];function jr(xr,wr,Br,_r,Mr){let Tr=tr.coordsAtPos(xr,xr==Ir.to?-2:2),Er=tr.coordsAtPos(Br,Br==Ir.from?2:-2);!Tr||!Er||(qr=Math.min(Tr.top,Er.top,qr),Qr=Math.max(Tr.bottom,Er.bottom,Qr),Mr==Direction.LTR?Wr.push(ir&&wr?dr:Tr.left,ir&&_r?ur:Er.right):Wr.push(!ir&&_r?dr:Er.left,!ir&&wr?ur:Tr.right))}let Or=Cr??Ir.from,yr=Ar??Ir.to;for(let xr of tr.visibleRanges)if(xr.to>Or&&xr.from<yr)for(let wr=Math.max(xr.from,Or),Br=Math.min(xr.to,yr);;){let _r=tr.state.doc.lineAt(wr);for(let Mr of tr.bidiSpans(_r)){let Tr=Mr.from+_r.from,Er=Mr.to+_r.from;if(Tr>=Br)break;Er>wr&&jr(Math.max(Tr,wr),Cr==null&&Tr<=Or,Math.min(Er,Br),Ar==null&&Er>=yr,Mr.dir)}if(wr=_r.to+1,wr>=Br)break}return Wr.length==0&&jr(Or,Cr==null,yr,Ar==null,tr.textDirection),{top:qr,bottom:Qr,horizontal:Wr}}function Sr(Cr,Ar){let Ir=sr.top+(Ar?Cr.top:Cr.bottom);return{top:Ir,bottom:Ir,horizontal:[]}}}function sameMarker(tr,Ot){return tr.constructor==Ot.constructor&&tr.eq(Ot)}class LayerView{constructor(Ot,Nt){this.view=Ot,this.layer=Nt,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=Ot.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),Nt.above&&this.dom.classList.add("cm-layer-above"),Nt.class&&this.dom.classList.add(Nt.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(Ot.state),Ot.requestMeasure(this.measureReq),Nt.mount&&Nt.mount(this.dom,Ot)}update(Ot){Ot.startState.facet(layerOrder)!=Ot.state.facet(layerOrder)&&this.setOrder(Ot.state),(this.layer.update(Ot,this.dom)||Ot.geometryChanged)&&(this.scale(),Ot.view.requestMeasure(this.measureReq))}docViewUpdate(Ot){this.layer.updateOnDocViewUpdate!==!1&&Ot.requestMeasure(this.measureReq)}setOrder(Ot){let Nt=0,er=Ot.facet(layerOrder);for(;Nt<er.length&&er[Nt]!=this.layer;)Nt++;this.dom.style.zIndex=String((this.layer.above?150:-1)-Nt)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:Ot,scaleY:Nt}=this.view;(Ot!=this.scaleX||Nt!=this.scaleY)&&(this.scaleX=Ot,this.scaleY=Nt,this.dom.style.transform=`scale(${1/Ot}, ${1/Nt})`)}draw(Ot){if(Ot.length!=this.drawn.length||Ot.some((Nt,er)=>!sameMarker(Nt,this.drawn[er]))){let Nt=this.dom.firstChild,er=0;for(let rr of Ot)rr.update&&Nt&&rr.constructor&&this.drawn[er].constructor&&rr.update(Nt,this.drawn[er])?(Nt=Nt.nextSibling,er++):this.dom.insertBefore(rr.draw(),Nt);for(;Nt;){let rr=Nt.nextSibling;Nt.remove(),Nt=rr}this.drawn=Ot}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(tr){return[ViewPlugin.define(Ot=>new LayerView(Ot,tr)),layerOrder.of(tr)]}const CanHidePrimary=!browser$c.ios,selectionConfig=Facet.define({combine(tr){return combineConfig(tr,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(Ot,Nt)=>Math.min(Ot,Nt),drawRangeCursor:(Ot,Nt)=>Ot||Nt})}});function drawSelection(tr={}){return[selectionConfig.of(tr),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(tr){return tr.startState.facet(selectionConfig)!=tr.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(tr){let{state:Ot}=tr,Nt=Ot.facet(selectionConfig),er=[];for(let rr of Ot.selection.ranges){let ir=rr==Ot.selection.main;if(rr.empty?!ir||CanHidePrimary:Nt.drawRangeCursor){let nr=ir?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",sr=rr.empty?rr:EditorSelection.cursor(rr.head,rr.head>rr.anchor?-1:1);for(let ar of RectangleMarker.forRange(tr,nr,sr))er.push(ar)}}return er},update(tr,Ot){tr.transactions.some(er=>er.selection)&&(Ot.style.animationName=Ot.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let Nt=configChanged(tr);return Nt&&setBlinkRate(tr.state,Ot),tr.docChanged||tr.selectionSet||Nt},mount(tr,Ot){setBlinkRate(Ot.state,tr)},class:"cm-cursorLayer"});function setBlinkRate(tr,Ot){Ot.style.animationDuration=tr.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(tr){return tr.state.selection.ranges.map(Ot=>Ot.empty?[]:RectangleMarker.forRange(tr,"cm-selectionBackground",Ot)).reduce((Ot,Nt)=>Ot.concat(Nt))},update(tr,Ot){return tr.docChanged||tr.selectionSet||tr.viewportChanged||configChanged(tr)},class:"cm-selectionLayer"}),themeSpec={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor=themeSpec[".cm-content"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec)),setDropCursorPos=StateEffect.define({map(tr,Ot){return tr==null?null:Ot.mapPos(tr)}}),dropCursorPos=StateField.define({create(){return null},update(tr,Ot){return tr!=null&&(tr=Ot.changes.mapPos(tr)),Ot.effects.reduce((Nt,er)=>er.is(setDropCursorPos)?er.value:Nt,tr)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(tr){this.view=tr,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(tr){var Ot;let Nt=tr.state.field(dropCursorPos);Nt==null?this.cursor!=null&&((Ot=this.cursor)===null||Ot===void 0||Ot.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(tr.startState.field(dropCursorPos)!=Nt||tr.docChanged||tr.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:tr}=this,Ot=tr.state.field(dropCursorPos),Nt=Ot!=null&&tr.coordsAtPos(Ot);if(!Nt)return null;let er=tr.scrollDOM.getBoundingClientRect();return{left:Nt.left-er.left+tr.scrollDOM.scrollLeft*tr.scaleX,top:Nt.top-er.top+tr.scrollDOM.scrollTop*tr.scaleY,height:Nt.bottom-Nt.top}}drawCursor(tr){if(this.cursor){let{scaleX:Ot,scaleY:Nt}=this.view;tr?(this.cursor.style.left=tr.left/Ot+"px",this.cursor.style.top=tr.top/Nt+"px",this.cursor.style.height=tr.height/Nt+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(tr){this.view.state.field(dropCursorPos)!=tr&&this.view.dispatch({effects:setDropCursorPos.of(tr)})}},{eventObservers:{dragover(tr){this.setDropPos(this.view.posAtCoords({x:tr.clientX,y:tr.clientY}))},dragleave(tr){(tr.target==this.view.contentDOM||!this.view.contentDOM.contains(tr.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(tr,Ot,Nt,er,rr){Ot.lastIndex=0;for(let ir=tr.iterRange(Nt,er),nr=Nt,sr;!ir.next().done;nr+=ir.value.length)if(!ir.lineBreak)for(;sr=Ot.exec(ir.value);)rr(nr+sr.index,sr)}function matchRanges(tr,Ot){let Nt=tr.visibleRanges;if(Nt.length==1&&Nt[0].from==tr.viewport.from&&Nt[0].to==tr.viewport.to)return Nt;let er=[];for(let{from:rr,to:ir}of Nt)rr=Math.max(tr.state.doc.lineAt(rr).from,rr-Ot),ir=Math.min(tr.state.doc.lineAt(ir).to,ir+Ot),er.length&&er[er.length-1].to>=rr?er[er.length-1].to=ir:er.push({from:rr,to:ir});return er}class MatchDecorator{constructor(Ot){const{regexp:Nt,decoration:er,decorate:rr,boundary:ir,maxLength:nr=1e3}=Ot;if(!Nt.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=Nt,rr)this.addMatch=(sr,ar,lr,cr)=>rr(cr,lr,lr+sr[0].length,sr,ar);else if(typeof er=="function")this.addMatch=(sr,ar,lr,cr)=>{let dr=er(sr,ar,lr);dr&&cr(lr,lr+sr[0].length,dr)};else if(er)this.addMatch=(sr,ar,lr,cr)=>cr(lr,lr+sr[0].length,er);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=ir,this.maxLength=nr}createDeco(Ot){let Nt=new RangeSetBuilder,er=Nt.add.bind(Nt);for(let{from:rr,to:ir}of matchRanges(Ot,this.maxLength))iterMatches(Ot.state.doc,this.regexp,rr,ir,(nr,sr)=>this.addMatch(sr,Ot,nr,er));return Nt.finish()}updateDeco(Ot,Nt){let er=1e9,rr=-1;return Ot.docChanged&&Ot.changes.iterChanges((ir,nr,sr,ar)=>{ar>Ot.view.viewport.from&&sr<Ot.view.viewport.to&&(er=Math.min(sr,er),rr=Math.max(ar,rr))}),Ot.viewportChanged||rr-er>1e3?this.createDeco(Ot.view):rr>-1?this.updateRange(Ot.view,Nt.map(Ot.changes),er,rr):Nt}updateRange(Ot,Nt,er,rr){for(let ir of Ot.visibleRanges){let nr=Math.max(ir.from,er),sr=Math.min(ir.to,rr);if(sr>nr){let ar=Ot.state.doc.lineAt(nr),lr=ar.to<sr?Ot.state.doc.lineAt(sr):ar,cr=Math.max(ir.from,ar.from),dr=Math.min(ir.to,lr.to);if(this.boundary){for(;nr>ar.from;nr--)if(this.boundary.test(ar.text[nr-1-ar.from])){cr=nr;break}for(;sr<lr.to;sr++)if(this.boundary.test(lr.text[sr-lr.from])){dr=sr;break}}let ur=[],fr,hr=(pr,gr,br)=>ur.push(br.range(pr,gr));if(ar==lr)for(this.regexp.lastIndex=cr-ar.from;(fr=this.regexp.exec(ar.text))&&fr.index<dr-ar.from;)this.addMatch(fr,Ot,fr.index+ar.from,hr);else iterMatches(Ot.state.doc,this.regexp,cr,dr,(pr,gr)=>this.addMatch(gr,Ot,pr,hr));Nt=Nt.update({filterFrom:cr,filterTo:dr,filter:(pr,gr)=>pr<cr||gr>dr,add:ur})}}return Nt}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var tr;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let Ot=document.body.style;_supportsTabSize=((tr=Ot.tabSize)!==null&&tr!==void 0?tr:Ot.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(tr){let Ot=combineConfig(tr,{render:null,specialChars:Specials,addSpecialChars:null});return(Ot.replaceTabs=!supportsTabSize())&&(Ot.specialChars=new RegExp("	|"+Ot.specialChars.source,UnicodeRegexpSupport)),Ot.addSpecialChars&&(Ot.specialChars=new RegExp(Ot.specialChars.source+"|"+Ot.addSpecialChars.source,UnicodeRegexpSupport)),Ot}});function highlightSpecialChars(tr={}){return[specialCharConfig.of(tr),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(tr){this.view=tr,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(tr.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(tr)}makeDecorator(tr){return new MatchDecorator({regexp:tr.specialChars,decoration:(Ot,Nt,er)=>{let{doc:rr}=Nt.state,ir=codePointAt(Ot[0],0);if(ir==9){let nr=rr.lineAt(er),sr=Nt.state.tabSize,ar=countColumn(nr.text,sr,er-nr.from);return Decoration.replace({widget:new TabWidget((sr-ar%sr)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[ir]||(this.decorationCache[ir]=Decoration.replace({widget:new SpecialCharWidget(tr,ir)}))},boundary:tr.replaceTabs?void 0:/[^]/})}update(tr){let Ot=tr.state.facet(specialCharConfig);tr.startState.facet(specialCharConfig)!=Ot?(this.decorator=this.makeDecorator(Ot),this.decorations=this.decorator.createDeco(tr.view)):this.decorations=this.decorator.updateDeco(tr,this.decorations)}},{decorations:tr=>tr.decorations}))}const DefaultPlaceholder="•";function placeholder$1(tr){return tr>=32?DefaultPlaceholder:tr==10?"␤":String.fromCharCode(9216+tr)}class SpecialCharWidget extends WidgetType{constructor(Ot,Nt){super(),this.options=Ot,this.code=Nt}eq(Ot){return Ot.code==this.code}toDOM(Ot){let Nt=placeholder$1(this.code),er=Ot.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),rr=this.options.render&&this.options.render(this.code,er,Nt);if(rr)return rr;let ir=document.createElement("span");return ir.textContent=Nt,ir.title=er,ir.setAttribute("aria-label",er),ir.className="cm-specialChar",ir}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(Ot){super(),this.width=Ot}eq(Ot){return Ot.width==this.width}toDOM(){let Ot=document.createElement("span");return Ot.textContent="	",Ot.className="cm-tab",Ot.style.width=this.width+"px",Ot}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(tr){this.decorations=this.getDeco(tr)}update(tr){(tr.docChanged||tr.selectionSet)&&(this.decorations=this.getDeco(tr.view))}getDeco(tr){let Ot=-1,Nt=[];for(let er of tr.state.selection.ranges){let rr=tr.lineBlockAt(er.head);rr.from>Ot&&(Nt.push(lineDeco.range(rr.from)),Ot=rr.from)}return Decoration.set(Nt)}},{decorations:tr=>tr.decorations});class Placeholder extends WidgetType{constructor(Ot){super(),this.content=Ot}toDOM(){let Ot=document.createElement("span");return Ot.className="cm-placeholder",Ot.style.pointerEvents="none",Ot.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?Ot.setAttribute("aria-label","placeholder "+this.content):Ot.setAttribute("aria-hidden","true"),Ot}coordsAt(Ot){let Nt=Ot.firstChild?clientRectsFor(Ot.firstChild):[];if(!Nt.length)return null;let er=window.getComputedStyle(Ot.parentNode),rr=flattenRect(Nt[0],er.direction!="rtl"),ir=parseInt(er.lineHeight);return rr.bottom-rr.top>ir*1.5?{left:rr.left,right:rr.right,top:rr.top,bottom:rr.top+ir}:rr}ignoreEvent(){return!1}}function placeholder(tr){return ViewPlugin.fromClass(class{constructor(Ot){this.view=Ot,this.placeholder=tr?Decoration.set([Decoration.widget({widget:new Placeholder(tr),side:1}).range(0)]):Decoration.none}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:Ot=>Ot.decorations})}const MaxOff=2e3;function rectangleFor(tr,Ot,Nt){let er=Math.min(Ot.line,Nt.line),rr=Math.max(Ot.line,Nt.line),ir=[];if(Ot.off>MaxOff||Nt.off>MaxOff||Ot.col<0||Nt.col<0){let nr=Math.min(Ot.off,Nt.off),sr=Math.max(Ot.off,Nt.off);for(let ar=er;ar<=rr;ar++){let lr=tr.doc.line(ar);lr.length<=sr&&ir.push(EditorSelection.range(lr.from+nr,lr.to+sr))}}else{let nr=Math.min(Ot.col,Nt.col),sr=Math.max(Ot.col,Nt.col);for(let ar=er;ar<=rr;ar++){let lr=tr.doc.line(ar),cr=findColumn(lr.text,nr,tr.tabSize,!0);if(cr<0)ir.push(EditorSelection.cursor(lr.to));else{let dr=findColumn(lr.text,sr,tr.tabSize);ir.push(EditorSelection.range(lr.from+cr,lr.from+dr))}}}return ir}function absoluteColumn(tr,Ot){let Nt=tr.coordsAtPos(tr.viewport.from);return Nt?Math.round(Math.abs((Nt.left-Ot)/tr.defaultCharacterWidth)):-1}function getPos(tr,Ot){let Nt=tr.posAtCoords({x:Ot.clientX,y:Ot.clientY},!1),er=tr.state.doc.lineAt(Nt),rr=Nt-er.from,ir=rr>MaxOff?-1:rr==er.length?absoluteColumn(tr,Ot.clientX):countColumn(er.text,tr.state.tabSize,Nt-er.from);return{line:er.number,col:ir,off:rr}}function rectangleSelectionStyle(tr,Ot){let Nt=getPos(tr,Ot),er=tr.state.selection;return Nt?{update(rr){if(rr.docChanged){let ir=rr.changes.mapPos(rr.startState.doc.line(Nt.line).from),nr=rr.state.doc.lineAt(ir);Nt={line:nr.number,col:Nt.col,off:Math.min(Nt.off,nr.length)},er=er.map(rr.changes)}},get(rr,ir,nr){let sr=getPos(tr,rr);if(!sr)return er;let ar=rectangleFor(tr.state,Nt,sr);return ar.length?nr?EditorSelection.create(ar.concat(er.ranges)):EditorSelection.create(ar):er}}:null}function rectangularSelection(tr){let Ot=Nt=>Nt.altKey&&Nt.button==0;return EditorView.mouseSelectionStyle.of((Nt,er)=>Ot(er)?rectangleSelectionStyle(Nt,er):null)}const keys={Alt:[18,tr=>!!tr.altKey],Control:[17,tr=>!!tr.ctrlKey],Shift:[16,tr=>!!tr.shiftKey],Meta:[91,tr=>!!tr.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(tr={}){let[Ot,Nt]=keys[tr.key||"Alt"],er=ViewPlugin.fromClass(class{constructor(rr){this.view=rr,this.isDown=!1}set(rr){this.isDown!=rr&&(this.isDown=rr,this.view.update([]))}},{eventObservers:{keydown(rr){this.set(rr.keyCode==Ot||Nt(rr))},keyup(rr){(rr.keyCode==Ot||!Nt(rr))&&this.set(!1)},mousemove(rr){this.set(Nt(rr))}}});return[er,EditorView.contentAttributes.of(rr=>{var ir;return!((ir=rr.plugin(er))===null||ir===void 0)&&ir.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(Ot,Nt,er,rr){this.facet=Nt,this.createTooltipView=er,this.removeTooltipView=rr,this.input=Ot.state.facet(Nt),this.tooltips=this.input.filter(nr=>nr);let ir=null;this.tooltipViews=this.tooltips.map(nr=>ir=er(nr,ir))}update(Ot,Nt){var er;let rr=Ot.state.facet(this.facet),ir=rr.filter(ar=>ar);if(rr===this.input){for(let ar of this.tooltipViews)ar.update&&ar.update(Ot);return!1}let nr=[],sr=Nt?[]:null;for(let ar=0;ar<ir.length;ar++){let lr=ir[ar],cr=-1;if(lr){for(let dr=0;dr<this.tooltips.length;dr++){let ur=this.tooltips[dr];ur&&ur.create==lr.create&&(cr=dr)}if(cr<0)nr[ar]=this.createTooltipView(lr,ar?nr[ar-1]:null),sr&&(sr[ar]=!!lr.above);else{let dr=nr[ar]=this.tooltipViews[cr];sr&&(sr[ar]=Nt[cr]),dr.update&&dr.update(Ot)}}}for(let ar of this.tooltipViews)nr.indexOf(ar)<0&&(this.removeTooltipView(ar),(er=ar.destroy)===null||er===void 0||er.call(ar));return Nt&&(sr.forEach((ar,lr)=>Nt[lr]=ar),Nt.length=sr.length),this.input=rr,this.tooltips=ir,this.tooltipViews=nr,!0}}function windowSpace(tr){let{win:Ot}=tr;return{top:0,left:0,bottom:Ot.innerHeight,right:Ot.innerWidth}}const tooltipConfig=Facet.define({combine:tr=>{var Ot,Nt,er;return{position:browser$c.ios?"absolute":((Ot=tr.find(rr=>rr.position))===null||Ot===void 0?void 0:Ot.position)||"fixed",parent:((Nt=tr.find(rr=>rr.parent))===null||Nt===void 0?void 0:Nt.parent)||null,tooltipSpace:((er=tr.find(rr=>rr.tooltipSpace))===null||er===void 0?void 0:er.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(tr){this.view=tr,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let Ot=tr.state.facet(tooltipConfig);this.position=Ot.position,this.parent=Ot.parent,this.classes=tr.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(tr,showTooltip,(Nt,er)=>this.createTooltip(Nt,er),Nt=>{this.resizeObserver&&this.resizeObserver.unobserve(Nt.dom),Nt.dom.remove()}),this.above=this.manager.tooltips.map(Nt=>!!Nt.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(Nt=>{Date.now()>this.lastTransaction-50&&Nt.length>0&&Nt[Nt.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),tr.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let tr of this.manager.tooltipViews)this.intersectionObserver.observe(tr.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(tr){tr.transactions.length&&(this.lastTransaction=Date.now());let Ot=this.manager.update(tr,this.above);Ot&&this.observeIntersection();let Nt=Ot||tr.geometryChanged,er=tr.state.facet(tooltipConfig);if(er.position!=this.position&&!this.madeAbsolute){this.position=er.position;for(let rr of this.manager.tooltipViews)rr.dom.style.position=this.position;Nt=!0}if(er.parent!=this.parent){this.parent&&this.container.remove(),this.parent=er.parent,this.createContainer();for(let rr of this.manager.tooltipViews)this.container.appendChild(rr.dom);Nt=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);Nt&&this.maybeMeasure()}createTooltip(tr,Ot){let Nt=tr.create(this.view),er=Ot?Ot.dom:null;if(Nt.dom.classList.add("cm-tooltip"),tr.arrow&&!Nt.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let rr=document.createElement("div");rr.className="cm-tooltip-arrow",Nt.dom.appendChild(rr)}return Nt.dom.style.position=this.position,Nt.dom.style.top=Outside,Nt.dom.style.left="0px",this.container.insertBefore(Nt.dom,er),Nt.mount&&Nt.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(Nt.dom),Nt}destroy(){var tr,Ot,Nt;this.view.win.removeEventListener("resize",this.measureSoon);for(let er of this.manager.tooltipViews)er.dom.remove(),(tr=er.destroy)===null||tr===void 0||tr.call(er);this.parent&&this.container.remove(),(Ot=this.resizeObserver)===null||Ot===void 0||Ot.disconnect(),(Nt=this.intersectionObserver)===null||Nt===void 0||Nt.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let tr=this.view.dom.getBoundingClientRect(),Ot=1,Nt=1,er=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:rr}=this.manager.tooltipViews[0];if(browser$c.gecko)er=rr.offsetParent!=this.container.ownerDocument.body;else if(rr.style.top==Outside&&rr.style.left=="0px"){let ir=rr.getBoundingClientRect();er=Math.abs(ir.top+1e4)>1||Math.abs(ir.left)>1}}if(er||this.position=="absolute")if(this.parent){let rr=this.parent.getBoundingClientRect();rr.width&&rr.height&&(Ot=rr.width/this.parent.offsetWidth,Nt=rr.height/this.parent.offsetHeight)}else({scaleX:Ot,scaleY:Nt}=this.view.viewState);return{editor:tr,parent:this.parent?this.container.getBoundingClientRect():tr,pos:this.manager.tooltips.map((rr,ir)=>{let nr=this.manager.tooltipViews[ir];return nr.getCoords?nr.getCoords(rr.pos):this.view.coordsAtPos(rr.pos)}),size:this.manager.tooltipViews.map(({dom:rr})=>rr.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:Ot,scaleY:Nt,makeAbsolute:er}}writeMeasure(tr){var Ot;if(tr.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let sr of this.manager.tooltipViews)sr.dom.style.position="absolute"}let{editor:Nt,space:er,scaleX:rr,scaleY:ir}=tr,nr=[];for(let sr=0;sr<this.manager.tooltips.length;sr++){let ar=this.manager.tooltips[sr],lr=this.manager.tooltipViews[sr],{dom:cr}=lr,dr=tr.pos[sr],ur=tr.size[sr];if(!dr||dr.bottom<=Math.max(Nt.top,er.top)||dr.top>=Math.min(Nt.bottom,er.bottom)||dr.right<Math.max(Nt.left,er.left)-.1||dr.left>Math.min(Nt.right,er.right)+.1){cr.style.top=Outside;continue}let fr=ar.arrow?lr.dom.querySelector(".cm-tooltip-arrow"):null,hr=fr?7:0,pr=ur.right-ur.left,gr=(Ot=knownHeight.get(lr))!==null&&Ot!==void 0?Ot:ur.bottom-ur.top,br=lr.offset||noOffset,vr=this.view.textDirection==Direction.LTR,kr=ur.width>er.right-er.left?vr?er.left:er.right-ur.width:vr?Math.min(dr.left-(fr?14:0)+br.x,er.right-pr):Math.max(er.left,dr.left-pr+(fr?14:0)-br.x),Sr=this.above[sr];!ar.strictSide&&(Sr?dr.top-(ur.bottom-ur.top)-br.y<er.top:dr.bottom+(ur.bottom-ur.top)+br.y>er.bottom)&&Sr==er.bottom-dr.bottom>dr.top-er.top&&(Sr=this.above[sr]=!Sr);let Cr=(Sr?dr.top-er.top:er.bottom-dr.bottom)-hr;if(Cr<gr&&lr.resize!==!1){if(Cr<this.view.defaultLineHeight){cr.style.top=Outside;continue}knownHeight.set(lr,gr),cr.style.height=(gr=Cr)/ir+"px"}else cr.style.height&&(cr.style.height="");let Ar=Sr?dr.top-gr-hr-br.y:dr.bottom+hr+br.y,Ir=kr+pr;if(lr.overlap!==!0)for(let qr of nr)qr.left<Ir&&qr.right>kr&&qr.top<Ar+gr&&qr.bottom>Ar&&(Ar=Sr?qr.top-gr-2-hr:qr.bottom+hr+2);if(this.position=="absolute"?(cr.style.top=(Ar-tr.parent.top)/ir+"px",cr.style.left=(kr-tr.parent.left)/rr+"px"):(cr.style.top=Ar/ir+"px",cr.style.left=kr/rr+"px"),fr){let qr=dr.left+(vr?br.x:-br.x)-(kr+14-7);fr.style.left=qr/rr+"px"}lr.overlap!==!0&&nr.push({left:kr,top:Ar,right:Ir,bottom:Ar+gr}),cr.classList.toggle("cm-tooltip-above",Sr),cr.classList.toggle("cm-tooltip-below",!Sr),lr.positioned&&lr.positioned(tr.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let tr of this.manager.tooltipViews)tr.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}}),baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:tr=>tr.reduce((Ot,Nt)=>Ot.concat(Nt),[])});class HoverTooltipHost{static create(Ot){return new HoverTooltipHost(Ot)}constructor(Ot){this.view=Ot,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(Ot,showHoverTooltip,(Nt,er)=>this.createHostedView(Nt,er),Nt=>Nt.dom.remove())}createHostedView(Ot,Nt){let er=Ot.create(this.view);return er.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(er.dom,Nt?Nt.dom.nextSibling:this.dom.firstChild),this.mounted&&er.mount&&er.mount(this.view),er}mount(Ot){for(let Nt of this.manager.tooltipViews)Nt.mount&&Nt.mount(Ot);this.mounted=!0}positioned(Ot){for(let Nt of this.manager.tooltipViews)Nt.positioned&&Nt.positioned(Ot)}update(Ot){this.manager.update(Ot)}destroy(){var Ot;for(let Nt of this.manager.tooltipViews)(Ot=Nt.destroy)===null||Ot===void 0||Ot.call(Nt)}passProp(Ot){let Nt;for(let er of this.manager.tooltipViews){let rr=er[Ot];if(rr!==void 0){if(Nt===void 0)Nt=rr;else if(Nt!==rr)return}}return Nt}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],tr=>{let Ot=tr.facet(showHoverTooltip);return Ot.length===0?null:{pos:Math.min(...Ot.map(Nt=>Nt.pos)),end:Math.max(...Ot.map(Nt=>{var er;return(er=Nt.end)!==null&&er!==void 0?er:Nt.pos})),create:HoverTooltipHost.create,above:Ot[0].above,arrow:Ot.some(Nt=>Nt.arrow)}});class HoverPlugin{constructor(Ot,Nt,er,rr,ir){this.view=Ot,this.source=Nt,this.field=er,this.setHover=rr,this.hoverTime=ir,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:Ot.dom,time:0},this.checkHover=this.checkHover.bind(this),Ot.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),Ot.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let Ot=Date.now()-this.lastMove.time;Ot<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-Ot):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:Ot,lastMove:Nt}=this,er=Ot.docView.nearest(Nt.target);if(!er)return;let rr,ir=1;if(er instanceof WidgetView)rr=er.posAtStart;else{if(rr=Ot.posAtCoords(Nt),rr==null)return;let sr=Ot.coordsAtPos(rr);if(!sr||Nt.y<sr.top||Nt.y>sr.bottom||Nt.x<sr.left-Ot.defaultCharacterWidth||Nt.x>sr.right+Ot.defaultCharacterWidth)return;let ar=Ot.bidiSpans(Ot.state.doc.lineAt(rr)).find(cr=>cr.from<=rr&&cr.to>=rr),lr=ar&&ar.dir==Direction.RTL?-1:1;ir=Nt.x<sr.left?-lr:lr}let nr=this.source(Ot,rr,ir);if(nr!=null&&nr.then){let sr=this.pending={pos:rr};nr.then(ar=>{this.pending==sr&&(this.pending=null,ar&&!(Array.isArray(ar)&&!ar.length)&&Ot.dispatch({effects:this.setHover.of(Array.isArray(ar)?ar:[ar])}))},ar=>logException(Ot.state,ar,"hover tooltip"))}else nr&&!(Array.isArray(nr)&&!nr.length)&&Ot.dispatch({effects:this.setHover.of(Array.isArray(nr)?nr:[nr])})}get tooltip(){let Ot=this.view.plugin(tooltipPlugin),Nt=Ot?Ot.manager.tooltips.findIndex(er=>er.create==HoverTooltipHost.create):-1;return Nt>-1?Ot.manager.tooltipViews[Nt]:null}mousemove(Ot){var Nt,er;this.lastMove={x:Ot.clientX,y:Ot.clientY,target:Ot.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:rr,tooltip:ir}=this;if(rr.length&&ir&&!isInTooltip(ir.dom,Ot)||this.pending){let{pos:nr}=rr[0]||this.pending,sr=(er=(Nt=rr[0])===null||Nt===void 0?void 0:Nt.end)!==null&&er!==void 0?er:nr;(nr==sr?this.view.posAtCoords(this.lastMove)!=nr:!isOverRange(this.view,nr,sr,Ot.clientX,Ot.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(Ot){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:Nt}=this;if(Nt.length){let{tooltip:er}=this;er&&er.dom.contains(Ot.relatedTarget)?this.watchTooltipLeave(er.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(Ot){let Nt=er=>{Ot.removeEventListener("mouseleave",Nt),this.active.length&&!this.view.dom.contains(er.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};Ot.addEventListener("mouseleave",Nt)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(tr,Ot){let Nt=tr.getBoundingClientRect();return Ot.clientX>=Nt.left-tooltipMargin&&Ot.clientX<=Nt.right+tooltipMargin&&Ot.clientY>=Nt.top-tooltipMargin&&Ot.clientY<=Nt.bottom+tooltipMargin}function isOverRange(tr,Ot,Nt,er,rr,ir){let nr=tr.scrollDOM.getBoundingClientRect(),sr=tr.documentTop+tr.documentPadding.top+tr.contentHeight;if(nr.left>er||nr.right<er||nr.top>rr||Math.min(nr.bottom,sr)<rr)return!1;let ar=tr.posAtCoords({x:er,y:rr},!1);return ar>=Ot&&ar<=Nt}function hoverTooltip(tr,Ot={}){let Nt=StateEffect.define(),er=StateField.define({create(){return[]},update(rr,ir){if(rr.length&&(Ot.hideOnChange&&(ir.docChanged||ir.selection)?rr=[]:Ot.hideOn&&(rr=rr.filter(nr=>!Ot.hideOn(ir,nr))),ir.docChanged)){let nr=[];for(let sr of rr){let ar=ir.changes.mapPos(sr.pos,-1,MapMode.TrackDel);if(ar!=null){let lr=Object.assign(Object.create(null),sr);lr.pos=ar,lr.end!=null&&(lr.end=ir.changes.mapPos(lr.end)),nr.push(lr)}}rr=nr}for(let nr of ir.effects)nr.is(Nt)&&(rr=nr.value),nr.is(closeHoverTooltipEffect)&&(rr=[]);return rr},provide:rr=>showHoverTooltip.from(rr)});return[er,ViewPlugin.define(rr=>new HoverPlugin(rr,tr,er,Nt,Ot.hoverTime||300)),showHoverTooltipHost]}function getTooltip(tr,Ot){let Nt=tr.plugin(tooltipPlugin);if(!Nt)return null;let er=Nt.manager.tooltips.indexOf(Ot);return er<0?null:Nt.manager.tooltipViews[er]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(tr){let Ot,Nt;for(let er of tr)Ot=Ot||er.topContainer,Nt=Nt||er.bottomContainer;return{topContainer:Ot,bottomContainer:Nt}}});function getPanel(tr,Ot){let Nt=tr.plugin(panelPlugin),er=Nt?Nt.specs.indexOf(Ot):-1;return er>-1?Nt.panels[er]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(tr){this.input=tr.state.facet(showPanel),this.specs=this.input.filter(Nt=>Nt),this.panels=this.specs.map(Nt=>Nt(tr));let Ot=tr.state.facet(panelConfig);this.top=new PanelGroup(tr,!0,Ot.topContainer),this.bottom=new PanelGroup(tr,!1,Ot.bottomContainer),this.top.sync(this.panels.filter(Nt=>Nt.top)),this.bottom.sync(this.panels.filter(Nt=>!Nt.top));for(let Nt of this.panels)Nt.dom.classList.add("cm-panel"),Nt.mount&&Nt.mount()}update(tr){let Ot=tr.state.facet(panelConfig);this.top.container!=Ot.topContainer&&(this.top.sync([]),this.top=new PanelGroup(tr.view,!0,Ot.topContainer)),this.bottom.container!=Ot.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(tr.view,!1,Ot.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let Nt=tr.state.facet(showPanel);if(Nt!=this.input){let er=Nt.filter(ar=>ar),rr=[],ir=[],nr=[],sr=[];for(let ar of er){let lr=this.specs.indexOf(ar),cr;lr<0?(cr=ar(tr.view),sr.push(cr)):(cr=this.panels[lr],cr.update&&cr.update(tr)),rr.push(cr),(cr.top?ir:nr).push(cr)}this.specs=er,this.panels=rr,this.top.sync(ir),this.bottom.sync(nr);for(let ar of sr)ar.dom.classList.add("cm-panel"),ar.mount&&ar.mount()}else for(let er of this.panels)er.update&&er.update(tr)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:tr=>EditorView.scrollMargins.of(Ot=>{let Nt=Ot.plugin(tr);return Nt&&{top:Nt.top.scrollMargin(),bottom:Nt.bottom.scrollMargin()}})});class PanelGroup{constructor(Ot,Nt,er){this.view=Ot,this.top=Nt,this.container=er,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(Ot){for(let Nt of this.panels)Nt.destroy&&Ot.indexOf(Nt)<0&&Nt.destroy();this.panels=Ot,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let Nt=this.container||this.view.dom;Nt.insertBefore(this.dom,this.top?Nt.firstChild:null)}let Ot=this.dom.firstChild;for(let Nt of this.panels)if(Nt.dom.parentNode==this.dom){for(;Ot!=Nt.dom;)Ot=rm(Ot);Ot=Ot.nextSibling}else this.dom.insertBefore(Nt.dom,Ot);for(;Ot;)Ot=rm(Ot)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let Ot of this.classes.split(" "))Ot&&this.container.classList.remove(Ot);for(let Ot of(this.classes=this.view.themeClasses).split(" "))Ot&&this.container.classList.add(Ot)}}}function rm(tr){let Ot=tr.nextSibling;return tr.remove(),Ot}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(Ot){return this==Ot||this.constructor==Ot.constructor&&this.eq(Ot)}eq(Ot){return!1}destroy(Ot){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(tr){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),tr))]}const unfixGutters=Facet.define({combine:tr=>tr.some(Ot=>Ot)});function gutters(tr){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(tr){this.view=tr,this.prevViewport=tr.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=tr.state.facet(activeGutters).map(Ot=>new SingleGutterView(tr,Ot));for(let Ot of this.gutters)this.dom.appendChild(Ot.dom);this.fixed=!tr.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),tr.scrollDOM.insertBefore(this.dom,tr.contentDOM)}update(tr){if(this.updateGutters(tr)){let Ot=this.prevViewport,Nt=tr.view.viewport,er=Math.min(Ot.to,Nt.to)-Math.max(Ot.from,Nt.from);this.syncGutters(er<(Nt.to-Nt.from)*.8)}tr.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=tr.view.viewport}syncGutters(tr){let Ot=this.dom.nextSibling;tr&&this.dom.remove();let Nt=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),er=[],rr=this.gutters.map(ir=>new UpdateContext(ir,this.view.viewport,-this.view.documentPadding.top));for(let ir of this.view.viewportLineBlocks)if(er.length&&(er=[]),Array.isArray(ir.type)){let nr=!0;for(let sr of ir.type)if(sr.type==BlockType.Text&&nr){advanceCursor(Nt,er,sr.from);for(let ar of rr)ar.line(this.view,sr,er);nr=!1}else if(sr.widget)for(let ar of rr)ar.widget(this.view,sr)}else if(ir.type==BlockType.Text){advanceCursor(Nt,er,ir.from);for(let nr of rr)nr.line(this.view,ir,er)}else if(ir.widget)for(let nr of rr)nr.widget(this.view,ir);for(let ir of rr)ir.finish();tr&&this.view.scrollDOM.insertBefore(this.dom,Ot)}updateGutters(tr){let Ot=tr.startState.facet(activeGutters),Nt=tr.state.facet(activeGutters),er=tr.docChanged||tr.heightChanged||tr.viewportChanged||!RangeSet.eq(tr.startState.facet(gutterLineClass),tr.state.facet(gutterLineClass),tr.view.viewport.from,tr.view.viewport.to);if(Ot==Nt)for(let rr of this.gutters)rr.update(tr)&&(er=!0);else{er=!0;let rr=[];for(let ir of Nt){let nr=Ot.indexOf(ir);nr<0?rr.push(new SingleGutterView(this.view,ir)):(this.gutters[nr].update(tr),rr.push(this.gutters[nr]))}for(let ir of this.gutters)ir.dom.remove(),rr.indexOf(ir)<0&&ir.destroy();for(let ir of rr)this.dom.appendChild(ir.dom);this.gutters=rr}return er}destroy(){for(let tr of this.gutters)tr.destroy();this.dom.remove()}},{provide:tr=>EditorView.scrollMargins.of(Ot=>{let Nt=Ot.plugin(tr);return!Nt||Nt.gutters.length==0||!Nt.fixed?null:Ot.textDirection==Direction.LTR?{left:Nt.dom.offsetWidth*Ot.scaleX}:{right:Nt.dom.offsetWidth*Ot.scaleX}})});function asArray(tr){return Array.isArray(tr)?tr:[tr]}function advanceCursor(tr,Ot,Nt){for(;tr.value&&tr.from<=Nt;)tr.from==Nt&&Ot.push(tr.value),tr.next()}class UpdateContext{constructor(Ot,Nt,er){this.gutter=Ot,this.height=er,this.i=0,this.cursor=RangeSet.iter(Ot.markers,Nt.from)}addElement(Ot,Nt,er){let{gutter:rr}=this,ir=(Nt.top-this.height)/Ot.scaleY,nr=Nt.height/Ot.scaleY;if(this.i==rr.elements.length){let sr=new GutterElement(Ot,nr,ir,er);rr.elements.push(sr),rr.dom.appendChild(sr.dom)}else rr.elements[this.i].update(Ot,nr,ir,er);this.height=Nt.bottom,this.i++}line(Ot,Nt,er){let rr=[];advanceCursor(this.cursor,rr,Nt.from),er.length&&(rr=rr.concat(er));let ir=this.gutter.config.lineMarker(Ot,Nt,rr);ir&&rr.unshift(ir);let nr=this.gutter;rr.length==0&&!nr.config.renderEmptyElements||this.addElement(Ot,Nt,rr)}widget(Ot,Nt){let er=this.gutter.config.widgetMarker(Ot,Nt.widget,Nt);er&&this.addElement(Ot,Nt,[er])}finish(){let Ot=this.gutter;for(;Ot.elements.length>this.i;){let Nt=Ot.elements.pop();Ot.dom.removeChild(Nt.dom),Nt.destroy()}}}class SingleGutterView{constructor(Ot,Nt){this.view=Ot,this.config=Nt,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let er in Nt.domEventHandlers)this.dom.addEventListener(er,rr=>{let ir=rr.target,nr;if(ir!=this.dom&&this.dom.contains(ir)){for(;ir.parentNode!=this.dom;)ir=ir.parentNode;let ar=ir.getBoundingClientRect();nr=(ar.top+ar.bottom)/2}else nr=rr.clientY;let sr=Ot.lineBlockAtHeight(nr-Ot.documentTop);Nt.domEventHandlers[er](Ot,sr,rr)&&rr.preventDefault()});this.markers=asArray(Nt.markers(Ot)),Nt.initialSpacer&&(this.spacer=new GutterElement(Ot,0,0,[Nt.initialSpacer(Ot)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(Ot){let Nt=this.markers;if(this.markers=asArray(this.config.markers(Ot.view)),this.spacer&&this.config.updateSpacer){let rr=this.config.updateSpacer(this.spacer.markers[0],Ot);rr!=this.spacer.markers[0]&&this.spacer.update(Ot.view,0,0,[rr])}let er=Ot.view.viewport;return!RangeSet.eq(this.markers,Nt,er.from,er.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(Ot):!1)}destroy(){for(let Ot of this.elements)Ot.destroy()}}class GutterElement{constructor(Ot,Nt,er,rr){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(Ot,Nt,er,rr)}update(Ot,Nt,er,rr){this.height!=Nt&&(this.height=Nt,this.dom.style.height=Nt+"px"),this.above!=er&&(this.dom.style.marginTop=(this.above=er)?er+"px":""),sameMarkers(this.markers,rr)||this.setMarkers(Ot,rr)}setMarkers(Ot,Nt){let er="cm-gutterElement",rr=this.dom.firstChild;for(let ir=0,nr=0;;){let sr=nr,ar=ir<Nt.length?Nt[ir++]:null,lr=!1;if(ar){let cr=ar.elementClass;cr&&(er+=" "+cr);for(let dr=nr;dr<this.markers.length;dr++)if(this.markers[dr].compare(ar)){sr=dr,lr=!0;break}}else sr=this.markers.length;for(;nr<sr;){let cr=this.markers[nr++];if(cr.toDOM){cr.destroy(rr);let dr=rr.nextSibling;rr.remove(),rr=dr}}if(!ar)break;ar.toDOM&&(lr?rr=rr.nextSibling:this.dom.insertBefore(ar.toDOM(Ot),rr)),lr&&nr++}this.dom.className=er,this.markers=Nt}destroy(){this.setMarkers(null,[])}}function sameMarkers(tr,Ot){if(tr.length!=Ot.length)return!1;for(let Nt=0;Nt<tr.length;Nt++)if(!tr[Nt].compare(Ot[Nt]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberConfig=Facet.define({combine(tr){return combineConfig(tr,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(Ot,Nt){let er=Object.assign({},Ot);for(let rr in Nt){let ir=er[rr],nr=Nt[rr];er[rr]=ir?(sr,ar,lr)=>ir(sr,ar,lr)||nr(sr,ar,lr):nr}return er}})}});class NumberMarker extends GutterMarker{constructor(Ot){super(),this.number=Ot}eq(Ot){return this.number==Ot.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(tr,Ot){return tr.state.facet(lineNumberConfig).formatNumber(Ot,tr.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],tr=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(Ot){return Ot.state.facet(lineNumberMarkers)},lineMarker(Ot,Nt,er){return er.some(rr=>rr.toDOM)?null:new NumberMarker(formatNumber(Ot,Ot.state.doc.lineAt(Nt.from).number))},widgetMarker:()=>null,lineMarkerChange:Ot=>Ot.startState.facet(lineNumberConfig)!=Ot.state.facet(lineNumberConfig),initialSpacer(Ot){return new NumberMarker(formatNumber(Ot,maxLineNumber(Ot.state.doc.lines)))},updateSpacer(Ot,Nt){let er=formatNumber(Nt.view,maxLineNumber(Nt.view.state.doc.lines));return er==Ot.number?Ot:new NumberMarker(er)},domEventHandlers:tr.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(tr={}){return[lineNumberConfig.of(tr),gutters(),lineNumberGutter]}function maxLineNumber(tr){let Ot=9;for(;Ot<tr;)Ot=Ot*10+9;return Ot}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],tr=>{let Ot=[],Nt=-1;for(let er of tr.selection.ranges){let rr=tr.doc.lineAt(er.head).from;rr>Nt&&(Nt=rr,Ot.push(activeLineGutterMarker.range(rr)))}return RangeSet.of(Ot)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0,Range$1=class{constructor(Ot,Nt){this.from=Ot,this.to=Nt}};class NodeProp{constructor(Ot={}){this.id=nextPropID++,this.perNode=!!Ot.perNode,this.deserialize=Ot.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(Ot){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof Ot!="function"&&(Ot=NodeType.match(Ot)),Nt=>{let er=Ot(Nt);return er===void 0?null:[this,er]}}}NodeProp.closedBy=new NodeProp({deserialize:tr=>tr.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:tr=>tr.split(" ")});NodeProp.group=new NodeProp({deserialize:tr=>tr.split(" ")});NodeProp.isolate=new NodeProp({deserialize:tr=>{if(tr&&tr!="rtl"&&tr!="ltr"&&tr!="auto")throw new RangeError("Invalid value for isolate: "+tr);return tr||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(Ot,Nt,er){this.tree=Ot,this.overlay=Nt,this.parser=er}static get(Ot){return Ot&&Ot.props&&Ot.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(Ot,Nt,er,rr=0){this.name=Ot,this.props=Nt,this.id=er,this.flags=rr}static define(Ot){let Nt=Ot.props&&Ot.props.length?Object.create(null):noProps,er=(Ot.top?1:0)|(Ot.skipped?2:0)|(Ot.error?4:0)|(Ot.name==null?8:0),rr=new NodeType(Ot.name||"",Nt,Ot.id,er);if(Ot.props){for(let ir of Ot.props)if(Array.isArray(ir)||(ir=ir(rr)),ir){if(ir[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");Nt[ir[0].id]=ir[1]}}return rr}prop(Ot){return this.props[Ot.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(Ot){if(typeof Ot=="string"){if(this.name==Ot)return!0;let Nt=this.prop(NodeProp.group);return Nt?Nt.indexOf(Ot)>-1:!1}return this.id==Ot}static match(Ot){let Nt=Object.create(null);for(let er in Ot)for(let rr of er.split(" "))Nt[rr]=Ot[er];return er=>{for(let rr=er.prop(NodeProp.group),ir=-1;ir<(rr?rr.length:0);ir++){let nr=Nt[ir<0?er.name:rr[ir]];if(nr)return nr}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(Ot){this.types=Ot;for(let Nt=0;Nt<Ot.length;Nt++)if(Ot[Nt].id!=Nt)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...Ot){let Nt=[];for(let er of this.types){let rr=null;for(let ir of Ot){let nr=ir(er);nr&&(rr||(rr=Object.assign({},er.props)),rr[nr[0].id]=nr[1])}Nt.push(rr?new NodeType(er.name,rr,er.id,er.flags):er)}return new NodeSet(Nt)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(tr){tr[tr.ExcludeBuffers=1]="ExcludeBuffers",tr[tr.IncludeAnonymous=2]="IncludeAnonymous",tr[tr.IgnoreMounts=4]="IgnoreMounts",tr[tr.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(Ot,Nt,er,rr,ir){if(this.type=Ot,this.children=Nt,this.positions=er,this.length=rr,this.props=null,ir&&ir.length){this.props=Object.create(null);for(let[nr,sr]of ir)this.props[typeof nr=="number"?nr:nr.id]=sr}}toString(){let Ot=MountedTree.get(this);if(Ot&&!Ot.overlay)return Ot.tree.toString();let Nt="";for(let er of this.children){let rr=er.toString();rr&&(Nt&&(Nt+=","),Nt+=rr)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(Nt.length?"("+Nt+")":""):Nt}cursor(Ot=0){return new TreeCursor(this.topNode,Ot)}cursorAt(Ot,Nt=0,er=0){let rr=CachedNode.get(this)||this.topNode,ir=new TreeCursor(rr);return ir.moveTo(Ot,Nt),CachedNode.set(this,ir._tree),ir}get topNode(){return new TreeNode(this,0,0,null)}resolve(Ot,Nt=0){let er=resolveNode(CachedNode.get(this)||this.topNode,Ot,Nt,!1);return CachedNode.set(this,er),er}resolveInner(Ot,Nt=0){let er=resolveNode(CachedInnerNode.get(this)||this.topNode,Ot,Nt,!0);return CachedInnerNode.set(this,er),er}resolveStack(Ot,Nt=0){return stackIterator(this,Ot,Nt)}iterate(Ot){let{enter:Nt,leave:er,from:rr=0,to:ir=this.length}=Ot,nr=Ot.mode||0,sr=(nr&IterMode.IncludeAnonymous)>0;for(let ar=this.cursor(nr|IterMode.IncludeAnonymous);;){let lr=!1;if(ar.from<=ir&&ar.to>=rr&&(!sr&&ar.type.isAnonymous||Nt(ar)!==!1)){if(ar.firstChild())continue;lr=!0}for(;lr&&er&&(sr||!ar.type.isAnonymous)&&er(ar),!ar.nextSibling();){if(!ar.parent())return;lr=!0}}}prop(Ot){return Ot.perNode?this.props?this.props[Ot.id]:void 0:this.type.prop(Ot)}get propValues(){let Ot=[];if(this.props)for(let Nt in this.props)Ot.push([+Nt,this.props[Nt]]);return Ot}balance(Ot={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(Nt,er,rr)=>new Tree(this.type,Nt,er,rr,this.propValues),Ot.makeTree||((Nt,er,rr)=>new Tree(NodeType.none,Nt,er,rr)))}static build(Ot){return buildTree(Ot)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(Ot,Nt){this.buffer=Ot,this.index=Nt}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(Ot,Nt,er){this.buffer=Ot,this.length=Nt,this.set=er}get type(){return NodeType.none}toString(){let Ot=[];for(let Nt=0;Nt<this.buffer.length;)Ot.push(this.childString(Nt)),Nt=this.buffer[Nt+3];return Ot.join(",")}childString(Ot){let Nt=this.buffer[Ot],er=this.buffer[Ot+3],rr=this.set.types[Nt],ir=rr.name;if(/\W/.test(ir)&&!rr.isError&&(ir=JSON.stringify(ir)),Ot+=4,er==Ot)return ir;let nr=[];for(;Ot<er;)nr.push(this.childString(Ot)),Ot=this.buffer[Ot+3];return ir+"("+nr.join(",")+")"}findChild(Ot,Nt,er,rr,ir){let{buffer:nr}=this,sr=-1;for(let ar=Ot;ar!=Nt&&!(checkSide(ir,rr,nr[ar+1],nr[ar+2])&&(sr=ar,er>0));ar=nr[ar+3]);return sr}slice(Ot,Nt,er){let rr=this.buffer,ir=new Uint16Array(Nt-Ot),nr=0;for(let sr=Ot,ar=0;sr<Nt;){ir[ar++]=rr[sr++],ir[ar++]=rr[sr++]-er;let lr=ir[ar++]=rr[sr++]-er;ir[ar++]=rr[sr++]-Ot,nr=Math.max(nr,lr)}return new TreeBuffer(ir,nr,this.set)}}function checkSide(tr,Ot,Nt,er){switch(tr){case-2:return Nt<Ot;case-1:return er>=Ot&&Nt<Ot;case 0:return Nt<Ot&&er>Ot;case 1:return Nt<=Ot&&er>Ot;case 2:return er>Ot;case 4:return!0}}function resolveNode(tr,Ot,Nt,er){for(var rr;tr.from==tr.to||(Nt<1?tr.from>=Ot:tr.from>Ot)||(Nt>-1?tr.to<=Ot:tr.to<Ot);){let nr=!er&&tr instanceof TreeNode&&tr.index<0?null:tr.parent;if(!nr)return tr;tr=nr}let ir=er?0:IterMode.IgnoreOverlays;if(er)for(let nr=tr,sr=nr.parent;sr;nr=sr,sr=nr.parent)nr instanceof TreeNode&&nr.index<0&&((rr=sr.enter(Ot,Nt,ir))===null||rr===void 0?void 0:rr.from)!=nr.from&&(tr=sr);for(;;){let nr=tr.enter(Ot,Nt,ir);if(!nr)return tr;tr=nr}}class BaseNode{cursor(Ot=0){return new TreeCursor(this,Ot)}getChild(Ot,Nt=null,er=null){let rr=getChildren$1(this,Ot,Nt,er);return rr.length?rr[0]:null}getChildren(Ot,Nt=null,er=null){return getChildren$1(this,Ot,Nt,er)}resolve(Ot,Nt=0){return resolveNode(this,Ot,Nt,!1)}resolveInner(Ot,Nt=0){return resolveNode(this,Ot,Nt,!0)}matchContext(Ot){return matchNodeContext(this,Ot)}enterUnfinishedNodesBefore(Ot){let Nt=this.childBefore(Ot),er=this;for(;Nt;){let rr=Nt.lastChild;if(!rr||rr.to!=Nt.to)break;rr.type.isError&&rr.from==rr.to?(er=Nt,Nt=rr.prevSibling):Nt=rr}return er}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(Ot,Nt,er,rr){super(),this._tree=Ot,this.from=Nt,this.index=er,this._parent=rr}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(Ot,Nt,er,rr,ir=0){for(let nr=this;;){for(let{children:sr,positions:ar}=nr._tree,lr=Nt>0?sr.length:-1;Ot!=lr;Ot+=Nt){let cr=sr[Ot],dr=ar[Ot]+nr.from;if(checkSide(rr,er,dr,dr+cr.length)){if(cr instanceof TreeBuffer){if(ir&IterMode.ExcludeBuffers)continue;let ur=cr.findChild(0,cr.buffer.length,Nt,er-dr,rr);if(ur>-1)return new BufferNode(new BufferContext(nr,cr,Ot,dr),null,ur)}else if(ir&IterMode.IncludeAnonymous||!cr.type.isAnonymous||hasChild(cr)){let ur;if(!(ir&IterMode.IgnoreMounts)&&(ur=MountedTree.get(cr))&&!ur.overlay)return new TreeNode(ur.tree,dr,Ot,nr);let fr=new TreeNode(cr,dr,Ot,nr);return ir&IterMode.IncludeAnonymous||!fr.type.isAnonymous?fr:fr.nextChild(Nt<0?cr.children.length-1:0,Nt,er,rr)}}}if(ir&IterMode.IncludeAnonymous||!nr.type.isAnonymous||(nr.index>=0?Ot=nr.index+Nt:Ot=Nt<0?-1:nr._parent._tree.children.length,nr=nr._parent,!nr))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(Ot){return this.nextChild(0,1,Ot,2)}childBefore(Ot){return this.nextChild(this._tree.children.length-1,-1,Ot,-2)}enter(Ot,Nt,er=0){let rr;if(!(er&IterMode.IgnoreOverlays)&&(rr=MountedTree.get(this._tree))&&rr.overlay){let ir=Ot-this.from;for(let{from:nr,to:sr}of rr.overlay)if((Nt>0?nr<=ir:nr<ir)&&(Nt<0?sr>=ir:sr>ir))return new TreeNode(rr.tree,rr.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,Ot,Nt,er)}nextSignificantParent(){let Ot=this;for(;Ot.type.isAnonymous&&Ot._parent;)Ot=Ot._parent;return Ot}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren$1(tr,Ot,Nt,er){let rr=tr.cursor(),ir=[];if(!rr.firstChild())return ir;if(Nt!=null){for(let nr=!1;!nr;)if(nr=rr.type.is(Nt),!rr.nextSibling())return ir}for(;;){if(er!=null&&rr.type.is(er))return ir;if(rr.type.is(Ot)&&ir.push(rr.node),!rr.nextSibling())return er==null?ir:[]}}function matchNodeContext(tr,Ot,Nt=Ot.length-1){for(let er=tr.parent;Nt>=0;er=er.parent){if(!er)return!1;if(!er.type.isAnonymous){if(Ot[Nt]&&Ot[Nt]!=er.name)return!1;Nt--}}return!0}class BufferContext{constructor(Ot,Nt,er,rr){this.parent=Ot,this.buffer=Nt,this.index=er,this.start=rr}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(Ot,Nt,er){super(),this.context=Ot,this._parent=Nt,this.index=er,this.type=Ot.buffer.set.types[Ot.buffer.buffer[er]]}child(Ot,Nt,er){let{buffer:rr}=this.context,ir=rr.findChild(this.index+4,rr.buffer[this.index+3],Ot,Nt-this.context.start,er);return ir<0?null:new BufferNode(this.context,this,ir)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(Ot){return this.child(1,Ot,2)}childBefore(Ot){return this.child(-1,Ot,-2)}enter(Ot,Nt,er=0){if(er&IterMode.ExcludeBuffers)return null;let{buffer:rr}=this.context,ir=rr.findChild(this.index+4,rr.buffer[this.index+3],Nt>0?1:-1,Ot-this.context.start,Nt);return ir<0?null:new BufferNode(this.context,this,ir)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(Ot){return this._parent?null:this.context.parent.nextChild(this.context.index+Ot,Ot,0,4)}get nextSibling(){let{buffer:Ot}=this.context,Nt=Ot.buffer[this.index+3];return Nt<(this._parent?Ot.buffer[this._parent.index+3]:Ot.buffer.length)?new BufferNode(this.context,this._parent,Nt):this.externalSibling(1)}get prevSibling(){let{buffer:Ot}=this.context,Nt=this._parent?this._parent.index+4:0;return this.index==Nt?this.externalSibling(-1):new BufferNode(this.context,this._parent,Ot.findChild(Nt,this.index,-1,0,4))}get tree(){return null}toTree(){let Ot=[],Nt=[],{buffer:er}=this.context,rr=this.index+4,ir=er.buffer[this.index+3];if(ir>rr){let nr=er.buffer[this.index+1];Ot.push(er.slice(rr,ir,nr)),Nt.push(0)}return new Tree(this.type,Ot,Nt,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(tr){if(!tr.length)return null;let Ot=0,Nt=tr[0];for(let ir=1;ir<tr.length;ir++){let nr=tr[ir];(nr.from>Nt.from||nr.to<Nt.to)&&(Nt=nr,Ot=ir)}let er=Nt instanceof TreeNode&&Nt.index<0?null:Nt.parent,rr=tr.slice();return er?rr[Ot]=er:rr.splice(Ot,1),new StackIterator(rr,Nt)}class StackIterator{constructor(Ot,Nt){this.heads=Ot,this.node=Nt}get next(){return iterStack(this.heads)}}function stackIterator(tr,Ot,Nt){let er=tr.resolveInner(Ot,Nt),rr=null;for(let ir=er instanceof TreeNode?er:er.context.parent;ir;ir=ir.parent)if(ir.index<0){let nr=ir.parent;(rr||(rr=[er])).push(nr.resolve(Ot,Nt)),ir=nr}else{let nr=MountedTree.get(ir.tree);if(nr&&nr.overlay&&nr.overlay[0].from<=Ot&&nr.overlay[nr.overlay.length-1].to>=Ot){let sr=new TreeNode(nr.tree,nr.overlay[0].from+ir.from,-1,ir);(rr||(rr=[er])).push(resolveNode(sr,Ot,Nt,!1))}}return rr?iterStack(rr):er}class TreeCursor{get name(){return this.type.name}constructor(Ot,Nt=0){if(this.mode=Nt,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,Ot instanceof TreeNode)this.yieldNode(Ot);else{this._tree=Ot.context.parent,this.buffer=Ot.context;for(let er=Ot._parent;er;er=er._parent)this.stack.unshift(er.index);this.bufferNode=Ot,this.yieldBuf(Ot.index)}}yieldNode(Ot){return Ot?(this._tree=Ot,this.type=Ot.type,this.from=Ot.from,this.to=Ot.to,!0):!1}yieldBuf(Ot,Nt){this.index=Ot;let{start:er,buffer:rr}=this.buffer;return this.type=Nt||rr.set.types[rr.buffer[Ot]],this.from=er+rr.buffer[Ot+1],this.to=er+rr.buffer[Ot+2],!0}yield(Ot){return Ot?Ot instanceof TreeNode?(this.buffer=null,this.yieldNode(Ot)):(this.buffer=Ot.context,this.yieldBuf(Ot.index,Ot.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(Ot,Nt,er){if(!this.buffer)return this.yield(this._tree.nextChild(Ot<0?this._tree._tree.children.length-1:0,Ot,Nt,er,this.mode));let{buffer:rr}=this.buffer,ir=rr.findChild(this.index+4,rr.buffer[this.index+3],Ot,Nt-this.buffer.start,er);return ir<0?!1:(this.stack.push(this.index),this.yieldBuf(ir))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(Ot){return this.enterChild(1,Ot,2)}childBefore(Ot){return this.enterChild(-1,Ot,-2)}enter(Ot,Nt,er=this.mode){return this.buffer?er&IterMode.ExcludeBuffers?!1:this.enterChild(1,Ot,Nt):this.yield(this._tree.enter(Ot,Nt,er))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let Ot=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(Ot)}sibling(Ot){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+Ot,Ot,0,4,this.mode)):!1;let{buffer:Nt}=this.buffer,er=this.stack.length-1;if(Ot<0){let rr=er<0?0:this.stack[er]+4;if(this.index!=rr)return this.yieldBuf(Nt.findChild(rr,this.index,-1,0,4))}else{let rr=Nt.buffer[this.index+3];if(rr<(er<0?Nt.buffer.length:Nt.buffer[this.stack[er]+3]))return this.yieldBuf(rr)}return er<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+Ot,Ot,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(Ot){let Nt,er,{buffer:rr}=this;if(rr){if(Ot>0){if(this.index<rr.buffer.buffer.length)return!1}else for(let ir=0;ir<this.index;ir++)if(rr.buffer.buffer[ir+3]<this.index)return!1;({index:Nt,parent:er}=rr)}else({index:Nt,_parent:er}=this._tree);for(;er;{index:Nt,_parent:er}=er)if(Nt>-1)for(let ir=Nt+Ot,nr=Ot<0?-1:er._tree.children.length;ir!=nr;ir+=Ot){let sr=er._tree.children[ir];if(this.mode&IterMode.IncludeAnonymous||sr instanceof TreeBuffer||!sr.type.isAnonymous||hasChild(sr))return!1}return!0}move(Ot,Nt){if(Nt&&this.enterChild(Ot,0,4))return!0;for(;;){if(this.sibling(Ot))return!0;if(this.atLastNode(Ot)||!this.parent())return!1}}next(Ot=!0){return this.move(1,Ot)}prev(Ot=!0){return this.move(-1,Ot)}moveTo(Ot,Nt=0){for(;(this.from==this.to||(Nt<1?this.from>=Ot:this.from>Ot)||(Nt>-1?this.to<=Ot:this.to<Ot))&&this.parent(););for(;this.enterChild(1,Ot,Nt););return this}get node(){if(!this.buffer)return this._tree;let Ot=this.bufferNode,Nt=null,er=0;if(Ot&&Ot.context==this.buffer)e:for(let rr=this.index,ir=this.stack.length;ir>=0;){for(let nr=Ot;nr;nr=nr._parent)if(nr.index==rr){if(rr==this.index)return nr;Nt=nr,er=ir+1;break e}rr=this.stack[--ir]}for(let rr=er;rr<this.stack.length;rr++)Nt=new BufferNode(this.buffer,Nt,this.stack[rr]);return this.bufferNode=new BufferNode(this.buffer,Nt,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(Ot,Nt){for(let er=0;;){let rr=!1;if(this.type.isAnonymous||Ot(this)!==!1){if(this.firstChild()){er++;continue}this.type.isAnonymous||(rr=!0)}for(;rr&&Nt&&Nt(this),rr=this.type.isAnonymous,!this.nextSibling();){if(!er)return;this.parent(),er--,rr=!0}}}matchContext(Ot){if(!this.buffer)return matchNodeContext(this.node,Ot);let{buffer:Nt}=this.buffer,{types:er}=Nt.set;for(let rr=Ot.length-1,ir=this.stack.length-1;rr>=0;ir--){if(ir<0)return matchNodeContext(this.node,Ot,rr);let nr=er[Nt.buffer[this.stack[ir]]];if(!nr.isAnonymous){if(Ot[rr]&&Ot[rr]!=nr.name)return!1;rr--}}return!0}}function hasChild(tr){return tr.children.some(Ot=>Ot instanceof TreeBuffer||!Ot.type.isAnonymous||hasChild(Ot))}function buildTree(tr){var Ot;let{buffer:Nt,nodeSet:er,maxBufferLength:rr=DefaultBufferLength,reused:ir=[],minRepeatType:nr=er.types.length}=tr,sr=Array.isArray(Nt)?new FlatBufferCursor(Nt,Nt.length):Nt,ar=er.types,lr=0,cr=0;function dr(Cr,Ar,Ir,qr,Qr,Wr){let{id:jr,start:Or,end:yr,size:xr}=sr,wr=cr;for(;xr<0;)if(sr.next(),xr==-1){let Er=ir[jr];Ir.push(Er),qr.push(Or-Cr);return}else if(xr==-3){lr=jr;return}else if(xr==-4){cr=jr;return}else throw new RangeError(`Unrecognized record size: ${xr}`);let Br=ar[jr],_r,Mr,Tr=Or-Cr;if(yr-Or<=rr&&(Mr=gr(sr.pos-Ar,Qr))){let Er=new Uint16Array(Mr.size-Mr.skip),Pr=sr.pos-Mr.size,Rr=Er.length;for(;sr.pos>Pr;)Rr=br(Mr.start,Er,Rr);_r=new TreeBuffer(Er,yr-Mr.start,er),Tr=Mr.start-Cr}else{let Er=sr.pos-xr;sr.next();let Pr=[],Rr=[],Lr=jr>=nr?jr:-1,Hr=0,Gr=yr;for(;sr.pos>Er;)Lr>=0&&sr.id==Lr&&sr.size>=0?(sr.end<=Gr-rr&&(hr(Pr,Rr,Or,Hr,sr.end,Gr,Lr,wr),Hr=Pr.length,Gr=sr.end),sr.next()):Wr>2500?ur(Or,Er,Pr,Rr):dr(Or,Er,Pr,Rr,Lr,Wr+1);if(Lr>=0&&Hr>0&&Hr<Pr.length&&hr(Pr,Rr,Or,Hr,Or,Gr,Lr,wr),Pr.reverse(),Rr.reverse(),Lr>-1&&Hr>0){let Ur=fr(Br);_r=balanceRange(Br,Pr,Rr,0,Pr.length,0,yr-Or,Ur,Ur)}else _r=pr(Br,Pr,Rr,yr-Or,wr-yr)}Ir.push(_r),qr.push(Tr)}function ur(Cr,Ar,Ir,qr){let Qr=[],Wr=0,jr=-1;for(;sr.pos>Ar;){let{id:Or,start:yr,end:xr,size:wr}=sr;if(wr>4)sr.next();else{if(jr>-1&&yr<jr)break;jr<0&&(jr=xr-rr),Qr.push(Or,yr,xr),Wr++,sr.next()}}if(Wr){let Or=new Uint16Array(Wr*4),yr=Qr[Qr.length-2];for(let xr=Qr.length-3,wr=0;xr>=0;xr-=3)Or[wr++]=Qr[xr],Or[wr++]=Qr[xr+1]-yr,Or[wr++]=Qr[xr+2]-yr,Or[wr++]=wr;Ir.push(new TreeBuffer(Or,Qr[2]-yr,er)),qr.push(yr-Cr)}}function fr(Cr){return(Ar,Ir,qr)=>{let Qr=0,Wr=Ar.length-1,jr,Or;if(Wr>=0&&(jr=Ar[Wr])instanceof Tree){if(!Wr&&jr.type==Cr&&jr.length==qr)return jr;(Or=jr.prop(NodeProp.lookAhead))&&(Qr=Ir[Wr]+jr.length+Or)}return pr(Cr,Ar,Ir,qr,Qr)}}function hr(Cr,Ar,Ir,qr,Qr,Wr,jr,Or){let yr=[],xr=[];for(;Cr.length>qr;)yr.push(Cr.pop()),xr.push(Ar.pop()+Ir-Qr);Cr.push(pr(er.types[jr],yr,xr,Wr-Qr,Or-Wr)),Ar.push(Qr-Ir)}function pr(Cr,Ar,Ir,qr,Qr=0,Wr){if(lr){let jr=[NodeProp.contextHash,lr];Wr=Wr?[jr].concat(Wr):[jr]}if(Qr>25){let jr=[NodeProp.lookAhead,Qr];Wr=Wr?[jr].concat(Wr):[jr]}return new Tree(Cr,Ar,Ir,qr,Wr)}function gr(Cr,Ar){let Ir=sr.fork(),qr=0,Qr=0,Wr=0,jr=Ir.end-rr,Or={size:0,start:0,skip:0};e:for(let yr=Ir.pos-Cr;Ir.pos>yr;){let xr=Ir.size;if(Ir.id==Ar&&xr>=0){Or.size=qr,Or.start=Qr,Or.skip=Wr,Wr+=4,qr+=4,Ir.next();continue}let wr=Ir.pos-xr;if(xr<0||wr<yr||Ir.start<jr)break;let Br=Ir.id>=nr?4:0,_r=Ir.start;for(Ir.next();Ir.pos>wr;){if(Ir.size<0)if(Ir.size==-3)Br+=4;else break e;else Ir.id>=nr&&(Br+=4);Ir.next()}Qr=_r,qr+=xr,Wr+=Br}return(Ar<0||qr==Cr)&&(Or.size=qr,Or.start=Qr,Or.skip=Wr),Or.size>4?Or:void 0}function br(Cr,Ar,Ir){let{id:qr,start:Qr,end:Wr,size:jr}=sr;if(sr.next(),jr>=0&&qr<nr){let Or=Ir;if(jr>4){let yr=sr.pos-(jr-4);for(;sr.pos>yr;)Ir=br(Cr,Ar,Ir)}Ar[--Ir]=Or,Ar[--Ir]=Wr-Cr,Ar[--Ir]=Qr-Cr,Ar[--Ir]=qr}else jr==-3?lr=qr:jr==-4&&(cr=qr);return Ir}let vr=[],kr=[];for(;sr.pos>0;)dr(tr.start||0,tr.bufferStart||0,vr,kr,-1,0);let Sr=(Ot=tr.length)!==null&&Ot!==void 0?Ot:vr.length?kr[0]+vr[0].length:0;return new Tree(ar[tr.topID],vr.reverse(),kr.reverse(),Sr)}const nodeSizeCache=new WeakMap;function nodeSize(tr,Ot){if(!tr.isAnonymous||Ot instanceof TreeBuffer||Ot.type!=tr)return 1;let Nt=nodeSizeCache.get(Ot);if(Nt==null){Nt=1;for(let er of Ot.children){if(er.type!=tr||!(er instanceof Tree)){Nt=1;break}Nt+=nodeSize(tr,er)}nodeSizeCache.set(Ot,Nt)}return Nt}function balanceRange(tr,Ot,Nt,er,rr,ir,nr,sr,ar){let lr=0;for(let hr=er;hr<rr;hr++)lr+=nodeSize(tr,Ot[hr]);let cr=Math.ceil(lr*1.5/8),dr=[],ur=[];function fr(hr,pr,gr,br,vr){for(let kr=gr;kr<br;){let Sr=kr,Cr=pr[kr],Ar=nodeSize(tr,hr[kr]);for(kr++;kr<br;kr++){let Ir=nodeSize(tr,hr[kr]);if(Ar+Ir>=cr)break;Ar+=Ir}if(kr==Sr+1){if(Ar>cr){let Ir=hr[Sr];fr(Ir.children,Ir.positions,0,Ir.children.length,pr[Sr]+vr);continue}dr.push(hr[Sr])}else{let Ir=pr[kr-1]+hr[kr-1].length-Cr;dr.push(balanceRange(tr,hr,pr,Sr,kr,Cr,Ir,null,ar))}ur.push(Cr+vr-ir)}}return fr(Ot,Nt,er,rr,0),(sr||ar)(dr,ur,nr)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(Ot,Nt,er){let rr=this.map.get(Ot);rr||this.map.set(Ot,rr=new Map),rr.set(Nt,er)}getBuffer(Ot,Nt){let er=this.map.get(Ot);return er&&er.get(Nt)}set(Ot,Nt){Ot instanceof BufferNode?this.setBuffer(Ot.context.buffer,Ot.index,Nt):Ot instanceof TreeNode&&this.map.set(Ot.tree,Nt)}get(Ot){return Ot instanceof BufferNode?this.getBuffer(Ot.context.buffer,Ot.index):Ot instanceof TreeNode?this.map.get(Ot.tree):void 0}cursorSet(Ot,Nt){Ot.buffer?this.setBuffer(Ot.buffer.buffer,Ot.index,Nt):this.map.set(Ot.tree,Nt)}cursorGet(Ot){return Ot.buffer?this.getBuffer(Ot.buffer.buffer,Ot.index):this.map.get(Ot.tree)}}class TreeFragment{constructor(Ot,Nt,er,rr,ir=!1,nr=!1){this.from=Ot,this.to=Nt,this.tree=er,this.offset=rr,this.open=(ir?1:0)|(nr?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(Ot,Nt=[],er=!1){let rr=[new TreeFragment(0,Ot.length,Ot,0,!1,er)];for(let ir of Nt)ir.to>Ot.length&&rr.push(ir);return rr}static applyChanges(Ot,Nt,er=128){if(!Nt.length)return Ot;let rr=[],ir=1,nr=Ot.length?Ot[0]:null;for(let sr=0,ar=0,lr=0;;sr++){let cr=sr<Nt.length?Nt[sr]:null,dr=cr?cr.fromA:1e9;if(dr-ar>=er)for(;nr&&nr.from<dr;){let ur=nr;if(ar>=ur.from||dr<=ur.to||lr){let fr=Math.max(ur.from,ar)-lr,hr=Math.min(ur.to,dr)-lr;ur=fr>=hr?null:new TreeFragment(fr,hr,ur.tree,ur.offset+lr,sr>0,!!cr)}if(ur&&rr.push(ur),nr.to>dr)break;nr=ir<Ot.length?Ot[ir++]:null}if(!cr)break;ar=cr.toA,lr=cr.toA-cr.toB}return rr}}class Parser{startParse(Ot,Nt,er){return typeof Ot=="string"&&(Ot=new StringInput(Ot)),er=er?er.length?er.map(rr=>new Range$1(rr.from,rr.to)):[new Range$1(0,0)]:[new Range$1(0,Ot.length)],this.createParse(Ot,Nt||[],er)}parse(Ot,Nt,er){let rr=this.startParse(Ot,Nt,er);for(;;){let ir=rr.advance();if(ir)return ir}}}class StringInput{constructor(Ot){this.string=Ot}get length(){return this.string.length}chunk(Ot){return this.string.slice(Ot)}get lineChunks(){return!1}read(Ot,Nt){return this.string.slice(Ot,Nt)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(Ot,Nt,er){this.set=Ot,this.base=Nt,this.modified=er,this.id=nextTagID++}static define(Ot){if(Ot!=null&&Ot.base)throw new Error("Can not derive from a modified tag");let Nt=new Tag([],null,[]);if(Nt.set.push(Nt),Ot)for(let er of Ot.set)Nt.set.push(er);return Nt}static defineModifier(){let Ot=new Modifier;return Nt=>Nt.modified.indexOf(Ot)>-1?Nt:Modifier.get(Nt.base||Nt,Nt.modified.concat(Ot).sort((er,rr)=>er.id-rr.id))}}let nextModifierID=0;class Modifier{constructor(){this.instances=[],this.id=nextModifierID++}static get(Ot,Nt){if(!Nt.length)return Ot;let er=Nt[0].instances.find(sr=>sr.base==Ot&&sameArray(Nt,sr.modified));if(er)return er;let rr=[],ir=new Tag(rr,Ot,Nt);for(let sr of Nt)sr.instances.push(ir);let nr=powerSet(Nt);for(let sr of Ot.set)if(!sr.modified.length)for(let ar of nr)rr.push(Modifier.get(sr,ar));return ir}}function sameArray(tr,Ot){return tr.length==Ot.length&&tr.every((Nt,er)=>Nt==Ot[er])}function powerSet(tr){let Ot=[[]];for(let Nt=0;Nt<tr.length;Nt++)for(let er=0,rr=Ot.length;er<rr;er++)Ot.push(Ot[er].concat(tr[Nt]));return Ot.sort((Nt,er)=>er.length-Nt.length)}function styleTags(tr){let Ot=Object.create(null);for(let Nt in tr){let er=tr[Nt];Array.isArray(er)||(er=[er]);for(let rr of Nt.split(" "))if(rr){let ir=[],nr=2,sr=rr;for(let dr=0;;){if(sr=="..."&&dr>0&&dr+3==rr.length){nr=1;break}let ur=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(sr);if(!ur)throw new RangeError("Invalid path: "+rr);if(ir.push(ur[0]=="*"?"":ur[0][0]=='"'?JSON.parse(ur[0]):ur[0]),dr+=ur[0].length,dr==rr.length)break;let fr=rr[dr++];if(dr==rr.length&&fr=="!"){nr=0;break}if(fr!="/")throw new RangeError("Invalid path: "+rr);sr=rr.slice(dr)}let ar=ir.length-1,lr=ir[ar];if(!lr)throw new RangeError("Invalid path: "+rr);let cr=new Rule(er,nr,ar>0?ir.slice(0,ar):null);Ot[lr]=cr.sort(Ot[lr])}}return ruleNodeProp.add(Ot)}const ruleNodeProp=new NodeProp;class Rule{constructor(Ot,Nt,er,rr){this.tags=Ot,this.mode=Nt,this.context=er,this.next=rr}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(Ot){return!Ot||Ot.depth<this.depth?(this.next=Ot,this):(Ot.next=this.sort(Ot.next),Ot)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(tr,Ot){let Nt=Object.create(null);for(let ir of tr)if(!Array.isArray(ir.tag))Nt[ir.tag.id]=ir.class;else for(let nr of ir.tag)Nt[nr.id]=ir.class;let{scope:er,all:rr=null}=Ot||{};return{style:ir=>{let nr=rr;for(let sr of ir)for(let ar of sr.set){let lr=Nt[ar.id];if(lr){nr=nr?nr+" "+lr:lr;break}}return nr},scope:er}}function highlightTags(tr,Ot){let Nt=null;for(let er of tr){let rr=er.style(Ot);rr&&(Nt=Nt?Nt+" "+rr:rr)}return Nt}function highlightTree(tr,Ot,Nt,er=0,rr=tr.length){let ir=new HighlightBuilder(er,Array.isArray(Ot)?Ot:[Ot],Nt);ir.highlightRange(tr.cursor(),er,rr,"",ir.highlighters),ir.flush(rr)}class HighlightBuilder{constructor(Ot,Nt,er){this.at=Ot,this.highlighters=Nt,this.span=er,this.class=""}startSpan(Ot,Nt){Nt!=this.class&&(this.flush(Ot),Ot>this.at&&(this.at=Ot),this.class=Nt)}flush(Ot){Ot>this.at&&this.class&&this.span(this.at,Ot,this.class)}highlightRange(Ot,Nt,er,rr,ir){let{type:nr,from:sr,to:ar}=Ot;if(sr>=er||ar<=Nt)return;nr.isTop&&(ir=this.highlighters.filter(fr=>!fr.scope||fr.scope(nr)));let lr=rr,cr=getStyleTags(Ot)||Rule.empty,dr=highlightTags(ir,cr.tags);if(dr&&(lr&&(lr+=" "),lr+=dr,cr.mode==1&&(rr+=(rr?" ":"")+dr)),this.startSpan(Math.max(Nt,sr),lr),cr.opaque)return;let ur=Ot.tree&&Ot.tree.prop(NodeProp.mounted);if(ur&&ur.overlay){let fr=Ot.node.enter(ur.overlay[0].from+sr,1),hr=this.highlighters.filter(gr=>!gr.scope||gr.scope(ur.tree.type)),pr=Ot.firstChild();for(let gr=0,br=sr;;gr++){let vr=gr<ur.overlay.length?ur.overlay[gr]:null,kr=vr?vr.from+sr:ar,Sr=Math.max(Nt,br),Cr=Math.min(er,kr);if(Sr<Cr&&pr)for(;Ot.from<Cr&&(this.highlightRange(Ot,Sr,Cr,rr,ir),this.startSpan(Math.min(Cr,Ot.to),lr),!(Ot.to>=kr||!Ot.nextSibling())););if(!vr||kr>er)break;br=vr.to+sr,br>Nt&&(this.highlightRange(fr.cursor(),Math.max(Nt,vr.from+sr),Math.min(er,br),"",hr),this.startSpan(Math.min(er,br),lr))}pr&&Ot.parent()}else if(Ot.firstChild()){ur&&(rr="");do if(!(Ot.to<=Nt)){if(Ot.from>=er)break;this.highlightRange(Ot,Nt,er,rr,ir),this.startSpan(Math.min(er,Ot.to),lr)}while(Ot.nextSibling());Ot.parent()}}}function getStyleTags(tr){let Ot=tr.type.prop(ruleNodeProp);for(;Ot&&Ot.context&&!tr.matchContext(Ot.context);)Ot=Ot.next;return Ot||null}const t$1=Tag.define,comment=t$1(),name$1=t$1(),typeName=t$1(name$1),propertyName=t$1(name$1),literal=t$1(),string=t$1(literal),number=t$1(literal),content$1=t$1(),heading$1=t$1(content$1),keyword=t$1(),operator=t$1(),punctuation=t$1(),bracket=t$1(punctuation),meta=t$1(),tags={comment,lineComment:t$1(comment),blockComment:t$1(comment),docComment:t$1(comment),name:name$1,variableName:t$1(name$1),typeName,tagName:t$1(typeName),propertyName,attributeName:t$1(propertyName),className:t$1(name$1),labelName:t$1(name$1),namespace:t$1(name$1),macroName:t$1(name$1),literal,string,docString:t$1(string),character:t$1(string),attributeValue:t$1(string),number,integer:t$1(number),float:t$1(number),bool:t$1(literal),regexp:t$1(literal),escape:t$1(literal),color:t$1(literal),url:t$1(literal),keyword,self:t$1(keyword),null:t$1(keyword),atom:t$1(keyword),unit:t$1(keyword),modifier:t$1(keyword),operatorKeyword:t$1(keyword),controlKeyword:t$1(keyword),definitionKeyword:t$1(keyword),moduleKeyword:t$1(keyword),operator,derefOperator:t$1(operator),arithmeticOperator:t$1(operator),logicOperator:t$1(operator),bitwiseOperator:t$1(operator),compareOperator:t$1(operator),updateOperator:t$1(operator),definitionOperator:t$1(operator),typeOperator:t$1(operator),controlOperator:t$1(operator),punctuation,separator:t$1(punctuation),bracket,angleBracket:t$1(bracket),squareBracket:t$1(bracket),paren:t$1(bracket),brace:t$1(bracket),content:content$1,heading:heading$1,heading1:t$1(heading$1),heading2:t$1(heading$1),heading3:t$1(heading$1),heading4:t$1(heading$1),heading5:t$1(heading$1),heading6:t$1(heading$1),contentSeparator:t$1(content$1),list:t$1(content$1),quote:t$1(content$1),emphasis:t$1(content$1),strong:t$1(content$1),link:t$1(content$1),monospace:t$1(content$1),strikethrough:t$1(content$1),inserted:t$1(),deleted:t$1(),changed:t$1(),invalid:t$1(),meta,documentMeta:t$1(meta),annotation:t$1(meta),processingInstruction:t$1(meta),definition:Tag.defineModifier(),constant:Tag.defineModifier(),function:Tag.defineModifier(),standard:Tag.defineModifier(),local:Tag.defineModifier(),special:Tag.defineModifier()};tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(tr){return Facet.define({combine:tr?Ot=>Ot.concat(tr):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(Ot,Nt,er=[],rr=""){this.data=Ot,this.name=rr,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=Nt,this.extension=[language.of(this),EditorState.languageData.of((ir,nr,sr)=>{let ar=topNodeAt(ir,nr,sr),lr=ar.type.prop(languageDataProp);if(!lr)return[];let cr=ir.facet(lr),dr=ar.type.prop(sublanguageProp);if(dr){let ur=ar.resolve(nr-ar.from,sr);for(let fr of dr)if(fr.test(ur,ir)){let hr=ir.facet(fr.facet);return fr.type=="replace"?hr:hr.concat(cr)}}return cr})].concat(er)}isActiveAt(Ot,Nt,er=-1){return topNodeAt(Ot,Nt,er).type.prop(languageDataProp)==this.data}findRegions(Ot){let Nt=Ot.facet(language);if((Nt==null?void 0:Nt.data)==this.data)return[{from:0,to:Ot.doc.length}];if(!Nt||!Nt.allowsNesting)return[];let er=[],rr=(ir,nr)=>{if(ir.prop(languageDataProp)==this.data){er.push({from:nr,to:nr+ir.length});return}let sr=ir.prop(NodeProp.mounted);if(sr){if(sr.tree.prop(languageDataProp)==this.data){if(sr.overlay)for(let ar of sr.overlay)er.push({from:ar.from+nr,to:ar.to+nr});else er.push({from:nr,to:nr+ir.length});return}else if(sr.overlay){let ar=er.length;if(rr(sr.tree,sr.overlay[0].from+nr),er.length>ar)return}}for(let ar=0;ar<ir.children.length;ar++){let lr=ir.children[ar];lr instanceof Tree&&rr(lr,ir.positions[ar]+nr)}};return rr(syntaxTree(Ot),0),er}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(tr,Ot,Nt){let er=tr.facet(language),rr=syntaxTree(tr).topNode;if(!er||er.allowsNesting)for(let ir=rr;ir;ir=ir.enter(Ot,Nt,IterMode.ExcludeBuffers))ir.type.isTop&&(rr=ir);return rr}class LRLanguage extends Language{constructor(Ot,Nt,er){super(Ot,Nt,[],er),this.parser=Nt}static define(Ot){let Nt=defineLanguageFacet(Ot.languageData);return new LRLanguage(Nt,Ot.parser.configure({props:[languageDataProp.add(er=>er.isTop?Nt:void 0)]}),Ot.name)}configure(Ot,Nt){return new LRLanguage(this.data,this.parser.configure(Ot),Nt||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(tr){let Ot=tr.field(Language.state,!1);return Ot?Ot.tree:Tree.empty}class DocInput{constructor(Ot){this.doc=Ot,this.cursorPos=0,this.string="",this.cursor=Ot.iter()}get length(){return this.doc.length}syncTo(Ot){return this.string=this.cursor.next(Ot-this.cursorPos).value,this.cursorPos=Ot+this.string.length,this.cursorPos-this.string.length}chunk(Ot){return this.syncTo(Ot),this.string}get lineChunks(){return!0}read(Ot,Nt){let er=this.cursorPos-this.string.length;return Ot<er||Nt>=this.cursorPos?this.doc.sliceString(Ot,Nt):this.string.slice(Ot-er,Nt-er)}}let currentContext=null;class ParseContext{constructor(Ot,Nt,er=[],rr,ir,nr,sr,ar){this.parser=Ot,this.state=Nt,this.fragments=er,this.tree=rr,this.treeLen=ir,this.viewport=nr,this.skipped=sr,this.scheduleOn=ar,this.parse=null,this.tempSkipped=[]}static create(Ot,Nt,er){return new ParseContext(Ot,Nt,[],Tree.empty,0,er,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(Ot,Nt){return Nt!=null&&Nt>=this.state.doc.length&&(Nt=void 0),this.tree!=Tree.empty&&this.isDone(Nt??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var er;if(typeof Ot=="number"){let rr=Date.now()+Ot;Ot=()=>Date.now()>rr}for(this.parse||(this.parse=this.startParse()),Nt!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>Nt)&&Nt<this.state.doc.length&&this.parse.stopAt(Nt);;){let rr=this.parse.advance();if(rr)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(rr,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(er=this.parse.stoppedAt)!==null&&er!==void 0?er:this.state.doc.length,this.tree=rr,this.parse=null,this.treeLen<(Nt??this.state.doc.length))this.parse=this.startParse();else return!0;if(Ot())return!1}})}takeTree(){let Ot,Nt;this.parse&&(Ot=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>Ot)&&this.parse.stopAt(Ot),this.withContext(()=>{for(;!(Nt=this.parse.advance()););}),this.treeLen=Ot,this.tree=Nt,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(Ot){let Nt=currentContext;currentContext=this;try{return Ot()}finally{currentContext=Nt}}withoutTempSkipped(Ot){for(let Nt;Nt=this.tempSkipped.pop();)Ot=cutFragments(Ot,Nt.from,Nt.to);return Ot}changes(Ot,Nt){let{fragments:er,tree:rr,treeLen:ir,viewport:nr,skipped:sr}=this;if(this.takeTree(),!Ot.empty){let ar=[];if(Ot.iterChangedRanges((lr,cr,dr,ur)=>ar.push({fromA:lr,toA:cr,fromB:dr,toB:ur})),er=TreeFragment.applyChanges(er,ar),rr=Tree.empty,ir=0,nr={from:Ot.mapPos(nr.from,-1),to:Ot.mapPos(nr.to,1)},this.skipped.length){sr=[];for(let lr of this.skipped){let cr=Ot.mapPos(lr.from,1),dr=Ot.mapPos(lr.to,-1);cr<dr&&sr.push({from:cr,to:dr})}}}return new ParseContext(this.parser,Nt,er,rr,ir,nr,sr,this.scheduleOn)}updateViewport(Ot){if(this.viewport.from==Ot.from&&this.viewport.to==Ot.to)return!1;this.viewport=Ot;let Nt=this.skipped.length;for(let er=0;er<this.skipped.length;er++){let{from:rr,to:ir}=this.skipped[er];rr<Ot.to&&ir>Ot.from&&(this.fragments=cutFragments(this.fragments,rr,ir),this.skipped.splice(er--,1))}return this.skipped.length>=Nt?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(Ot,Nt){this.skipped.push({from:Ot,to:Nt})}static getSkippingParser(Ot){return new class extends Parser{createParse(Nt,er,rr){let ir=rr[0].from,nr=rr[rr.length-1].to;return{parsedPos:ir,advance(){let ar=currentContext;if(ar){for(let lr of rr)ar.tempSkipped.push(lr);Ot&&(ar.scheduleOn=ar.scheduleOn?Promise.all([ar.scheduleOn,Ot]):Ot)}return this.parsedPos=nr,new Tree(NodeType.none,[],[],nr-ir)},stoppedAt:null,stopAt(){}}}}}isDone(Ot){Ot=Math.min(Ot,this.state.doc.length);let Nt=this.fragments;return this.treeLen>=Ot&&Nt.length&&Nt[0].from==0&&Nt[0].to>=Ot}static get(){return currentContext}}function cutFragments(tr,Ot,Nt){return TreeFragment.applyChanges(tr,[{fromA:Ot,toA:Nt,fromB:Ot,toB:Nt}])}class LanguageState{constructor(Ot){this.context=Ot,this.tree=Ot.tree}apply(Ot){if(!Ot.docChanged&&this.tree==this.context.tree)return this;let Nt=this.context.changes(Ot.changes,Ot.state),er=this.context.treeLen==Ot.startState.doc.length?void 0:Math.max(Ot.changes.mapPos(this.context.treeLen),Nt.viewport.to);return Nt.work(20,er)||Nt.takeTree(),new LanguageState(Nt)}static init(Ot){let Nt=Math.min(3e3,Ot.doc.length),er=ParseContext.create(Ot.facet(language).parser,Ot,{from:0,to:Nt});return er.work(20,Nt)||er.takeTree(),new LanguageState(er)}}Language.state=StateField.define({create:LanguageState.init,update(tr,Ot){for(let Nt of Ot.effects)if(Nt.is(Language.setState))return Nt.value;return Ot.startState.facet(language)!=Ot.state.facet(language)?LanguageState.init(Ot.state):tr.apply(Ot)}});let requestIdle=tr=>{let Ot=setTimeout(()=>tr(),500);return()=>clearTimeout(Ot)};typeof requestIdleCallback<"u"&&(requestIdle=tr=>{let Ot=-1,Nt=setTimeout(()=>{Ot=requestIdleCallback(tr,{timeout:400})},100);return()=>Ot<0?clearTimeout(Nt):cancelIdleCallback(Ot)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(Ot){this.view=Ot,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(Ot){let Nt=this.view.state.field(Language.state).context;(Nt.updateViewport(Ot.view.viewport)||this.view.viewport.to>Nt.treeLen)&&this.scheduleWork(),(Ot.docChanged||Ot.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(Nt)}scheduleWork(){if(this.working)return;let{state:Ot}=this.view,Nt=Ot.field(Language.state);(Nt.tree!=Nt.context.tree||!Nt.context.isDone(Ot.doc.length))&&(this.working=requestIdle(this.work))}work(Ot){this.working=null;let Nt=Date.now();if(this.chunkEnd<Nt&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=Nt+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:er,viewport:{to:rr}}=this.view,ir=er.field(Language.state);if(ir.tree==ir.context.tree&&ir.context.isDone(rr+1e5))return;let nr=Date.now()+Math.min(this.chunkBudget,100,Ot&&!isInputPending?Math.max(25,Ot.timeRemaining()-5):1e9),sr=ir.context.treeLen<rr&&er.doc.length>rr+1e3,ar=ir.context.work(()=>isInputPending&&isInputPending()||Date.now()>nr,rr+(sr?0:1e5));this.chunkBudget-=Date.now()-Nt,(ar||this.chunkBudget<=0)&&(ir.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(ir.context))})),this.chunkBudget>0&&!(ar&&!sr)&&this.scheduleWork(),this.checkAsyncSchedule(ir.context)}checkAsyncSchedule(Ot){Ot.scheduleOn&&(this.workScheduled++,Ot.scheduleOn.then(()=>this.scheduleWork()).catch(Nt=>logException(this.view.state,Nt)).then(()=>this.workScheduled--),Ot.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(tr){return tr.length?tr[0]:null},enables:tr=>[Language.state,parseWorker,EditorView.contentAttributes.compute([tr],Ot=>{let Nt=Ot.facet(tr);return Nt&&Nt.name?{"data-language":Nt.name}:{}})]});class LanguageSupport{constructor(Ot,Nt=[]){this.language=Ot,this.support=Nt,this.extension=[Ot,Nt]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:tr=>{if(!tr.length)return"  ";let Ot=tr[0];if(!Ot||/\S/.test(Ot)||Array.from(Ot).some(Nt=>Nt!=Ot[0]))throw new Error("Invalid indent unit: "+JSON.stringify(tr[0]));return Ot}});function getIndentUnit(tr){let Ot=tr.facet(indentUnit);return Ot.charCodeAt(0)==9?tr.tabSize*Ot.length:Ot.length}function indentString(tr,Ot){let Nt="",er=tr.tabSize,rr=tr.facet(indentUnit)[0];if(rr=="	"){for(;Ot>=er;)Nt+="	",Ot-=er;rr=" "}for(let ir=0;ir<Ot;ir++)Nt+=rr;return Nt}function getIndentation(tr,Ot){tr instanceof EditorState&&(tr=new IndentContext(tr));for(let er of tr.state.facet(indentService)){let rr=er(tr,Ot);if(rr!==void 0)return rr}let Nt=syntaxTree(tr.state);return Nt.length>=Ot?syntaxIndentation(tr,Nt,Ot):null}class IndentContext{constructor(Ot,Nt={}){this.state=Ot,this.options=Nt,this.unit=getIndentUnit(Ot)}lineAt(Ot,Nt=1){let er=this.state.doc.lineAt(Ot),{simulateBreak:rr,simulateDoubleBreak:ir}=this.options;return rr!=null&&rr>=er.from&&rr<=er.to?ir&&rr==Ot?{text:"",from:Ot}:(Nt<0?rr<Ot:rr<=Ot)?{text:er.text.slice(rr-er.from),from:rr}:{text:er.text.slice(0,rr-er.from),from:er.from}:er}textAfterPos(Ot,Nt=1){if(this.options.simulateDoubleBreak&&Ot==this.options.simulateBreak)return"";let{text:er,from:rr}=this.lineAt(Ot,Nt);return er.slice(Ot-rr,Math.min(er.length,Ot+100-rr))}column(Ot,Nt=1){let{text:er,from:rr}=this.lineAt(Ot,Nt),ir=this.countColumn(er,Ot-rr),nr=this.options.overrideIndentation?this.options.overrideIndentation(rr):-1;return nr>-1&&(ir+=nr-this.countColumn(er,er.search(/\S|$/))),ir}countColumn(Ot,Nt=Ot.length){return countColumn(Ot,this.state.tabSize,Nt)}lineIndent(Ot,Nt=1){let{text:er,from:rr}=this.lineAt(Ot,Nt),ir=this.options.overrideIndentation;if(ir){let nr=ir(rr);if(nr>-1)return nr}return this.countColumn(er,er.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(tr,Ot,Nt){let er=Ot.resolveStack(Nt),rr=er.node.enterUnfinishedNodesBefore(Nt);if(rr!=er.node){let ir=[];for(let nr=rr;nr!=er.node;nr=nr.parent)ir.push(nr);for(let nr=ir.length-1;nr>=0;nr--)er={node:ir[nr],next:er}}return indentFor(er,tr,Nt)}function indentFor(tr,Ot,Nt){for(let er=tr;er;er=er.next){let rr=indentStrategy(er.node);if(rr)return rr(TreeIndentContext.create(Ot,Nt,er))}return 0}function ignoreClosed(tr){return tr.pos==tr.options.simulateBreak&&tr.options.simulateDoubleBreak}function indentStrategy(tr){let Ot=tr.type.prop(indentNodeProp);if(Ot)return Ot;let Nt=tr.firstChild,er;if(Nt&&(er=Nt.type.prop(NodeProp.closedBy))){let rr=tr.lastChild,ir=rr&&er.indexOf(rr.name)>-1;return nr=>delimitedStrategy(nr,!0,1,void 0,ir&&!ignoreClosed(nr)?rr.from:void 0)}return tr.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(Ot,Nt,er){super(Ot.state,Ot.options),this.base=Ot,this.pos=Nt,this.context=er}get node(){return this.context.node}static create(Ot,Nt,er){return new TreeIndentContext(Ot,Nt,er)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(Ot){let Nt=this.state.doc.lineAt(Ot.from);for(;;){let er=Ot.resolve(Nt.from);for(;er.parent&&er.parent.from==er.from;)er=er.parent;if(isParent(er,Ot))break;Nt=this.state.doc.lineAt(er.from)}return this.lineIndent(Nt.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(tr,Ot){for(let Nt=Ot;Nt;Nt=Nt.parent)if(tr==Nt)return!0;return!1}function bracketedAligned(tr){let Ot=tr.node,Nt=Ot.childAfter(Ot.from),er=Ot.lastChild;if(!Nt)return null;let rr=tr.options.simulateBreak,ir=tr.state.doc.lineAt(Nt.from),nr=rr==null||rr<=ir.from?ir.to:Math.min(ir.to,rr);for(let sr=Nt.to;;){let ar=Ot.childAfter(sr);if(!ar||ar==er)return null;if(!ar.type.isSkipped)return ar.from<nr?Nt:null;sr=ar.to}}function delimitedIndent({closing:tr,align:Ot=!0,units:Nt=1}){return er=>delimitedStrategy(er,Ot,Nt,tr)}function delimitedStrategy(tr,Ot,Nt,er,rr){let ir=tr.textAfter,nr=ir.match(/^\s*/)[0].length,sr=er&&ir.slice(nr,nr+er.length)==er||rr==tr.pos+nr,ar=Ot?bracketedAligned(tr):null;return ar?sr?tr.column(ar.from):tr.column(ar.to):tr.baseIndent+(sr?0:tr.unit*Nt)}const flatIndent=tr=>tr.baseIndent;function continuedIndent({except:tr,units:Ot=1}={}){return Nt=>{let er=tr&&tr.test(Nt.textAfter);return Nt.baseIndent+(er?0:Ot*Nt.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(tr=>{if(!tr.docChanged||!tr.isUserEvent("input.type")&&!tr.isUserEvent("input.complete"))return tr;let Ot=tr.startState.languageDataAt("indentOnInput",tr.startState.selection.main.head);if(!Ot.length)return tr;let Nt=tr.newDoc,{head:er}=tr.newSelection.main,rr=Nt.lineAt(er);if(er>rr.from+DontIndentBeyond)return tr;let ir=Nt.sliceString(rr.from,er);if(!Ot.some(lr=>lr.test(ir)))return tr;let{state:nr}=tr,sr=-1,ar=[];for(let{head:lr}of nr.selection.ranges){let cr=nr.doc.lineAt(lr);if(cr.from==sr)continue;sr=cr.from;let dr=getIndentation(nr,cr.from);if(dr==null)continue;let ur=/^\s*/.exec(cr.text)[0],fr=indentString(nr,dr);ur!=fr&&ar.push({from:cr.from,to:cr.from+ur.length,insert:fr})}return ar.length?[tr,{changes:ar,sequential:!0}]:tr})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(tr){let Ot=tr.firstChild,Nt=tr.lastChild;return Ot&&Ot.to<Nt.from?{from:Ot.to,to:Nt.type.isError?tr.to:Nt.from}:null}function syntaxFolding(tr,Ot,Nt){let er=syntaxTree(tr);if(er.length<Nt)return null;let rr=er.resolveStack(Nt,1),ir=null;for(let nr=rr;nr;nr=nr.next){let sr=nr.node;if(sr.to<=Nt||sr.from>Nt)continue;if(ir&&sr.from<Ot)break;let ar=sr.type.prop(foldNodeProp);if(ar&&(sr.to<er.length-50||er.length==tr.doc.length||!isUnfinished(sr))){let lr=ar(sr,tr);lr&&lr.from<=Nt&&lr.from>=Ot&&lr.to>Nt&&(ir=lr)}}return ir}function isUnfinished(tr){let Ot=tr.lastChild;return Ot&&Ot.to==tr.to&&Ot.type.isError}function foldable(tr,Ot,Nt){for(let er of tr.facet(foldService)){let rr=er(tr,Ot,Nt);if(rr)return rr}return syntaxFolding(tr,Ot,Nt)}function mapRange(tr,Ot){let Nt=Ot.mapPos(tr.from,1),er=Ot.mapPos(tr.to,-1);return Nt>=er?void 0:{from:Nt,to:er}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(tr){let Ot=[];for(let{head:Nt}of tr.state.selection.ranges)Ot.some(er=>er.from<=Nt&&er.to>=Nt)||Ot.push(tr.lineBlockAt(Nt));return Ot}const foldState=StateField.define({create(){return Decoration.none},update(tr,Ot){tr=tr.map(Ot.changes);for(let Nt of Ot.effects)if(Nt.is(foldEffect)&&!foldExists(tr,Nt.value.from,Nt.value.to)){let{preparePlaceholder:er}=Ot.state.facet(foldConfig),rr=er?Decoration.replace({widget:new PreparedFoldWidget(er(Ot.state,Nt.value))}):foldWidget;tr=tr.update({add:[rr.range(Nt.value.from,Nt.value.to)]})}else Nt.is(unfoldEffect)&&(tr=tr.update({filter:(er,rr)=>Nt.value.from!=er||Nt.value.to!=rr,filterFrom:Nt.value.from,filterTo:Nt.value.to}));if(Ot.selection){let Nt=!1,{head:er}=Ot.selection.main;tr.between(er,er,(rr,ir)=>{rr<er&&ir>er&&(Nt=!0)}),Nt&&(tr=tr.update({filterFrom:er,filterTo:er,filter:(rr,ir)=>ir<=er||rr>=er}))}return tr},provide:tr=>EditorView.decorations.from(tr),toJSON(tr,Ot){let Nt=[];return tr.between(0,Ot.doc.length,(er,rr)=>{Nt.push(er,rr)}),Nt},fromJSON(tr){if(!Array.isArray(tr)||tr.length%2)throw new RangeError("Invalid JSON for fold state");let Ot=[];for(let Nt=0;Nt<tr.length;){let er=tr[Nt++],rr=tr[Nt++];if(typeof er!="number"||typeof rr!="number")throw new RangeError("Invalid JSON for fold state");Ot.push(foldWidget.range(er,rr))}return Decoration.set(Ot,!0)}});function findFold(tr,Ot,Nt){var er;let rr=null;return(er=tr.field(foldState,!1))===null||er===void 0||er.between(Ot,Nt,(ir,nr)=>{(!rr||rr.from>ir)&&(rr={from:ir,to:nr})}),rr}function foldExists(tr,Ot,Nt){let er=!1;return tr.between(Ot,Ot,(rr,ir)=>{rr==Ot&&ir==Nt&&(er=!0)}),er}function maybeEnable(tr,Ot){return tr.field(foldState,!1)?Ot:Ot.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=tr=>{for(let Ot of selectedLines(tr)){let Nt=foldable(tr.state,Ot.from,Ot.to);if(Nt)return tr.dispatch({effects:maybeEnable(tr.state,[foldEffect.of(Nt),announceFold(tr,Nt)])}),!0}return!1},unfoldCode=tr=>{if(!tr.state.field(foldState,!1))return!1;let Ot=[];for(let Nt of selectedLines(tr)){let er=findFold(tr.state,Nt.from,Nt.to);er&&Ot.push(unfoldEffect.of(er),announceFold(tr,er,!1))}return Ot.length&&tr.dispatch({effects:Ot}),Ot.length>0};function announceFold(tr,Ot,Nt=!0){let er=tr.state.doc.lineAt(Ot.from).number,rr=tr.state.doc.lineAt(Ot.to).number;return EditorView.announce.of(`${tr.state.phrase(Nt?"Folded lines":"Unfolded lines")} ${er} ${tr.state.phrase("to")} ${rr}.`)}const foldAll=tr=>{let{state:Ot}=tr,Nt=[];for(let er=0;er<Ot.doc.length;){let rr=tr.lineBlockAt(er),ir=foldable(Ot,rr.from,rr.to);ir&&Nt.push(foldEffect.of(ir)),er=(ir?tr.lineBlockAt(ir.to):rr).to+1}return Nt.length&&tr.dispatch({effects:maybeEnable(tr.state,Nt)}),!!Nt.length},unfoldAll=tr=>{let Ot=tr.state.field(foldState,!1);if(!Ot||!Ot.size)return!1;let Nt=[];return Ot.between(0,tr.state.doc.length,(er,rr)=>{Nt.push(unfoldEffect.of({from:er,to:rr}))}),tr.dispatch({effects:Nt}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},foldConfig=Facet.define({combine(tr){return combineConfig(tr,defaultConfig)}});function codeFolding(tr){return[foldState,baseTheme$1$2]}function widgetToDOM(tr,Ot){let{state:Nt}=tr,er=Nt.facet(foldConfig),rr=nr=>{let sr=tr.lineBlockAt(tr.posAtDOM(nr.target)),ar=findFold(tr.state,sr.from,sr.to);ar&&tr.dispatch({effects:unfoldEffect.of(ar)}),nr.preventDefault()};if(er.placeholderDOM)return er.placeholderDOM(tr,rr,Ot);let ir=document.createElement("span");return ir.textContent=er.placeholderText,ir.setAttribute("aria-label",Nt.phrase("folded code")),ir.title=Nt.phrase("unfold"),ir.className="cm-foldPlaceholder",ir.onclick=rr,ir}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(tr){return widgetToDOM(tr,null)}}});class PreparedFoldWidget extends WidgetType{constructor(Ot){super(),this.value=Ot}eq(Ot){return this.value==Ot.value}toDOM(Ot){return widgetToDOM(Ot,this.value)}}const foldGutterDefaults={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(Ot,Nt){super(),this.config=Ot,this.open=Nt}eq(Ot){return this.config==Ot.config&&this.open==Ot.open}toDOM(Ot){if(this.config.markerDOM)return this.config.markerDOM(this.open);let Nt=document.createElement("span");return Nt.textContent=this.open?this.config.openText:this.config.closedText,Nt.title=Ot.state.phrase(this.open?"Fold line":"Unfold line"),Nt}}function foldGutter(tr={}){let Ot=Object.assign(Object.assign({},foldGutterDefaults),tr),Nt=new FoldMarker(Ot,!0),er=new FoldMarker(Ot,!1),rr=ViewPlugin.fromClass(class{constructor(nr){this.from=nr.viewport.from,this.markers=this.buildMarkers(nr)}update(nr){(nr.docChanged||nr.viewportChanged||nr.startState.facet(language)!=nr.state.facet(language)||nr.startState.field(foldState,!1)!=nr.state.field(foldState,!1)||syntaxTree(nr.startState)!=syntaxTree(nr.state)||Ot.foldingChanged(nr))&&(this.markers=this.buildMarkers(nr.view))}buildMarkers(nr){let sr=new RangeSetBuilder;for(let ar of nr.viewportLineBlocks){let lr=findFold(nr.state,ar.from,ar.to)?er:foldable(nr.state,ar.from,ar.to)?Nt:null;lr&&sr.add(ar.from,ar.from,lr)}return sr.finish()}}),{domEventHandlers:ir}=Ot;return[rr,gutter({class:"cm-foldGutter",markers(nr){var sr;return((sr=nr.plugin(rr))===null||sr===void 0?void 0:sr.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(Ot,!1)},domEventHandlers:Object.assign(Object.assign({},ir),{click:(nr,sr,ar)=>{if(ir.click&&ir.click(nr,sr,ar))return!0;let lr=findFold(nr.state,sr.from,sr.to);if(lr)return nr.dispatch({effects:unfoldEffect.of(lr)}),!0;let cr=foldable(nr.state,sr.from,sr.to);return cr?(nr.dispatch({effects:foldEffect.of(cr)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(Ot,Nt){this.specs=Ot;let er;function rr(sr){let ar=StyleModule.newName();return(er||(er=Object.create(null)))["."+ar]=sr,ar}const ir=typeof Nt.all=="string"?Nt.all:Nt.all?rr(Nt.all):void 0,nr=Nt.scope;this.scope=nr instanceof Language?sr=>sr.prop(languageDataProp)==nr.data:nr?sr=>sr==nr:void 0,this.style=tagHighlighter(Ot.map(sr=>({tag:sr.tag,class:sr.class||rr(Object.assign({},sr,{tag:null}))})),{all:ir}).style,this.module=er?new StyleModule(er):null,this.themeType=Nt.themeType}static define(Ot,Nt){return new HighlightStyle(Ot,Nt||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(tr){return tr.length?[tr[0]]:null}});function getHighlighters(tr){let Ot=tr.facet(highlighterFacet);return Ot.length?Ot:tr.facet(fallbackHighlighter)}function syntaxHighlighting(tr,Ot){let Nt=[treeHighlighter],er;return tr instanceof HighlightStyle&&(tr.module&&Nt.push(EditorView.styleModule.of(tr.module)),er=tr.themeType),Ot!=null&&Ot.fallback?Nt.push(fallbackHighlighter.of(tr)):er?Nt.push(highlighterFacet.computeN([EditorView.darkTheme],rr=>rr.facet(EditorView.darkTheme)==(er=="dark")?[tr]:[])):Nt.push(highlighterFacet.of(tr)),Nt}class TreeHighlighter{constructor(Ot){this.markCache=Object.create(null),this.tree=syntaxTree(Ot.state),this.decorations=this.buildDeco(Ot,getHighlighters(Ot.state)),this.decoratedTo=Ot.viewport.to}update(Ot){let Nt=syntaxTree(Ot.state),er=getHighlighters(Ot.state),rr=er!=getHighlighters(Ot.startState),{viewport:ir}=Ot.view,nr=Ot.changes.mapPos(this.decoratedTo,1);Nt.length<ir.to&&!rr&&Nt.type==this.tree.type&&nr>=ir.to?(this.decorations=this.decorations.map(Ot.changes),this.decoratedTo=nr):(Nt!=this.tree||Ot.viewportChanged||rr)&&(this.tree=Nt,this.decorations=this.buildDeco(Ot.view,er),this.decoratedTo=ir.to)}buildDeco(Ot,Nt){if(!Nt||!this.tree.length)return Decoration.none;let er=new RangeSetBuilder;for(let{from:rr,to:ir}of Ot.visibleRanges)highlightTree(this.tree,Nt,(nr,sr,ar)=>{er.add(nr,sr,this.markCache[ar]||(this.markCache[ar]=Decoration.mark({class:ar})))},rr,ir);return er.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:tr=>tr.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(tr){return combineConfig(tr,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(tr){let Ot=[],Nt=tr.matched?matchingMark:nonmatchingMark;return Ot.push(Nt.range(tr.start.from,tr.start.to)),tr.end&&Ot.push(Nt.range(tr.end.from,tr.end.to)),Ot}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(tr,Ot){if(!Ot.docChanged&&!Ot.selection)return tr;let Nt=[],er=Ot.state.facet(bracketMatchingConfig);for(let rr of Ot.state.selection.ranges){if(!rr.empty)continue;let ir=matchBrackets(Ot.state,rr.head,-1,er)||rr.head>0&&matchBrackets(Ot.state,rr.head-1,1,er)||er.afterCursor&&(matchBrackets(Ot.state,rr.head,1,er)||rr.head<Ot.state.doc.length&&matchBrackets(Ot.state,rr.head+1,-1,er));ir&&(Nt=Nt.concat(er.renderMatch(ir,Ot.state)))}return Decoration.set(Nt,!0)},provide:tr=>EditorView.decorations.from(tr)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(tr={}){return[bracketMatchingConfig.of(tr),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(tr,Ot,Nt){let er=tr.prop(Ot<0?NodeProp.openedBy:NodeProp.closedBy);if(er)return er;if(tr.name.length==1){let rr=Nt.indexOf(tr.name);if(rr>-1&&rr%2==(Ot<0?1:0))return[Nt[rr+Ot]]}return null}function findHandle(tr){let Ot=tr.type.prop(bracketMatchingHandle);return Ot?Ot(tr.node):tr}function matchBrackets(tr,Ot,Nt,er={}){let rr=er.maxScanDistance||DefaultScanDist,ir=er.brackets||DefaultBrackets,nr=syntaxTree(tr),sr=nr.resolveInner(Ot,Nt);for(let ar=sr;ar;ar=ar.parent){let lr=matchingNodes(ar.type,Nt,ir);if(lr&&ar.from<ar.to){let cr=findHandle(ar);if(cr&&(Nt>0?Ot>=cr.from&&Ot<cr.to:Ot>cr.from&&Ot<=cr.to))return matchMarkedBrackets(tr,Ot,Nt,ar,cr,lr,ir)}}return matchPlainBrackets(tr,Ot,Nt,nr,sr.type,rr,ir)}function matchMarkedBrackets(tr,Ot,Nt,er,rr,ir,nr){let sr=er.parent,ar={from:rr.from,to:rr.to},lr=0,cr=sr==null?void 0:sr.cursor();if(cr&&(Nt<0?cr.childBefore(er.from):cr.childAfter(er.to)))do if(Nt<0?cr.to<=er.from:cr.from>=er.to){if(lr==0&&ir.indexOf(cr.type.name)>-1&&cr.from<cr.to){let dr=findHandle(cr);return{start:ar,end:dr?{from:dr.from,to:dr.to}:void 0,matched:!0}}else if(matchingNodes(cr.type,Nt,nr))lr++;else if(matchingNodes(cr.type,-Nt,nr)){if(lr==0){let dr=findHandle(cr);return{start:ar,end:dr&&dr.from<dr.to?{from:dr.from,to:dr.to}:void 0,matched:!1}}lr--}}while(Nt<0?cr.prevSibling():cr.nextSibling());return{start:ar,matched:!1}}function matchPlainBrackets(tr,Ot,Nt,er,rr,ir,nr){let sr=Nt<0?tr.sliceDoc(Ot-1,Ot):tr.sliceDoc(Ot,Ot+1),ar=nr.indexOf(sr);if(ar<0||ar%2==0!=Nt>0)return null;let lr={from:Nt<0?Ot-1:Ot,to:Nt>0?Ot+1:Ot},cr=tr.doc.iterRange(Ot,Nt>0?tr.doc.length:0),dr=0;for(let ur=0;!cr.next().done&&ur<=ir;){let fr=cr.value;Nt<0&&(ur+=fr.length);let hr=Ot+ur*Nt;for(let pr=Nt>0?0:fr.length-1,gr=Nt>0?fr.length:-1;pr!=gr;pr+=Nt){let br=nr.indexOf(fr[pr]);if(!(br<0||er.resolveInner(hr+pr,1).type!=rr))if(br%2==0==Nt>0)dr++;else{if(dr==1)return{start:lr,end:{from:hr+pr,to:hr+pr+1},matched:br>>1==ar>>1};dr--}}Nt>0&&(ur+=fr.length)}return cr.done?{start:lr,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[tr,Ot]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[tr]=createTokenType(noTokens,Ot);function warnForPart(tr,Ot){warned.indexOf(tr)>-1||(warned.push(tr),console.warn(Ot))}function createTokenType(tr,Ot){let Nt=[];for(let sr of Ot.split(" ")){let ar=[];for(let lr of sr.split(".")){let cr=tr[lr]||tags[lr];cr?typeof cr=="function"?ar.length?ar=ar.map(cr):warnForPart(lr,`Modifier ${lr} used at start of tag`):ar.length?warnForPart(lr,`Tag ${lr} used as modifier`):ar=Array.isArray(cr)?cr:[cr]:warnForPart(lr,`Unknown highlighting tag ${lr}`)}for(let lr of ar)Nt.push(lr)}if(!Nt.length)return 0;let er=Ot.replace(/ /g,"_"),rr=er+" "+Nt.map(sr=>sr.id),ir=byTag[rr];if(ir)return ir.id;let nr=byTag[rr]=NodeType.define({id:typeArray.length,name:er,props:[styleTags({[er]:Nt})]});return typeArray.push(nr),nr.id}Direction.RTL,Direction.LTR;const toggleComment=tr=>{let{state:Ot}=tr,Nt=Ot.doc.lineAt(Ot.selection.main.from),er=getConfig(tr.state,Nt.from);return er.line?toggleLineComment(tr):er.block?toggleBlockCommentByLine(tr):!1};function command(tr,Ot){return({state:Nt,dispatch:er})=>{if(Nt.readOnly)return!1;let rr=tr(Ot,Nt);return rr?(er(Nt.update(rr)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((tr,Ot)=>changeBlockComment(tr,Ot,selectedLineRanges(Ot)),0);function getConfig(tr,Ot){let Nt=tr.languageDataAt("commentTokens",Ot);return Nt.length?Nt[0]:{}}const SearchMargin=50;function findBlockComment(tr,{open:Ot,close:Nt},er,rr){let ir=tr.sliceDoc(er-SearchMargin,er),nr=tr.sliceDoc(rr,rr+SearchMargin),sr=/\s*$/.exec(ir)[0].length,ar=/^\s*/.exec(nr)[0].length,lr=ir.length-sr;if(ir.slice(lr-Ot.length,lr)==Ot&&nr.slice(ar,ar+Nt.length)==Nt)return{open:{pos:er-sr,margin:sr&&1},close:{pos:rr+ar,margin:ar&&1}};let cr,dr;rr-er<=2*SearchMargin?cr=dr=tr.sliceDoc(er,rr):(cr=tr.sliceDoc(er,er+SearchMargin),dr=tr.sliceDoc(rr-SearchMargin,rr));let ur=/^\s*/.exec(cr)[0].length,fr=/\s*$/.exec(dr)[0].length,hr=dr.length-fr-Nt.length;return cr.slice(ur,ur+Ot.length)==Ot&&dr.slice(hr,hr+Nt.length)==Nt?{open:{pos:er+ur+Ot.length,margin:/\s/.test(cr.charAt(ur+Ot.length))?1:0},close:{pos:rr-fr-Nt.length,margin:/\s/.test(dr.charAt(hr-1))?1:0}}:null}function selectedLineRanges(tr){let Ot=[];for(let Nt of tr.selection.ranges){let er=tr.doc.lineAt(Nt.from),rr=Nt.to<=er.to?er:tr.doc.lineAt(Nt.to),ir=Ot.length-1;ir>=0&&Ot[ir].to>er.from?Ot[ir].to=rr.to:Ot.push({from:er.from+/^\s*/.exec(er.text)[0].length,to:rr.to})}return Ot}function changeBlockComment(tr,Ot,Nt=Ot.selection.ranges){let er=Nt.map(ir=>getConfig(Ot,ir.from).block);if(!er.every(ir=>ir))return null;let rr=Nt.map((ir,nr)=>findBlockComment(Ot,er[nr],ir.from,ir.to));if(tr!=2&&!rr.every(ir=>ir))return{changes:Ot.changes(Nt.map((ir,nr)=>rr[nr]?[]:[{from:ir.from,insert:er[nr].open+" "},{from:ir.to,insert:" "+er[nr].close}]))};if(tr!=1&&rr.some(ir=>ir)){let ir=[];for(let nr=0,sr;nr<rr.length;nr++)if(sr=rr[nr]){let ar=er[nr],{open:lr,close:cr}=sr;ir.push({from:lr.pos-ar.open.length,to:lr.pos+lr.margin},{from:cr.pos-cr.margin,to:cr.pos+ar.close.length})}return{changes:ir}}return null}function changeLineComment(tr,Ot,Nt=Ot.selection.ranges){let er=[],rr=-1;for(let{from:ir,to:nr}of Nt){let sr=er.length,ar=1e9,lr=getConfig(Ot,ir).line;if(lr){for(let cr=ir;cr<=nr;){let dr=Ot.doc.lineAt(cr);if(dr.from>rr&&(ir==nr||nr>dr.from)){rr=dr.from;let ur=/^\s*/.exec(dr.text)[0].length,fr=ur==dr.length,hr=dr.text.slice(ur,ur+lr.length)==lr?ur:-1;ur<dr.text.length&&ur<ar&&(ar=ur),er.push({line:dr,comment:hr,token:lr,indent:ur,empty:fr,single:!1})}cr=dr.to+1}if(ar<1e9)for(let cr=sr;cr<er.length;cr++)er[cr].indent<er[cr].line.text.length&&(er[cr].indent=ar);er.length==sr+1&&(er[sr].single=!0)}}if(tr!=2&&er.some(ir=>ir.comment<0&&(!ir.empty||ir.single))){let ir=[];for(let{line:sr,token:ar,indent:lr,empty:cr,single:dr}of er)(dr||!cr)&&ir.push({from:sr.from+lr,insert:ar+" "});let nr=Ot.changes(ir);return{changes:nr,selection:Ot.selection.map(nr,1)}}else if(tr!=1&&er.some(ir=>ir.comment>=0)){let ir=[];for(let{line:nr,comment:sr,token:ar}of er)if(sr>=0){let lr=nr.from+sr,cr=lr+ar.length;nr.text[cr-nr.from]==" "&&cr++,ir.push({from:lr,to:cr})}return{changes:ir}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(tr){return combineConfig(tr,{minDepth:100,newGroupDelay:500,joinToEvent:(Ot,Nt)=>Nt},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(Ot,Nt)=>(er,rr)=>Ot(er,rr)||Nt(er,rr)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(tr,Ot){let Nt=Ot.state.facet(historyConfig),er=Ot.annotation(fromHistory);if(er){let ar=HistEvent.fromTransaction(Ot,er.selection),lr=er.side,cr=lr==0?tr.undone:tr.done;return ar?cr=updateBranch(cr,cr.length,Nt.minDepth,ar):cr=addSelection(cr,Ot.startState.selection),new HistoryState(lr==0?er.rest:cr,lr==0?cr:er.rest)}let rr=Ot.annotation(isolateHistory);if((rr=="full"||rr=="before")&&(tr=tr.isolate()),Ot.annotation(Transaction.addToHistory)===!1)return Ot.changes.empty?tr:tr.addMapping(Ot.changes.desc);let ir=HistEvent.fromTransaction(Ot),nr=Ot.annotation(Transaction.time),sr=Ot.annotation(Transaction.userEvent);return ir?tr=tr.addChanges(ir,nr,sr,Nt,Ot):Ot.selection&&(tr=tr.addSelection(Ot.startState.selection,nr,sr,Nt.newGroupDelay)),(rr=="full"||rr=="after")&&(tr=tr.isolate()),tr},toJSON(tr){return{done:tr.done.map(Ot=>Ot.toJSON()),undone:tr.undone.map(Ot=>Ot.toJSON())}},fromJSON(tr){return new HistoryState(tr.done.map(HistEvent.fromJSON),tr.undone.map(HistEvent.fromJSON))}});function history(tr={}){return[historyField_,historyConfig.of(tr),EditorView.domEventHandlers({beforeinput(Ot,Nt){let er=Ot.inputType=="historyUndo"?undo:Ot.inputType=="historyRedo"?redo:null;return er?(Ot.preventDefault(),er(Nt)):!1}})]}function cmd(tr,Ot){return function({state:Nt,dispatch:er}){if(!Ot&&Nt.readOnly)return!1;let rr=Nt.field(historyField_,!1);if(!rr)return!1;let ir=rr.pop(tr,Nt,Ot);return ir?(er(ir),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(Ot,Nt,er,rr,ir){this.changes=Ot,this.effects=Nt,this.mapped=er,this.startSelection=rr,this.selectionsAfter=ir}setSelAfter(Ot){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,Ot)}toJSON(){var Ot,Nt,er;return{changes:(Ot=this.changes)===null||Ot===void 0?void 0:Ot.toJSON(),mapped:(Nt=this.mapped)===null||Nt===void 0?void 0:Nt.toJSON(),startSelection:(er=this.startSelection)===null||er===void 0?void 0:er.toJSON(),selectionsAfter:this.selectionsAfter.map(rr=>rr.toJSON())}}static fromJSON(Ot){return new HistEvent(Ot.changes&&ChangeSet.fromJSON(Ot.changes),[],Ot.mapped&&ChangeDesc.fromJSON(Ot.mapped),Ot.startSelection&&EditorSelection.fromJSON(Ot.startSelection),Ot.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(Ot,Nt){let er=none$1;for(let rr of Ot.startState.facet(invertedEffects)){let ir=rr(Ot);ir.length&&(er=er.concat(ir))}return!er.length&&Ot.changes.empty?null:new HistEvent(Ot.changes.invert(Ot.startState.doc),er,void 0,Nt||Ot.startState.selection,none$1)}static selection(Ot){return new HistEvent(void 0,none$1,void 0,void 0,Ot)}}function updateBranch(tr,Ot,Nt,er){let rr=Ot+1>Nt+20?Ot-Nt-1:0,ir=tr.slice(rr,Ot);return ir.push(er),ir}function isAdjacent(tr,Ot){let Nt=[],er=!1;return tr.iterChangedRanges((rr,ir)=>Nt.push(rr,ir)),Ot.iterChangedRanges((rr,ir,nr,sr)=>{for(let ar=0;ar<Nt.length;){let lr=Nt[ar++],cr=Nt[ar++];sr>=lr&&nr<=cr&&(er=!0)}}),er}function eqSelectionShape(tr,Ot){return tr.ranges.length==Ot.ranges.length&&tr.ranges.filter((Nt,er)=>Nt.empty!=Ot.ranges[er].empty).length===0}function conc(tr,Ot){return tr.length?Ot.length?tr.concat(Ot):tr:Ot}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(tr,Ot){if(tr.length){let Nt=tr[tr.length-1],er=Nt.selectionsAfter.slice(Math.max(0,Nt.selectionsAfter.length-MaxSelectionsPerEvent));return er.length&&er[er.length-1].eq(Ot)?tr:(er.push(Ot),updateBranch(tr,tr.length-1,1e9,Nt.setSelAfter(er)))}else return[HistEvent.selection([Ot])]}function popSelection(tr){let Ot=tr[tr.length-1],Nt=tr.slice();return Nt[tr.length-1]=Ot.setSelAfter(Ot.selectionsAfter.slice(0,Ot.selectionsAfter.length-1)),Nt}function addMappingToBranch(tr,Ot){if(!tr.length)return tr;let Nt=tr.length,er=none$1;for(;Nt;){let rr=mapEvent(tr[Nt-1],Ot,er);if(rr.changes&&!rr.changes.empty||rr.effects.length){let ir=tr.slice(0,Nt);return ir[Nt-1]=rr,ir}else Ot=rr.mapped,Nt--,er=rr.selectionsAfter}return er.length?[HistEvent.selection(er)]:none$1}function mapEvent(tr,Ot,Nt){let er=conc(tr.selectionsAfter.length?tr.selectionsAfter.map(sr=>sr.map(Ot)):none$1,Nt);if(!tr.changes)return HistEvent.selection(er);let rr=tr.changes.map(Ot),ir=Ot.mapDesc(tr.changes,!0),nr=tr.mapped?tr.mapped.composeDesc(ir):ir;return new HistEvent(rr,StateEffect.mapEffects(tr.effects,Ot),nr,tr.startSelection.map(ir),er)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(Ot,Nt,er=0,rr=void 0){this.done=Ot,this.undone=Nt,this.prevTime=er,this.prevUserEvent=rr}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(Ot,Nt,er,rr,ir){let nr=this.done,sr=nr[nr.length-1];return sr&&sr.changes&&!sr.changes.empty&&Ot.changes&&(!er||joinableUserEvent.test(er))&&(!sr.selectionsAfter.length&&Nt-this.prevTime<rr.newGroupDelay&&rr.joinToEvent(ir,isAdjacent(sr.changes,Ot.changes))||er=="input.type.compose")?nr=updateBranch(nr,nr.length-1,rr.minDepth,new HistEvent(Ot.changes.compose(sr.changes),conc(Ot.effects,sr.effects),sr.mapped,sr.startSelection,none$1)):nr=updateBranch(nr,nr.length,rr.minDepth,Ot),new HistoryState(nr,none$1,Nt,er)}addSelection(Ot,Nt,er,rr){let ir=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return ir.length>0&&Nt-this.prevTime<rr&&er==this.prevUserEvent&&er&&/^select($|\.)/.test(er)&&eqSelectionShape(ir[ir.length-1],Ot)?this:new HistoryState(addSelection(this.done,Ot),this.undone,Nt,er)}addMapping(Ot){return new HistoryState(addMappingToBranch(this.done,Ot),addMappingToBranch(this.undone,Ot),this.prevTime,this.prevUserEvent)}pop(Ot,Nt,er){let rr=Ot==0?this.done:this.undone;if(rr.length==0)return null;let ir=rr[rr.length-1],nr=ir.selectionsAfter[0]||Nt.selection;if(er&&ir.selectionsAfter.length)return Nt.update({selection:ir.selectionsAfter[ir.selectionsAfter.length-1],annotations:fromHistory.of({side:Ot,rest:popSelection(rr),selection:nr}),userEvent:Ot==0?"select.undo":"select.redo",scrollIntoView:!0});if(ir.changes){let sr=rr.length==1?none$1:rr.slice(0,rr.length-1);return ir.mapped&&(sr=addMappingToBranch(sr,ir.mapped)),Nt.update({changes:ir.changes,selection:ir.startSelection,effects:ir.effects,annotations:fromHistory.of({side:Ot,rest:sr,selection:nr}),filter:!1,userEvent:Ot==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(tr,Ot){return EditorSelection.create(tr.ranges.map(Ot),tr.mainIndex)}function setSel(tr,Ot){return tr.update({selection:Ot,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:tr,dispatch:Ot},Nt){let er=updateSel(tr.selection,Nt);return er.eq(tr.selection,!0)?!1:(Ot(setSel(tr,er)),!0)}function rangeEnd(tr,Ot){return EditorSelection.cursor(Ot?tr.to:tr.from)}function cursorByChar(tr,Ot){return moveSel(tr,Nt=>Nt.empty?tr.moveByChar(Nt,Ot):rangeEnd(Nt,Ot))}function ltrAtCursor(tr){return tr.textDirectionAt(tr.state.selection.main.head)==Direction.LTR}const cursorCharLeft=tr=>cursorByChar(tr,!ltrAtCursor(tr)),cursorCharRight=tr=>cursorByChar(tr,ltrAtCursor(tr));function cursorByGroup(tr,Ot){return moveSel(tr,Nt=>Nt.empty?tr.moveByGroup(Nt,Ot):rangeEnd(Nt,Ot))}const cursorGroupLeft=tr=>cursorByGroup(tr,!ltrAtCursor(tr)),cursorGroupRight=tr=>cursorByGroup(tr,ltrAtCursor(tr));function interestingNode(tr,Ot,Nt){if(Ot.type.prop(Nt))return!0;let er=Ot.to-Ot.from;return er&&(er>2||/[^\s,.;:]/.test(tr.sliceDoc(Ot.from,Ot.to)))||Ot.firstChild}function moveBySyntax(tr,Ot,Nt){let er=syntaxTree(tr).resolveInner(Ot.head),rr=Nt?NodeProp.closedBy:NodeProp.openedBy;for(let ar=Ot.head;;){let lr=Nt?er.childAfter(ar):er.childBefore(ar);if(!lr)break;interestingNode(tr,lr,rr)?er=lr:ar=Nt?lr.to:lr.from}let ir=er.type.prop(rr),nr,sr;return ir&&(nr=Nt?matchBrackets(tr,er.from,1):matchBrackets(tr,er.to,-1))&&nr.matched?sr=Nt?nr.end.to:nr.end.from:sr=Nt?er.to:er.from,EditorSelection.cursor(sr,Nt?-1:1)}const cursorSyntaxLeft=tr=>moveSel(tr,Ot=>moveBySyntax(tr.state,Ot,!ltrAtCursor(tr))),cursorSyntaxRight=tr=>moveSel(tr,Ot=>moveBySyntax(tr.state,Ot,ltrAtCursor(tr)));function cursorByLine(tr,Ot){return moveSel(tr,Nt=>{if(!Nt.empty)return rangeEnd(Nt,Ot);let er=tr.moveVertically(Nt,Ot);return er.head!=Nt.head?er:tr.moveToLineBoundary(Nt,Ot)})}const cursorLineUp=tr=>cursorByLine(tr,!1),cursorLineDown=tr=>cursorByLine(tr,!0);function pageInfo(tr){let Ot=tr.scrollDOM.clientHeight<tr.scrollDOM.scrollHeight-2,Nt=0,er=0,rr;if(Ot){for(let ir of tr.state.facet(EditorView.scrollMargins)){let nr=ir(tr);nr!=null&&nr.top&&(Nt=Math.max(nr==null?void 0:nr.top,Nt)),nr!=null&&nr.bottom&&(er=Math.max(nr==null?void 0:nr.bottom,er))}rr=tr.scrollDOM.clientHeight-Nt-er}else rr=(tr.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:Nt,marginBottom:er,selfScroll:Ot,height:Math.max(tr.defaultLineHeight,rr-5)}}function cursorByPage(tr,Ot){let Nt=pageInfo(tr),{state:er}=tr,rr=updateSel(er.selection,nr=>nr.empty?tr.moveVertically(nr,Ot,Nt.height):rangeEnd(nr,Ot));if(rr.eq(er.selection))return!1;let ir;if(Nt.selfScroll){let nr=tr.coordsAtPos(er.selection.main.head),sr=tr.scrollDOM.getBoundingClientRect(),ar=sr.top+Nt.marginTop,lr=sr.bottom-Nt.marginBottom;nr&&nr.top>ar&&nr.bottom<lr&&(ir=EditorView.scrollIntoView(rr.main.head,{y:"start",yMargin:nr.top-ar}))}return tr.dispatch(setSel(er,rr),{effects:ir}),!0}const cursorPageUp=tr=>cursorByPage(tr,!1),cursorPageDown=tr=>cursorByPage(tr,!0);function moveByLineBoundary(tr,Ot,Nt){let er=tr.lineBlockAt(Ot.head),rr=tr.moveToLineBoundary(Ot,Nt);if(rr.head==Ot.head&&rr.head!=(Nt?er.to:er.from)&&(rr=tr.moveToLineBoundary(Ot,Nt,!1)),!Nt&&rr.head==er.from&&er.length){let ir=/^\s*/.exec(tr.state.sliceDoc(er.from,Math.min(er.from+100,er.to)))[0].length;ir&&Ot.head!=er.from+ir&&(rr=EditorSelection.cursor(er.from+ir))}return rr}const cursorLineBoundaryForward=tr=>moveSel(tr,Ot=>moveByLineBoundary(tr,Ot,!0)),cursorLineBoundaryBackward=tr=>moveSel(tr,Ot=>moveByLineBoundary(tr,Ot,!1)),cursorLineBoundaryLeft=tr=>moveSel(tr,Ot=>moveByLineBoundary(tr,Ot,!ltrAtCursor(tr))),cursorLineBoundaryRight=tr=>moveSel(tr,Ot=>moveByLineBoundary(tr,Ot,ltrAtCursor(tr))),cursorLineStart=tr=>moveSel(tr,Ot=>EditorSelection.cursor(tr.lineBlockAt(Ot.head).from,1)),cursorLineEnd=tr=>moveSel(tr,Ot=>EditorSelection.cursor(tr.lineBlockAt(Ot.head).to,-1));function toMatchingBracket(tr,Ot,Nt){let er=!1,rr=updateSel(tr.selection,ir=>{let nr=matchBrackets(tr,ir.head,-1)||matchBrackets(tr,ir.head,1)||ir.head>0&&matchBrackets(tr,ir.head-1,1)||ir.head<tr.doc.length&&matchBrackets(tr,ir.head+1,-1);if(!nr||!nr.end)return ir;er=!0;let sr=nr.start.from==ir.head?nr.end.to:nr.end.from;return EditorSelection.cursor(sr)});return er?(Ot(setSel(tr,rr)),!0):!1}const cursorMatchingBracket=({state:tr,dispatch:Ot})=>toMatchingBracket(tr,Ot);function extendSel(tr,Ot){let Nt=updateSel(tr.state.selection,er=>{let rr=Ot(er);return EditorSelection.range(er.anchor,rr.head,rr.goalColumn,rr.bidiLevel||void 0)});return Nt.eq(tr.state.selection)?!1:(tr.dispatch(setSel(tr.state,Nt)),!0)}function selectByChar(tr,Ot){return extendSel(tr,Nt=>tr.moveByChar(Nt,Ot))}const selectCharLeft=tr=>selectByChar(tr,!ltrAtCursor(tr)),selectCharRight=tr=>selectByChar(tr,ltrAtCursor(tr));function selectByGroup(tr,Ot){return extendSel(tr,Nt=>tr.moveByGroup(Nt,Ot))}const selectGroupLeft=tr=>selectByGroup(tr,!ltrAtCursor(tr)),selectGroupRight=tr=>selectByGroup(tr,ltrAtCursor(tr)),selectSyntaxLeft=tr=>extendSel(tr,Ot=>moveBySyntax(tr.state,Ot,!ltrAtCursor(tr))),selectSyntaxRight=tr=>extendSel(tr,Ot=>moveBySyntax(tr.state,Ot,ltrAtCursor(tr)));function selectByLine(tr,Ot){return extendSel(tr,Nt=>tr.moveVertically(Nt,Ot))}const selectLineUp=tr=>selectByLine(tr,!1),selectLineDown=tr=>selectByLine(tr,!0);function selectByPage(tr,Ot){return extendSel(tr,Nt=>tr.moveVertically(Nt,Ot,pageInfo(tr).height))}const selectPageUp=tr=>selectByPage(tr,!1),selectPageDown=tr=>selectByPage(tr,!0),selectLineBoundaryForward=tr=>extendSel(tr,Ot=>moveByLineBoundary(tr,Ot,!0)),selectLineBoundaryBackward=tr=>extendSel(tr,Ot=>moveByLineBoundary(tr,Ot,!1)),selectLineBoundaryLeft=tr=>extendSel(tr,Ot=>moveByLineBoundary(tr,Ot,!ltrAtCursor(tr))),selectLineBoundaryRight=tr=>extendSel(tr,Ot=>moveByLineBoundary(tr,Ot,ltrAtCursor(tr))),selectLineStart=tr=>extendSel(tr,Ot=>EditorSelection.cursor(tr.lineBlockAt(Ot.head).from)),selectLineEnd=tr=>extendSel(tr,Ot=>EditorSelection.cursor(tr.lineBlockAt(Ot.head).to)),cursorDocStart=({state:tr,dispatch:Ot})=>(Ot(setSel(tr,{anchor:0})),!0),cursorDocEnd=({state:tr,dispatch:Ot})=>(Ot(setSel(tr,{anchor:tr.doc.length})),!0),selectDocStart=({state:tr,dispatch:Ot})=>(Ot(setSel(tr,{anchor:tr.selection.main.anchor,head:0})),!0),selectDocEnd=({state:tr,dispatch:Ot})=>(Ot(setSel(tr,{anchor:tr.selection.main.anchor,head:tr.doc.length})),!0),selectAll=({state:tr,dispatch:Ot})=>(Ot(tr.update({selection:{anchor:0,head:tr.doc.length},userEvent:"select"})),!0),selectLine=({state:tr,dispatch:Ot})=>{let Nt=selectedLineBlocks(tr).map(({from:er,to:rr})=>EditorSelection.range(er,Math.min(rr+1,tr.doc.length)));return Ot(tr.update({selection:EditorSelection.create(Nt),userEvent:"select"})),!0},selectParentSyntax=({state:tr,dispatch:Ot})=>{let Nt=updateSel(tr.selection,er=>{var rr;let ir=syntaxTree(tr).resolveStack(er.from,1);for(let nr=ir;nr;nr=nr.next){let{node:sr}=nr;if((sr.from<er.from&&sr.to>=er.to||sr.to>er.to&&sr.from<=er.from)&&(!((rr=sr.parent)===null||rr===void 0)&&rr.parent))return EditorSelection.range(sr.to,sr.from)}return er});return Ot(setSel(tr,Nt)),!0},simplifySelection=({state:tr,dispatch:Ot})=>{let Nt=tr.selection,er=null;return Nt.ranges.length>1?er=EditorSelection.create([Nt.main]):Nt.main.empty||(er=EditorSelection.create([EditorSelection.cursor(Nt.main.head)])),er?(Ot(setSel(tr,er)),!0):!1};function deleteBy(tr,Ot){if(tr.state.readOnly)return!1;let Nt="delete.selection",{state:er}=tr,rr=er.changeByRange(ir=>{let{from:nr,to:sr}=ir;if(nr==sr){let ar=Ot(ir);ar<nr?(Nt="delete.backward",ar=skipAtomic(tr,ar,!1)):ar>nr&&(Nt="delete.forward",ar=skipAtomic(tr,ar,!0)),nr=Math.min(nr,ar),sr=Math.max(sr,ar)}else nr=skipAtomic(tr,nr,!1),sr=skipAtomic(tr,sr,!0);return nr==sr?{range:ir}:{changes:{from:nr,to:sr},range:EditorSelection.cursor(nr,nr<ir.head?-1:1)}});return rr.changes.empty?!1:(tr.dispatch(er.update(rr,{scrollIntoView:!0,userEvent:Nt,effects:Nt=="delete.selection"?EditorView.announce.of(er.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(tr,Ot,Nt){if(tr instanceof EditorView)for(let er of tr.state.facet(EditorView.atomicRanges).map(rr=>rr(tr)))er.between(Ot,Ot,(rr,ir)=>{rr<Ot&&ir>Ot&&(Ot=Nt?ir:rr)});return Ot}const deleteByChar=(tr,Ot,Nt)=>deleteBy(tr,er=>{let rr=er.from,{state:ir}=tr,nr=ir.doc.lineAt(rr),sr,ar;if(Nt&&!Ot&&rr>nr.from&&rr<nr.from+200&&!/[^ \t]/.test(sr=nr.text.slice(0,rr-nr.from))){if(sr[sr.length-1]=="	")return rr-1;let lr=countColumn(sr,ir.tabSize),cr=lr%getIndentUnit(ir)||getIndentUnit(ir);for(let dr=0;dr<cr&&sr[sr.length-1-dr]==" ";dr++)rr--;ar=rr}else ar=findClusterBreak(nr.text,rr-nr.from,Ot,Ot)+nr.from,ar==rr&&nr.number!=(Ot?ir.doc.lines:1)?ar+=Ot?1:-1:!Ot&&/[\ufe00-\ufe0f]/.test(nr.text.slice(ar-nr.from,rr-nr.from))&&(ar=findClusterBreak(nr.text,ar-nr.from,!1,!1)+nr.from);return ar}),deleteCharBackward=tr=>deleteByChar(tr,!1,!0),deleteCharForward=tr=>deleteByChar(tr,!0,!1),deleteByGroup=(tr,Ot)=>deleteBy(tr,Nt=>{let er=Nt.head,{state:rr}=tr,ir=rr.doc.lineAt(er),nr=rr.charCategorizer(er);for(let sr=null;;){if(er==(Ot?ir.to:ir.from)){er==Nt.head&&ir.number!=(Ot?rr.doc.lines:1)&&(er+=Ot?1:-1);break}let ar=findClusterBreak(ir.text,er-ir.from,Ot)+ir.from,lr=ir.text.slice(Math.min(er,ar)-ir.from,Math.max(er,ar)-ir.from),cr=nr(lr);if(sr!=null&&cr!=sr)break;(lr!=" "||er!=Nt.head)&&(sr=cr),er=ar}return er}),deleteGroupBackward=tr=>deleteByGroup(tr,!1),deleteGroupForward=tr=>deleteByGroup(tr,!0),deleteToLineEnd=tr=>deleteBy(tr,Ot=>{let Nt=tr.lineBlockAt(Ot.head).to;return Ot.head<Nt?Nt:Math.min(tr.state.doc.length,Ot.head+1)}),deleteLineBoundaryBackward=tr=>deleteBy(tr,Ot=>{let Nt=tr.moveToLineBoundary(Ot,!1).head;return Ot.head>Nt?Nt:Math.max(0,Ot.head-1)}),deleteLineBoundaryForward=tr=>deleteBy(tr,Ot=>{let Nt=tr.moveToLineBoundary(Ot,!0).head;return Ot.head<Nt?Nt:Math.min(tr.state.doc.length,Ot.head+1)}),splitLine=({state:tr,dispatch:Ot})=>{if(tr.readOnly)return!1;let Nt=tr.changeByRange(er=>({changes:{from:er.from,to:er.to,insert:Text$1.of(["",""])},range:EditorSelection.cursor(er.from)}));return Ot(tr.update(Nt,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:tr,dispatch:Ot})=>{if(tr.readOnly)return!1;let Nt=tr.changeByRange(er=>{if(!er.empty||er.from==0||er.from==tr.doc.length)return{range:er};let rr=er.from,ir=tr.doc.lineAt(rr),nr=rr==ir.from?rr-1:findClusterBreak(ir.text,rr-ir.from,!1)+ir.from,sr=rr==ir.to?rr+1:findClusterBreak(ir.text,rr-ir.from,!0)+ir.from;return{changes:{from:nr,to:sr,insert:tr.doc.slice(rr,sr).append(tr.doc.slice(nr,rr))},range:EditorSelection.cursor(sr)}});return Nt.changes.empty?!1:(Ot(tr.update(Nt,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(tr){let Ot=[],Nt=-1;for(let er of tr.selection.ranges){let rr=tr.doc.lineAt(er.from),ir=tr.doc.lineAt(er.to);if(!er.empty&&er.to==ir.from&&(ir=tr.doc.lineAt(er.to-1)),Nt>=rr.number){let nr=Ot[Ot.length-1];nr.to=ir.to,nr.ranges.push(er)}else Ot.push({from:rr.from,to:ir.to,ranges:[er]});Nt=ir.number+1}return Ot}function moveLine(tr,Ot,Nt){if(tr.readOnly)return!1;let er=[],rr=[];for(let ir of selectedLineBlocks(tr)){if(Nt?ir.to==tr.doc.length:ir.from==0)continue;let nr=tr.doc.lineAt(Nt?ir.to+1:ir.from-1),sr=nr.length+1;if(Nt){er.push({from:ir.to,to:nr.to},{from:ir.from,insert:nr.text+tr.lineBreak});for(let ar of ir.ranges)rr.push(EditorSelection.range(Math.min(tr.doc.length,ar.anchor+sr),Math.min(tr.doc.length,ar.head+sr)))}else{er.push({from:nr.from,to:ir.from},{from:ir.to,insert:tr.lineBreak+nr.text});for(let ar of ir.ranges)rr.push(EditorSelection.range(ar.anchor-sr,ar.head-sr))}}return er.length?(Ot(tr.update({changes:er,scrollIntoView:!0,selection:EditorSelection.create(rr,tr.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:tr,dispatch:Ot})=>moveLine(tr,Ot,!1),moveLineDown=({state:tr,dispatch:Ot})=>moveLine(tr,Ot,!0);function copyLine(tr,Ot,Nt){if(tr.readOnly)return!1;let er=[];for(let rr of selectedLineBlocks(tr))Nt?er.push({from:rr.from,insert:tr.doc.slice(rr.from,rr.to)+tr.lineBreak}):er.push({from:rr.to,insert:tr.lineBreak+tr.doc.slice(rr.from,rr.to)});return Ot(tr.update({changes:er,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:tr,dispatch:Ot})=>copyLine(tr,Ot,!1),copyLineDown=({state:tr,dispatch:Ot})=>copyLine(tr,Ot,!0),deleteLine=tr=>{if(tr.state.readOnly)return!1;let{state:Ot}=tr,Nt=Ot.changes(selectedLineBlocks(Ot).map(({from:rr,to:ir})=>(rr>0?rr--:ir<Ot.doc.length&&ir++,{from:rr,to:ir}))),er=updateSel(Ot.selection,rr=>{let ir;if(tr.lineWrapping){let nr=tr.lineBlockAt(rr.head),sr=tr.coordsAtPos(rr.head,rr.assoc||1);sr&&(ir=nr.bottom+tr.documentTop-sr.bottom+tr.defaultLineHeight/2)}return tr.moveVertically(rr,!0,ir)}).map(Nt);return tr.dispatch({changes:Nt,selection:er,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(tr,Ot){if(/\(\)|\[\]|\{\}/.test(tr.sliceDoc(Ot-1,Ot+1)))return{from:Ot,to:Ot};let Nt=syntaxTree(tr).resolveInner(Ot),er=Nt.childBefore(Ot),rr=Nt.childAfter(Ot),ir;return er&&rr&&er.to<=Ot&&rr.from>=Ot&&(ir=er.type.prop(NodeProp.closedBy))&&ir.indexOf(rr.name)>-1&&tr.doc.lineAt(er.to).from==tr.doc.lineAt(rr.from).from&&!/\S/.test(tr.sliceDoc(er.to,rr.from))?{from:er.to,to:rr.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(tr){return({state:Ot,dispatch:Nt})=>{if(Ot.readOnly)return!1;let er=Ot.changeByRange(rr=>{let{from:ir,to:nr}=rr,sr=Ot.doc.lineAt(ir),ar=!tr&&ir==nr&&isBetweenBrackets(Ot,ir);tr&&(ir=nr=(nr<=sr.to?sr:Ot.doc.lineAt(nr)).to);let lr=new IndentContext(Ot,{simulateBreak:ir,simulateDoubleBreak:!!ar}),cr=getIndentation(lr,ir);for(cr==null&&(cr=countColumn(/^\s*/.exec(Ot.doc.lineAt(ir).text)[0],Ot.tabSize));nr<sr.to&&/\s/.test(sr.text[nr-sr.from]);)nr++;ar?{from:ir,to:nr}=ar:ir>sr.from&&ir<sr.from+100&&!/\S/.test(sr.text.slice(0,ir))&&(ir=sr.from);let dr=["",indentString(Ot,cr)];return ar&&dr.push(indentString(Ot,lr.lineIndent(sr.from,-1))),{changes:{from:ir,to:nr,insert:Text$1.of(dr)},range:EditorSelection.cursor(ir+1+dr[1].length)}});return Nt(Ot.update(er,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(tr,Ot){let Nt=-1;return tr.changeByRange(er=>{let rr=[];for(let nr=er.from;nr<=er.to;){let sr=tr.doc.lineAt(nr);sr.number>Nt&&(er.empty||er.to>sr.from)&&(Ot(sr,rr,er),Nt=sr.number),nr=sr.to+1}let ir=tr.changes(rr);return{changes:rr,range:EditorSelection.range(ir.mapPos(er.anchor,1),ir.mapPos(er.head,1))}})}const indentSelection=({state:tr,dispatch:Ot})=>{if(tr.readOnly)return!1;let Nt=Object.create(null),er=new IndentContext(tr,{overrideIndentation:ir=>{let nr=Nt[ir];return nr??-1}}),rr=changeBySelectedLine(tr,(ir,nr,sr)=>{let ar=getIndentation(er,ir.from);if(ar==null)return;/\S/.test(ir.text)||(ar=0);let lr=/^\s*/.exec(ir.text)[0],cr=indentString(tr,ar);(lr!=cr||sr.from<ir.from+lr.length)&&(Nt[ir.from]=ar,nr.push({from:ir.from,to:ir.from+lr.length,insert:cr}))});return rr.changes.empty||Ot(tr.update(rr,{userEvent:"indent"})),!0},indentMore=({state:tr,dispatch:Ot})=>tr.readOnly?!1:(Ot(tr.update(changeBySelectedLine(tr,(Nt,er)=>{er.push({from:Nt.from,insert:tr.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:tr,dispatch:Ot})=>tr.readOnly?!1:(Ot(tr.update(changeBySelectedLine(tr,(Nt,er)=>{let rr=/^\s*/.exec(Nt.text)[0];if(!rr)return;let ir=countColumn(rr,tr.tabSize),nr=0,sr=indentString(tr,Math.max(0,ir-getIndentUnit(tr)));for(;nr<rr.length&&nr<sr.length&&rr.charCodeAt(nr)==sr.charCodeAt(nr);)nr++;er.push({from:Nt.from+nr,to:Nt.from+rr.length,insert:sr.slice(nr)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=tr=>(tr.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(tr=>({mac:tr.key,run:tr.run,shift:tr.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var tr=arguments[0];typeof tr=="string"&&(tr=document.createElement(tr));var Ot=1,Nt=arguments[1];if(Nt&&typeof Nt=="object"&&Nt.nodeType==null&&!Array.isArray(Nt)){for(var er in Nt)if(Object.prototype.hasOwnProperty.call(Nt,er)){var rr=Nt[er];typeof rr=="string"?tr.setAttribute(er,rr):rr!=null&&(tr[er]=rr)}Ot++}for(;Ot<arguments.length;Ot++)add(tr,arguments[Ot]);return tr}function add(tr,Ot){if(typeof Ot=="string")tr.appendChild(document.createTextNode(Ot));else if(Ot!=null)if(Ot.nodeType!=null)tr.appendChild(Ot);else if(Array.isArray(Ot))for(var Nt=0;Nt<Ot.length;Nt++)add(tr,Ot[Nt]);else throw new RangeError("Unsupported child node: "+Ot)}const basicNormalize=typeof String.prototype.normalize=="function"?tr=>tr.normalize("NFKD"):tr=>tr;class SearchCursor{constructor(Ot,Nt,er=0,rr=Ot.length,ir,nr){this.test=nr,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=Ot.iterRange(er,rr),this.bufferStart=er,this.normalize=ir?sr=>ir(basicNormalize(sr)):basicNormalize,this.query=this.normalize(Nt)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let Ot=this.peek();if(Ot<0)return this.done=!0,this;let Nt=fromCodePoint(Ot),er=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(Ot);let rr=this.normalize(Nt);for(let ir=0,nr=er;;ir++){let sr=rr.charCodeAt(ir),ar=this.match(sr,nr,this.bufferPos+this.bufferStart);if(ir==rr.length-1){if(ar)return this.value=ar,this;break}nr==er&&ir<Nt.length&&Nt.charCodeAt(ir)==sr&&nr++}}}match(Ot,Nt,er){let rr=null;for(let ir=0;ir<this.matches.length;ir+=2){let nr=this.matches[ir],sr=!1;this.query.charCodeAt(nr)==Ot&&(nr==this.query.length-1?rr={from:this.matches[ir+1],to:er}:(this.matches[ir]++,sr=!0)),sr||(this.matches.splice(ir,2),ir-=2)}return this.query.charCodeAt(0)==Ot&&(this.query.length==1?rr={from:Nt,to:er}:this.matches.push(1,Nt)),rr&&this.test&&!this.test(rr.from,rr.to,this.buffer,this.bufferStart)&&(rr=null),rr}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty$2={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(Ot,Nt,er,rr=0,ir=Ot.length){if(this.text=Ot,this.to=ir,this.curLine="",this.done=!1,this.value=empty$2,/\\[sWDnr]|\n|\r|\[\^/.test(Nt))return new MultilineRegExpCursor(Ot,Nt,er,rr,ir);this.re=new RegExp(Nt,baseFlags+(er!=null&&er.ignoreCase?"i":"")),this.test=er==null?void 0:er.test,this.iter=Ot.iter();let nr=Ot.lineAt(rr);this.curLineStart=nr.from,this.matchPos=toCharEnd(Ot,rr),this.getLine(this.curLineStart)}getLine(Ot){this.iter.next(Ot),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let Ot=this.matchPos-this.curLineStart;;){this.re.lastIndex=Ot;let Nt=this.matchPos<=this.to&&this.re.exec(this.curLine);if(Nt){let er=this.curLineStart+Nt.index,rr=er+Nt[0].length;if(this.matchPos=toCharEnd(this.text,rr+(er==rr?1:0)),er==this.curLineStart+this.curLine.length&&this.nextLine(),(er<rr||er>this.value.to)&&(!this.test||this.test(er,rr,Nt)))return this.value={from:er,to:rr,match:Nt},this;Ot=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),Ot=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(Ot,Nt){this.from=Ot,this.text=Nt}get to(){return this.from+this.text.length}static get(Ot,Nt,er){let rr=flattened.get(Ot);if(!rr||rr.from>=er||rr.to<=Nt){let sr=new FlattenedDoc(Nt,Ot.sliceString(Nt,er));return flattened.set(Ot,sr),sr}if(rr.from==Nt&&rr.to==er)return rr;let{text:ir,from:nr}=rr;return nr>Nt&&(ir=Ot.sliceString(Nt,nr)+ir,nr=Nt),rr.to<er&&(ir+=Ot.sliceString(rr.to,er)),flattened.set(Ot,new FlattenedDoc(nr,ir)),new FlattenedDoc(Nt,ir.slice(Nt-nr,er-nr))}}class MultilineRegExpCursor{constructor(Ot,Nt,er,rr,ir){this.text=Ot,this.to=ir,this.done=!1,this.value=empty$2,this.matchPos=toCharEnd(Ot,rr),this.re=new RegExp(Nt,baseFlags+(er!=null&&er.ignoreCase?"i":"")),this.test=er==null?void 0:er.test,this.flat=FlattenedDoc.get(Ot,rr,this.chunkEnd(rr+5e3))}chunkEnd(Ot){return Ot>=this.to?this.to:this.text.lineAt(Ot).to}next(){for(;;){let Ot=this.re.lastIndex=this.matchPos-this.flat.from,Nt=this.re.exec(this.flat.text);if(Nt&&!Nt[0]&&Nt.index==Ot&&(this.re.lastIndex=Ot+1,Nt=this.re.exec(this.flat.text)),Nt){let er=this.flat.from+Nt.index,rr=er+Nt[0].length;if((this.flat.to>=this.to||Nt.index+Nt[0].length<=this.flat.text.length-10)&&(!this.test||this.test(er,rr,Nt)))return this.value={from:er,to:rr,match:Nt},this.matchPos=toCharEnd(this.text,rr+(er==rr?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(tr){try{return new RegExp(tr,baseFlags),!0}catch{return!1}}function toCharEnd(tr,Ot){if(Ot>=tr.length)return Ot;let Nt=tr.lineAt(Ot),er;for(;Ot<Nt.to&&(er=Nt.text.charCodeAt(Ot-Nt.from))>=56320&&er<57344;)Ot++;return Ot}function createLineDialog(tr){let Ot=String(tr.state.doc.lineAt(tr.state.selection.main.head).number),Nt=crelt("input",{class:"cm-textfield",name:"line",value:Ot}),er=crelt("form",{class:"cm-gotoLine",onkeydown:ir=>{ir.keyCode==27?(ir.preventDefault(),tr.dispatch({effects:dialogEffect.of(!1)}),tr.focus()):ir.keyCode==13&&(ir.preventDefault(),rr())},onsubmit:ir=>{ir.preventDefault(),rr()}},crelt("label",tr.state.phrase("Go to line"),": ",Nt)," ",crelt("button",{class:"cm-button",type:"submit"},tr.state.phrase("go")));function rr(){let ir=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(Nt.value);if(!ir)return;let{state:nr}=tr,sr=nr.doc.lineAt(nr.selection.main.head),[,ar,lr,cr,dr]=ir,ur=cr?+cr.slice(1):0,fr=lr?+lr:sr.number;if(lr&&dr){let gr=fr/100;ar&&(gr=gr*(ar=="-"?-1:1)+sr.number/nr.doc.lines),fr=Math.round(nr.doc.lines*gr)}else lr&&ar&&(fr=fr*(ar=="-"?-1:1)+sr.number);let hr=nr.doc.line(Math.max(1,Math.min(nr.doc.lines,fr))),pr=EditorSelection.cursor(hr.from+Math.max(0,Math.min(ur,hr.length)));tr.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(pr.from,{y:"center"})],selection:pr}),tr.focus()}return{dom:er}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(tr,Ot){for(let Nt of Ot.effects)Nt.is(dialogEffect)&&(tr=Nt.value);return tr},provide:tr=>showPanel.from(tr,Ot=>Ot?createLineDialog:null)}),gotoLine=tr=>{let Ot=getPanel(tr,createLineDialog);if(!Ot){let Nt=[dialogEffect.of(!0)];tr.state.field(dialogField,!1)==null&&Nt.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),tr.dispatch({effects:Nt}),Ot=getPanel(tr,createLineDialog)}return Ot&&Ot.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(tr){return combineConfig(tr,defaultHighlightOptions,{highlightWordAroundCursor:(Ot,Nt)=>Ot||Nt,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(tr){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(tr,Ot,Nt,er){return(Nt==0||tr(Ot.sliceDoc(Nt-1,Nt))!=CharCategory.Word)&&(er==Ot.doc.length||tr(Ot.sliceDoc(er,er+1))!=CharCategory.Word)}function insideWord(tr,Ot,Nt,er){return tr(Ot.sliceDoc(Nt,Nt+1))==CharCategory.Word&&tr(Ot.sliceDoc(er-1,er))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(tr){this.decorations=this.getDeco(tr)}update(tr){(tr.selectionSet||tr.docChanged||tr.viewportChanged)&&(this.decorations=this.getDeco(tr.view))}getDeco(tr){let Ot=tr.state.facet(highlightConfig),{state:Nt}=tr,er=Nt.selection;if(er.ranges.length>1)return Decoration.none;let rr=er.main,ir,nr=null;if(rr.empty){if(!Ot.highlightWordAroundCursor)return Decoration.none;let ar=Nt.wordAt(rr.head);if(!ar)return Decoration.none;nr=Nt.charCategorizer(rr.head),ir=Nt.sliceDoc(ar.from,ar.to)}else{let ar=rr.to-rr.from;if(ar<Ot.minSelectionLength||ar>200)return Decoration.none;if(Ot.wholeWords){if(ir=Nt.sliceDoc(rr.from,rr.to),nr=Nt.charCategorizer(rr.head),!(insideWordBoundaries(nr,Nt,rr.from,rr.to)&&insideWord(nr,Nt,rr.from,rr.to)))return Decoration.none}else if(ir=Nt.sliceDoc(rr.from,rr.to),!ir)return Decoration.none}let sr=[];for(let ar of tr.visibleRanges){let lr=new SearchCursor(Nt.doc,ir,ar.from,ar.to);for(;!lr.next().done;){let{from:cr,to:dr}=lr.value;if((!nr||insideWordBoundaries(nr,Nt,cr,dr))&&(rr.empty&&cr<=rr.from&&dr>=rr.to?sr.push(mainMatchDeco.range(cr,dr)):(cr>=rr.to||dr<=rr.from)&&sr.push(matchDeco.range(cr,dr)),sr.length>Ot.maxMatches))return Decoration.none}}return Decoration.set(sr)}},{decorations:tr=>tr.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:tr,dispatch:Ot})=>{let{selection:Nt}=tr,er=EditorSelection.create(Nt.ranges.map(rr=>tr.wordAt(rr.head)||EditorSelection.cursor(rr.head)),Nt.mainIndex);return er.eq(Nt)?!1:(Ot(tr.update({selection:er})),!0)};function findNextOccurrence(tr,Ot){let{main:Nt,ranges:er}=tr.selection,rr=tr.wordAt(Nt.head),ir=rr&&rr.from==Nt.from&&rr.to==Nt.to;for(let nr=!1,sr=new SearchCursor(tr.doc,Ot,er[er.length-1].to);;)if(sr.next(),sr.done){if(nr)return null;sr=new SearchCursor(tr.doc,Ot,0,Math.max(0,er[er.length-1].from-1)),nr=!0}else{if(nr&&er.some(ar=>ar.from==sr.value.from))continue;if(ir){let ar=tr.wordAt(sr.value.from);if(!ar||ar.from!=sr.value.from||ar.to!=sr.value.to)continue}return sr.value}}const selectNextOccurrence=({state:tr,dispatch:Ot})=>{let{ranges:Nt}=tr.selection;if(Nt.some(ir=>ir.from===ir.to))return selectWord({state:tr,dispatch:Ot});let er=tr.sliceDoc(Nt[0].from,Nt[0].to);if(tr.selection.ranges.some(ir=>tr.sliceDoc(ir.from,ir.to)!=er))return!1;let rr=findNextOccurrence(tr,er);return rr?(Ot(tr.update({selection:tr.selection.addRange(EditorSelection.range(rr.from,rr.to),!1),effects:EditorView.scrollIntoView(rr.to)})),!0):!1},searchConfigFacet=Facet.define({combine(tr){return combineConfig(tr,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:Ot=>new SearchPanel(Ot),scrollToMatch:Ot=>EditorView.scrollIntoView(Ot)})}});class SearchQuery{constructor(Ot){this.search=Ot.search,this.caseSensitive=!!Ot.caseSensitive,this.literal=!!Ot.literal,this.regexp=!!Ot.regexp,this.replace=Ot.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!Ot.wholeWord}unquote(Ot){return this.literal?Ot:Ot.replace(/\\([nrt\\])/g,(Nt,er)=>er=="n"?`
`:er=="r"?"\r":er=="t"?"	":"\\")}eq(Ot){return this.search==Ot.search&&this.replace==Ot.replace&&this.caseSensitive==Ot.caseSensitive&&this.regexp==Ot.regexp&&this.wholeWord==Ot.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(Ot,Nt=0,er){let rr=Ot.doc?Ot:EditorState.create({doc:Ot});return er==null&&(er=rr.doc.length),this.regexp?regexpCursor(this,rr,Nt,er):stringCursor(this,rr,Nt,er)}}class QueryType{constructor(Ot){this.spec=Ot}}function stringCursor(tr,Ot,Nt,er){return new SearchCursor(Ot.doc,tr.unquoted,Nt,er,tr.caseSensitive?void 0:rr=>rr.toLowerCase(),tr.wholeWord?stringWordTest(Ot.doc,Ot.charCategorizer(Ot.selection.main.head)):void 0)}function stringWordTest(tr,Ot){return(Nt,er,rr,ir)=>((ir>Nt||ir+rr.length<er)&&(ir=Math.max(0,Nt-2),rr=tr.sliceString(ir,Math.min(tr.length,er+2))),(Ot(charBefore(rr,Nt-ir))!=CharCategory.Word||Ot(charAfter(rr,Nt-ir))!=CharCategory.Word)&&(Ot(charAfter(rr,er-ir))!=CharCategory.Word||Ot(charBefore(rr,er-ir))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(Ot){super(Ot)}nextMatch(Ot,Nt,er){let rr=stringCursor(this.spec,Ot,er,Ot.doc.length).nextOverlapping();return rr.done&&(rr=stringCursor(this.spec,Ot,0,Nt).nextOverlapping()),rr.done?null:rr.value}prevMatchInRange(Ot,Nt,er){for(let rr=er;;){let ir=Math.max(Nt,rr-1e4-this.spec.unquoted.length),nr=stringCursor(this.spec,Ot,ir,rr),sr=null;for(;!nr.nextOverlapping().done;)sr=nr.value;if(sr)return sr;if(ir==Nt)return null;rr-=1e4}}prevMatch(Ot,Nt,er){return this.prevMatchInRange(Ot,0,Nt)||this.prevMatchInRange(Ot,er,Ot.doc.length)}getReplacement(Ot){return this.spec.unquote(this.spec.replace)}matchAll(Ot,Nt){let er=stringCursor(this.spec,Ot,0,Ot.doc.length),rr=[];for(;!er.next().done;){if(rr.length>=Nt)return null;rr.push(er.value)}return rr}highlight(Ot,Nt,er,rr){let ir=stringCursor(this.spec,Ot,Math.max(0,Nt-this.spec.unquoted.length),Math.min(er+this.spec.unquoted.length,Ot.doc.length));for(;!ir.next().done;)rr(ir.value.from,ir.value.to)}}function regexpCursor(tr,Ot,Nt,er){return new RegExpCursor(Ot.doc,tr.search,{ignoreCase:!tr.caseSensitive,test:tr.wholeWord?regexpWordTest(Ot.charCategorizer(Ot.selection.main.head)):void 0},Nt,er)}function charBefore(tr,Ot){return tr.slice(findClusterBreak(tr,Ot,!1),Ot)}function charAfter(tr,Ot){return tr.slice(Ot,findClusterBreak(tr,Ot))}function regexpWordTest(tr){return(Ot,Nt,er)=>!er[0].length||(tr(charBefore(er.input,er.index))!=CharCategory.Word||tr(charAfter(er.input,er.index))!=CharCategory.Word)&&(tr(charAfter(er.input,er.index+er[0].length))!=CharCategory.Word||tr(charBefore(er.input,er.index+er[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(Ot,Nt,er){let rr=regexpCursor(this.spec,Ot,er,Ot.doc.length).next();return rr.done&&(rr=regexpCursor(this.spec,Ot,0,Nt).next()),rr.done?null:rr.value}prevMatchInRange(Ot,Nt,er){for(let rr=1;;rr++){let ir=Math.max(Nt,er-rr*1e4),nr=regexpCursor(this.spec,Ot,ir,er),sr=null;for(;!nr.next().done;)sr=nr.value;if(sr&&(ir==Nt||sr.from>ir+10))return sr;if(ir==Nt)return null}}prevMatch(Ot,Nt,er){return this.prevMatchInRange(Ot,0,Nt)||this.prevMatchInRange(Ot,er,Ot.doc.length)}getReplacement(Ot){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(Nt,er)=>er=="$"?"$":er=="&"?Ot.match[0]:er!="0"&&+er<Ot.match.length?Ot.match[er]:Nt)}matchAll(Ot,Nt){let er=regexpCursor(this.spec,Ot,0,Ot.doc.length),rr=[];for(;!er.next().done;){if(rr.length>=Nt)return null;rr.push(er.value)}return rr}highlight(Ot,Nt,er,rr){let ir=regexpCursor(this.spec,Ot,Math.max(0,Nt-250),Math.min(er+250,Ot.doc.length));for(;!ir.next().done;)rr(ir.value.from,ir.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(tr){return new SearchState(defaultQuery(tr).create(),null)},update(tr,Ot){for(let Nt of Ot.effects)Nt.is(setSearchQuery)?tr=new SearchState(Nt.value.create(),tr.panel):Nt.is(togglePanel$1)&&(tr=new SearchState(tr.query,Nt.value?createSearchPanel:null));return tr},provide:tr=>showPanel.from(tr,Ot=>Ot.panel)});class SearchState{constructor(Ot,Nt){this.query=Ot,this.panel=Nt}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(tr){this.view=tr,this.decorations=this.highlight(tr.state.field(searchState))}update(tr){let Ot=tr.state.field(searchState);(Ot!=tr.startState.field(searchState)||tr.docChanged||tr.selectionSet||tr.viewportChanged)&&(this.decorations=this.highlight(Ot))}highlight({query:tr,panel:Ot}){if(!Ot||!tr.spec.valid)return Decoration.none;let{view:Nt}=this,er=new RangeSetBuilder;for(let rr=0,ir=Nt.visibleRanges,nr=ir.length;rr<nr;rr++){let{from:sr,to:ar}=ir[rr];for(;rr<nr-1&&ar>ir[rr+1].from-2*250;)ar=ir[++rr].to;tr.highlight(Nt.state,sr,ar,(lr,cr)=>{let dr=Nt.state.selection.ranges.some(ur=>ur.from==lr&&ur.to==cr);er.add(lr,cr,dr?selectedMatchMark:matchMark)})}return er.finish()}},{decorations:tr=>tr.decorations});function searchCommand(tr){return Ot=>{let Nt=Ot.state.field(searchState,!1);return Nt&&Nt.query.spec.valid?tr(Ot,Nt):openSearchPanel(Ot)}}const findNext=searchCommand((tr,{query:Ot})=>{let{to:Nt}=tr.state.selection.main,er=Ot.nextMatch(tr.state,Nt,Nt);if(!er)return!1;let rr=EditorSelection.single(er.from,er.to),ir=tr.state.facet(searchConfigFacet);return tr.dispatch({selection:rr,effects:[announceMatch(tr,er),ir.scrollToMatch(rr.main,tr)],userEvent:"select.search"}),selectSearchInput(tr),!0}),findPrevious=searchCommand((tr,{query:Ot})=>{let{state:Nt}=tr,{from:er}=Nt.selection.main,rr=Ot.prevMatch(Nt,er,er);if(!rr)return!1;let ir=EditorSelection.single(rr.from,rr.to),nr=tr.state.facet(searchConfigFacet);return tr.dispatch({selection:ir,effects:[announceMatch(tr,rr),nr.scrollToMatch(ir.main,tr)],userEvent:"select.search"}),selectSearchInput(tr),!0}),selectMatches=searchCommand((tr,{query:Ot})=>{let Nt=Ot.matchAll(tr.state,1e3);return!Nt||!Nt.length?!1:(tr.dispatch({selection:EditorSelection.create(Nt.map(er=>EditorSelection.range(er.from,er.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:tr,dispatch:Ot})=>{let Nt=tr.selection;if(Nt.ranges.length>1||Nt.main.empty)return!1;let{from:er,to:rr}=Nt.main,ir=[],nr=0;for(let sr=new SearchCursor(tr.doc,tr.sliceDoc(er,rr));!sr.next().done;){if(ir.length>1e3)return!1;sr.value.from==er&&(nr=ir.length),ir.push(EditorSelection.range(sr.value.from,sr.value.to))}return Ot(tr.update({selection:EditorSelection.create(ir,nr),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((tr,{query:Ot})=>{let{state:Nt}=tr,{from:er,to:rr}=Nt.selection.main;if(Nt.readOnly)return!1;let ir=Ot.nextMatch(Nt,er,er);if(!ir)return!1;let nr=[],sr,ar,lr=[];if(ir.from==er&&ir.to==rr&&(ar=Nt.toText(Ot.getReplacement(ir)),nr.push({from:ir.from,to:ir.to,insert:ar}),ir=Ot.nextMatch(Nt,ir.from,ir.to),lr.push(EditorView.announce.of(Nt.phrase("replaced match on line $",Nt.doc.lineAt(er).number)+"."))),ir){let cr=nr.length==0||nr[0].from>=ir.to?0:ir.to-ir.from-ar.length;sr=EditorSelection.single(ir.from-cr,ir.to-cr),lr.push(announceMatch(tr,ir)),lr.push(Nt.facet(searchConfigFacet).scrollToMatch(sr.main,tr))}return tr.dispatch({changes:nr,selection:sr,effects:lr,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((tr,{query:Ot})=>{if(tr.state.readOnly)return!1;let Nt=Ot.matchAll(tr.state,1e9).map(rr=>{let{from:ir,to:nr}=rr;return{from:ir,to:nr,insert:Ot.getReplacement(rr)}});if(!Nt.length)return!1;let er=tr.state.phrase("replaced $ matches",Nt.length)+".";return tr.dispatch({changes:Nt,effects:EditorView.announce.of(er),userEvent:"input.replace.all"}),!0});function createSearchPanel(tr){return tr.state.facet(searchConfigFacet).createPanel(tr)}function defaultQuery(tr,Ot){var Nt,er,rr,ir,nr;let sr=tr.selection.main,ar=sr.empty||sr.to>sr.from+100?"":tr.sliceDoc(sr.from,sr.to);if(Ot&&!ar)return Ot;let lr=tr.facet(searchConfigFacet);return new SearchQuery({search:((Nt=Ot==null?void 0:Ot.literal)!==null&&Nt!==void 0?Nt:lr.literal)?ar:ar.replace(/\n/g,"\\n"),caseSensitive:(er=Ot==null?void 0:Ot.caseSensitive)!==null&&er!==void 0?er:lr.caseSensitive,literal:(rr=Ot==null?void 0:Ot.literal)!==null&&rr!==void 0?rr:lr.literal,regexp:(ir=Ot==null?void 0:Ot.regexp)!==null&&ir!==void 0?ir:lr.regexp,wholeWord:(nr=Ot==null?void 0:Ot.wholeWord)!==null&&nr!==void 0?nr:lr.wholeWord})}function getSearchInput(tr){let Ot=getPanel(tr,createSearchPanel);return Ot&&Ot.dom.querySelector("[main-field]")}function selectSearchInput(tr){let Ot=getSearchInput(tr);Ot&&Ot==tr.root.activeElement&&Ot.select()}const openSearchPanel=tr=>{let Ot=tr.state.field(searchState,!1);if(Ot&&Ot.panel){let Nt=getSearchInput(tr);if(Nt&&Nt!=tr.root.activeElement){let er=defaultQuery(tr.state,Ot.query.spec);er.valid&&tr.dispatch({effects:setSearchQuery.of(er)}),Nt.focus(),Nt.select()}}else tr.dispatch({effects:[togglePanel$1.of(!0),Ot?setSearchQuery.of(defaultQuery(tr.state,Ot.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=tr=>{let Ot=tr.state.field(searchState,!1);if(!Ot||!Ot.panel)return!1;let Nt=getPanel(tr,createSearchPanel);return Nt&&Nt.dom.contains(tr.root.activeElement)&&tr.focus(),tr.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(Ot){this.view=Ot;let Nt=this.query=Ot.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:Nt.search,placeholder:phrase(Ot,"Find"),"aria-label":phrase(Ot,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:Nt.replace,placeholder:phrase(Ot,"Replace"),"aria-label":phrase(Ot,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:Nt.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:Nt.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:Nt.wholeWord,onchange:this.commit});function er(rr,ir,nr){return crelt("button",{class:"cm-button",name:rr,onclick:ir,type:"button"},nr)}this.dom=crelt("div",{onkeydown:rr=>this.keydown(rr),class:"cm-search"},[this.searchField,er("next",()=>findNext(Ot),[phrase(Ot,"next")]),er("prev",()=>findPrevious(Ot),[phrase(Ot,"previous")]),er("select",()=>selectMatches(Ot),[phrase(Ot,"all")]),crelt("label",null,[this.caseField,phrase(Ot,"match case")]),crelt("label",null,[this.reField,phrase(Ot,"regexp")]),crelt("label",null,[this.wordField,phrase(Ot,"by word")]),...Ot.state.readOnly?[]:[crelt("br"),this.replaceField,er("replace",()=>replaceNext(Ot),[phrase(Ot,"replace")]),er("replaceAll",()=>replaceAll(Ot),[phrase(Ot,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(Ot),"aria-label":phrase(Ot,"close"),type:"button"},["×"])])}commit(){let Ot=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});Ot.eq(this.query)||(this.query=Ot,this.view.dispatch({effects:setSearchQuery.of(Ot)}))}keydown(Ot){runScopeHandlers(this.view,Ot,"search-panel")?Ot.preventDefault():Ot.keyCode==13&&Ot.target==this.searchField?(Ot.preventDefault(),(Ot.shiftKey?findPrevious:findNext)(this.view)):Ot.keyCode==13&&Ot.target==this.replaceField&&(Ot.preventDefault(),replaceNext(this.view))}update(Ot){for(let Nt of Ot.transactions)for(let er of Nt.effects)er.is(setSearchQuery)&&!er.value.eq(this.query)&&this.setQuery(er.value)}setQuery(Ot){this.query=Ot,this.searchField.value=Ot.search,this.replaceField.value=Ot.replace,this.caseField.checked=Ot.caseSensitive,this.reField.checked=Ot.regexp,this.wordField.checked=Ot.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(tr,Ot){return tr.state.phrase(Ot)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(tr,{from:Ot,to:Nt}){let er=tr.state.doc.lineAt(Ot),rr=tr.state.doc.lineAt(Nt).to,ir=Math.max(er.from,Ot-AnnounceMargin),nr=Math.min(rr,Nt+AnnounceMargin),sr=tr.state.sliceDoc(ir,nr);if(ir!=er.from){for(let ar=0;ar<AnnounceMargin;ar++)if(!Break.test(sr[ar+1])&&Break.test(sr[ar])){sr=sr.slice(ar);break}}if(nr!=rr){for(let ar=sr.length-1;ar>sr.length-AnnounceMargin;ar--)if(!Break.test(sr[ar-1])&&Break.test(sr[ar])){sr=sr.slice(0,ar);break}}return EditorView.announce.of(`${tr.state.phrase("current match")}. ${sr} ${tr.state.phrase("on line")} ${er.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(Ot,Nt,er){this.state=Ot,this.pos=Nt,this.explicit=er,this.abortListeners=[]}tokenBefore(Ot){let Nt=syntaxTree(this.state).resolveInner(this.pos,-1);for(;Nt&&Ot.indexOf(Nt.name)<0;)Nt=Nt.parent;return Nt?{from:Nt.from,to:this.pos,text:this.state.sliceDoc(Nt.from,this.pos),type:Nt.type}:null}matchBefore(Ot){let Nt=this.state.doc.lineAt(this.pos),er=Math.max(Nt.from,this.pos-250),rr=Nt.text.slice(er-Nt.from,this.pos-Nt.from),ir=rr.search(ensureAnchor(Ot,!1));return ir<0?null:{from:er+ir,to:this.pos,text:rr.slice(ir)}}get aborted(){return this.abortListeners==null}addEventListener(Ot,Nt){Ot=="abort"&&this.abortListeners&&this.abortListeners.push(Nt)}}function toSet(tr){let Ot=Object.keys(tr).join(""),Nt=/\w/.test(Ot);return Nt&&(Ot=Ot.replace(/\w/g,"")),`[${Nt?"\\w":""}${Ot.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(tr){let Ot=Object.create(null),Nt=Object.create(null);for(let{label:rr}of tr){Ot[rr[0]]=!0;for(let ir=1;ir<rr.length;ir++)Nt[rr[ir]]=!0}let er=toSet(Ot)+toSet(Nt)+"*$";return[new RegExp("^"+er),new RegExp(er)]}function completeFromList(tr){let Ot=tr.map(rr=>typeof rr=="string"?{label:rr}:rr),[Nt,er]=Ot.every(rr=>/^\w+$/.test(rr.label))?[/\w*$/,/\w+$/]:prefixMatch(Ot);return rr=>{let ir=rr.matchBefore(er);return ir||rr.explicit?{from:ir?ir.from:rr.pos,options:Ot,validFor:Nt}:null}}function ifNotIn(tr,Ot){return Nt=>{for(let er=syntaxTree(Nt.state).resolveInner(Nt.pos,-1);er;er=er.parent){if(tr.indexOf(er.name)>-1)return null;if(er.type.isTop)break}return Ot(Nt)}}class Option{constructor(Ot,Nt,er,rr){this.completion=Ot,this.source=Nt,this.match=er,this.score=rr}}function cur(tr){return tr.selection.main.from}function ensureAnchor(tr,Ot){var Nt;let{source:er}=tr,rr=Ot&&er[0]!="^",ir=er[er.length-1]!="$";return!rr&&!ir?tr:new RegExp(`${rr?"^":""}(?:${er})${ir?"$":""}`,(Nt=tr.flags)!==null&&Nt!==void 0?Nt:tr.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(tr,Ot,Nt,er){let{main:rr}=tr.selection,ir=Nt-rr.from,nr=er-rr.from;return Object.assign(Object.assign({},tr.changeByRange(sr=>sr!=rr&&Nt!=er&&tr.sliceDoc(sr.from+ir,sr.from+nr)!=tr.sliceDoc(Nt,er)?{range:sr}:{changes:{from:sr.from+ir,to:er==rr.from?sr.to:sr.from+nr,insert:Ot},range:EditorSelection.cursor(sr.from+ir+Ot.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(tr){if(!Array.isArray(tr))return tr;let Ot=SourceCache.get(tr);return Ot||SourceCache.set(tr,Ot=completeFromList(tr)),Ot}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(Ot){this.pattern=Ot,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let Nt=0;Nt<Ot.length;){let er=codePointAt(Ot,Nt),rr=codePointSize(er);this.chars.push(er);let ir=Ot.slice(Nt,Nt+rr),nr=ir.toUpperCase();this.folded.push(codePointAt(nr==ir?ir.toLowerCase():nr,0)),Nt+=rr}this.astral=Ot.length!=this.chars.length}ret(Ot,Nt){return this.score=Ot,this.matched=Nt,this}match(Ot){if(this.pattern.length==0)return this.ret(-100,[]);if(Ot.length<this.pattern.length)return null;let{chars:Nt,folded:er,any:rr,precise:ir,byWord:nr}=this;if(Nt.length==1){let vr=codePointAt(Ot,0),kr=codePointSize(vr),Sr=kr==Ot.length?0:-100;if(vr!=Nt[0])if(vr==er[0])Sr+=-200;else return null;return this.ret(Sr,[0,kr])}let sr=Ot.indexOf(this.pattern);if(sr==0)return this.ret(Ot.length==this.pattern.length?0:-100,[0,this.pattern.length]);let ar=Nt.length,lr=0;if(sr<0){for(let vr=0,kr=Math.min(Ot.length,200);vr<kr&&lr<ar;){let Sr=codePointAt(Ot,vr);(Sr==Nt[lr]||Sr==er[lr])&&(rr[lr++]=vr),vr+=codePointSize(Sr)}if(lr<ar)return null}let cr=0,dr=0,ur=!1,fr=0,hr=-1,pr=-1,gr=/[a-z]/.test(Ot),br=!0;for(let vr=0,kr=Math.min(Ot.length,200),Sr=0;vr<kr&&dr<ar;){let Cr=codePointAt(Ot,vr);sr<0&&(cr<ar&&Cr==Nt[cr]&&(ir[cr++]=vr),fr<ar&&(Cr==Nt[fr]||Cr==er[fr]?(fr==0&&(hr=vr),pr=vr+1,fr++):fr=0));let Ar,Ir=Cr<255?Cr>=48&&Cr<=57||Cr>=97&&Cr<=122?2:Cr>=65&&Cr<=90?1:0:(Ar=fromCodePoint(Cr))!=Ar.toLowerCase()?1:Ar!=Ar.toUpperCase()?2:0;(!vr||Ir==1&&gr||Sr==0&&Ir!=0)&&(Nt[dr]==Cr||er[dr]==Cr&&(ur=!0)?nr[dr++]=vr:nr.length&&(br=!1)),Sr=Ir,vr+=codePointSize(Cr)}return dr==ar&&nr[0]==0&&br?this.result(-100+(ur?-200:0),nr,Ot):fr==ar&&hr==0?this.ret(-200-Ot.length+(pr==Ot.length?0:-100),[0,pr]):sr>-1?this.ret(-700-Ot.length,[sr,sr+this.pattern.length]):fr==ar?this.ret(-900-Ot.length,[hr,pr]):dr==ar?this.result(-100+(ur?-200:0)+-700+(br?0:-1100),nr,Ot):Nt.length==2?null:this.result((rr[0]?-700:0)+-200+-1100,rr,Ot)}result(Ot,Nt,er){let rr=[],ir=0;for(let nr of Nt){let sr=nr+(this.astral?codePointSize(codePointAt(er,nr)):1);ir&&rr[ir-1]==nr?rr[ir-1]=sr:(rr[ir++]=nr,rr[ir++]=sr)}return this.ret(Ot-er.length,rr)}}class StrictMatcher{constructor(Ot){this.pattern=Ot,this.matched=[],this.score=0,this.folded=Ot.toLowerCase()}match(Ot){if(Ot.length<this.pattern.length)return null;let Nt=Ot.slice(0,this.pattern.length),er=Nt==this.pattern?0:Nt.toLowerCase()==this.folded?-200:null;return er==null?null:(this.matched=[0,Nt.length],this.score=er+(Ot.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(tr){return combineConfig(tr,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(Ot,Nt)=>Ot.label.localeCompare(Nt.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(Ot,Nt)=>Ot&&Nt,closeOnBlur:(Ot,Nt)=>Ot&&Nt,icons:(Ot,Nt)=>Ot&&Nt,tooltipClass:(Ot,Nt)=>er=>joinClass(Ot(er),Nt(er)),optionClass:(Ot,Nt)=>er=>joinClass(Ot(er),Nt(er)),addToOptions:(Ot,Nt)=>Ot.concat(Nt),filterStrict:(Ot,Nt)=>Ot||Nt})}});function joinClass(tr,Ot){return tr?Ot?tr+" "+Ot:tr:Ot}function defaultPositionInfo(tr,Ot,Nt,er,rr,ir){let nr=tr.textDirection==Direction.RTL,sr=nr,ar=!1,lr="top",cr,dr,ur=Ot.left-rr.left,fr=rr.right-Ot.right,hr=er.right-er.left,pr=er.bottom-er.top;if(sr&&ur<Math.min(hr,fr)?sr=!1:!sr&&fr<Math.min(hr,ur)&&(sr=!0),hr<=(sr?ur:fr))cr=Math.max(rr.top,Math.min(Nt.top,rr.bottom-pr))-Ot.top,dr=Math.min(400,sr?ur:fr);else{ar=!0,dr=Math.min(400,(nr?Ot.right:rr.right-Ot.left)-30);let vr=rr.bottom-Ot.bottom;vr>=pr||vr>Ot.top?cr=Nt.bottom-Ot.top:(lr="bottom",cr=Ot.bottom-Nt.top)}let gr=(Ot.bottom-Ot.top)/ir.offsetHeight,br=(Ot.right-Ot.left)/ir.offsetWidth;return{style:`${lr}: ${cr/gr}px; max-width: ${dr/br}px`,class:"cm-completionInfo-"+(ar?nr?"left-narrow":"right-narrow":sr?"left":"right")}}function optionContent(tr){let Ot=tr.addToOptions.slice();return tr.icons&&Ot.push({render(Nt){let er=document.createElement("div");return er.classList.add("cm-completionIcon"),Nt.type&&er.classList.add(...Nt.type.split(/\s+/g).map(rr=>"cm-completionIcon-"+rr)),er.setAttribute("aria-hidden","true"),er},position:20}),Ot.push({render(Nt,er,rr,ir){let nr=document.createElement("span");nr.className="cm-completionLabel";let sr=Nt.displayLabel||Nt.label,ar=0;for(let lr=0;lr<ir.length;){let cr=ir[lr++],dr=ir[lr++];cr>ar&&nr.appendChild(document.createTextNode(sr.slice(ar,cr)));let ur=nr.appendChild(document.createElement("span"));ur.appendChild(document.createTextNode(sr.slice(cr,dr))),ur.className="cm-completionMatchedText",ar=dr}return ar<sr.length&&nr.appendChild(document.createTextNode(sr.slice(ar))),nr},position:50},{render(Nt){if(!Nt.detail)return null;let er=document.createElement("span");return er.className="cm-completionDetail",er.textContent=Nt.detail,er},position:80}),Ot.sort((Nt,er)=>Nt.position-er.position).map(Nt=>Nt.render)}function rangeAroundSelected(tr,Ot,Nt){if(tr<=Nt)return{from:0,to:tr};if(Ot<0&&(Ot=0),Ot<=tr>>1){let rr=Math.floor(Ot/Nt);return{from:rr*Nt,to:(rr+1)*Nt}}let er=Math.floor((tr-Ot)/Nt);return{from:tr-(er+1)*Nt,to:tr-er*Nt}}class CompletionTooltip{constructor(Ot,Nt,er){this.view=Ot,this.stateField=Nt,this.applyCompletion=er,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:ar=>this.placeInfo(ar),key:this},this.space=null,this.currentClass="";let rr=Ot.state.field(Nt),{options:ir,selected:nr}=rr.open,sr=Ot.state.facet(completionConfig);this.optionContent=optionContent(sr),this.optionClass=sr.optionClass,this.tooltipClass=sr.tooltipClass,this.range=rangeAroundSelected(ir.length,nr,sr.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(Ot.state),this.dom.addEventListener("mousedown",ar=>{let{options:lr}=Ot.state.field(Nt).open;for(let cr=ar.target,dr;cr&&cr!=this.dom;cr=cr.parentNode)if(cr.nodeName=="LI"&&(dr=/-(\d+)$/.exec(cr.id))&&+dr[1]<lr.length){this.applyCompletion(Ot,lr[+dr[1]]),ar.preventDefault();return}}),this.dom.addEventListener("focusout",ar=>{let lr=Ot.state.field(this.stateField,!1);lr&&lr.tooltip&&Ot.state.facet(completionConfig).closeOnBlur&&ar.relatedTarget!=Ot.contentDOM&&Ot.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(ir,rr.id)}mount(){this.updateSel()}showOptions(Ot,Nt){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(Ot,Nt,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(Ot){var Nt;let er=Ot.state.field(this.stateField),rr=Ot.startState.field(this.stateField);if(this.updateTooltipClass(Ot.state),er!=rr){let{options:ir,selected:nr,disabled:sr}=er.open;(!rr.open||rr.open.options!=ir)&&(this.range=rangeAroundSelected(ir.length,nr,Ot.state.facet(completionConfig).maxRenderedOptions),this.showOptions(ir,er.id)),this.updateSel(),sr!=((Nt=rr.open)===null||Nt===void 0?void 0:Nt.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!sr)}}updateTooltipClass(Ot){let Nt=this.tooltipClass(Ot);if(Nt!=this.currentClass){for(let er of this.currentClass.split(" "))er&&this.dom.classList.remove(er);for(let er of Nt.split(" "))er&&this.dom.classList.add(er);this.currentClass=Nt}}positioned(Ot){this.space=Ot,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let Ot=this.view.state.field(this.stateField),Nt=Ot.open;if((Nt.selected>-1&&Nt.selected<this.range.from||Nt.selected>=this.range.to)&&(this.range=rangeAroundSelected(Nt.options.length,Nt.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(Nt.options,Ot.id)),this.updateSelectedOption(Nt.selected)){this.destroyInfo();let{completion:er}=Nt.options[Nt.selected],{info:rr}=er;if(!rr)return;let ir=typeof rr=="string"?document.createTextNode(rr):rr(er);if(!ir)return;"then"in ir?ir.then(nr=>{nr&&this.view.state.field(this.stateField,!1)==Ot&&this.addInfoPane(nr,er)}).catch(nr=>logException(this.view.state,nr,"completion info")):this.addInfoPane(ir,er)}}addInfoPane(Ot,Nt){this.destroyInfo();let er=this.info=document.createElement("div");if(er.className="cm-tooltip cm-completionInfo",Ot.nodeType!=null)er.appendChild(Ot),this.infoDestroy=null;else{let{dom:rr,destroy:ir}=Ot;er.appendChild(rr),this.infoDestroy=ir||null}this.dom.appendChild(er),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(Ot){let Nt=null;for(let er=this.list.firstChild,rr=this.range.from;er;er=er.nextSibling,rr++)er.nodeName!="LI"||!er.id?rr--:rr==Ot?er.hasAttribute("aria-selected")||(er.setAttribute("aria-selected","true"),Nt=er):er.hasAttribute("aria-selected")&&er.removeAttribute("aria-selected");return Nt&&scrollIntoView(this.list,Nt),Nt}measureInfo(){let Ot=this.dom.querySelector("[aria-selected]");if(!Ot||!this.info)return null;let Nt=this.dom.getBoundingClientRect(),er=this.info.getBoundingClientRect(),rr=Ot.getBoundingClientRect(),ir=this.space;if(!ir){let nr=this.dom.ownerDocument.defaultView||window;ir={left:0,top:0,right:nr.innerWidth,bottom:nr.innerHeight}}return rr.top>Math.min(ir.bottom,Nt.bottom)-10||rr.bottom<Math.max(ir.top,Nt.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,Nt,rr,er,ir,this.dom)}placeInfo(Ot){this.info&&(Ot?(Ot.style&&(this.info.style.cssText=Ot.style),this.info.className="cm-tooltip cm-completionInfo "+(Ot.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(Ot,Nt,er){const rr=document.createElement("ul");rr.id=Nt,rr.setAttribute("role","listbox"),rr.setAttribute("aria-expanded","true"),rr.setAttribute("aria-label",this.view.state.phrase("Completions"));let ir=null;for(let nr=er.from;nr<er.to;nr++){let{completion:sr,match:ar}=Ot[nr],{section:lr}=sr;if(lr){let ur=typeof lr=="string"?lr:lr.name;if(ur!=ir&&(nr>er.from||er.from==0))if(ir=ur,typeof lr!="string"&&lr.header)rr.appendChild(lr.header(lr));else{let fr=rr.appendChild(document.createElement("completion-section"));fr.textContent=ur}}const cr=rr.appendChild(document.createElement("li"));cr.id=Nt+"-"+nr,cr.setAttribute("role","option");let dr=this.optionClass(sr);dr&&(cr.className=dr);for(let ur of this.optionContent){let fr=ur(sr,this.view.state,this.view,ar);fr&&cr.appendChild(fr)}}return er.from&&rr.classList.add("cm-completionListIncompleteTop"),er.to<Ot.length&&rr.classList.add("cm-completionListIncompleteBottom"),rr}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(tr,Ot){return Nt=>new CompletionTooltip(Nt,tr,Ot)}function scrollIntoView(tr,Ot){let Nt=tr.getBoundingClientRect(),er=Ot.getBoundingClientRect(),rr=Nt.height/tr.offsetHeight;er.top<Nt.top?tr.scrollTop-=(Nt.top-er.top)/rr:er.bottom>Nt.bottom&&(tr.scrollTop+=(er.bottom-Nt.bottom)/rr)}function score(tr){return(tr.boost||0)*100+(tr.apply?10:0)+(tr.info?5:0)+(tr.type?1:0)}function sortOptions(tr,Ot){let Nt=[],er=null,rr=lr=>{Nt.push(lr);let{section:cr}=lr.completion;if(cr){er||(er=[]);let dr=typeof cr=="string"?cr:cr.name;er.some(ur=>ur.name==dr)||er.push(typeof cr=="string"?{name:dr}:cr)}},ir=Ot.facet(completionConfig);for(let lr of tr)if(lr.hasResult()){let cr=lr.result.getMatch;if(lr.result.filter===!1)for(let dr of lr.result.options)rr(new Option(dr,lr.source,cr?cr(dr):[],1e9-Nt.length));else{let dr=Ot.sliceDoc(lr.from,lr.to),ur,fr=ir.filterStrict?new StrictMatcher(dr):new FuzzyMatcher(dr);for(let hr of lr.result.options)if(ur=fr.match(hr.label)){let pr=hr.displayLabel?cr?cr(hr,ur.matched):[]:ur.matched;rr(new Option(hr,lr.source,pr,ur.score+(hr.boost||0)))}}}if(er){let lr=Object.create(null),cr=0,dr=(ur,fr)=>{var hr,pr;return((hr=ur.rank)!==null&&hr!==void 0?hr:1e9)-((pr=fr.rank)!==null&&pr!==void 0?pr:1e9)||(ur.name<fr.name?-1:1)};for(let ur of er.sort(dr))cr-=1e5,lr[ur.name]=cr;for(let ur of Nt){let{section:fr}=ur.completion;fr&&(ur.score+=lr[typeof fr=="string"?fr:fr.name])}}let nr=[],sr=null,ar=ir.compareCompletions;for(let lr of Nt.sort((cr,dr)=>dr.score-cr.score||ar(cr.completion,dr.completion))){let cr=lr.completion;!sr||sr.label!=cr.label||sr.detail!=cr.detail||sr.type!=null&&cr.type!=null&&sr.type!=cr.type||sr.apply!=cr.apply||sr.boost!=cr.boost?nr.push(lr):score(lr.completion)>score(sr)&&(nr[nr.length-1]=lr),sr=lr.completion}return nr}class CompletionDialog{constructor(Ot,Nt,er,rr,ir,nr){this.options=Ot,this.attrs=Nt,this.tooltip=er,this.timestamp=rr,this.selected=ir,this.disabled=nr}setSelected(Ot,Nt){return Ot==this.selected||Ot>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(Nt,Ot),this.tooltip,this.timestamp,Ot,this.disabled)}static build(Ot,Nt,er,rr,ir){let nr=sortOptions(Ot,Nt);if(!nr.length)return rr&&Ot.some(ar=>ar.state==1)?new CompletionDialog(rr.options,rr.attrs,rr.tooltip,rr.timestamp,rr.selected,!0):null;let sr=Nt.facet(completionConfig).selectOnOpen?0:-1;if(rr&&rr.selected!=sr&&rr.selected!=-1){let ar=rr.options[rr.selected].completion;for(let lr=0;lr<nr.length;lr++)if(nr[lr].completion==ar){sr=lr;break}}return new CompletionDialog(nr,makeAttrs(er,sr),{pos:Ot.reduce((ar,lr)=>lr.hasResult()?Math.min(ar,lr.from):ar,1e8),create:createTooltip,above:ir.aboveCursor},rr?rr.timestamp:Date.now(),sr,!1)}map(Ot){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:Ot.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class CompletionState{constructor(Ot,Nt,er){this.active=Ot,this.id=Nt,this.open=er}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(Ot){let{state:Nt}=Ot,er=Nt.facet(completionConfig),ir=(er.override||Nt.languageDataAt("autocomplete",cur(Nt)).map(asSource)).map(sr=>(this.active.find(lr=>lr.source==sr)||new ActiveSource(sr,this.active.some(lr=>lr.state!=0)?1:0)).update(Ot,er));ir.length==this.active.length&&ir.every((sr,ar)=>sr==this.active[ar])&&(ir=this.active);let nr=this.open;nr&&Ot.docChanged&&(nr=nr.map(Ot.changes)),Ot.selection||ir.some(sr=>sr.hasResult()&&Ot.changes.touchesRange(sr.from,sr.to))||!sameResults(ir,this.active)?nr=CompletionDialog.build(ir,Nt,this.id,nr,er):nr&&nr.disabled&&!ir.some(sr=>sr.state==1)&&(nr=null),!nr&&ir.every(sr=>sr.state!=1)&&ir.some(sr=>sr.hasResult())&&(ir=ir.map(sr=>sr.hasResult()?new ActiveSource(sr.source,0):sr));for(let sr of Ot.effects)sr.is(setSelectedEffect)&&(nr=nr&&nr.setSelected(sr.value,this.id));return ir==this.active&&nr==this.open?this:new CompletionState(ir,this.id,nr)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:baseAttrs}}function sameResults(tr,Ot){if(tr==Ot)return!0;for(let Nt=0,er=0;;){for(;Nt<tr.length&&!tr[Nt].hasResult;)Nt++;for(;er<Ot.length&&!Ot[er].hasResult;)er++;let rr=Nt==tr.length,ir=er==Ot.length;if(rr||ir)return rr==ir;if(tr[Nt++].result!=Ot[er++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"};function makeAttrs(tr,Ot){let Nt={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":tr};return Ot>-1&&(Nt["aria-activedescendant"]=tr+"-"+Ot),Nt}const none=[];function getUserEvent(tr,Ot){if(tr.isUserEvent("input.complete")){let Nt=tr.annotation(pickedCompletion);if(Nt&&Ot.activateOnCompletion(Nt))return"input"}return tr.isUserEvent("input.type")?"input":tr.isUserEvent("delete.backward")?"delete":null}class ActiveSource{constructor(Ot,Nt,er=-1){this.source=Ot,this.state=Nt,this.explicitPos=er}hasResult(){return!1}update(Ot,Nt){let er=getUserEvent(Ot,Nt),rr=this;er?rr=rr.handleUserEvent(Ot,er,Nt):Ot.docChanged?rr=rr.handleChange(Ot):Ot.selection&&rr.state!=0&&(rr=new ActiveSource(rr.source,0));for(let ir of Ot.effects)if(ir.is(startCompletionEffect))rr=new ActiveSource(rr.source,1,ir.value?cur(Ot.state):-1);else if(ir.is(closeCompletionEffect))rr=new ActiveSource(rr.source,0);else if(ir.is(setActiveEffect))for(let nr of ir.value)nr.source==rr.source&&(rr=nr);return rr}handleUserEvent(Ot,Nt,er){return Nt=="delete"||!er.activateOnTyping?this.map(Ot.changes):new ActiveSource(this.source,1)}handleChange(Ot){return Ot.changes.touchesRange(cur(Ot.startState))?new ActiveSource(this.source,0):this.map(Ot.changes)}map(Ot){return Ot.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,Ot.mapPos(this.explicitPos))}}class ActiveResult extends ActiveSource{constructor(Ot,Nt,er,rr,ir){super(Ot,2,Nt),this.result=er,this.from=rr,this.to=ir}hasResult(){return!0}handleUserEvent(Ot,Nt,er){var rr;let ir=this.result;ir.map&&!Ot.changes.empty&&(ir=ir.map(ir,Ot.changes));let nr=Ot.changes.mapPos(this.from),sr=Ot.changes.mapPos(this.to,1),ar=cur(Ot.state);if((this.explicitPos<0?ar<=nr:ar<this.from)||ar>sr||!ir||Nt=="delete"&&cur(Ot.startState)==this.from)return new ActiveSource(this.source,Nt=="input"&&er.activateOnTyping?1:0);let lr=this.explicitPos<0?-1:Ot.changes.mapPos(this.explicitPos);return checkValid(ir.validFor,Ot.state,nr,sr)?new ActiveResult(this.source,lr,ir,nr,sr):ir.update&&(ir=ir.update(ir,nr,sr,new CompletionContext(Ot.state,ar,lr>=0)))?new ActiveResult(this.source,lr,ir,ir.from,(rr=ir.to)!==null&&rr!==void 0?rr:cur(Ot.state)):new ActiveSource(this.source,1,lr)}handleChange(Ot){return Ot.changes.touchesRange(this.from,this.to)?new ActiveSource(this.source,0):this.map(Ot.changes)}map(Ot){return Ot.empty?this:(this.result.map?this.result.map(this.result,Ot):this.result)?new ActiveResult(this.source,this.explicitPos<0?-1:Ot.mapPos(this.explicitPos),this.result,Ot.mapPos(this.from),Ot.mapPos(this.to,1)):new ActiveSource(this.source,0)}}function checkValid(tr,Ot,Nt,er){if(!tr)return!1;let rr=Ot.sliceDoc(Nt,er);return typeof tr=="function"?tr(rr,Nt,er,Ot):ensureAnchor(tr,!0).test(rr)}const setActiveEffect=StateEffect.define({map(tr,Ot){return tr.map(Nt=>Nt.map(Ot))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(tr,Ot){return tr.update(Ot)},provide:tr=>[showTooltip.from(tr,Ot=>Ot.tooltip),EditorView.contentAttributes.from(tr,Ot=>Ot.attrs)]});function applyCompletion(tr,Ot){const Nt=Ot.completion.apply||Ot.completion.label;let er=tr.state.field(completionState).active.find(rr=>rr.source==Ot.source);return er instanceof ActiveResult?(typeof Nt=="string"?tr.dispatch(Object.assign(Object.assign({},insertCompletionText(tr.state,Nt,er.from,er.to)),{annotations:pickedCompletion.of(Ot.completion)})):Nt(tr,Ot.completion,er.from,er.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(tr,Ot="option"){return Nt=>{let er=Nt.state.field(completionState,!1);if(!er||!er.open||er.open.disabled||Date.now()-er.open.timestamp<Nt.state.facet(completionConfig).interactionDelay)return!1;let rr=1,ir;Ot=="page"&&(ir=getTooltip(Nt,er.open.tooltip))&&(rr=Math.max(2,Math.floor(ir.dom.offsetHeight/ir.dom.querySelector("li").offsetHeight)-1));let{length:nr}=er.open.options,sr=er.open.selected>-1?er.open.selected+rr*(tr?1:-1):tr?0:nr-1;return sr<0?sr=Ot=="page"?0:nr-1:sr>=nr&&(sr=Ot=="page"?nr-1:0),Nt.dispatch({effects:setSelectedEffect.of(sr)}),!0}}const acceptCompletion=tr=>{let Ot=tr.state.field(completionState,!1);return tr.state.readOnly||!Ot||!Ot.open||Ot.open.selected<0||Ot.open.disabled||Date.now()-Ot.open.timestamp<tr.state.facet(completionConfig).interactionDelay?!1:applyCompletion(tr,Ot.open.options[Ot.open.selected])},startCompletion=tr=>tr.state.field(completionState,!1)?(tr.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=tr=>{let Ot=tr.state.field(completionState,!1);return!Ot||!Ot.active.some(Nt=>Nt.state!=0)?!1:(tr.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(Ot,Nt){this.active=Ot,this.context=Nt,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(tr){this.view=tr,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let Ot of tr.state.field(completionState).active)Ot.state==1&&this.startQuery(Ot)}update(tr){let Ot=tr.state.field(completionState),Nt=tr.state.facet(completionConfig);if(!tr.selectionSet&&!tr.docChanged&&tr.startState.field(completionState)==Ot)return;let er=tr.transactions.some(ir=>(ir.selection||ir.docChanged)&&!getUserEvent(ir,Nt));for(let ir=0;ir<this.running.length;ir++){let nr=this.running[ir];if(er||nr.updates.length+tr.transactions.length>MaxUpdateCount&&Date.now()-nr.time>MinAbortTime){for(let sr of nr.context.abortListeners)try{sr()}catch(ar){logException(this.view.state,ar)}nr.context.abortListeners=null,this.running.splice(ir--,1)}else nr.updates.push(...tr.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),tr.transactions.some(ir=>ir.effects.some(nr=>nr.is(startCompletionEffect)))&&(this.pendingStart=!0);let rr=this.pendingStart?50:Nt.activateOnTypingDelay;if(this.debounceUpdate=Ot.active.some(ir=>ir.state==1&&!this.running.some(nr=>nr.active.source==ir.source))?setTimeout(()=>this.startUpdate(),rr):-1,this.composing!=0)for(let ir of tr.transactions)getUserEvent(ir,Nt)=="input"?this.composing=2:this.composing==2&&ir.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:tr}=this.view,Ot=tr.field(completionState);for(let Nt of Ot.active)Nt.state==1&&!this.running.some(er=>er.active.source==Nt.source)&&this.startQuery(Nt)}startQuery(tr){let{state:Ot}=this.view,Nt=cur(Ot),er=new CompletionContext(Ot,Nt,tr.explicitPos==Nt),rr=new RunningQuery(tr,er);this.running.push(rr),Promise.resolve(tr.source(er)).then(ir=>{rr.context.aborted||(rr.done=ir||null,this.scheduleAccept())},ir=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,ir)})}scheduleAccept(){this.running.every(tr=>tr.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var tr;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let Ot=[],Nt=this.view.state.facet(completionConfig);for(let er=0;er<this.running.length;er++){let rr=this.running[er];if(rr.done===void 0)continue;if(this.running.splice(er--,1),rr.done){let nr=new ActiveResult(rr.active.source,rr.active.explicitPos,rr.done,rr.done.from,(tr=rr.done.to)!==null&&tr!==void 0?tr:cur(rr.updates.length?rr.updates[0].startState:this.view.state));for(let sr of rr.updates)nr=nr.update(sr,Nt);if(nr.hasResult()){Ot.push(nr);continue}}let ir=this.view.state.field(completionState).active.find(nr=>nr.source==rr.active.source);if(ir&&ir.state==1)if(rr.done==null){let nr=new ActiveSource(rr.active.source,0);for(let sr of rr.updates)nr=nr.update(sr,Nt);nr.state!=1&&Ot.push(nr)}else this.startQuery(ir)}Ot.length&&this.view.dispatch({effects:setActiveEffect.of(Ot)})}},{eventHandlers:{blur(tr){let Ot=this.view.state.field(completionState,!1);if(Ot&&Ot.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let Nt=Ot.open&&getTooltip(this.view,Ot.open.tooltip);(!Nt||!Nt.dom.contains(tr.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(tr,Ot){let Nt=Ot.state.field(completionState,!1);if(!Nt||!Nt.open||Nt.open.disabled||Nt.open.selected<0||tr.key.length>1||tr.ctrlKey&&!(windows&&tr.altKey)||tr.metaKey)return!1;let er=Nt.open.options[Nt.open.selected],rr=Nt.active.find(nr=>nr.source==er.source),ir=er.completion.commitCharacters||rr.result.commitCharacters;return ir&&ir.indexOf(tr.key)>-1&&applyCompletion(Ot,er),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(Ot,Nt,er,rr){this.field=Ot,this.line=Nt,this.from=er,this.to=rr}}class FieldRange{constructor(Ot,Nt,er){this.field=Ot,this.from=Nt,this.to=er}map(Ot){let Nt=Ot.mapPos(this.from,-1,MapMode.TrackDel),er=Ot.mapPos(this.to,1,MapMode.TrackDel);return Nt==null||er==null?null:new FieldRange(this.field,Nt,er)}}class Snippet{constructor(Ot,Nt){this.lines=Ot,this.fieldPositions=Nt}instantiate(Ot,Nt){let er=[],rr=[Nt],ir=Ot.doc.lineAt(Nt),nr=/^\s*/.exec(ir.text)[0];for(let ar of this.lines){if(er.length){let lr=nr,cr=/^\t*/.exec(ar)[0].length;for(let dr=0;dr<cr;dr++)lr+=Ot.facet(indentUnit);rr.push(Nt+lr.length-cr),ar=lr+ar.slice(cr)}er.push(ar),Nt+=ar.length+1}let sr=this.fieldPositions.map(ar=>new FieldRange(ar.field,rr[ar.line]+ar.from,rr[ar.line]+ar.to));return{text:er,ranges:sr}}static parse(Ot){let Nt=[],er=[],rr=[],ir;for(let nr of Ot.split(/\r\n?|\n/)){for(;ir=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(nr);){let sr=ir[1]?+ir[1]:null,ar=ir[2]||ir[3]||"",lr=-1,cr=ar.replace(/\\[{}]/g,dr=>dr[1]);for(let dr=0;dr<Nt.length;dr++)(sr!=null?Nt[dr].seq==sr:cr&&Nt[dr].name==cr)&&(lr=dr);if(lr<0){let dr=0;for(;dr<Nt.length&&(sr==null||Nt[dr].seq!=null&&Nt[dr].seq<sr);)dr++;Nt.splice(dr,0,{seq:sr,name:cr}),lr=dr;for(let ur of rr)ur.field>=lr&&ur.field++}rr.push(new FieldPos(lr,er.length,ir.index,ir.index+cr.length)),nr=nr.slice(0,ir.index)+ar+nr.slice(ir.index+ir[0].length)}nr=nr.replace(/\\([{}])/g,(sr,ar,lr)=>{for(let cr of rr)cr.line==er.length&&cr.from>lr&&(cr.from--,cr.to--);return ar}),er.push(nr)}return new Snippet(er,rr)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let tr=document.createElement("span");return tr.className="cm-snippetFieldPosition",tr}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(Ot,Nt){this.ranges=Ot,this.active=Nt,this.deco=Decoration.set(Ot.map(er=>(er.from==er.to?fieldMarker:fieldRange).range(er.from,er.to)))}map(Ot){let Nt=[];for(let er of this.ranges){let rr=er.map(Ot);if(!rr)return null;Nt.push(rr)}return new ActiveSnippet(Nt,this.active)}selectionInsideField(Ot){return Ot.ranges.every(Nt=>this.ranges.some(er=>er.field==this.active&&er.from<=Nt.from&&er.to>=Nt.to))}}const setActive=StateEffect.define({map(tr,Ot){return tr&&tr.map(Ot)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(tr,Ot){for(let Nt of Ot.effects){if(Nt.is(setActive))return Nt.value;if(Nt.is(moveToField)&&tr)return new ActiveSnippet(tr.ranges,Nt.value)}return tr&&Ot.docChanged&&(tr=tr.map(Ot.changes)),tr&&Ot.selection&&!tr.selectionInsideField(Ot.selection)&&(tr=null),tr},provide:tr=>EditorView.decorations.from(tr,Ot=>Ot?Ot.deco:Decoration.none)});function fieldSelection(tr,Ot){return EditorSelection.create(tr.filter(Nt=>Nt.field==Ot).map(Nt=>EditorSelection.range(Nt.from,Nt.to)))}function snippet(tr){let Ot=Snippet.parse(tr);return(Nt,er,rr,ir)=>{let{text:nr,ranges:sr}=Ot.instantiate(Nt.state,rr),ar={changes:{from:rr,to:ir,insert:Text$1.of(nr)},scrollIntoView:!0,annotations:er?[pickedCompletion.of(er),Transaction.userEvent.of("input.complete")]:void 0};if(sr.length&&(ar.selection=fieldSelection(sr,0)),sr.some(lr=>lr.field>0)){let lr=new ActiveSnippet(sr,0),cr=ar.effects=[setActive.of(lr)];Nt.state.field(snippetState,!1)===void 0&&cr.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}Nt.dispatch(Nt.state.update(ar))}}function moveField(tr){return({state:Ot,dispatch:Nt})=>{let er=Ot.field(snippetState,!1);if(!er||tr<0&&er.active==0)return!1;let rr=er.active+tr,ir=tr>0&&!er.ranges.some(nr=>nr.field==rr+tr);return Nt(Ot.update({selection:fieldSelection(er.ranges,rr),effects:setActive.of(ir?null:new ActiveSnippet(er.ranges,rr)),scrollIntoView:!0})),!0}}const clearSnippet=({state:tr,dispatch:Ot})=>tr.field(snippetState,!1)?(Ot(tr.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(tr){return tr.length?tr[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],tr=>tr.facet(snippetKeymap)));function snippetCompletion(tr,Ot){return Object.assign(Object.assign({},Ot),{apply:snippet(tr)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(tr,Ot){let Nt=Ot.state.field(snippetState,!1),er;if(!Nt||(er=Ot.posAtCoords({x:tr.clientX,y:tr.clientY}))==null)return!1;let rr=Nt.ranges.find(ir=>ir.from<=er&&ir.to>=er);return!rr||rr.field==Nt.active?!1:(Ot.dispatch({selection:fieldSelection(Nt.ranges,rr.field),effects:setActive.of(Nt.ranges.some(ir=>ir.field>rr.field)?new ActiveSnippet(Nt.ranges,rr.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(tr,Ot){let Nt=Ot.mapPos(tr,-1,MapMode.TrackAfter);return Nt??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(tr,Ot){if(tr=tr.map(Ot.changes),Ot.selection){let Nt=Ot.state.doc.lineAt(Ot.selection.main.head);tr=tr.update({filter:er=>er>=Nt.from&&er<=Nt.to})}for(let Nt of Ot.effects)Nt.is(closeBracketEffect)&&(tr=tr.update({add:[closedBracket.range(Nt.value,Nt.value+1)]}));return tr}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(tr){for(let Ot=0;Ot<definedClosing.length;Ot+=2)if(definedClosing.charCodeAt(Ot)==tr)return definedClosing.charAt(Ot+1);return fromCodePoint(tr<128?tr:tr+1)}function config$d(tr,Ot){return tr.languageDataAt("closeBrackets",Ot)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((tr,Ot,Nt,er)=>{if((android$1?tr.composing:tr.compositionStarted)||tr.state.readOnly)return!1;let rr=tr.state.selection.main;if(er.length>2||er.length==2&&codePointSize(codePointAt(er,0))==1||Ot!=rr.from||Nt!=rr.to)return!1;let ir=insertBracket(tr.state,er);return ir?(tr.dispatch(ir),!0):!1}),deleteBracketPair=({state:tr,dispatch:Ot})=>{if(tr.readOnly)return!1;let er=config$d(tr,tr.selection.main.head).brackets||defaults.brackets,rr=null,ir=tr.changeByRange(nr=>{if(nr.empty){let sr=prevChar(tr.doc,nr.head);for(let ar of er)if(ar==sr&&nextChar(tr.doc,nr.head)==closing(codePointAt(ar,0)))return{changes:{from:nr.head-ar.length,to:nr.head+ar.length},range:EditorSelection.cursor(nr.head-ar.length)}}return{range:rr=nr}});return rr||Ot(tr.update(ir,{scrollIntoView:!0,userEvent:"delete.backward"})),!rr},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(tr,Ot){let Nt=config$d(tr,tr.selection.main.head),er=Nt.brackets||defaults.brackets;for(let rr of er){let ir=closing(codePointAt(rr,0));if(Ot==rr)return ir==rr?handleSame(tr,rr,er.indexOf(rr+rr+rr)>-1,Nt):handleOpen(tr,rr,ir,Nt.before||defaults.before);if(Ot==ir&&closedBracketAt(tr,tr.selection.main.from))return handleClose(tr,rr,ir)}return null}function closedBracketAt(tr,Ot){let Nt=!1;return tr.field(bracketState).between(0,tr.doc.length,er=>{er==Ot&&(Nt=!0)}),Nt}function nextChar(tr,Ot){let Nt=tr.sliceString(Ot,Ot+2);return Nt.slice(0,codePointSize(codePointAt(Nt,0)))}function prevChar(tr,Ot){let Nt=tr.sliceString(Ot-2,Ot);return codePointSize(codePointAt(Nt,0))==Nt.length?Nt:Nt.slice(1)}function handleOpen(tr,Ot,Nt,er){let rr=null,ir=tr.changeByRange(nr=>{if(!nr.empty)return{changes:[{insert:Ot,from:nr.from},{insert:Nt,from:nr.to}],effects:closeBracketEffect.of(nr.to+Ot.length),range:EditorSelection.range(nr.anchor+Ot.length,nr.head+Ot.length)};let sr=nextChar(tr.doc,nr.head);return!sr||/\s/.test(sr)||er.indexOf(sr)>-1?{changes:{insert:Ot+Nt,from:nr.head},effects:closeBracketEffect.of(nr.head+Ot.length),range:EditorSelection.cursor(nr.head+Ot.length)}:{range:rr=nr}});return rr?null:tr.update(ir,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(tr,Ot,Nt){let er=null,rr=tr.changeByRange(ir=>ir.empty&&nextChar(tr.doc,ir.head)==Nt?{changes:{from:ir.head,to:ir.head+Nt.length,insert:Nt},range:EditorSelection.cursor(ir.head+Nt.length)}:er={range:ir});return er?null:tr.update(rr,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(tr,Ot,Nt,er){let rr=er.stringPrefixes||defaults.stringPrefixes,ir=null,nr=tr.changeByRange(sr=>{if(!sr.empty)return{changes:[{insert:Ot,from:sr.from},{insert:Ot,from:sr.to}],effects:closeBracketEffect.of(sr.to+Ot.length),range:EditorSelection.range(sr.anchor+Ot.length,sr.head+Ot.length)};let ar=sr.head,lr=nextChar(tr.doc,ar),cr;if(lr==Ot){if(nodeStart(tr,ar))return{changes:{insert:Ot+Ot,from:ar},effects:closeBracketEffect.of(ar+Ot.length),range:EditorSelection.cursor(ar+Ot.length)};if(closedBracketAt(tr,ar)){let ur=Nt&&tr.sliceDoc(ar,ar+Ot.length*3)==Ot+Ot+Ot?Ot+Ot+Ot:Ot;return{changes:{from:ar,to:ar+ur.length,insert:ur},range:EditorSelection.cursor(ar+ur.length)}}}else{if(Nt&&tr.sliceDoc(ar-2*Ot.length,ar)==Ot+Ot&&(cr=canStartStringAt(tr,ar-2*Ot.length,rr))>-1&&nodeStart(tr,cr))return{changes:{insert:Ot+Ot+Ot+Ot,from:ar},effects:closeBracketEffect.of(ar+Ot.length),range:EditorSelection.cursor(ar+Ot.length)};if(tr.charCategorizer(ar)(lr)!=CharCategory.Word&&canStartStringAt(tr,ar,rr)>-1&&!probablyInString(tr,ar,Ot,rr))return{changes:{insert:Ot+Ot,from:ar},effects:closeBracketEffect.of(ar+Ot.length),range:EditorSelection.cursor(ar+Ot.length)}}return{range:ir=sr}});return ir?null:tr.update(nr,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(tr,Ot){let Nt=syntaxTree(tr).resolveInner(Ot+1);return Nt.parent&&Nt.from==Ot}function probablyInString(tr,Ot,Nt,er){let rr=syntaxTree(tr).resolveInner(Ot,-1),ir=er.reduce((nr,sr)=>Math.max(nr,sr.length),0);for(let nr=0;nr<5;nr++){let sr=tr.sliceDoc(rr.from,Math.min(rr.to,rr.from+Nt.length+ir)),ar=sr.indexOf(Nt);if(!ar||ar>-1&&er.indexOf(sr.slice(0,ar))>-1){let cr=rr.firstChild;for(;cr&&cr.from==rr.from&&cr.to-cr.from>Nt.length+ar;){if(tr.sliceDoc(cr.to-Nt.length,cr.to)==Nt)return!1;cr=cr.firstChild}return!0}let lr=rr.to==Ot&&rr.parent;if(!lr)break;rr=lr}return!1}function canStartStringAt(tr,Ot,Nt){let er=tr.charCategorizer(Ot);if(er(tr.sliceDoc(Ot-1,Ot))!=CharCategory.Word)return Ot;for(let rr of Nt){let ir=Ot-rr.length;if(tr.sliceDoc(ir,Ot)==rr&&er(tr.sliceDoc(ir-1,ir))!=CharCategory.Word)return ir}return-1}function autocompletion(tr={}){return[commitCharacters,completionState,completionConfig.of(tr),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],tr=>tr.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(Ot,Nt,er){this.from=Ot,this.to=Nt,this.diagnostic=er}}class LintState{constructor(Ot,Nt,er){this.diagnostics=Ot,this.panel=Nt,this.selected=er}static init(Ot,Nt,er){let rr=Ot,ir=er.facet(lintConfig).markerFilter;ir&&(rr=ir(rr,er));let nr=Decoration.set(rr.map(sr=>sr.from==sr.to||sr.from==sr.to-1&&er.doc.lineAt(sr.from).to==sr.from?Decoration.widget({widget:new DiagnosticWidget(sr),diagnostic:sr}).range(sr.from):Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+sr.severity+(sr.markClass?" "+sr.markClass:"")},diagnostic:sr,inclusive:!0}).range(sr.from,sr.to)),!0);return new LintState(nr,Nt,findDiagnostic(nr))}}function findDiagnostic(tr,Ot=null,Nt=0){let er=null;return tr.between(Nt,1e9,(rr,ir,{spec:nr})=>{if(!(Ot&&nr.diagnostic!=Ot))return er=new SelectedDiagnostic(rr,ir,nr.diagnostic),!1}),er}function hideTooltip(tr,Ot){let Nt=Ot.pos,er=Ot.end||Nt,rr=tr.state.facet(lintConfig).hideOn(tr,Nt,er);if(rr!=null)return rr;let ir=tr.startState.doc.lineAt(Ot.pos);return!!(tr.effects.some(nr=>nr.is(setDiagnosticsEffect))||tr.changes.touchesRange(ir.from,Math.max(ir.to,er)))}function maybeEnableLint(tr,Ot){return tr.field(lintState,!1)?Ot:Ot.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(tr,Ot){if(Ot.docChanged&&tr.diagnostics.size){let Nt=tr.diagnostics.map(Ot.changes),er=null,rr=tr.panel;if(tr.selected){let ir=Ot.changes.mapPos(tr.selected.from,1);er=findDiagnostic(Nt,tr.selected.diagnostic,ir)||findDiagnostic(Nt,null,ir)}!Nt.size&&rr&&Ot.state.facet(lintConfig).autoPanel&&(rr=null),tr=new LintState(Nt,rr,er)}for(let Nt of Ot.effects)if(Nt.is(setDiagnosticsEffect)){let er=Ot.state.facet(lintConfig).autoPanel?Nt.value.length?LintPanel.open:null:tr.panel;tr=LintState.init(Nt.value,er,Ot.state)}else Nt.is(togglePanel)?tr=new LintState(tr.diagnostics,Nt.value?LintPanel.open:null,tr.selected):Nt.is(movePanelSelection)&&(tr=new LintState(tr.diagnostics,tr.panel,Nt.value));return tr},provide:tr=>[showPanel.from(tr,Ot=>Ot.panel),EditorView.decorations.from(tr,Ot=>Ot.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active",inclusive:!0});function lintTooltip(tr,Ot,Nt){let{diagnostics:er}=tr.state.field(lintState),rr=[],ir=2e8,nr=0;er.between(Ot-(Nt<0?1:0),Ot+(Nt>0?1:0),(ar,lr,{spec:cr})=>{Ot>=ar&&Ot<=lr&&(ar==lr||(Ot>ar||Nt>0)&&(Ot<lr||Nt<0))&&(rr.push(cr.diagnostic),ir=Math.min(ar,ir),nr=Math.max(lr,nr))});let sr=tr.state.facet(lintConfig).tooltipFilter;return sr&&(rr=sr(rr,tr.state)),rr.length?{pos:ir,end:nr,above:tr.state.doc.lineAt(ir).to<nr,create(){return{dom:diagnosticsTooltip(tr,rr)}}}:null}function diagnosticsTooltip(tr,Ot){return crelt("ul",{class:"cm-tooltip-lint"},Ot.map(Nt=>renderDiagnostic(tr,Nt,!1)))}const openLintPanel=tr=>{let Ot=tr.state.field(lintState,!1);(!Ot||!Ot.panel)&&tr.dispatch({effects:maybeEnableLint(tr.state,[togglePanel.of(!0)])});let Nt=getPanel(tr,LintPanel.open);return Nt&&Nt.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=tr=>{let Ot=tr.state.field(lintState,!1);return!Ot||!Ot.panel?!1:(tr.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=tr=>{let Ot=tr.state.field(lintState,!1);if(!Ot)return!1;let Nt=tr.state.selection.main,er=Ot.diagnostics.iter(Nt.to+1);return!er.value&&(er=Ot.diagnostics.iter(0),!er.value||er.from==Nt.from&&er.to==Nt.to)?!1:(tr.dispatch({selection:{anchor:er.from,head:er.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(tr){return Object.assign({sources:tr.map(Ot=>Ot.source).filter(Ot=>Ot!=null)},combineConfig(tr.map(Ot=>Ot.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(Ot,Nt)=>Ot?Nt?er=>Ot(er)||Nt(er):Ot:Nt}))}});function assignKeys(tr){let Ot=[];if(tr)e:for(let{name:Nt}of tr){for(let er=0;er<Nt.length;er++){let rr=Nt[er];if(/[a-zA-Z]/.test(rr)&&!Ot.some(ir=>ir.toLowerCase()==rr.toLowerCase())){Ot.push(rr);continue e}}Ot.push("")}return Ot}function renderDiagnostic(tr,Ot,Nt){var er;let rr=Nt?assignKeys(Ot.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+Ot.severity},crelt("span",{class:"cm-diagnosticText"},Ot.renderMessage?Ot.renderMessage(tr):Ot.message),(er=Ot.actions)===null||er===void 0?void 0:er.map((ir,nr)=>{let sr=!1,ar=ur=>{if(ur.preventDefault(),sr)return;sr=!0;let fr=findDiagnostic(tr.state.field(lintState).diagnostics,Ot);fr&&ir.apply(tr,fr.from,fr.to)},{name:lr}=ir,cr=rr[nr]?lr.indexOf(rr[nr]):-1,dr=cr<0?lr:[lr.slice(0,cr),crelt("u",lr.slice(cr,cr+1)),lr.slice(cr+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:ar,onmousedown:ar,"aria-label":` Action: ${lr}${cr<0?"":` (access key "${rr[nr]})"`}.`},dr)}),Ot.source&&crelt("div",{class:"cm-diagnosticSource"},Ot.source))}class DiagnosticWidget extends WidgetType{constructor(Ot){super(),this.diagnostic=Ot}eq(Ot){return Ot.diagnostic==this.diagnostic}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class PanelItem{constructor(Ot,Nt){this.diagnostic=Nt,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(Ot,Nt,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(Ot){this.view=Ot,this.items=[];let Nt=rr=>{if(rr.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(rr.keyCode==38||rr.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(rr.keyCode==40||rr.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(rr.keyCode==36)this.moveSelection(0);else if(rr.keyCode==35)this.moveSelection(this.items.length-1);else if(rr.keyCode==13)this.view.focus();else if(rr.keyCode>=65&&rr.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:ir}=this.items[this.selectedIndex],nr=assignKeys(ir.actions);for(let sr=0;sr<nr.length;sr++)if(nr[sr].toUpperCase().charCodeAt(0)==rr.keyCode){let ar=findDiagnostic(this.view.state.field(lintState).diagnostics,ir);ar&&ir.actions[sr].apply(Ot,ar.from,ar.to)}}else return;rr.preventDefault()},er=rr=>{for(let ir=0;ir<this.items.length;ir++)this.items[ir].dom.contains(rr.target)&&this.moveSelection(ir)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:Nt,onclick:er}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"×")),this.update()}get selectedIndex(){let Ot=this.view.state.field(lintState).selected;if(!Ot)return-1;for(let Nt=0;Nt<this.items.length;Nt++)if(this.items[Nt].diagnostic==Ot.diagnostic)return Nt;return-1}update(){let{diagnostics:Ot,selected:Nt}=this.view.state.field(lintState),er=0,rr=!1,ir=null;for(Ot.between(0,this.view.state.doc.length,(nr,sr,{spec:ar})=>{let lr=-1,cr;for(let dr=er;dr<this.items.length;dr++)if(this.items[dr].diagnostic==ar.diagnostic){lr=dr;break}lr<0?(cr=new PanelItem(this.view,ar.diagnostic),this.items.splice(er,0,cr),rr=!0):(cr=this.items[lr],lr>er&&(this.items.splice(er,lr-er),rr=!0)),Nt&&cr.diagnostic==Nt.diagnostic?cr.dom.hasAttribute("aria-selected")||(cr.dom.setAttribute("aria-selected","true"),ir=cr):cr.dom.hasAttribute("aria-selected")&&cr.dom.removeAttribute("aria-selected"),er++});er<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)rr=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),rr=!0),ir?(this.list.setAttribute("aria-activedescendant",ir.id),this.view.requestMeasure({key:this,read:()=>({sel:ir.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:nr,panel:sr})=>{let ar=sr.height/this.list.offsetHeight;nr.top<sr.top?this.list.scrollTop-=(sr.top-nr.top)/ar:nr.bottom>sr.bottom&&(this.list.scrollTop+=(nr.bottom-sr.bottom)/ar)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),rr&&this.sync()}sync(){let Ot=this.list.firstChild;function Nt(){let er=Ot;Ot=er.nextSibling,er.remove()}for(let er of this.items)if(er.dom.parentNode==this.list){for(;Ot!=er.dom;)Nt();Ot=er.dom.nextSibling}else this.list.insertBefore(er.dom,Ot);for(;Ot;)Nt()}moveSelection(Ot){if(this.selectedIndex<0)return;let Nt=this.view.state.field(lintState),er=findDiagnostic(Nt.diagnostics,this.items[Ot].diagnostic);er&&this.view.dispatch({selection:{anchor:er.from,head:er.to},scrollIntoView:!0,effects:movePanelSelection.of(er)})}static open(Ot){return new LintPanel(Ot)}}function svg(tr,Ot='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${Ot}>${encodeURIComponent(tr)}</svg>')`}function underline(tr){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${tr}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),lintExtensions=[lintState,EditorView.decorations.compute([lintState],tr=>{let{selected:Ot,panel:Nt}=tr.field(lintState);return!Ot||!Nt||Ot.from==Ot.to?Decoration.none:Decoration.set([activeMark.range(Ot.from,Ot.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme];var basicSetup=function(Ot){Ot===void 0&&(Ot={});var{crosshairCursor:Nt=!1}=Ot,er=[];Ot.closeBracketsKeymap!==!1&&(er=er.concat(closeBracketsKeymap)),Ot.defaultKeymap!==!1&&(er=er.concat(defaultKeymap)),Ot.searchKeymap!==!1&&(er=er.concat(searchKeymap)),Ot.historyKeymap!==!1&&(er=er.concat(historyKeymap)),Ot.foldKeymap!==!1&&(er=er.concat(foldKeymap)),Ot.completionKeymap!==!1&&(er=er.concat(completionKeymap)),Ot.lintKeymap!==!1&&(er=er.concat(lintKeymap));var rr=[];return Ot.lineNumbers!==!1&&rr.push(lineNumbers()),Ot.highlightActiveLineGutter!==!1&&rr.push(highlightActiveLineGutter()),Ot.highlightSpecialChars!==!1&&rr.push(highlightSpecialChars()),Ot.history!==!1&&rr.push(history()),Ot.foldGutter!==!1&&rr.push(foldGutter()),Ot.drawSelection!==!1&&rr.push(drawSelection()),Ot.dropCursor!==!1&&rr.push(dropCursor()),Ot.allowMultipleSelections!==!1&&rr.push(EditorState.allowMultipleSelections.of(!0)),Ot.indentOnInput!==!1&&rr.push(indentOnInput()),Ot.syntaxHighlighting!==!1&&rr.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),Ot.bracketMatching!==!1&&rr.push(bracketMatching()),Ot.closeBrackets!==!1&&rr.push(closeBrackets()),Ot.autocompletion!==!1&&rr.push(autocompletion()),Ot.rectangularSelection!==!1&&rr.push(rectangularSelection()),Nt!==!1&&rr.push(crosshairCursor()),Ot.highlightActiveLine!==!1&&rr.push(highlightActiveLine()),Ot.highlightSelectionMatches!==!1&&rr.push(highlightSelectionMatches()),Ot.tabSize&&typeof Ot.tabSize=="number"&&rr.push(indentUnit.of(" ".repeat(Ot.tabSize))),rr.concat([keymap.of(er.flat())]).filter(Boolean)};const chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];var defaultLightThemeOption=EditorView.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),getDefaultExtensions=function(Ot){Ot===void 0&&(Ot={});var{indentWithTab:Nt=!0,editable:er=!0,readOnly:rr=!1,theme:ir="light",placeholder:nr="",basicSetup:sr=!0}=Ot,ar=[];switch(Nt&&ar.unshift(keymap.of([indentWithTab])),sr&&(typeof sr=="boolean"?ar.unshift(basicSetup()):ar.unshift(basicSetup(sr))),nr&&ar.unshift(placeholder(nr)),ir){case"light":ar.push(defaultLightThemeOption);break;case"dark":ar.push(oneDark);break;case"none":break;default:ar.push(ir);break}return er===!1&&ar.push(EditorView.editable.of(!1)),rr&&ar.push(EditorState.readOnly.of(!0)),[...ar]},getStatistics=tr=>({line:tr.state.doc.lineAt(tr.state.selection.main.from),lineCount:tr.state.doc.lines,lineBreak:tr.state.lineBreak,length:tr.state.doc.length,readOnly:tr.state.readOnly,tabSize:tr.state.tabSize,selection:tr.state.selection,selectionAsSingle:tr.state.selection.asSingle().main,ranges:tr.state.selection.ranges,selectionCode:tr.state.sliceDoc(tr.state.selection.main.from,tr.state.selection.main.to),selections:tr.state.selection.ranges.map(Ot=>tr.state.sliceDoc(Ot.from,Ot.to)),selectedText:tr.state.selection.ranges.some(Ot=>!Ot.empty)}),External=Annotation.define(),emptyExtensions=[];function useCodeMirror(tr){var{value:Ot,selection:Nt,onChange:er,onStatistics:rr,onCreateEditor:ir,onUpdate:nr,extensions:sr=emptyExtensions,autoFocus:ar,theme:lr="light",height:cr=null,minHeight:dr=null,maxHeight:ur=null,width:fr=null,minWidth:hr=null,maxWidth:pr=null,placeholder:gr="",editable:br=!0,readOnly:vr=!1,indentWithTab:kr=!0,basicSetup:Sr=!0,root:Cr,initialState:Ar}=tr,[Ir,qr]=reactExports.useState(),[Qr,Wr]=reactExports.useState(),[jr,Or]=reactExports.useState(),yr=EditorView.theme({"&":{height:cr,minHeight:dr,maxHeight:ur,width:fr,minWidth:hr,maxWidth:pr},"& .cm-scroller":{height:"100% !important"}}),xr=EditorView.updateListener.of(_r=>{if(_r.docChanged&&typeof er=="function"&&!_r.transactions.some(Er=>Er.annotation(External))){var Mr=_r.state.doc,Tr=Mr.toString();er(Tr,_r)}rr&&rr(getStatistics(_r))}),wr=getDefaultExtensions({theme:lr,editable:br,readOnly:vr,placeholder:gr,indentWithTab:kr,basicSetup:Sr}),Br=[xr,yr,...wr];return nr&&typeof nr=="function"&&Br.push(EditorView.updateListener.of(nr)),Br=Br.concat(sr),reactExports.useEffect(()=>{if(Ir&&!jr){var _r={doc:Ot,selection:Nt,extensions:Br},Mr=Ar?EditorState.fromJSON(Ar.json,_r,Ar.fields):EditorState.create(_r);if(Or(Mr),!Qr){var Tr=new EditorView({state:Mr,parent:Ir,root:Cr});Wr(Tr),ir&&ir(Tr,Mr)}}return()=>{Qr&&(Or(void 0),Wr(void 0))}},[Ir,jr]),reactExports.useEffect(()=>qr(tr.container),[tr.container]),reactExports.useEffect(()=>()=>{Qr&&(Qr.destroy(),Wr(void 0))},[Qr]),reactExports.useEffect(()=>{ar&&Qr&&Qr.focus()},[ar,Qr]),reactExports.useEffect(()=>{Qr&&Qr.dispatch({effects:StateEffect.reconfigure.of(Br)})},[lr,sr,cr,dr,ur,fr,hr,pr,gr,br,vr,kr,Sr,er,nr]),reactExports.useEffect(()=>{if(Ot!==void 0){var _r=Qr?Qr.state.doc.toString():"";Qr&&Ot!==_r&&Qr.dispatch({changes:{from:0,to:_r.length,insert:Ot||""},annotations:[External.of(!0)]})}},[Ot,Qr]),{state:jr,setState:Or,view:Qr,setView:Wr,container:Ir,setContainer:qr}}var _excluded=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ReactCodeMirror=reactExports.forwardRef((tr,Ot)=>{var{className:Nt,value:er="",selection:rr,extensions:ir=[],onChange:nr,onStatistics:sr,onCreateEditor:ar,onUpdate:lr,autoFocus:cr,theme:dr="light",height:ur,minHeight:fr,maxHeight:hr,width:pr,minWidth:gr,maxWidth:br,basicSetup:vr,placeholder:kr,indentWithTab:Sr,editable:Cr,readOnly:Ar,root:Ir,initialState:qr}=tr,Qr=_objectWithoutPropertiesLoose$v(tr,_excluded),Wr=reactExports.useRef(null),{state:jr,view:Or,container:yr}=useCodeMirror({container:Wr.current,root:Ir,value:er,autoFocus:cr,theme:dr,height:ur,minHeight:fr,maxHeight:hr,width:pr,minWidth:gr,maxWidth:br,basicSetup:vr,placeholder:kr,indentWithTab:Sr,editable:Cr,readOnly:Ar,selection:rr,onChange:nr,onStatistics:sr,onCreateEditor:ar,onUpdate:lr,extensions:ir,initialState:qr});if(reactExports.useImperativeHandle(Ot,()=>({editor:Wr.current,state:jr,view:Or}),[Wr,yr,jr,Or]),typeof er!="string")throw new Error("value must be typeof string but got "+typeof er);var xr=typeof dr=="string"?"cm-theme-"+dr:"cm-theme";return jsxRuntimeExports.jsx("div",_extends$v({ref:Wr,className:""+xr+(Nt?" "+Nt:"")},Qr))});ReactCodeMirror.displayName="CodeMirror";var define_process_env_default={};class Stack{constructor(Ot,Nt,er,rr,ir,nr,sr,ar,lr,cr=0,dr){this.p=Ot,this.stack=Nt,this.state=er,this.reducePos=rr,this.pos=ir,this.score=nr,this.buffer=sr,this.bufferBase=ar,this.curContext=lr,this.lookAhead=cr,this.parent=dr}toString(){return`[${this.stack.filter((Ot,Nt)=>Nt%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(Ot,Nt,er=0){let rr=Ot.parser.context;return new Stack(Ot,[],Nt,er,er,0,[],0,rr?new StackContext(rr,rr.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(Ot,Nt){this.stack.push(this.state,Nt,this.bufferBase+this.buffer.length),this.state=Ot}reduce(Ot){var Nt;let er=Ot>>19,rr=Ot&65535,{parser:ir}=this.p;this.reducePos<this.pos-25&&this.setLookAhead(this.pos);let nr=ir.dynamicPrecedence(rr);if(nr&&(this.score+=nr),er==0){this.pushState(ir.getGoto(this.state,rr,!0),this.reducePos),rr<ir.minRepeatTerm&&this.storeNode(rr,this.reducePos,this.reducePos,4,!0),this.reduceContext(rr,this.reducePos);return}let sr=this.stack.length-(er-1)*3-(Ot&262144?6:0),ar=sr?this.stack[sr-2]:this.p.ranges[0].from,lr=this.reducePos-ar;lr>=2e3&&!(!((Nt=this.p.parser.nodeSet.types[rr])===null||Nt===void 0)&&Nt.isAnonymous)&&(ar==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=lr):this.p.lastBigReductionSize<lr&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=ar,this.p.lastBigReductionSize=lr));let cr=sr?this.stack[sr-1]:0,dr=this.bufferBase+this.buffer.length-cr;if(rr<ir.minRepeatTerm||Ot&131072){let ur=ir.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(rr,ar,ur,dr+4,!0)}if(Ot&262144)this.state=this.stack[sr];else{let ur=this.stack[sr-3];this.state=ir.getGoto(ur,rr,!0)}for(;this.stack.length>sr;)this.stack.pop();this.reduceContext(rr,ar)}storeNode(Ot,Nt,er,rr=4,ir=!1){if(Ot==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let nr=this,sr=this.buffer.length;if(sr==0&&nr.parent&&(sr=nr.bufferBase-nr.parent.bufferBase,nr=nr.parent),sr>0&&nr.buffer[sr-4]==0&&nr.buffer[sr-1]>-1){if(Nt==er)return;if(nr.buffer[sr-2]>=Nt){nr.buffer[sr-2]=er;return}}}if(!ir||this.pos==er)this.buffer.push(Ot,Nt,er,rr);else{let nr=this.buffer.length;if(nr>0&&this.buffer[nr-4]!=0)for(;nr>0&&this.buffer[nr-2]>er;)this.buffer[nr]=this.buffer[nr-4],this.buffer[nr+1]=this.buffer[nr-3],this.buffer[nr+2]=this.buffer[nr-2],this.buffer[nr+3]=this.buffer[nr-1],nr-=4,rr>4&&(rr-=4);this.buffer[nr]=Ot,this.buffer[nr+1]=Nt,this.buffer[nr+2]=er,this.buffer[nr+3]=rr}}shift(Ot,Nt,er,rr){if(Ot&131072)this.pushState(Ot&65535,this.pos);else if(Ot&262144)this.pos=rr,this.shiftContext(Nt,er),Nt<=this.p.parser.maxNode&&this.buffer.push(Nt,er,rr,4);else{let ir=Ot,{parser:nr}=this.p;(rr>this.pos||Nt<=nr.maxNode)&&(this.pos=rr,nr.stateFlag(ir,1)||(this.reducePos=rr)),this.pushState(ir,er),this.shiftContext(Nt,er),Nt<=nr.maxNode&&this.buffer.push(Nt,er,rr,4)}}apply(Ot,Nt,er,rr){Ot&65536?this.reduce(Ot):this.shift(Ot,Nt,er,rr)}useNode(Ot,Nt){let er=this.p.reused.length-1;(er<0||this.p.reused[er]!=Ot)&&(this.p.reused.push(Ot),er++);let rr=this.pos;this.reducePos=this.pos=rr+Ot.length,this.pushState(Nt,rr),this.buffer.push(er,rr,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,Ot,this,this.p.stream.reset(this.pos-Ot.length)))}split(){let Ot=this,Nt=Ot.buffer.length;for(;Nt>0&&Ot.buffer[Nt-2]>Ot.reducePos;)Nt-=4;let er=Ot.buffer.slice(Nt),rr=Ot.bufferBase+Nt;for(;Ot&&rr==Ot.bufferBase;)Ot=Ot.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,er,rr,this.curContext,this.lookAhead,Ot)}recoverByDelete(Ot,Nt){let er=Ot<=this.p.parser.maxNode;er&&this.storeNode(Ot,this.pos,Nt,4),this.storeNode(0,this.pos,Nt,er?8:4),this.pos=this.reducePos=Nt,this.score-=190}canShift(Ot){for(let Nt=new SimulatedStack(this);;){let er=this.p.parser.stateSlot(Nt.state,4)||this.p.parser.hasAction(Nt.state,Ot);if(er==0)return!1;if(!(er&65536))return!0;Nt.reduce(er)}}recoverByInsert(Ot){if(this.stack.length>=300)return[];let Nt=this.p.parser.nextStates(this.state);if(Nt.length>8||this.stack.length>=120){let rr=[];for(let ir=0,nr;ir<Nt.length;ir+=2)(nr=Nt[ir+1])!=this.state&&this.p.parser.hasAction(nr,Ot)&&rr.push(Nt[ir],nr);if(this.stack.length<120)for(let ir=0;rr.length<8&&ir<Nt.length;ir+=2){let nr=Nt[ir+1];rr.some((sr,ar)=>ar&1&&sr==nr)||rr.push(Nt[ir],nr)}Nt=rr}let er=[];for(let rr=0;rr<Nt.length&&er.length<4;rr+=2){let ir=Nt[rr+1];if(ir==this.state)continue;let nr=this.split();nr.pushState(ir,this.pos),nr.storeNode(0,nr.pos,nr.pos,4,!0),nr.shiftContext(Nt[rr],this.pos),nr.reducePos=this.pos,nr.score-=200,er.push(nr)}return er}forceReduce(){let{parser:Ot}=this.p,Nt=Ot.stateSlot(this.state,5);if(!(Nt&65536))return!1;if(!Ot.validAction(this.state,Nt)){let er=Nt>>19,rr=Nt&65535,ir=this.stack.length-er*3;if(ir<0||Ot.getGoto(this.stack[ir],rr,!1)<0){let nr=this.findForcedReduction();if(nr==null)return!1;Nt=nr}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(Nt),!0}findForcedReduction(){let{parser:Ot}=this.p,Nt=[],er=(rr,ir)=>{if(!Nt.includes(rr))return Nt.push(rr),Ot.allActions(rr,nr=>{if(!(nr&393216))if(nr&65536){let sr=(nr>>19)-ir;if(sr>1){let ar=nr&65535,lr=this.stack.length-sr*3;if(lr>=0&&Ot.getGoto(this.stack[lr],ar,!1)>=0)return sr<<19|65536|ar}}else{let sr=er(nr,ir+1);if(sr!=null)return sr}})};return er(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:Ot}=this.p;return Ot.data[Ot.stateSlot(this.state,1)]==65535&&!Ot.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(Ot){if(this.state!=Ot.state||this.stack.length!=Ot.stack.length)return!1;for(let Nt=0;Nt<this.stack.length;Nt+=3)if(this.stack[Nt]!=Ot.stack[Nt])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(Ot){return this.p.parser.dialect.flags[Ot]}shiftContext(Ot,Nt){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,Ot,this,this.p.stream.reset(Nt)))}reduceContext(Ot,Nt){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,Ot,this,this.p.stream.reset(Nt)))}emitContext(){let Ot=this.buffer.length-1;(Ot<0||this.buffer[Ot]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let Ot=this.buffer.length-1;(Ot<0||this.buffer[Ot]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(Ot){if(Ot!=this.curContext.context){let Nt=new StackContext(this.curContext.tracker,Ot);Nt.hash!=this.curContext.hash&&this.emitContext(),this.curContext=Nt}}setLookAhead(Ot){Ot>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=Ot)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(Ot,Nt){this.tracker=Ot,this.context=Nt,this.hash=Ot.strict?Ot.hash(Nt):0}}class SimulatedStack{constructor(Ot){this.start=Ot,this.state=Ot.state,this.stack=Ot.stack,this.base=this.stack.length}reduce(Ot){let Nt=Ot&65535,er=Ot>>19;er==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(er-1)*3;let rr=this.start.p.parser.getGoto(this.stack[this.base-3],Nt,!0);this.state=rr}}class StackBufferCursor{constructor(Ot,Nt,er){this.stack=Ot,this.pos=Nt,this.index=er,this.buffer=Ot.buffer,this.index==0&&this.maybeNext()}static create(Ot,Nt=Ot.bufferBase+Ot.buffer.length){return new StackBufferCursor(Ot,Nt,Nt-Ot.bufferBase)}maybeNext(){let Ot=this.stack.parent;Ot!=null&&(this.index=this.stack.bufferBase-Ot.bufferBase,this.stack=Ot,this.buffer=Ot.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(tr,Ot=Uint16Array){if(typeof tr!="string")return tr;let Nt=null;for(let er=0,rr=0;er<tr.length;){let ir=0;for(;;){let nr=tr.charCodeAt(er++),sr=!1;if(nr==126){ir=65535;break}nr>=92&&nr--,nr>=34&&nr--;let ar=nr-32;if(ar>=46&&(ar-=46,sr=!0),ir+=ar,sr)break;ir*=46}Nt?Nt[rr++]=ir:Nt=new Ot(ir)}return Nt}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(Ot,Nt){this.input=Ot,this.ranges=Nt,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=Nt[0].from,this.range=Nt[0],this.end=Nt[Nt.length-1].to,this.readNext()}resolveOffset(Ot,Nt){let er=this.range,rr=this.rangeIndex,ir=this.pos+Ot;for(;ir<er.from;){if(!rr)return null;let nr=this.ranges[--rr];ir-=er.from-nr.to,er=nr}for(;Nt<0?ir>er.to:ir>=er.to;){if(rr==this.ranges.length-1)return null;let nr=this.ranges[++rr];ir+=nr.from-er.to,er=nr}return ir}clipPos(Ot){if(Ot>=this.range.from&&Ot<this.range.to)return Ot;for(let Nt of this.ranges)if(Nt.to>Ot)return Math.max(Ot,Nt.from);return this.end}peek(Ot){let Nt=this.chunkOff+Ot,er,rr;if(Nt>=0&&Nt<this.chunk.length)er=this.pos+Ot,rr=this.chunk.charCodeAt(Nt);else{let ir=this.resolveOffset(Ot,1);if(ir==null)return-1;if(er=ir,er>=this.chunk2Pos&&er<this.chunk2Pos+this.chunk2.length)rr=this.chunk2.charCodeAt(er-this.chunk2Pos);else{let nr=this.rangeIndex,sr=this.range;for(;sr.to<=er;)sr=this.ranges[++nr];this.chunk2=this.input.chunk(this.chunk2Pos=er),er+this.chunk2.length>sr.to&&(this.chunk2=this.chunk2.slice(0,sr.to-er)),rr=this.chunk2.charCodeAt(0)}}return er>=this.token.lookAhead&&(this.token.lookAhead=er+1),rr}acceptToken(Ot,Nt=0){let er=Nt?this.resolveOffset(Nt,-1):this.pos;if(er==null||er<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=Ot,this.token.end=er}acceptTokenTo(Ot,Nt){this.token.value=Ot,this.token.end=Nt}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:Ot,chunkPos:Nt}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=Ot,this.chunk2Pos=Nt,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let Ot=this.input.chunk(this.pos),Nt=this.pos+Ot.length;this.chunk=Nt>this.range.to?Ot.slice(0,this.range.to-this.pos):Ot,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(Ot=1){for(this.chunkOff+=Ot;this.pos+Ot>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();Ot-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=Ot,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(Ot,Nt){if(Nt?(this.token=Nt,Nt.start=Ot,Nt.lookAhead=Ot+1,Nt.value=Nt.extended=-1):this.token=nullToken,this.pos!=Ot){if(this.pos=Ot,Ot==this.end)return this.setDone(),this;for(;Ot<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;Ot>=this.range.to;)this.range=this.ranges[++this.rangeIndex];Ot>=this.chunkPos&&Ot<this.chunkPos+this.chunk.length?this.chunkOff=Ot-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(Ot,Nt){if(Ot>=this.chunkPos&&Nt<=this.chunkPos+this.chunk.length)return this.chunk.slice(Ot-this.chunkPos,Nt-this.chunkPos);if(Ot>=this.chunk2Pos&&Nt<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(Ot-this.chunk2Pos,Nt-this.chunk2Pos);if(Ot>=this.range.from&&Nt<=this.range.to)return this.input.read(Ot,Nt);let er="";for(let rr of this.ranges){if(rr.from>=Nt)break;rr.to>Ot&&(er+=this.input.read(Math.max(rr.from,Ot),Math.min(rr.to,Nt)))}return er}}class TokenGroup{constructor(Ot,Nt){this.data=Ot,this.id=Nt}token(Ot,Nt){let{parser:er}=Nt.p;readToken(this.data,Ot,Nt,this.id,er.data,er.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(Ot,Nt,er){this.precTable=Nt,this.elseToken=er,this.data=typeof Ot=="string"?decodeArray(Ot):Ot}token(Ot,Nt){let er=Ot.pos,rr=0;for(;;){let ir=Ot.next<0,nr=Ot.resolveOffset(1,1);if(readToken(this.data,Ot,Nt,0,this.data,this.precTable),Ot.token.value>-1)break;if(this.elseToken==null)return;if(ir||rr++,nr==null)break;Ot.reset(nr,Ot.token)}rr&&(Ot.reset(er,Ot.token),Ot.acceptToken(this.elseToken,rr))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(Ot,Nt={}){this.token=Ot,this.contextual=!!Nt.contextual,this.fallback=!!Nt.fallback,this.extend=!!Nt.extend}}function readToken(tr,Ot,Nt,er,rr,ir){let nr=0,sr=1<<er,{dialect:ar}=Nt.p.parser;e:for(;sr&tr[nr];){let lr=tr[nr+1];for(let fr=nr+3;fr<lr;fr+=2)if((tr[fr+1]&sr)>0){let hr=tr[fr];if(ar.allows(hr)&&(Ot.token.value==-1||Ot.token.value==hr||overrides(hr,Ot.token.value,rr,ir))){Ot.acceptToken(hr);break}}let cr=Ot.next,dr=0,ur=tr[nr+2];if(Ot.next<0&&ur>dr&&tr[lr+ur*3-3]==65535){nr=tr[lr+ur*3-1];continue e}for(;dr<ur;){let fr=dr+ur>>1,hr=lr+fr+(fr<<1),pr=tr[hr],gr=tr[hr+1]||65536;if(cr<pr)ur=fr;else if(cr>=gr)dr=fr+1;else{nr=tr[hr+2],Ot.advance();continue e}}break}}function findOffset(tr,Ot,Nt){for(let er=Ot,rr;(rr=tr[er])!=65535;er++)if(rr==Nt)return er-Ot;return-1}function overrides(tr,Ot,Nt,er){let rr=findOffset(Nt,er,Ot);return rr<0||findOffset(Nt,er,tr)<rr}const verbose=typeof process$1<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(tr,Ot,Nt){let er=tr.cursor(IterMode.IncludeAnonymous);for(er.moveTo(Ot);;)if(!(Nt<0?er.childBefore(Ot):er.childAfter(Ot)))for(;;){if((Nt<0?er.to<Ot:er.from>Ot)&&!er.type.isError)return Nt<0?Math.max(0,Math.min(er.to-1,Ot-25)):Math.min(tr.length,Math.max(er.from+1,Ot+25));if(Nt<0?er.prevSibling():er.nextSibling())break;if(!er.parent())return Nt<0?0:tr.length}}class FragmentCursor{constructor(Ot,Nt){this.fragments=Ot,this.nodeSet=Nt,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let Ot=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(Ot){for(this.safeFrom=Ot.openStart?cutAt(Ot.tree,Ot.from+Ot.offset,1)-Ot.offset:Ot.from,this.safeTo=Ot.openEnd?cutAt(Ot.tree,Ot.to+Ot.offset,-1)-Ot.offset:Ot.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(Ot.tree),this.start.push(-Ot.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(Ot){if(Ot<this.nextStart)return null;for(;this.fragment&&this.safeTo<=Ot;)this.nextFragment();if(!this.fragment)return null;for(;;){let Nt=this.trees.length-1;if(Nt<0)return this.nextFragment(),null;let er=this.trees[Nt],rr=this.index[Nt];if(rr==er.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let ir=er.children[rr],nr=this.start[Nt]+er.positions[rr];if(nr>Ot)return this.nextStart=nr,null;if(ir instanceof Tree){if(nr==Ot){if(nr<this.safeFrom)return null;let sr=nr+ir.length;if(sr<=this.safeTo){let ar=ir.prop(NodeProp.lookAhead);if(!ar||sr+ar<this.fragment.to)return ir}}this.index[Nt]++,nr+ir.length>=Math.max(this.safeFrom,Ot)&&(this.trees.push(ir),this.start.push(nr),this.index.push(0))}else this.index[Nt]++,this.nextStart=nr+ir.length}}}class TokenCache{constructor(Ot,Nt){this.stream=Nt,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=Ot.tokenizers.map(er=>new CachedToken)}getActions(Ot){let Nt=0,er=null,{parser:rr}=Ot.p,{tokenizers:ir}=rr,nr=rr.stateSlot(Ot.state,3),sr=Ot.curContext?Ot.curContext.hash:0,ar=0;for(let lr=0;lr<ir.length;lr++){if(!(1<<lr&nr))continue;let cr=ir[lr],dr=this.tokens[lr];if(!(er&&!cr.fallback)&&((cr.contextual||dr.start!=Ot.pos||dr.mask!=nr||dr.context!=sr)&&(this.updateCachedToken(dr,cr,Ot),dr.mask=nr,dr.context=sr),dr.lookAhead>dr.end+25&&(ar=Math.max(dr.lookAhead,ar)),dr.value!=0)){let ur=Nt;if(dr.extended>-1&&(Nt=this.addActions(Ot,dr.extended,dr.end,Nt)),Nt=this.addActions(Ot,dr.value,dr.end,Nt),!cr.extend&&(er=dr,Nt>ur))break}}for(;this.actions.length>Nt;)this.actions.pop();return ar&&Ot.setLookAhead(ar),!er&&Ot.pos==this.stream.end&&(er=new CachedToken,er.value=Ot.p.parser.eofTerm,er.start=er.end=Ot.pos,Nt=this.addActions(Ot,er.value,er.end,Nt)),this.mainToken=er,this.actions}getMainToken(Ot){if(this.mainToken)return this.mainToken;let Nt=new CachedToken,{pos:er,p:rr}=Ot;return Nt.start=er,Nt.end=Math.min(er+1,rr.stream.end),Nt.value=er==rr.stream.end?rr.parser.eofTerm:0,Nt}updateCachedToken(Ot,Nt,er){let rr=this.stream.clipPos(er.pos);if(Nt.token(this.stream.reset(rr,Ot),er),Ot.value>-1){let{parser:ir}=er.p;for(let nr=0;nr<ir.specialized.length;nr++)if(ir.specialized[nr]==Ot.value){let sr=ir.specializers[nr](this.stream.read(Ot.start,Ot.end),er);if(sr>=0&&er.p.parser.dialect.allows(sr>>1)){sr&1?Ot.extended=sr>>1:Ot.value=sr>>1;break}}}else Ot.value=0,Ot.end=this.stream.clipPos(rr+1)}putAction(Ot,Nt,er,rr){for(let ir=0;ir<rr;ir+=3)if(this.actions[ir]==Ot)return rr;return this.actions[rr++]=Ot,this.actions[rr++]=Nt,this.actions[rr++]=er,rr}addActions(Ot,Nt,er,rr){let{state:ir}=Ot,{parser:nr}=Ot.p,{data:sr}=nr;for(let ar=0;ar<2;ar++)for(let lr=nr.stateSlot(ir,ar?2:1);;lr+=3){if(sr[lr]==65535)if(sr[lr+1]==1)lr=pair(sr,lr+2);else{rr==0&&sr[lr+1]==2&&(rr=this.putAction(pair(sr,lr+2),Nt,er,rr));break}sr[lr]==Nt&&(rr=this.putAction(pair(sr,lr+1),Nt,er,rr))}return rr}}class Parse{constructor(Ot,Nt,er,rr){this.parser=Ot,this.input=Nt,this.ranges=rr,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(Nt,rr),this.tokens=new TokenCache(Ot,this.stream),this.topTerm=Ot.top[1];let{from:ir}=rr[0];this.stacks=[Stack.start(this,Ot.top[0],ir)],this.fragments=er.length&&this.stream.end-ir>Ot.bufferLength*4?new FragmentCursor(er,Ot.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let Ot=this.stacks,Nt=this.minStackPos,er=this.stacks=[],rr,ir;if(this.bigReductionCount>300&&Ot.length==1){let[nr]=Ot;for(;nr.forceReduce()&&nr.stack.length&&nr.stack[nr.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let nr=0;nr<Ot.length;nr++){let sr=Ot[nr];for(;;){if(this.tokens.mainToken=null,sr.pos>Nt)er.push(sr);else{if(this.advanceStack(sr,er,Ot))continue;{rr||(rr=[],ir=[]),rr.push(sr);let ar=this.tokens.getMainToken(sr);ir.push(ar.value,ar.end)}}break}}if(!er.length){let nr=rr&&findFinished(rr);if(nr)return verbose&&console.log("Finish with "+this.stackID(nr)),this.stackToTree(nr);if(this.parser.strict)throw verbose&&rr&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+Nt);this.recovering||(this.recovering=5)}if(this.recovering&&rr){let nr=this.stoppedAt!=null&&rr[0].pos>this.stoppedAt?rr[0]:this.runRecovery(rr,ir,er);if(nr)return verbose&&console.log("Force-finish "+this.stackID(nr)),this.stackToTree(nr.forceAll())}if(this.recovering){let nr=this.recovering==1?1:this.recovering*3;if(er.length>nr)for(er.sort((sr,ar)=>ar.score-sr.score);er.length>nr;)er.pop();er.some(sr=>sr.reducePos>Nt)&&this.recovering--}else if(er.length>1){e:for(let nr=0;nr<er.length-1;nr++){let sr=er[nr];for(let ar=nr+1;ar<er.length;ar++){let lr=er[ar];if(sr.sameState(lr)||sr.buffer.length>500&&lr.buffer.length>500)if((sr.score-lr.score||sr.buffer.length-lr.buffer.length)>0)er.splice(ar--,1);else{er.splice(nr--,1);continue e}}}er.length>12&&er.splice(12,er.length-12)}this.minStackPos=er[0].pos;for(let nr=1;nr<er.length;nr++)er[nr].pos<this.minStackPos&&(this.minStackPos=er[nr].pos);return null}stopAt(Ot){if(this.stoppedAt!=null&&this.stoppedAt<Ot)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=Ot}advanceStack(Ot,Nt,er){let rr=Ot.pos,{parser:ir}=this,nr=verbose?this.stackID(Ot)+" -> ":"";if(this.stoppedAt!=null&&rr>this.stoppedAt)return Ot.forceReduce()?Ot:null;if(this.fragments){let lr=Ot.curContext&&Ot.curContext.tracker.strict,cr=lr?Ot.curContext.hash:0;for(let dr=this.fragments.nodeAt(rr);dr;){let ur=this.parser.nodeSet.types[dr.type.id]==dr.type?ir.getGoto(Ot.state,dr.type.id):-1;if(ur>-1&&dr.length&&(!lr||(dr.prop(NodeProp.contextHash)||0)==cr))return Ot.useNode(dr,ur),verbose&&console.log(nr+this.stackID(Ot)+` (via reuse of ${ir.getName(dr.type.id)})`),!0;if(!(dr instanceof Tree)||dr.children.length==0||dr.positions[0]>0)break;let fr=dr.children[0];if(fr instanceof Tree&&dr.positions[0]==0)dr=fr;else break}}let sr=ir.stateSlot(Ot.state,4);if(sr>0)return Ot.reduce(sr),verbose&&console.log(nr+this.stackID(Ot)+` (via always-reduce ${ir.getName(sr&65535)})`),!0;if(Ot.stack.length>=8400)for(;Ot.stack.length>6e3&&Ot.forceReduce(););let ar=this.tokens.getActions(Ot);for(let lr=0;lr<ar.length;){let cr=ar[lr++],dr=ar[lr++],ur=ar[lr++],fr=lr==ar.length||!er,hr=fr?Ot:Ot.split(),pr=this.tokens.mainToken;if(hr.apply(cr,dr,pr?pr.start:hr.pos,ur),verbose&&console.log(nr+this.stackID(hr)+` (via ${cr&65536?`reduce of ${ir.getName(cr&65535)}`:"shift"} for ${ir.getName(dr)} @ ${rr}${hr==Ot?"":", split"})`),fr)return!0;hr.pos>rr?Nt.push(hr):er.push(hr)}return!1}advanceFully(Ot,Nt){let er=Ot.pos;for(;;){if(!this.advanceStack(Ot,null,null))return!1;if(Ot.pos>er)return pushStackDedup(Ot,Nt),!0}}runRecovery(Ot,Nt,er){let rr=null,ir=!1;for(let nr=0;nr<Ot.length;nr++){let sr=Ot[nr],ar=Nt[nr<<1],lr=Nt[(nr<<1)+1],cr=verbose?this.stackID(sr)+" -> ":"";if(sr.deadEnd&&(ir||(ir=!0,sr.restart(),verbose&&console.log(cr+this.stackID(sr)+" (restarted)"),this.advanceFully(sr,er))))continue;let dr=sr.split(),ur=cr;for(let fr=0;dr.forceReduce()&&fr<10&&(verbose&&console.log(ur+this.stackID(dr)+" (via force-reduce)"),!this.advanceFully(dr,er));fr++)verbose&&(ur=this.stackID(dr)+" -> ");for(let fr of sr.recoverByInsert(ar))verbose&&console.log(cr+this.stackID(fr)+" (via recover-insert)"),this.advanceFully(fr,er);this.stream.end>sr.pos?(lr==sr.pos&&(lr++,ar=0),sr.recoverByDelete(ar,lr),verbose&&console.log(cr+this.stackID(sr)+` (via recover-delete ${this.parser.getName(ar)})`),pushStackDedup(sr,er)):(!rr||rr.score<sr.score)&&(rr=sr)}return rr}stackToTree(Ot){return Ot.close(),Tree.build({buffer:StackBufferCursor.create(Ot),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:Ot.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(Ot){let Nt=(stackIDs||(stackIDs=new WeakMap)).get(Ot);return Nt||stackIDs.set(Ot,Nt=String.fromCodePoint(this.nextStackID++)),Nt+Ot}}function pushStackDedup(tr,Ot){for(let Nt=0;Nt<Ot.length;Nt++){let er=Ot[Nt];if(er.pos==tr.pos&&er.sameState(tr)){Ot[Nt].score<tr.score&&(Ot[Nt]=tr);return}}Ot.push(tr)}class Dialect{constructor(Ot,Nt,er){this.source=Ot,this.flags=Nt,this.disabled=er}allows(Ot){return!this.disabled||this.disabled[Ot]==0}}const id=tr=>tr;class ContextTracker{constructor(Ot){this.start=Ot.start,this.shift=Ot.shift||id,this.reduce=Ot.reduce||id,this.reuse=Ot.reuse||id,this.hash=Ot.hash||(()=>0),this.strict=Ot.strict!==!1}}class LRParser extends Parser{constructor(Ot){if(super(),this.wrappers=[],Ot.version!=14)throw new RangeError(`Parser version (${Ot.version}) doesn't match runtime version (14)`);let Nt=Ot.nodeNames.split(" ");this.minRepeatTerm=Nt.length;for(let sr=0;sr<Ot.repeatNodeCount;sr++)Nt.push("");let er=Object.keys(Ot.topRules).map(sr=>Ot.topRules[sr][1]),rr=[];for(let sr=0;sr<Nt.length;sr++)rr.push([]);function ir(sr,ar,lr){rr[sr].push([ar,ar.deserialize(String(lr))])}if(Ot.nodeProps)for(let sr of Ot.nodeProps){let ar=sr[0];typeof ar=="string"&&(ar=NodeProp[ar]);for(let lr=1;lr<sr.length;){let cr=sr[lr++];if(cr>=0)ir(cr,ar,sr[lr++]);else{let dr=sr[lr+-cr];for(let ur=-cr;ur>0;ur--)ir(sr[lr++],ar,dr);lr++}}}this.nodeSet=new NodeSet(Nt.map((sr,ar)=>NodeType.define({name:ar>=this.minRepeatTerm?void 0:sr,id:ar,props:rr[ar],top:er.indexOf(ar)>-1,error:ar==0,skipped:Ot.skippedNodes&&Ot.skippedNodes.indexOf(ar)>-1}))),Ot.propSources&&(this.nodeSet=this.nodeSet.extend(...Ot.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let nr=decodeArray(Ot.tokenData);this.context=Ot.context,this.specializerSpecs=Ot.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let sr=0;sr<this.specializerSpecs.length;sr++)this.specialized[sr]=this.specializerSpecs[sr].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(Ot.states,Uint32Array),this.data=decodeArray(Ot.stateData),this.goto=decodeArray(Ot.goto),this.maxTerm=Ot.maxTerm,this.tokenizers=Ot.tokenizers.map(sr=>typeof sr=="number"?new TokenGroup(nr,sr):sr),this.topRules=Ot.topRules,this.dialects=Ot.dialects||{},this.dynamicPrecedences=Ot.dynamicPrecedences||null,this.tokenPrecTable=Ot.tokenPrec,this.termNames=Ot.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(Ot,Nt,er){let rr=new Parse(this,Ot,Nt,er);for(let ir of this.wrappers)rr=ir(rr,Ot,Nt,er);return rr}getGoto(Ot,Nt,er=!1){let rr=this.goto;if(Nt>=rr[0])return-1;for(let ir=rr[Nt+1];;){let nr=rr[ir++],sr=nr&1,ar=rr[ir++];if(sr&&er)return ar;for(let lr=ir+(nr>>1);ir<lr;ir++)if(rr[ir]==Ot)return ar;if(sr)return-1}}hasAction(Ot,Nt){let er=this.data;for(let rr=0;rr<2;rr++)for(let ir=this.stateSlot(Ot,rr?2:1),nr;;ir+=3){if((nr=er[ir])==65535)if(er[ir+1]==1)nr=er[ir=pair(er,ir+2)];else{if(er[ir+1]==2)return pair(er,ir+2);break}if(nr==Nt||nr==0)return pair(er,ir+1)}return 0}stateSlot(Ot,Nt){return this.states[Ot*6+Nt]}stateFlag(Ot,Nt){return(this.stateSlot(Ot,0)&Nt)>0}validAction(Ot,Nt){return!!this.allActions(Ot,er=>er==Nt?!0:null)}allActions(Ot,Nt){let er=this.stateSlot(Ot,4),rr=er?Nt(er):void 0;for(let ir=this.stateSlot(Ot,1);rr==null;ir+=3){if(this.data[ir]==65535)if(this.data[ir+1]==1)ir=pair(this.data,ir+2);else break;rr=Nt(pair(this.data,ir+1))}return rr}nextStates(Ot){let Nt=[];for(let er=this.stateSlot(Ot,1);;er+=3){if(this.data[er]==65535)if(this.data[er+1]==1)er=pair(this.data,er+2);else break;if(!(this.data[er+2]&1)){let rr=this.data[er+1];Nt.some((ir,nr)=>nr&1&&ir==rr)||Nt.push(this.data[er],rr)}}return Nt}configure(Ot){let Nt=Object.assign(Object.create(LRParser.prototype),this);if(Ot.props&&(Nt.nodeSet=this.nodeSet.extend(...Ot.props)),Ot.top){let er=this.topRules[Ot.top];if(!er)throw new RangeError(`Invalid top rule name ${Ot.top}`);Nt.top=er}return Ot.tokenizers&&(Nt.tokenizers=this.tokenizers.map(er=>{let rr=Ot.tokenizers.find(ir=>ir.from==er);return rr?rr.to:er})),Ot.specializers&&(Nt.specializers=this.specializers.slice(),Nt.specializerSpecs=this.specializerSpecs.map((er,rr)=>{let ir=Ot.specializers.find(sr=>sr.from==er.external);if(!ir)return er;let nr=Object.assign(Object.assign({},er),{external:ir.to});return Nt.specializers[rr]=getSpecializer(nr),nr})),Ot.contextTracker&&(Nt.context=Ot.contextTracker),Ot.dialect&&(Nt.dialect=this.parseDialect(Ot.dialect)),Ot.strict!=null&&(Nt.strict=Ot.strict),Ot.wrap&&(Nt.wrappers=Nt.wrappers.concat(Ot.wrap)),Ot.bufferLength!=null&&(Nt.bufferLength=Ot.bufferLength),Nt}hasWrappers(){return this.wrappers.length>0}getName(Ot){return this.termNames?this.termNames[Ot]:String(Ot<=this.maxNode&&this.nodeSet.types[Ot].name||Ot)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(Ot){let Nt=this.dynamicPrecedences;return Nt==null?0:Nt[Ot]||0}parseDialect(Ot){let Nt=Object.keys(this.dialects),er=Nt.map(()=>!1);if(Ot)for(let ir of Ot.split(" ")){let nr=Nt.indexOf(ir);nr>=0&&(er[nr]=!0)}let rr=null;for(let ir=0;ir<Nt.length;ir++)if(!er[ir])for(let nr=this.dialects[Nt[ir]],sr;(sr=this.data[nr++])!=65535;)(rr||(rr=new Uint8Array(this.maxTerm+1)))[sr]=1;return new Dialect(Ot,er,rr)}static deserialize(Ot){return new LRParser(Ot)}}function pair(tr,Ot){return tr[Ot]|tr[Ot+1]<<16}function findFinished(tr){let Ot=null;for(let Nt of tr){let er=Nt.p.stoppedAt;(Nt.pos==Nt.p.stream.end||er!=null&&Nt.pos>er)&&Nt.p.parser.stateFlag(Nt.state,2)&&(!Ot||Ot.score<Nt.score)&&(Ot=Nt)}return Ot}function getSpecializer(tr){if(tr.external){let Ot=tr.extend?1:0;return(Nt,er)=>tr.external(Nt,er)<<1|Ot}return tr.get}const noSemi=312,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=313,spaces=315,newline=316,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,trackNewline=new ContextTracker({start:!1,shift(tr,Ot){return Ot==LineComment||Ot==BlockComment||Ot==spaces?tr:Ot==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((tr,Ot)=>{let{next:Nt}=tr;(Nt==braceR||Nt==-1||Ot.context)&&tr.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((tr,Ot)=>{let{next:Nt}=tr,er;space.indexOf(Nt)>-1||Nt==slash&&((er=tr.peek(1))==slash||er==star)||Nt!=braceR&&Nt!=semicolon&&Nt!=-1&&!Ot.context&&tr.acceptToken(noSemi)},{contextual:!0}),operatorToken=new ExternalTokenizer((tr,Ot)=>{let{next:Nt}=tr;if(Nt==plus||Nt==minus){if(tr.advance(),Nt==tr.next){tr.advance();let er=!Ot.context&&Ot.canShift(incdec);tr.acceptToken(er?incdec:incdecPrefix)}}else Nt==question&&tr.peek(1)==dot&&(tr.advance(),tr.advance(),(tr.next<48||tr.next>57)&&tr.acceptToken(questionDot))},{contextual:!0});function identifierChar(tr,Ot){return tr>=65&&tr<=90||tr>=97&&tr<=122||tr==95||tr>=192||!Ot&&tr>=48&&tr<=57}const jsx=new ExternalTokenizer((tr,Ot)=>{if(tr.next!=lt||!Ot.dialectEnabled(Dialect_jsx)||(tr.advance(),tr.next==slash))return;let Nt=0;for(;space.indexOf(tr.next)>-1;)tr.advance(),Nt++;if(identifierChar(tr.next,!0)){for(tr.advance(),Nt++;identifierChar(tr.next,!1);)tr.advance(),Nt++;for(;space.indexOf(tr.next)>-1;)tr.advance(),Nt++;if(tr.next==comma)return;for(let er=0;;er++){if(er==7){if(!identifierChar(tr.next,!0))return;break}if(tr.next!="extends".charCodeAt(er))break;tr.advance(),Nt++}}tr.acceptToken(JSXStartTag,-Nt)}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof":tags.operatorKeyword,"let var const using function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger as new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,"LineComment Hashbang":tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,Escape:tags.escape,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},spec_word={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},spec_LessThan={__proto__:null,"<":187},parser=LRParser.deserialize({version:14,states:"$=dO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ?NdO'#CiO+RO!bO'#CjO+aO#tO'#CjO+oO!0LbO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DwO0fQ^O'#EPOOQ?Mr'#EX'#EXO1PQWO'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQWO'#GpO1dQWO'#ElO1iQWO'#ElO3hQ?NdO'#JmO6[Q?NdO'#JnO6uQWO'#F[O6zQ&jO'#FsOOQ?Mr'#Fe'#FeO7VO,YO'#FeO7eQ7[O'#FzO9RQWO'#FyOOQ?Mr'#Jn'#JnOOQ?Mp'#Jm'#JmO9WQWO'#GtOOQU'#KZ'#KZO9cQWO'#IUO9hQ?MxO'#IVOOQU'#JZ'#JZOOQU'#IZ'#IZQ`Q^OOO`Q^OOO9pQMnO'#DsO9wQ^O'#D{O:OQ^O'#D}O9^QWO'#GpO:VQ7[O'#CoO:eQWO'#EkO:pQWO'#EvO:uQ7[O'#FdO;dQWO'#GpOOQO'#K['#K[O;iQWO'#K[O;wQWO'#GxO;wQWO'#GyO;wQWO'#G{O9^QWO'#HOO<nQWO'#HRO>VQWO'#CeO>gQWO'#H_O>oQWO'#HeO>oQWO'#HgO`Q^O'#HiO>oQWO'#HkO>oQWO'#HnO>tQWO'#HtO>yQ?MyO'#HzO%[Q^O'#H|O?UQ?MyO'#IOO?aQ?MyO'#IQO9hQ?MxO'#ISO?lQ?NdO'#CiO@nQ`O'#DiQOQWOOO%[Q^O'#D}OAUQWO'#EQO:VQ7[O'#EkOAaQWO'#EkOAlQpO'#FdOOQU'#Cg'#CgOOQ?Mp'#Dn'#DnOOQ?Mp'#Jq'#JqO%[Q^O'#JqOOQO'#Jt'#JtOOQO'#Id'#IdOBlQ`O'#EdOOQ?Mp'#Ec'#EcOOQ?Mp'#Jx'#JxOChQ?NQO'#EdOCrQ`O'#ETOOQO'#Js'#JsODWQ`O'#JtOEeQ`O'#ETOCrQ`O'#EdPErO#@ItO'#CbPOOO)CDx)CDxOOOO'#I['#I[OE}O!bO,59UOOQ?Mr,59U,59UOOOO'#I]'#I]OF]O#tO,59UO%[Q^O'#D`OOOO'#I_'#I_OFkO!0LbO,59xOOQ?Mr,59x,59xOFyQ^O'#I`OG^QWO'#JoOI]QrO'#JoO+}Q^O'#JoOIdQWO,5:OOIzQWO'#EmOJXQWO'#KOOJdQWO'#J}OJdQWO'#J}OJlQWO,5;ZOJqQWO'#J|OOQ?Mv,5:Z,5:ZOJxQ^O,5:ZOLvQ?NdO,5:cOMgQWO,5:kONQQ?MxO'#J{ONXQWO'#JzO9WQWO'#JzONmQWO'#JzONuQWO,5;YONzQWO'#JzO!#PQrO'#JnOOQ?Mr'#Ci'#CiO%[Q^O'#EPO!#oQrO,5:pOOQQ'#Ju'#JuOOQO-E<f-E<fO9^QWO,5=[O!$VQWO,5=[O!$[Q^O,5;WO!&_Q7[O'#EhO!'xQWO,5;WO!'}Q^O'#DvO!(XQ`O,5;aO!(aQ`O,5;aO%[Q^O,5;aOOQU'#FS'#FSOOQU'#FU'#FUO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bOOQU'#FY'#FYO!(oQ^O,5;sOOQ?Mr,5;x,5;xOOQ?Mr,5;y,5;yOOQ?Mr,5;{,5;{O%[Q^O'#IlO!*rQ?MxO,5<gO!&_Q7[O,5;bO!+aQ7[O,5;bO!-RQ7[O'#EZO%[Q^O,5;vOOQ?Mr,5;z,5;zO!-YQ&jO'#FiO!.VQ&jO'#KSO!-qQ&jO'#KSO!.^Q&jO'#KSOOQO'#KS'#KSO!.rQ&jO,5<ROOOS,5<_,5<_O!/TQ^O'#FuOOOS'#Ik'#IkO7VO,YO,5<PO!/[Q&jO'#FwOOQ?Mr,5<P,5<PO!/{Q!LQO'#CvOOQ?Mr'#Cz'#CzO!0`QWO'#CzO!0eO!0LbO'#DOO!1RQ7[O,5<dO!1YQWO,5<fO!2uQ$ISO'#GVO!3SQWO'#GWO!3XQWO'#GWO!4wQ$ISO'#G[O!5sQ`O'#G`OOQO'#Gk'#GkO!+hQ7[O'#GjOOQO'#Gm'#GmO!+hQ7[O'#GlO!6fQ!LQO'#JgOOQ?Mr'#Jg'#JgO!6pQWO'#JfO!7OQWO'#JeO!7WQWO'#CuOOQ?Mr'#Cx'#CxOOQ?Mr'#DS'#DSOOQ?Mr'#DU'#DUO1SQWO'#DWO!+hQ7[O'#F}O!+hQ7[O'#GPO!7`QWO'#GRO!7eQWO'#GSO!3XQWO'#GYO!+hQ7[O'#G_O!7jQWO'#EnO!8XQWO,5<eOOQ?Mp'#Cr'#CrO!8aQWO'#EoO!9ZQ`O'#EpOOQ?Mp'#J|'#J|O!9bQ?MxO'#K]O9hQ?MxO,5=`O`Q^O,5>pOOQU'#Jc'#JcOOQU,5>q,5>qOOQU-E<X-E<XO!;aQ?NdO,5:_O!9UQ`O,5:]O!=zQ?NdO,5:gO%[Q^O,5:gO!@bQ?NdO,5:iOOQO,5@v,5@vO!ARQ7[O,5=[O!AaQ?MxO'#JdO9RQWO'#JdO!ArQ?MxO,59ZO!A}Q`O,59ZO!BVQ7[O,59ZO:VQ7[O,59ZO!BbQWO,5;WO!BjQWO'#H^O!COQWO'#K`O%[Q^O,5;|O!9UQ`O,5<OO!CWQWO,5=wO!C]QWO,5=wO!CbQWO,5=wO9hQ?MxO,5=wO;wQWO,5=gOOQO'#Cv'#CvO!CpQ`O,5=dO!CxQ7[O,5=eO!DTQWO,5=gO!DYQpO,5=jO!DbQWO'#K[O>tQWO'#HTO9^QWO'#HVO!DgQWO'#HVO:VQ7[O'#HXO!DlQWO'#HXOOQU,5=m,5=mO!DqQWO'#HYO!ESQWO'#CoO!EXQWO,59PO!EcQWO,59PO!GhQ^O,59POOQU,59P,59PO!GxQ?MxO,59PO%[Q^O,59PO!JTQ^O'#HaOOQU'#Hb'#HbOOQU'#Hc'#HcO`Q^O,5=yO!JkQWO,5=yO`Q^O,5>PO`Q^O,5>RO!JpQWO,5>TO`Q^O,5>VO!JuQWO,5>YO!JzQ^O,5>`OOQU,5>f,5>fO%[Q^O,5>fO9hQ?MxO,5>hOOQU,5>j,5>jO# UQWO,5>jOOQU,5>l,5>lO# UQWO,5>lOOQU,5>n,5>nO# rQ`O'#D[O%[Q^O'#JqO# |Q`O'#JqO#!kQ`O'#DjO#!|Q`O'#DjO#%_Q^O'#DjO#%fQWO'#JpO#%nQWO,5:TO#%sQWO'#EqO#&RQWO'#KPO#&ZQWO,5;[O#&`Q`O'#DjO#&mQ`O'#ESOOQ?Mr,5:l,5:lO%[Q^O,5:lO#&tQWO,5:lO>tQWO,5;VO!A}Q`O,5;VO!BVQ7[O,5;VO:VQ7[O,5;VO#&|QWO,5@]O#'RQ(CYO,5:pOOQO-E<b-E<bO#(XQ?NQO,5;OOCrQ`O,5:oO#(cQ`O,5:oOCrQ`O,5;OO!ArQ?MxO,5:oOOQ?Mp'#Eg'#EgOOQO,5;O,5;OO%[Q^O,5;OO#(pQ?MxO,5;OO#({Q?MxO,5;OO!A}Q`O,5:oOOQO,5;U,5;UO#)ZQ?MxO,5;OPOOO'#IY'#IYP#)oO#@ItO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ?Mr1G.p1G.pOOOO-E<Z-E<ZO#)zQpO,59zOOOO-E<]-E<]OOQ?Mr1G/d1G/dO#*PQrO,5>zO+}Q^O,5>zOOQO,5?Q,5?QO#*ZQ^O'#I`OOQO-E<^-E<^O#*hQWO,5@ZO#*pQrO,5@ZO#*wQWO,5@iOOQ?Mr1G/j1G/jO%[Q^O,5@jO#+PQWO'#IfOOQO-E<d-E<dO#*wQWO,5@iOOQ?Mp1G0u1G0uOOQ?Mv1G/u1G/uOOQ?Mv1G0V1G0VO%[Q^O,5@gO#+eQ?MxO,5@gO#+vQ?MxO,5@gO#+}QWO,5@fO9WQWO,5@fO#,VQWO,5@fO#,eQWO'#IiO#+}QWO,5@fOOQ?Mp1G0t1G0tO!(XQ`O,5:rO!(dQ`O,5:rOOQQ,5:t,5:tO#-VQYO,5:tO#-_Q7[O1G2vO9^QWO1G2vOOQ?Mr1G0r1G0rO#-mQ?NdO1G0rO#.rQ?NbO,5;SOOQ?Mr'#GU'#GUO#/`Q?NdO'#JgO!$[Q^O1G0rO#1hQrO'#JrO%[Q^O'#JrO#1rQWO,5:bOOQ?Mr'#D['#D[OOQ?Mr1G0{1G0{O%[Q^O1G0{OOQ?Mr1G1e1G1eO#1wQWO1G0{O#4]Q?NdO1G0|O#4dQ?NdO1G0|O#6zQ?NdO1G0|O#7RQ?NdO1G0|O#9YQ?NdO1G0|O#9pQ?NdO1G0|O#<gQ?NdO1G0|O#<nQ?NdO1G0|O#?OQ?NdO1G0|O#?]Q?NdO1G0|O#AWQ?NdO1G0|O#DWQ07bO'#CiO#FRQ07bO1G1_O#FYQ07bO'#JnO#FmQ?NdO,5?WOOQ?Mp-E<j-E<jO#GaQ?NdO1G0|OOQ?Mr1G0|1G0|O#IiQ7[O'#JwO#IsQWO,5:uO#IxQ?NdO1G1bO#JlQ&jO,5<VO#JtQ&jO,5<WO#J|Q&jO'#FnO#KeQWO'#FmOOQO'#KT'#KTOOQO'#Ij'#IjO#KjQ&jO1G1mOOQ?Mr1G1m1G1mOOOS1G1x1G1xO#K{Q07bO'#JmO#LVQWO,5<aO!(oQ^O,5<aOOOS-E<i-E<iOOQ?Mr1G1k1G1kO#L[Q`O'#KSOOQ?Mr,5<c,5<cO#LdQ`O,5<cOOQ?Mr,59f,59fO!&_Q7[O'#DQOOOO'#I^'#I^O#LiO!0LbO,59jOOQ?Mr,59j,59jO%[Q^O1G2OO!7eQWO'#InO#LtQ7[O,5<xOOQ?Mr,5<u,5<uO!+hQ7[O'#IqO#MdQ7[O,5=UO!+hQ7[O'#IsO#NVQ7[O,5=WO!&_Q7[O,5=YOOQO1G2Q1G2QO#NaQpO'#CrO#NtQ$ISO'#EoO$ sQ`O'#G`O$!aQpO,5<qO$!hQWO'#KWO9WQWO'#KWO$!vQWO,5<sO!+hQ7[O,5<rO$!{QWO'#GXO$#^QWO,5<rO$#cQpO'#GUO$#pQpO'#KXO$#zQWO'#KXO!&_Q7[O'#KXO$$PQWO,5<vO$$UQ`O'#GaO!5nQ`O'#GaO$$gQWO'#GcO$$lQWO'#GeO!3XQWO'#GhO$$qQ?MxO'#IpO$$|Q`O,5<zOOQ?Mv,5<z,5<zO$%TQ`O'#GaO$%cQ`O'#GbO$%kQ`O'#GbO$%pQ7[O,5=UO$&QQ7[O,5=WOOQ?Mr,5=Z,5=ZO!+hQ7[O,5@QO!+hQ7[O,5@QO$&bQWO'#IuO$&mQWO,5@PO$&uQWO,59aO$'iQ!LSO,59rOOQ?Mr'#Jk'#JkO$([Q7[O,5<iO$(}Q7[O,5<kO@fQWO,5<mOOQ?Mr,5<n,5<nO$)XQWO,5<tO$)^Q7[O,5<yO$)nQWO'#JzO!$[Q^O1G2PO$)sQWO1G2PO9WQWO'#J}O9WQWO'#EqO%[Q^O'#EqO9WQWO'#IwO$)xQ?MxO,5@wOOQU1G2z1G2zOOQU1G4[1G4[OOQ?Mr1G/y1G/yOOQ?Mr1G/w1G/wO$+zQ?NdO1G0ROOQU1G2v1G2vO!&_Q7[O1G2vO%[Q^O1G2vO#-bQWO1G2vO$.OQ7[O'#EhOOQ?Mp,5@O,5@OO$.YQ?MxO,5@OOOQU1G.u1G.uO!ArQ?MxO1G.uO!A}Q`O1G.uO!BVQ7[O1G.uO$.kQWO1G0rO$.pQWO'#CiO$.{QWO'#KaO$/TQWO,5=xO$/YQWO'#KaO$/_QWO'#KaO$/mQWO'#I}O$/{QWO,5@zO$0TQrO1G1hOOQ?Mr1G1j1G1jO9^QWO1G3cO@fQWO1G3cO$0[QWO1G3cO$0aQWO1G3cOOQU1G3c1G3cO!DTQWO1G3RO!&_Q7[O1G3OO$0fQWO1G3OOOQU1G3P1G3PO!&_Q7[O1G3PO$0kQWO1G3PO$0sQ`O'#G}OOQU1G3R1G3RO!5nQ`O'#IyO!DYQpO1G3UOOQU1G3U1G3UOOQU,5=o,5=oO$0{Q7[O,5=qO9^QWO,5=qO$$lQWO,5=sO9RQWO,5=sO!A}Q`O,5=sO!BVQ7[O,5=sO:VQ7[O,5=sO$1ZQWO'#K_O$1fQWO,5=tOOQU1G.k1G.kO$1kQ?MxO1G.kO@fQWO1G.kO$1vQWO1G.kO9hQ?MxO1G.kO$4OQrO,5@|O$4]QWO,5@|O9WQWO,5@|O$4hQ^O,5={O$4oQWO,5={OOQU1G3e1G3eO`Q^O1G3eOOQU1G3k1G3kOOQU1G3m1G3mO>oQWO1G3oO$4tQ^O1G3qO$8xQ^O'#HpOOQU1G3t1G3tO$9VQWO'#HvO>tQWO'#HxOOQU1G3z1G3zO$9_Q^O1G3zO9hQ?MxO1G4QOOQU1G4S1G4SOOQ?Mp'#G]'#G]O9hQ?MxO1G4UO9hQ?MxO1G4WO$=fQWO,5@]O!(oQ^O,5;]O9WQWO,5;]O>tQWO,5:UO!(oQ^O,5:UO!A}Q`O,5:UO$=kQ07bO,5:UOOQO,5;],5;]O$=uQ`O'#IaO$>]QWO,5@[OOQ?Mr1G/o1G/oO$>eQ`O'#IgO$>oQWO,5@kOOQ?Mp1G0v1G0vO#!|Q`O,5:UOOQO'#Ic'#IcO$>wQ`O,5:nOOQ?Mv,5:n,5:nO#&wQWO1G0WOOQ?Mr1G0W1G0WO%[Q^O1G0WOOQ?Mr1G0q1G0qO>tQWO1G0qO!A}Q`O1G0qO!BVQ7[O1G0qOOQ?Mp1G5w1G5wO!ArQ?MxO1G0ZOOQO1G0j1G0jO%[Q^O1G0jO$?OQ?MxO1G0jO$?ZQ?MxO1G0jO!A}Q`O1G0ZOCrQ`O1G0ZO$?iQ?MxO1G0jOOQO1G0Z1G0ZO$?}Q?NdO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$@XQpO,5<gO$@aQrO1G4fOOQO1G4l1G4lO%[Q^O,5>zO$@kQWO1G5uO$@sQWO1G6TO$@{QrO1G6UO9WQWO,5?QO$AVQ?NdO1G6RO%[Q^O1G6RO$AgQ?MxO1G6RO$AxQWO1G6QO$AxQWO1G6QO9WQWO1G6QO$BQQWO,5?TO9WQWO,5?TOOQO,5?T,5?TO$BfQWO,5?TO$)nQWO,5?TOOQO-E<g-E<gOOQQ1G0^1G0^OOQQ1G0`1G0`O#-YQWO1G0`OOQU7+(b7+(bO!&_Q7[O7+(bO%[Q^O7+(bO$BtQWO7+(bO$CPQ7[O7+(bO$C_Q?NdO,5=UO$EgQ?NdO,5=WO$GoQ?NdO,5=UO$I}Q?NdO,5=WO$L]Q?NdO,59rO$NbQ?NdO,5<iO%!jQ?NdO,5<kO%$rQ?NdO,5<yOOQ?Mr7+&^7+&^O%'QQ?NdO7+&^O%'tQ^O'#IbO%(RQWO,5@^O%(ZQrO,5@^OOQ?Mr1G/|1G/|O%(eQWO7+&gOOQ?Mr7+&g7+&gO%(jQ07bO,5:cO%[Q^O7+&yO%(tQ07bO,5:_O%)RQ07bO,5:gO%)]Q07bO,5:iO%)gQ7[O'#IeO%)qQWO,5@cOOQ?Mr1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%)yQtO,5<YO!(oQ^O,5<XOOQO-E<h-E<hOOQ?Mr7+'X7+'XOOOS7+'d7+'dOOOS1G1{1G1{O%*UQWO1G1{OOQ?Mr1G1}1G1}O%*ZQpO,59lOOOO-E<[-E<[OOQ?Mr1G/U1G/UO%*bQ?NdO7+'jOOQ?Mr,5?Y,5?YO%+UQpO,5?YOOQ?Mr1G2d1G2dP!&_Q7[O'#InPOQ?Mr-E<l-E<lO%+tQ7[O,5?]OOQ?Mr-E<o-E<oO%,gQ7[O,5?_OOQ?Mr-E<q-E<qO%,qQpO1G2tO%,xQpO'#CrO%-`Q7[O'#J}O%-gQ^O'#EqOOQ?Mr1G2]1G2]O%-qQWO'#ImO%.VQWO,5@rO%.VQWO,5@rO%._QWO,5@rO%.jQWO,5@rOOQO1G2_1G2_O%.xQ7[O1G2^O!+hQ7[O1G2^O%/YQ$ISO'#IoO%/gQWO,5@sO!&_Q7[O,5@sO%/oQpO,5@sOOQ?Mr1G2b1G2bOOQ?Mp,5<{,5<{OOQ?Mp,5<|,5<|O$)nQWO,5<|OCcQWO,5<|O!A}Q`O,5<{OOQO'#Gd'#GdO%/yQWO,5<}OOQ?Mp,5=P,5=PO$)nQWO,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ?Mv1G2f1G2fO!5nQ`O,5<{O%0RQWO,5<|O$$gQWO,5<}O!5nQ`O,5<|O!+hQ7[O'#IqO%0uQ7[O1G2pO!+hQ7[O'#IsO%1hQ7[O1G2rO%1rQ7[O1G5lO%1|Q7[O1G5lOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9UQ`O,59tO%[Q^O,59tOOQ?Mr,5<h,5<hO%2ZQWO1G2XO!+hQ7[O1G2`O%2`Q?NdO7+'kOOQ?Mr7+'k7+'kO!$[Q^O7+'kO%3SQWO,5;]OOQ?Mp,5?c,5?cOOQ?Mp-E<u-E<uO%3XQpO'#KYO#&wQWO7+(bO4UQrO7+(bO$BwQWO7+(bO%3cQ?NbO'#CiO%3vQ?NbO,5=QO%4hQWO,5=QOOQ?Mp1G5j1G5jOOQU7+$a7+$aO!ArQ?MxO7+$aO!A}Q`O7+$aO!$[Q^O7+&^O%4mQWO'#I|O%5UQWO,5@{OOQO1G3d1G3dO9^QWO,5@{O%5UQWO,5@{O%5^QWO,5@{OOQO,5?i,5?iOOQO-E<{-E<{OOQ?Mr7+'S7+'SO%5cQWO7+(}O9hQ?MxO7+(}O9^QWO7+(}O@fQWO7+(}OOQU7+(m7+(mO%5hQ?NbO7+(jO!&_Q7[O7+(jO%5rQpO7+(kOOQU7+(k7+(kO!&_Q7[O7+(kO%5yQWO'#K^O%6UQWO,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQU7+(p7+(pO%7eQ`O'#HWOOQU1G3]1G3]O!&_Q7[O1G3]O%[Q^O1G3]O%7lQWO1G3]O%7wQ7[O1G3]O9hQ?MxO1G3_O$$lQWO1G3_O9RQWO1G3_O!A}Q`O1G3_O!BVQ7[O1G3_O%8VQWO'#I{O%8kQWO,5@yO%8sQ`O,5@yOOQ?Mp1G3`1G3`OOQU7+$V7+$VO@fQWO7+$VO9hQ?MxO7+$VO%9OQWO7+$VO%[Q^O1G6hO%[Q^O1G6iO%9TQ?MxO1G6hO%9_Q^O1G3gO%9fQWO1G3gO%9kQ^O1G3gOOQU7+)P7+)PO9hQ?MxO7+)ZO`Q^O7+)]OOQU'#Kd'#KdOOQU'#JO'#JOO%9rQ^O,5>[OOQU,5>[,5>[O%[Q^O'#HqO%:PQWO'#HsOOQU,5>b,5>bO9WQWO,5>bOOQU,5>d,5>dOOQU7+)f7+)fOOQU7+)l7+)lOOQU7+)p7+)pOOQU7+)r7+)rO%:UQ`O1G5wO%:jQ07bO1G0wO%:tQWO1G0wOOQO1G/p1G/pO%;PQ07bO1G/pO>tQWO1G/pO!(oQ^O'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!A}Q`O1G/pOOQO-E<a-E<aOOQ?Mv1G0Y1G0YOOQ?Mr7+%r7+%rO#&wQWO7+%rOOQ?Mr7+&]7+&]O>tQWO7+&]O!A}Q`O7+&]OOQO7+%u7+%uO$?}Q?NdO7+&UOOQO7+&U7+&UO%[Q^O7+&UO%;ZQ?MxO7+&UO!ArQ?MxO7+%uO!A}Q`O7+%uO%;fQ?MxO7+&UO%;tQ?NdO7++mO%[Q^O7++mO%<UQWO7++lO%<UQWO7++lOOQO1G4o1G4oO9WQWO1G4oO%<^QWO1G4oOOQQ7+%z7+%zO#&wQWO<<K|O4UQrO<<K|O%<lQWO<<K|OOQU<<K|<<K|O!&_Q7[O<<K|O%[Q^O<<K|O%<tQWO<<K|O%=PQ?NdO,5?]O%?XQ?NdO,5?_O%AaQ?NdO1G2^O%CoQ?NdO1G2pO%EwQ?NdO1G2rO%HPQrO,5>|O%[Q^O,5>|OOQO-E<`-E<`O%HZQWO1G5xOOQ?Mr<<JR<<JRO%HcQ07bO1G0rO%JjQ07bO1G0|O%JqQ07bO1G0|O%LrQ07bO1G0|O%LyQ07bO1G0|O%NkQ07bO1G0|O& RQ07bO1G0|O&#cQ07bO1G0|O&#jQ07bO1G0|O&%eQ07bO1G0|O&%rQ07bO1G0|O&'mQ07bO1G0|O&(QQ?NdO<<JeO&)VQ07bO1G0|O&*xQ07bO'#JgO&,{Q07bO1G1bO&-YQ07bO1G0RO&-dQ7[O,5?POOQO-E<c-E<cO!(oQ^O'#FpOOQO'#KU'#KUOOQO1G1t1G1tO&-nQWO1G1sO&-sQ07bO,5?WOOOS7+'g7+'gOOOO1G/W1G/WOOQ?Mr1G4t1G4tO!+hQ7[O7+(`O&0TQrO'#CiO&0_QWO,5?XO9WQWO,5?XOOQO-E<k-E<kO&0mQWO1G6^O&0mQWO1G6^O&0uQWO1G6^O&1QQ7[O7+'xO&1bQpO,5?ZO&1lQWO,5?ZO!&_Q7[O,5?ZOOQO-E<m-E<mO&1qQpO1G6_O&1{QWO1G6_OOQ?Mp1G2h1G2hO$)nQWO1G2hOOQ?Mp1G2g1G2gO&2TQWO1G2iO!&_Q7[O1G2iOOQ?Mp1G2n1G2nO!A}Q`O1G2gOCcQWO1G2hO&2YQWO1G2iO&2bQWO1G2hO&3UQ7[O,5?]OOQ?Mr-E<p-E<pO&3wQ7[O,5?_OOQ?Mr-E<r-E<rO!+hQ7[O7++WOOQ?Mr1G/`1G/`O&4RQWO1G/`OOQ?Mr7+'s7+'sO&4WQ7[O7+'zO&4hQ?NdO<<KVOOQ?Mr<<KV<<KVO&5[QWO1G0wO!&_Q7[O'#IvO&5aQWO,5@tO&7cQrO<<K|O!&_Q7[O1G2lOOQU<<G{<<G{O!ArQ?MxO<<G{O&7jQ?NdO<<IxOOQ?Mr<<Ix<<IxOOQO,5?h,5?hO&8^QWO,5?hO&8cQWO,5?hOOQO-E<z-E<zO&8qQWO1G6gO&8qQWO1G6gO9^QWO1G6gO@fQWO<<LiOOQU<<Li<<LiO&8yQWO<<LiO9hQ?MxO<<LiOOQU<<LU<<LUO%5hQ?NbO<<LUOOQU<<LV<<LVO%5rQpO<<LVO&9OQ`O'#IxO&9ZQWO,5@xO!(oQ^O,5@xOOQU1G3T1G3TO%-gQ^O'#JqOOQO'#Iz'#IzO9hQ?MxO'#IzO&9cQ`O,5=rOOQU,5=r,5=rO&9jQ`O'#EdO&:OQWO7+(wO&:TQWO7+(wOOQU7+(w7+(wO!&_Q7[O7+(wO%[Q^O7+(wO&:]QWO7+(wOOQU7+(y7+(yO9hQ?MxO7+(yO$$lQWO7+(yO9RQWO7+(yO!A}Q`O7+(yO&:hQWO,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&:sQWO1G6eO9hQ?MxO<<GqOOQU<<Gq<<GqO@fQWO<<GqO&:{QWO7+,SO&;QQWO7+,TO%[Q^O7+,SO%[Q^O7+,TOOQU7+)R7+)RO&;VQWO7+)RO&;[Q^O7+)RO&;cQWO7+)ROOQU<<Lu<<LuOOQU<<Lw<<LwOOQU-E<|-E<|OOQU1G3v1G3vO&;hQWO,5>]OOQU,5>_,5>_O&;mQWO1G3|O9WQWO7+&cO!(oQ^O7+&cOOQO7+%[7+%[O&;rQ07bO1G6UO>tQWO7+%[OOQ?Mr<<I^<<I^OOQ?Mr<<Iw<<IwO>tQWO<<IwOOQO<<Ip<<IpO$?}Q?NdO<<IpO%[Q^O<<IpOOQO<<Ia<<IaO!ArQ?MxO<<IaO&;|Q?MxO<<IpO&<XQ?NdO<= XO&<iQWO<= WOOQO7+*Z7+*ZO9WQWO7+*ZOOQUANAhANAhO&<qQrOANAhO!&_Q7[OANAhO#&wQWOANAhO4UQrOANAhO&<xQWOANAhO%[Q^OANAhO&=QQ?NdO7+'xO&?`Q?NdO,5?]O&AhQ?NdO,5?_O&CpQ?NdO7+'zO&FOQrO1G4hO&FYQ07bO7+&^O&HZQ07bO,5=UO&J_Q07bO,5=WO&JoQ07bO,5=UO&KPQ07bO,5=WO&KaQ07bO,59rO&MdQ07bO,5<iO' dQ07bO,5<kO'#dQ07bO,5<yO'%VQ07bO7+'jO'%dQ07bO7+'kO'%qQWO,5<[OOQO7+'_7+'_O'%vQ7[O<<KzOOQO1G4s1G4sO'%}QWO1G4sO'&YQWO1G4sO'&hQWO7++xO'&hQWO7++xO!&_Q7[O1G4uO'&pQpO1G4uO'&zQWO7++yOOQ?Mp7+(S7+(SO$)nQWO7+(TO''SQpO7+(TOOQ?Mp7+(R7+(RO$)nQWO7+(SO''ZQWO7+(TO!&_Q7[O7+(TOCcQWO7+(SO''`Q7[O<<NrOOQ?Mr7+$z7+$zO''jQpO,5?bOOQO-E<t-E<tO''tQ?NbO7+(WOOQUAN=gAN=gO9^QWO1G5SOOQO1G5S1G5SO'(UQWO1G5SO'(ZQWO7+,RO'(ZQWO7+,RO9hQ?MxOANBTO@fQWOANBTOOQUANBTANBTOOQUANApANApOOQUANAqANAqO'(cQWO,5?dOOQO-E<v-E<vO'(nQ07bO1G6dOOQO,5?f,5?fOOQO-E<x-E<xOOQU1G3^1G3^O%-gQ^O,5<}OOQU<<Lc<<LcO!&_Q7[O<<LcO&:OQWO<<LcO'(xQWO<<LcO%[Q^O<<LcOOQU<<Le<<LeO9hQ?MxO<<LeO$$lQWO<<LeO9RQWO<<LeO')QQ`O1G5RO')]QWO7+,POOQUAN=]AN=]O9hQ?MxOAN=]OOQU<= n<= nOOQU<= o<= oO')eQWO<= nO')jQWO<= oOOQU<<Lm<<LmO')oQWO<<LmO')tQ^O<<LmOOQU1G3w1G3wO>tQWO7+)hO'){QWO<<I}O'*WQ07bO<<I}OOQO<<Hv<<HvOOQ?MrAN?cAN?cOOQOAN?[AN?[O$?}Q?NdOAN?[OOQOAN>{AN>{O%[Q^OAN?[OOQO<<Mu<<MuOOQUG27SG27SO!&_Q7[OG27SO#&wQWOG27SO'*bQrOG27SO4UQrOG27SO'*iQWOG27SO'*qQ07bO<<JeO'+OQ07bO1G2^O',qQ07bO,5?]O'.qQ07bO,5?_O'0qQ07bO1G2pO'2qQ07bO1G2rO'4qQ07bO<<KVO'5OQ07bO<<IxOOQO1G1v1G1vO!+hQ7[OANAfOOQO7+*_7+*_O'5]QWO7+*_O'5hQWO<= dO'5pQpO7+*aOOQ?Mp<<Ko<<KoO$)nQWO<<KoOOQ?Mp<<Kn<<KnO'5zQpO<<KoO$)nQWO<<KnOOQO7+*n7+*nO9^QWO7+*nO'6RQWO<= mOOQUG27oG27oO9hQ?MxOG27oO!(oQ^O1G5OO'6ZQWO7+,OO&:OQWOANA}OOQUANA}ANA}O!&_Q7[OANA}O'6cQWOANA}OOQUANBPANBPO9hQ?MxOANBPO$$lQWOANBPOOQO'#H['#H[OOQO7+*m7+*mOOQUG22wG22wOOQUANEYANEYOOQUANEZANEZOOQUANBXANBXO'6kQWOANBXOOQU<<MS<<MSO!(oQ^OAN?iOOQOG24vG24vO$?}Q?NdOG24vO#&wQWOLD,nOOQULD,nLD,nO!&_Q7[OLD,nO'6pQrOLD,nO'6wQ07bO7+'xO'8jQ07bO,5?]O':jQ07bO,5?_O'<jQ07bO7+'zO'>]Q7[OG27QOOQO<<My<<MyOOQ?MpANAZANAZO$)nQWOANAZOOQ?MpANAYANAYOOQO<<NY<<NYOOQULD-ZLD-ZO'>mQ07bO7+*jOOQUG27iG27iO&:OQWOG27iO!&_Q7[OG27iOOQUG27kG27kO9hQ?MxOG27kOOQUG27sG27sO'>wQ07bOG25TOOQOLD*bLD*bOOQU!$(!Y!$(!YO#&wQWO!$(!YO!&_Q7[O!$(!YO'?RQ?NdOG27QOOQ?MpG26uG26uOOQULD-TLD-TO&:OQWOLD-TOOQULD-VLD-VOOQU!)9Et!)9EtO#&wQWO!)9EtOOQU!$(!o!$(!oOOQU!.K;`!.K;`O'AaQ07bOG27QO!(oQ^O'#DwO1PQWO'#EUO'CSQrO'#JmO'CZQMnO'#DsO'CbQ^O'#D{O'CiQrO'#CiO'FPQrO'#CiO!(oQ^O'#D}O'FaQ^O,5;WO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O'#IlO'HdQWO,5<gO'HlQ7[O,5;bO'JVQ7[O,5;bO!(oQ^O,5;vO!&_Q7[O'#GjO'HlQ7[O'#GjO!&_Q7[O'#GlO'HlQ7[O'#GlO1SQWO'#DWO1SQWO'#DWO!&_Q7[O'#F}O'HlQ7[O'#F}O!&_Q7[O'#GPO'HlQ7[O'#GPO!&_Q7[O'#G_O'HlQ7[O'#G_O!(oQ^O,5:gO'J^Q`O'#D[O!(oQ^O,5@jO'FaQ^O1G0rO'JhQ07bO'#CiO!(oQ^O1G2OO!&_Q7[O'#IqO'HlQ7[O'#IqO!&_Q7[O'#IsO'HlQ7[O'#IsO'JrQpO'#CrO!&_Q7[O,5<rO'HlQ7[O,5<rO'FaQ^O1G2PO!(oQ^O7+&yO!&_Q7[O1G2^O'HlQ7[O1G2^O!&_Q7[O'#IqO'HlQ7[O'#IqO!&_Q7[O'#IsO'HlQ7[O'#IsO!&_Q7[O1G2`O'HlQ7[O1G2`O'FaQ^O7+'kO'FaQ^O7+&^O!&_Q7[OANAfO'HlQ7[OANAfO'KVQWO'#ElO'K[QWO'#ElO'KdQWO'#F[O'KiQWO'#EvO'KnQWO'#KOO'KyQWO'#J|O'LUQWO,5;WO'LZQ7[O,5<dO'LbQWO'#GWO'LgQWO'#GWO'LlQWO,5<eO'LtQWO,5;WO'L|Q07bO1G1_O'MTQWO,5<rO'MYQWO,5<rO'M_QWO,5<tO'MdQWO,5<tO'MiQWO1G2PO'MnQWO1G0rO'MsQ7[O<<KzO'MzQ7[O<<KzO7eQ7[O'#FzO9RQWO'#FyOAaQWO'#EkO!(oQ^O,5;sO!3XQWO'#GWO!3XQWO'#GWO!3XQWO'#GYO!3XQWO'#GYO!+hQ7[O7+(`O!+hQ7[O7+(`O%,qQpO1G2tO%,qQpO1G2tO!&_Q7[O,5=YO!&_Q7[O,5=Y",stateData:"( O~O'wOS'xOSTOS'yRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(OSO(QTO(TUO([VO(j[O(yiO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y:lO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O'y!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'u]X([]X(m]X(t]X(u]X~O!d%PX~P(qO_!}O(Q#PO(R!}O(S#PO~O_#QO(S#PO(T#PO(U#QO~Ou#SO!R#TO(]#TO(^#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O:pO(QTO(TUO([VO(j[O(yiO~O!X#ZO!Y#WO!V(cP!V(qP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(QTO(TUO([VO(j[O(yiO~Om#mO!X#iO!y]O#f#lO#g#iO(O:qO!h(nP~P.iO!i#oO(O#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$]OR#zO[$cOo$QO}#yO!P#{O!Y$`O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~Oa(aX'u(aX's(aX!h(aX!V(aX![(aX%f(aX!d(aX~P1qO#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX![(bX%f(bX~Oa(bX'u(bX's(bX!V(bX!h(bXs(bX!d(bX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{%[O!P$|O![$}O!f%aO!i$yO#g%bO$V%_O$r%]O$t%^O$w%`O(O$sO(QTO(TUO([$vO(t%OO(u%QOg(XP~O!i%cO~O!P%fO![%gO(O%eO~O!d%kO~Oa%lO'u%lO~O}%pO~P%[O(P!lO~P%[O%k%tO~P%[Oh%WO!i%cO(O%eO(P!lO~Oe%{O!i%cO(O%eO~O#s$SO~O}&QO![%}O!i&PO%g&TO(O%eO(P!lO(QTO(TUO`)SP~O!u#sO~O%p&VO!P)OX![)OX(O)OX~O(O&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(P!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'u%lO~Oa%lO't&{O'u%lO~Oa%lO't&}O'u%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(P!lO(QTO(TUO~Op'RO!P'QO!X'UO(`'PO!Z(dP!Z(sP~P@YOk'_O![']O(O%eO~Oe'dO!i%cO(O%eO~O}&QO!i&PO~Op!nO!P!oO!y:lO#Q!pO#R!pO#T!pO#U!pO(P!lO(QTO(TUO(`!mO(j!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%WO!d#vO!i%cO'u%lO(m'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(QTO(TUO(`!mO(j!sO~O![XOp(hX!P(hX!_(hX!`(hX!a(hX!y(hX#Q(hX#R(hX#S(hX#T(hX#U(hX#X(hX#Y(hX(P(hX(Q(hX(T(hX(`(hX(j(hX~O!`'iO!a'iO(P!lO~PCrO'z'uO'{'uO'|'wO~O_!}O(Q'yO(R!}O(S'yO~O_#QO(S'yO(T'yO(U#QO~Ou#SO!R#TO(]#TO(^'}O~O!X(PO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(RO!V(cX~OP$]OR#zO[$cOo$QO}#yO!P#{O!Y(RO!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~O!V(cX~PGfO!V(WO~O!V(pX!Y(pX!d(pX!h(pX(m(pX~O#](pX#h#aX!Z(pX~PIiO#](XO!V(rX!Y(rX~O!Y(YO!V(qX~O!V(]O~O#]$eO~PIiO!Z(^O~P`OR#zO}#yO!P#{O!i#xO([VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(m!ka(t!ka(u!ka~Oa!ka'u!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKPO!h(_O~O!d#vO#](`O(m'mO!Y(oXa(oX'u(oX~O!h(oX~PMlO!P%fO![%gO!y]O#f(eO#g(dO(O%eO~O!Y(fO!h(nX~O!h(hO~O!P%fO![%gO#g(dO(O%eO~OP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O!d#vO!h(bX~P! YOR(jO}(iO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(O!xa~P!#ZO!u(nO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~O#h(tO~O!X(vO!h(fP~P%[O(`(xO(j[O~O!P(zO!i#xO(`(xO(j[O~OP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![!eO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y<dO~O!Y$`Oa$oa'u$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)`O~P!&_Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{%[O!P$|O![$}O!f%aO!i$yO#g%bO$V%_O$r%]O$t%^O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~Og(kP~P!+hO})eO!d)dO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)dO![(vX$Y(vX$[(vX$^(vX$e(vX~O})eO~P!-qO})eO![(vX$Y(vX$[(vX$^(vX$e(vX~O![)gO$Y)kO$[)fO$^)fO$e)lO~O!X)oO~P!(oO$[$hO$^$gO$e)sO~Ok$xX}$xX!P$xX#P$xX(t$xX(u$xX~OgjXg$xXkjX!YjX#]jX~P!/gOp)uO~Ou)vO(])wO(^)yO~Ok*SO}){O!P)|O(t%OO(u%QO~Og)zO~P!0pOg*TO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P*VO![*WO!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(QTO(TUO([$vO(t%OO(u%QO~O!X*ZO(O*UO!h(zP~P!1_O#h*]O~O!i*^O~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(O*`O(QTO(TUO([$vO(t%OO(u%QO~O!X*cO!V({P~P!3^Oo*oO!P*gO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO(`!mO~O!Z*lO~P!5RO#P$dOk(ZX}(ZX!P(ZX(t(ZX(u(ZX!Y(ZX#](ZX~Og(ZX#}(ZX~P!5zOk*tO#]*sOg(YX!Y(YX~O!Y*uOg(XX~O(O&WOg(XP~O!i*|O~O(O(rO~Om+QO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(O%eO!h(nP~O!d#vO#h+RO~O!P%fO!X+TO!Y(YO![%gO(O%eO!V(qP~Op'XO!P+VO!X+UO(QTO(TUO(`(xO~O!Z(sP~P!8uO!Y+WOa)PX'u)PX~OP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~Oa!ga!Y!ga'u!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9mOR#zO}#yO!P#{O!i#xO([VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(m!oa(t!oa(u!oa~Oa!oa'u!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<TOR#zO}#yO!P#{O!i#xO([VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(m!qa(t!qa(u!qa~Oa!qa'u!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>kOh%WOk+aO![']O%f+`O~O!d+cOa(WX![(WX'u(WX!Y(WX~Oa%lO![XO'u%lO~Oh%WO!i%cO~Oh%WO!i%cO(O%eO~O!d#vO#h(tO~Ob+nO%g+oO(O+kO(QTO(TUO!Z)TP~O!Y+pO`)SX~O[+tO~O`+uO~O![%}O(O%eO(P!lO`)SP~Oh%WO#]+zO~Oh%WOk+}O![$}O~O![,PO~O},RO![XO~O%k%tO~O!u,WO~Oe,]O~Ob,^O(O#nO(QTO(TUO!Z)RP~Oe%{O~O%g!QO(O&WO~P=RO[,cO`,bO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(QTO(TUO([VO(j[O(yiO~O![!eO!r!gO$V!kO(O!dO~P!EkO`,bOa%lO'u%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa,hO!rwO#t!OO%i!OO%j!OO%k!OO~P!HTO!i&lO~O&Y,nO~O![,pO~O&k,rO&m,sOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(O&ha(Q&ha(T&ha([&ha(j&ha(y&ha!Z&ha&a&hab&ha&f&ha~O(O,xO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# ZO!d,}O#],|Oh(eX!Y#eX!Y(eX!Z#eX!Z(eX!d(eX!i(eX~Oh%WO!d-PO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(QTO(TUO(`!mO~OP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![!eO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(QTO(TUO([VO(j[O(y<dO~O(O;fO~P##_O!Y-TO!Z(dX~O!Z-VO~O!d,}O#],|O!Y#eX!Z#eX~O!Y-WO!Z(sX~O!Z-YO~O!`-ZO!a-ZO(P!lO~P#!|O!Z-^O~P'_Ok-aO![']O~O!V-fO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(P!xa(Q!xa(T!xa(`!xa(j!xa~P!#ZO!m-kO#]-iO~PCSO!`-mO!a-mO(P!lO~PCrOa%lO#]-iO'u%lO~Oa%lO!d#vO#]-iO'u%lO~Oa%lO!d#vO!m-kO#]-iO'u%lO(m'mO~O'z'uO'{'uO'|-rO~Os-sO~O!V'Sa!Y'Sa~P!9mO!X-wO!V'SX!Y'SX~P%[O!Y(RO!V(ca~O!V(ca~PGfO!Y(YO!V(qa~O!P%fO!X-{O![%gO(O%eO!V'YX!Y'YX~O#]-}O!Y(oa!h(oaa(oa'u(oa~O!d#vO~P#+eO!Y(fO!h(na~O!P%fO![%gO#g.RO(O%eO~Om.WO!P%fO!X.TO![%gO!y]O#f.VO#g.TO(O%eO!Y']X!h']X~OR.[O!i#xO~Oh%WOk._O![']O%f.^O~Oa#`i!Y#`i'u#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9mOk<pO}){O!P)|O(t%OO(u%QO~O#h#[aa#[a#]#[a'u#[a!Y#[a!h#[a![#[a!V#[a~P#.aO#h(ZXP(ZXR(ZX[(ZXa(ZXo(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX'u(ZX([(ZX(m(ZX!h(ZX!V(ZX's(ZXs(ZX![(ZX%f(ZX!d(ZX~P!5zO!Y.lO!h(fX~P!9mO!h.oO~O!V.qO~OP$]OR#zO}#yO!P#{O!i#xO!m$]O([VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#1|O#k$OO~P#1|OP$]OR#zO}#yO!P#{O!i#xO!m$]O#k$OO#l$PO#m$PO#n$PO([VO[#jia#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~Oo#ji~P#4kOo$QO~P#4kOP$]OR#zOo$QO}#yO!P#{O!i#xO!m$]O#k$OO#l$PO#m$PO#n$PO#o$RO([VOa#ji!Y#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O[#ji#O#ji#p#ji#q#ji#r#ji#s#ji~P#7YO[$cO#O$SO#p$SO#q$SO#r$bO#s$SO~P#7YOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO([VO(u#}Oa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji(t#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$VO~P#:WO#w#ji~P#:WOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO([VOa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w#ji(t#ji(u#ji~P#<uO#w$VO(t#|O(u#}O~P#<uOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO([VO(t#|O(u#}O~Oa#ji!Y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~P#?jOP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X!Y]X!Z]X~O#}]X~P#BQOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO#w:{O#y:}O#z;OO([VO(m$ZO(t#|O(u#}O~O#}.sO~P#D_O#P$dO#];TO$P;TO#}(bX!Z(bX~P! YOa'`a!Y'`a'u'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9mOP#jiR#ji[#jia#jio#ji!Y#ji!i#ji!m#ji#O#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji([#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~P#.aO!Y.wOg(kX~P!0pOg.yO~Oa$Oi!Y$Oi'u$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9mO$[.zO$^.zO~O$[.{O$^.{O~O!d)dO#].|O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X.}O~O![)gO$Y/PO$[)fO$^)fO$e/QO~O!Y;PO!Z(aX~P#D_O!Z/RO~O!d)dO$e(vX~O$e/TO~Ou)vO(])wO(^/WO~O!V/[O~P!&_O(t%OOk%^a}%^a!P%^a(u%^a!Y%^a#]%^a~Og%^a#}%^a~P#L{O(u%QOk%`a}%`a!P%`a(t%`a!Y%`a#]%`a~Og%`a#}%`a~P#MnO!YfX!dfX!hfX!h$xX(mfX~P!/gO!X/eO!Y(YO(O/dO!V(qP!V({P~P!1_Oo*oO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO~Op'XO!P/fO!X+UO!Z*lO(QTO(TUO(`;cO!Z(sP~P$ XO!h/gO~P#.aO!Y/hO!d#vO(m'mO!h(zX~O!h/mO~O!P%fO!X*ZO![%gO(O%eO!h(zP~O#h/oO~O!V$xX!Y$xX!d%PX~P!/gO!Y/pO!V({X~P#.aO!d/rO~O!V/tO~Oh%WOo/xO!d#vO!i%cO(m'mO~O(O/zO~O!d+cO~Oa%lO!Y0OO'u%lO~O!Z0QO~P!5RO!`0RO!a0RO(P!lO(`!mO~O!P0TO(`!mO~O#X0UO~Og%^a!Y%^a#]%^a#}%^a~P!0pOg%`a!Y%`a#]%`a#}%`a~P!0pO(O&WOg'iX!Y'iX~O!Y*uOg(Xa~Og0_O~OR0`O}0`O!P0aO#P$dOkza(tza(uza!Yza#]za~Ogza#}za~P$&zO}){O!P)|Ok$qa(t$qa(u$qa!Y$qa#]$qa~Og$qa#}$qa~P$'sO}){O!P)|Ok$sa(t$sa(u$sa!Y$sa#]$sa~Og$sa#}$sa~P$(fO#h0dO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0pO!d#vO~O#h0gO~O!Y+WOa)Pa'u)Pa~OR#zO}#yO!P#{O!i#xO([VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(m!oi(t!oi(u!oi~Oa!oi'u!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$*TOh%WOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(QTO(TUO([$vO(t%OO(u%QO~Om0pO(O0oO~P$,kO!d+cOa(Wa![(Wa'u(Wa!Y(Wa~O#h0vO~O[]X!YfX!ZfX~O!Y0wO!Z)TX~O!Z0yO~O[0zO~Ob0|O(O+kO(QTO(TUO~O![%}O(O%eO`'qX!Y'qX~O!Y+pO`)Sa~O!h1PO~P!9mO[1SO~O`1TO~O#]1WO~Ok1ZO![$}O~O(`(xO!Z)QP~Oh%WOk1dO![1aO%f1cO~O[1nO!Y1lO!Z)RX~O!Z1oO~O`1qOa%lO'u%lO~O(O#nO(QTO(TUO~O#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O#s1tO&W1uOa(bX~P$2RO#]$eO#s1tO&W1uO~Oa1wO~P%[Oa1yO~O&a1|OP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(O&_i(Q&_i(T&_i([&_i(j&_i(y&_i!Z&_ib&_i&f&_i~Ob2SO!Z2QO&f2RO~P`O![XO!i2UO~O&m,sOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(O&hi(Q&hi(T&hi([&hi(j&hi(y&hi!Z&hi&a&hib&hi&f&hi~O!V2[O~O!Y!^a!Z!^a~P#D_Op!nO!P!oO!X2bO(`!mO!Y'TX!Z'TX~P@YO!Y-TO!Z(da~O!Y'ZX!Z'ZX~P!8uO!Y-WO!Z(sa~O!Z2iO~P'_Oa%lO#]2rO'u%lO~Oa%lO!d#vO#]2rO'u%lO~Oa%lO!d#vO!m2vO#]2rO'u%lO(m'mO~Oa%lO'u%lO~P!9mO!Y$`Os$oa~O!V'Si!Y'Si~P!9mO!Y(RO!V(ci~O!Y(YO!V(qi~O!V(ri!Y(ri~P!9mO!Y(oi!h(oia(oi'u(oi~P!9mO#]2xO!Y(oi!h(oia(oi'u(oi~O!Y(fO!h(ni~O!P%fO![%gO!y]O#f2}O#g2|O(O%eO~O!P%fO![%gO#g2|O(O%eO~Ok3UO![']O%f3TO~Oh%WOk3UO![']O%f3TO~O#h%^aP%^aR%^a[%^aa%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#L{O#h%`aP%`aR%`a[%`aa%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#MnO#h%^aP%^aR%^a[%^aa%^ao%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.aO#h%`aP%`aR%`a[%`aa%`ao%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.aO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'uza([za(mza!hza!Vza'szasza![za%fza!dza~P$&zO#h$qaP$qaR$qa[$qaa$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'u$qa([$qa(m$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$'sO#h$saP$saR$sa[$saa$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'u$sa([$sa(m$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$(fO#h%RaP%RaR%Ra[%Raa%Rao%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'u%Ra([%Ra(m%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.aOa#`q!Y#`q'u#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9mO!X3^O!Y'UX!h'UX~P%[O!Y.lO!h(fa~O!Y.lO!h(fa~P!9mO!V3aO~O#}!ka!Z!ka~PKPO#}!ga!Y!ga!Z!ga~P#D_O#}!oa!Z!oa~P!<TO#}!qa!Z!qa~P!>kOg'XX!Y'XX~P!+hO!Y.wOg(ka~OSfO![3uO$c3vO~O!Z3zO~Os3{O~P#.aOa$lq!Y$lq'u$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9mO!V3|O~P#.aO}){O!P)|O(u%QOk'ea(t'ea!Y'ea#]'ea~Og'ea#}'ea~P%+]O}){O!P)|Ok'ga(t'ga(u'ga!Y'ga#]'ga~Og'ga#}'ga~P%,OO(m$ZO~P#.aO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/gO(O;lO~P!1_OmkO(O4OO~P.iO!P%fO!X4QO![%gO(O%eO!Y'aX!h'aX~O!Y/hO!h(za~O!Y/hO!d#vO!h(za~O!Y/hO!d#vO(m'mO!h(za~Og$zi!Y$zi#]$zi#}$zi~P!0pO!X4YO!V'cX!Y'cX~P!3^O!Y/pO!V({a~O!Y/pO!V({a~P#.aO!d#vO#s4bO~Oo4eO!d#vO(m'mO~O(t%OOk%^i}%^i!P%^i(u%^i!Y%^i#]%^i~Og%^i#}%^i~P%0^O(u%QOk%`i}%`i!P%`i(t%`i!Y%`i#]%`i~Og%`i#}%`i~P%1POg(Yi!Y(Yi~P!0pO#]4lOg(Yi!Y(Yi~P!0pO!h4oO~Oa$mq!Y$mq'u$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9mO!V4sO~O!Y4tO![(|X~P#.aOa$xX![$xX%Z]X'u$xX!Y$xX~P!/gO%Z4wOalXklX}lX!PlX![lX'ulX(tlX(ulX!YlX~O%Z4wO~Ob4}O%g5OO(O+kO(QTO(TUO!Y'pX!Z'pX~O!Y0wO!Z)Ta~O[5SO~O`5TO~Oa%lO'u%lO~P#.aO![$}O~P#.aO!Y5]O#]5_O!Z)QX~O!Z5`O~Op!nO!P5aO!_!yO!`!vO!a!vO!y:lO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5fO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O!Z5eO~P%6ZOk5kO![1aO%f5jO~Oh%WOk5kO![1aO%f5jO~Ob5rO(O#nO(QTO(TUO!Y'oX!Z'oX~O!Y1lO!Z)Ra~O(QTO(TUO(`5tO~O`5xO~O#s5{O&W5|O~PMlO!h5}O~P%[Oa6PO~Oa6PO~P%[Ob2SO!Z6UO&f2RO~P`O!d6WO~O!d6YOh(ei!Y(ei!Z(ei!d(ei!i(ei~O!Y#ei!Z#ei~P#D_O#]6ZO!Y#ei!Z#ei~O!Y!^i!Z!^i~P#D_Oa%lO#]6dO'u%lO~Oa%lO!d#vO#]6dO'u%lO~O!Y(oq!h(oqa(oq'u(oq~P!9mO!Y(fO!h(nq~O!P%fO![%gO#g6kO(O%eO~O![']O%f6nO~Ok6rO![']O%f6nO~O#h'eaP'eaR'ea['eaa'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'u'ea(['ea(m'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%+]O#h'gaP'gaR'ga['gaa'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'u'ga(['ga(m'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%,OO#h$ziP$ziR$zi[$zia$zio$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'u$zi([$zi(m$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.aO#h%^iP%^iR%^i[%^ia%^io%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'u%^i([%^i(m%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%0^O#h%`iP%`iR%`i[%`ia%`io%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'u%`i([%`i(m%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%1PO!Y'Ua!h'Ua~P!9mO!Y.lO!h(fi~O#}#`i!Y#`i!Z#`i~P#D_OP$]OR#zO}#yO!P#{O!i#xO!m$]O([VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#k#ji~P%HpO#k:tO~P%HpOP$]OR#zO}#yO!P#{O!i#xO!m$]O#k:tO#l:uO#m:uO#n:uO([VO[#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~Oo#ji~P%JxOo:vO~P%JxOP$]OR#zOo:vO}#yO!P#{O!i#xO!m$]O#k:tO#l:uO#m:uO#n:uO#o:wO([VO#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O[#ji#O#ji#p#ji#q#ji#r#ji#s#ji~P%MQO[;SO#O:xO#p:xO#q:xO#r;RO#s:xO~P%MQOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO([VO(u#}O#y#ji#z#ji#}#ji(m#ji(t#ji!Y#ji!Z#ji~O#w:{O~P& iO#w#ji~P& iOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO([VO#y#ji#z#ji#}#ji(m#ji!Y#ji!Z#ji~O#w#ji(t#ji(u#ji~P&#qO#w:{O(t#|O(u#}O~P&#qOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO#w:{O#y:}O([VO(t#|O(u#}O~O#z#ji#}#ji(m#ji!Y#ji!Z#ji~P&&POa#{y!Y#{y'u#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9mOk<qO}){O!P)|O(t%OO(u%QO~OP#jiR#ji[#jio#ji!i#ji!m#ji#O#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji([#ji(m#ji!Y#ji!Z#ji~P&(tO#P$dOP(ZXR(ZX[(ZXk(ZXo(ZX}(ZX!P(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX#}(ZX([(ZX(m(ZX(t(ZX(u(ZX!Y(ZX!Z(ZX~O#}$Oi!Y$Oi!Z$Oi~P#D_O#}!oi!Z!oi~P$*TOg'Xa!Y'Xa~P!0pO!Z7UO~O!Y'`a!Z'`a~P#D_OP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!d%WX#s%WX~P&-}O!d#vO(m'mO!Y'aa!h'aa~O!Y/hO!h(zi~O!Y/hO!d#vO!h(zi~Og$zq!Y$zq#]$zq#}$zq~P!0pO!V'ca!Y'ca~P#.aO!d7]O~O!Y/pO!V({i~P#.aO!Y/pO!V({i~O!V7aO~O!d#vO#s7fO~Oo7gO!d#vO(m'mO~O}){O!P)|O(u%QOk'fa(t'fa!Y'fa#]'fa~Og'fa#}'fa~P&2mO}){O!P)|Ok'ha(t'ha(u'ha!Y'ha#]'ha~Og'ha#}'ha~P&3`O!V7iO~Og$|q!Y$|q#]$|q#}$|q~P!0pOa$my!Y$my'u$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9mO!d6YO~O!Y4tO![(|a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa([$Sa(m$Sa(t$Sa(u$Sa~O%f6nO~P&5iOa#`y!Y#`y'u#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9mO[7nO~Ob7pO(O+kO(QTO(TUO~O!Y0wO!Z)Ti~O`7tO~O(`(xO!Y'lX!Z'lX~O!Y5]O!Z)Qa~O!Z7}O~P%6ZOp!nO!P8OO(QTO(TUO(`!mO(j!sO~O![1aO~O![1aO%f8QO~Ok8TO![1aO%f8QO~O[8YO!Y'oa!Z'oa~O!Y1lO!Z)Ri~O!h8^O~O!h8_O~O!h8bO~O!h8bO~P%[Oa8dO~O!d8eO~O!h8fO~O!Y(ri!Z(ri~P#D_Oa%lO#]8nO'u%lO~O!Y(oy!h(oya(oy'u(oy~P!9mO!Y(fO!h(ny~O%f8qO~P&5iO![']O%f8qO~O#h$zqP$zqR$zq[$zqa$zqo$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'u$zq([$zq(m$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.aO#h'faP'faR'fa['faa'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'u'fa(['fa(m'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&2mO#h'haP'haR'ha['haa'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'u'ha(['ha(m'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&3`O#h$|qP$|qR$|q[$|qa$|qo$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'u$|q([$|q(m$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.aO!Y'Ui!h'Ui~P!9mO#}#`q!Y#`q!Z#`q~P#D_O(t%OOP%^aR%^a[%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a([%^a(m%^a!Y%^a!Z%^a~Ok%^a}%^a!P%^a(u%^a~P&FgO(u%QOP%`aR%`a[%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a([%`a(m%`a!Y%`a!Z%`a~Ok%`a}%`a!P%`a(t%`a~P&HkOk<qO}){O!P)|O(u%QO~P&FgOk<qO}){O!P)|O(t%OO~P&HkOR0`O}0`O!P0aO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za([za(mza(tza(uza!Yza!Zza~O}){O!P)|OP$qaR$qa[$qak$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa([$qa(m$qa(t$qa(u$qa!Y$qa!Z$qa~O}){O!P)|OP$saR$sa[$sak$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa([$sa(m$sa(t$sa(u$sa!Y$sa!Z$sa~OP%RaR%Ra[%Rao%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra([%Ra(m%Ra!Y%Ra!Z%Ra~P&(tO#}$lq!Y$lq!Z$lq~P#D_O#}$mq!Y$mq!Z$mq~P#D_O!Z9OO~O#}9PO~P!0pO!d#vO!Y'ai!h'ai~O!d#vO(m'mO!Y'ai!h'ai~O!Y/hO!h(zq~O!V'ci!Y'ci~P#.aO!Y/pO!V({q~O!V9VO~P#.aO!V9VO~Og(Yy!Y(Yy~P!0pO!Y'ja!['ja~P#.aOa%Yq![%Yq'u%Yq!Y%Yq~P#.aO[9[O~O!Y0wO!Z)Tq~O#]9`O!Y'la!Z'la~O!Y5]O!Z)Qi~P#D_O![1aO%f9dO~O(QTO(TUO(`9iO~O!Y1lO!Z)Rq~O!h9lO~O!h9mO~O!h9nO~O!h9nO~P%[O#]9qO!Y#ey!Z#ey~O!Y#ey!Z#ey~P#D_O%f9vO~P&5iO![']O%f9vO~O#}#{y!Y#{y!Z#{y~P#D_OP$ziR$zi[$zio$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi([$zi(m$zi!Y$zi!Z$zi~P&(tO}){O!P)|O(u%QOP'eaR'ea['eak'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(['ea(m'ea(t'ea!Y'ea!Z'ea~O}){O!P)|OP'gaR'ga['gak'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(['ga(m'ga(t'ga(u'ga!Y'ga!Z'ga~O(t%OOP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i([%^i(m%^i(u%^i!Y%^i!Z%^i~O(u%QOP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i([%`i(m%`i(t%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#D_O#}#`y!Y#`y!Z#`y~P#D_O!d#vO!Y'aq!h'aq~O!Y/hO!h(zy~O!V'cq!Y'cq~P#.aO!V:PO~P#.aO!Y0wO!Z)Ty~O!Y5]O!Z)Qq~O![1aO%f:WO~O!h:ZO~O%f:`O~P&5iOP$zqR$zq[$zqo$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq([$zq(m$zq!Y$zq!Z$zq~P&(tO}){O!P)|O(u%QOP'faR'fa['fak'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(['fa(m'fa(t'fa!Y'fa!Z'fa~O}){O!P)|OP'haR'ha['hak'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(['ha(m'ha(t'ha(u'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q([$|q(m$|q!Y$|q!Z$|q~P&(tOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0pO!Y'lq!Z'lq~P#D_O!Y#e!Z!Z#e!Z~P#D_O#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'u%b!Z([%b!Z(m%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.aOP%b!ZR%b!Z[%b!Zo%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z([%b!Z(m%b!Z!Y%b!Z!Z%b!Z~P&(tOs(aX~P1qO}%pO~P!(oO(P!lO~P!(oO!VfX!YfX#]fX~P&-}OP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!dfX!h]X!hfX(mfX~P'CvOP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![XO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y<dO~O!Y;PO!Z$oa~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;ZO!P$|O![$}O!f<kO!i$yO#g;aO$V%_O$r;]O$t;_O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~O#t)`O~P'HlOo!bX(m!bX~P# ZO!Z]X!ZfX~P'CvO!VfX!V$xX!YfX!Y$xX#]fX~P!/gO#h:sO~O!d#vO#h:sO~O#];TO~O#s:xO~O#];dO!Y(rX!Z(rX~O#];TO!Y(pX!Z(pX~O#h;eO~Og;gO~P!0pO#h;mO~O#h;nO~O!d#vO#h;oO~O!d#vO#h;eO~O#};pO~P#D_O#h;qO~O#h;rO~O#h;wO~O#h;xO~O#h;yO~O#h;zO~O#};{O~P!0pO#};|O~P!0pO#P#Q#R#T#U#X#f#g#r(y$r$t$w%Z%e%f%g%n%p%s%t%v%x~'yT#l!U'w(P#mp#k#no}'x$['x(O$^(`~",goto:"$2y)XPPPPPP)YPP)]P)nP+O/PPPPP5wPP6_PP<U?kP@OP@OPPP@OPBOP@OP@OP@OPBSPBXPBvPGoPPPGsPPPPGsJuPPPJ{KwPGsPGsPPNVGsPPPGsPGsP!!^GsP!%s!&x!'RP!'u!'y!'u!+VPPPPPPP!+v!&xPP!,W!-QP!/tGsGs!/y!3U!7l!7l!;jPPP!;rGsPPPPPPPPPPP!?QP!@_PPGs!ApPGsPGsGsGsGsGsPGs!CSP!F]P!IbP!If!Ip!It!ItP!FYP!Ix!IxP!L}P!MRGsGs!MX#!]BS@OP@OP@O@OP##i@O@O#%s@O#(c@O#*g@O@O#+V#-c#-c#-h#-q#-c#-zP#-cP@O#.d@O#2T@O@O5wPPP#5zPPP#6e#6eP#6eP#6{#6ePP#7RP#6xP#6x#7f#6x#8Q#8W5t)]#8Z)]P#8b#8b#8bP)]P)]P)]P)]PP)]P#8h#8kP#8k)]P#8oP#8rP)]P)]P)]P)]P)]P)])]PP#8x#9O#9Z#9a#9g#9m#9s#:R#:X#:c#:i#:s#:y#;Z#;a#<R#<e#<k#<q#=P#=f#?T#?c#?j#AO#A^#Bx#CW#C^#Cd#Cj#Ct#Cz#DQ#D[#Dn#DtPPPPPPPPPP#DzPPPPPPP#Eo#Hv#JV#J^#JfPPP$ lP$ u$$m$+V$+Y$+]$+x$+{$,S$,[P$,b$,eP$-R$-V$-}$/]$/b$/xPP$/}$0T$0XP$0[$0`$0d$1Y$1q$2Y$2^$2a$2d$2j$2m$2q$2uR!|RoqOXst!Z#d%k&o&q&r&t,k,p1|2PY!vQ']-]1a5dQ%rvQ%zyQ&R|Q&g!VS'T!e-TQ'c!iS'i!r!yU*f$}*W*kQ+i%{Q+v&TQ,[&aQ-Z'[Q-e'dQ-m'jQ0R*mQ1k,]R;b:o%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5a5k5{5|6P6d8O8T8d8nS#q]:l!r)[$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gU*y%[;Y;ZQ+n%}Q,^&dQ,e&lQ0m+aQ0q+cQ0|+oQ1s,cQ3Q._Q4}0wQ5r1lQ6p3UQ7p5OR8t6r'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gt!nQ!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5d5f$z$ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qQ&U|Q'R!eU'X%g*W-WQ+n%}Q,^&dQ0c*|Q0|+oQ1R+uQ1r,bQ1s,cQ4}0wQ5W1TQ5r1lQ5u1nQ5v1qQ7p5OQ7s5TQ8]5xQ9_7tR9j8YrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR,`&h&x^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<f<g[#]WZ#W#Z'U(P!b%hm#h#i#l$y%c%f(Y(d(e(f*V*Z*^+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6Y6kQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(m#sS+h%z%{Q+l%}Q,V&_Q,Z&aS-d'c'dQ.a(nQ0u+iQ0{+oQ0}+pQ1Q+tQ1f,WS1j,[,]Q2n-eQ4|0wQ5Q0zQ5V1SQ5q1kQ7o5OQ7r5SQ9Z7nR:R9[!O${i$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m!S%wy!i!u%y%z%{'S'b'c'd'h'r*e+h+i-Q-d-e-l/y0u2g2n2u4dQ+b%uQ+{&XQ,O&YQ,Y&aQ.`(mQ1e,VU1i,Z,[,]Q3V.aQ5l1fS5p1j1kQ8X5q#[<h#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qo<i;R;S;V;X;];_;a;i;k;n;r;t;v;x;|W%Ui%W*u<dS&X!Q&fQ&Y!RQ&Z!SR+y&V${%Ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qT)w$v)xV*y%[;Y;ZW'X!e%g*W-WS(y#y#zQ+]%pQ+s&QS.Y(i(jQ1[,PQ4m0`R7x5]'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<g$i$_c#Y#e%o%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)X)Z)])c)m+^+r-R-p-u-z-|.k.n.r.t.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4q4z6]6c6h6w6x7R7S7z8h8l8v8|8}9s:T:[:m<ZT#TV#U'PkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ'V!eR2c-Tv!nQ!e!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5d5fU*e$}*W*kS/y*f*mQ0S*nQ1^,RQ4d0RR4g0UnqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&v!^Q's!xS(o#u:sQ+f%xQ,T&[Q,U&^Q-b'aQ-o'lS.j(t;eS0f+R;oQ0s+gQ1`,SQ2T,rQ2V,sQ2_-OQ2l-cQ2o-gS4r0g;yQ4x0tS4{0v;zQ6[2aQ6`2mQ6e2tQ7m4yQ8i6^Q8j6aQ8m6fR9p8f$d$^c#Y#e%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)X)Z)])c)m+^+r-R-p-u-z-|.k.n.r.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4q4z6]6c6h6w6x7R7S7z8h8l8v8|8}9s:T:[:m<ZS(k#p'fQ({#zS+[%o.tS.Z(j(lR3O.['OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gS#q]:lQ&q!XQ&r!YQ&t![Q&u!]R1{,nQ'^!hQ+_%uQ-`'`S.](m+bQ2j-_W3S.`.a0l0nQ6_2kW6l3P3R3V4vU8p6m6o6qU9u8r8s8uS:^9t9wQ:f:_R:i:gU!wQ']-]T5b1a5d!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(f,k,p.S1|2P]!pQ!r']-]1a5dT#q]:l%[{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nS(y#y#zS.Y(i(j!s<Q$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gU$fd)[,eS(l#p'fU*r%S(s3pU0b*x.f6}Q4v0mQ6m3QQ8s6pR9w8tm!tQ!r!v!y!z']'i'j'k-]-m1a5d5fQ'q!uS(b#g1vS-k'h'tQ/k*YQ/w*eQ2v-nQ4U/lS4_/x0SQ7X4PS7d4e4gQ9R7YR9Y7gQ#wbQ'p!uS(a#g1vS(c#m+QQ+S%dQ+d%vQ+j%|U-j'h'q'tQ.O(bQ/j*YQ/v*eQ/|*hQ0r+eQ1g,XS2s-k-nQ2{.WS4T/k/lS4^/w0SQ4a/{Q4c/}Q5n1hQ6g2vQ7W4PQ7[4US7`4_4gQ7e4fQ8V5oS9Q7X7YQ9U7aQ9W7dQ9g8WQ9}9RQ:O9VQ:Q9YQ:Y9hQ:b:PQ<T<OQ<`<XR<a<YV!wQ']-]%[aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nS#wz!j!r;}$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gR<T<f%[bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nQ%dj!S%vy!i!u%y%z%{'S'b'c'd'h'r*e+h+i-Q-d-e-l/y0u2g2n2u4dS%|z!jQ+e%wQ,X&aW1h,Y,Z,[,]U5o1i1j1kS8W5p5qQ9h8X!r<O$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ<X<eR<Y<f%OeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nY#bWZ#W#Z(P!b%hm#h#i#l$y%c%f(Y(d(e(f*V*Z*^+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6Y6kQ,f&l!p<P$[$n)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gR<S'UU'Y!e%g*WR2e-W%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5a5k5{5|6P6d8O8T8d8n!r)[$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ,e&lQ0m+aQ3Q._Q6p3UR8t6r!b$Uc#Y%o(O(U(p(u)W)X)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:m!P:z)Z)m-R.t2]2`3b3l3m3q3y6]6x7R7S7z8h8v8|8}:T:[<Z!f$Wc#Y%o(O(U(p(u)T)U)W)X)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:m!T:|)Z)m-R.t2]2`3b3i3j3l3m3q3y6]6x7R7S7z8h8v8|8}:T:[<Z!^$[c#Y%o(O(U(p(u)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:mQ3}/cz<g)Z)m-R.t2]2`3b3q3y6]6x7R7S7z8h8v8|8}:T:[<ZQ<l<nR<m<o'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gS$oh$pR3v.|'VgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gT$kf$qQ$ifS)f$l)jR)r$qT$jf$qT)h$l)j'VhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gT$oh$pQ$rhR)q$p%[jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8n!s<e$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<g#elOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_(z)o+V+a,h,k,p-a._.}/f0a1d1t1u1w1y1|2P2R3U3u5a5k5{5|6P6r8O8T8d!O%Si$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m#[(s#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qQ*}%`Q/Y){o3p;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!O$zi$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mQ*_${U*h$}*W*kQ+O%aQ/}*i#[<V#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn<W;R;S;V;X;];_;a;i;k;n;r;t;v;x;|Q<[<hQ<]<iQ<^<jR<_<k!O%Si$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m#[(s#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qo3p;R;S;V;X;];_;a;i;k;n;r;t;v;x;|noOXst!Z#d%k&o&q&r&t,k,p1|2PS*b$|*VQ,y&{Q,z&}R4X/p$z%Ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qQ+|&YQ1Y,OQ5Z1XR7w5[V*j$}*W*kU*j$}*W*kT5c1a5dU/{*g/f5aT4f0T8OQ+d%vQ/|*hQ0r+eQ1g,XQ5n1hQ8V5oQ9g8WR:Y9h!O%Pi$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mr*O$w)a*P*q+P/n0Z0[3s4V4p7V7h9|<U<b<cS0V*p0W#[;U#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn;V;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!^;h(q)_*X*a.b.e.i/U/Z/c/s0k1V1X3Y4W4[5Y5[6s6v7^7b7j7l9T9X:a<n<o`;i3o6y6|7Q8w9x9{:jS;s.d3ZT;t6{8z!O%Ri$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mv*Q$w)a*R*p+P/_/n0Z0[3s4V4h4p7V7h9|<U<b<cS0X*q0Y#[;W#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn;X;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!b;j(q)_*X*a.c.d.i/U/Z/c/s0k1V1X3W3Y4W4[5Y5[6s6t6v7^7b7j7l9T9X:a<n<od;k3o6z6{7Q8w8x9x9y9{:jS;u.e3[T;v6|8{rnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ&c!UR,h&lrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR&c!UQ,Q&ZR1U+ysnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ1b,VS5i1e1fU8P5g5h5lS9c8R8SS:U9b9eQ:c:VR:h:dQ&j!VR,a&fR5u1nS&O|&TR0}+pQ&o!WR,k&pR,q&uT1},p2PR,u&vQ,t&vR2W,uQ'v!{R-q'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)x$vR/V)xQ#UVR'|#UQ#XWU(S#X(T-xQ(T#YR-x(UQ-U'VR2d-UQ.m(uS3_.m3`R3`.nQ-]']R2h-]Y!rQ']-]1a5dR'g!rQ.x)aR3t.xU#_W%f*VU(Z#_([-yQ([#`R-y(VQ-X'YR2f-Xt`OXst!V!Z#d%k&f&h&o&q&r&t,k,p1|2PS#hZ%cU#r`#h.SR.S(fQ(g#jQ.P(cW.X(g.P2y6iQ2y.QR6i2zQ)j$lR/O)jQ$phR)p$pQ$acU)^$a-t;QQ-t:mR;Q)mQ/i*YW4R/i4S7Z9SU4S/j/k/lS7Z4T4UR9S7[$X)}$w(q)_)a*X*a*p*q*z*{+P.d.e.g.h.i/U/Z/_/a/c/n/s0Z0[0k1V1X3W3X3Y3o3s4V4W4[4h4j4p5Y5[6s6t6u6v6{6|7O7P7Q7V7^7b7h7j7l8w8x8y9T9X9x9y9z9{9|:a:j<U<b<c<n<oQ/q*aU4Z/q4]7_Q4]/sR7_4[S*k$}*WR0P*kr*P$w)a*p*q+P/n0Z0[3s4V4p7V7h9|<U<b<c!^.b(q)_*X*a.d.e.i/U/Z/c/s0k1V1X3Y4W4[5Y5[6s6v7^7b7j7l9T9X:a<n<oU/`*P.b6ya6y3o6{6|7Q8w9x9{:jQ0W*pQ3Z.dU4i0W3Z8zR8z6{v*R$w)a*p*q+P/_/n0Z0[3s4V4h4p7V7h9|<U<b<c!b.c(q)_*X*a.d.e.i/U/Z/c/s0k1V1X3W3Y4W4[5Y5[6s6t6v7^7b7j7l9T9X:a<n<oU/b*R.c6ze6z3o6{6|7Q8w8x9x9y9{:jQ0Y*qQ3[.eU4k0Y3[8{R8{6|Q*v%VR0^*vQ4u0kR7k4uQ+X%iR0j+XQ5^1[S7y5^9aR9a7zQ,S&[R1_,SQ5d1aR7|5dQ1m,^S5s1m8ZR8Z5uQ0x+lW5P0x5R7q9]Q5R0{Q7q5QR9]7rQ+q&OR1O+qQ2P,pR6T2PYrOXst#dQ&s!ZQ+Z%kQ,j&oQ,l&qQ,m&rQ,o&tQ1z,kS1},p2PR6S1|Q%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Y%jQ+f%xQ+x&UQ,`&jQ,w&yW-h'h'p'q'tQ-o'lQ0O*jQ0s+gS1p,a,dQ2X,vQ2Y,yQ2Z,zQ2o-gW2q-j-k-n-pQ4x0tQ5U1RQ5X1VQ5m1gQ5w1rQ6R1{U6b2p2s2vQ6e2tQ7m4yQ7u5WQ7v5YQ7{5cQ8U5nQ8[5vS8k6c6gQ8m6fQ9^7sQ9f8VQ9k8]Q9r8lQ:S9_Q:X9gQ:]9sR:e:YQ%xyQ'a!iQ'l!uU+g%y%z%{Q-O'SU-c'b'c'dS-g'h'rQ/u*eS0t+h+iQ2a-QS2m-d-eQ2t-lQ4`/yQ4y0uQ6^2gQ6a2nQ6f2uR7c4dS$xi<dR*w%WU%Vi%W<dR0]*uQ$wiS(q#v+cS)_$b$cQ)a$dQ*X$yS*a$|*VQ*p%PQ*q%RQ*z%]Q*{%^Q+P%bQ.d;UQ.e;WQ.g;[Q.h;^Q.i;`Q/U)vS/Z)|/]Q/_*OQ/a*QQ/c*SQ/n*]S/s*c/eQ0Z*sQ0[*th0k+`.^1c3T5j6n8Q8q9d9v:W:`Q1V+zQ1X+}Q3W;hQ3X;jQ3Y;mS3o;R;SQ3s.wQ4V/oQ4W/pQ4[/rQ4h0VQ4j0XQ4p0dQ5Y1WQ5[1ZQ6s;qQ6t;sQ6u;uQ6v;wQ6{;VQ6|;XQ7O;]Q7P;_Q7Q;aQ7V3}Q7^4YQ7b4bQ7h4lQ7j4tQ7l4wQ8w;nQ8x;iQ8y;kQ9T7]Q9X7fQ9x;rQ9y;tQ9z;vQ9{;xQ9|9PQ:a;{Q:j;|Q<U<dQ<b<lQ<c<mQ<n<pR<o<qQ*x%[Q.f;YR6};ZnpOXst!Z#d%k&o&q&r&t,k,p1|2PQ!fPS#fZ#oQ&y!`U'e!o5a8OQ'{#SQ(|#{Q)n$nS,d&h&kQ,i&lQ,v&xQ,{'QQ-_'_Q.p(zQ/S)oS0h+V/fQ0n+aQ1x,hQ2k-aQ3R._Q3x.}Q4n0aQ5h1dQ5y1tQ5z1uQ6O1wQ6Q1yQ6V2RQ6q3UQ7T3uQ8S5kQ8`5{Q8a5|Q8c6PQ8u6rQ9e8TR9o8d#YcOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_(z+V+a,h,k,p-a._/f0a1d1t1u1w1y1|2P2R3U5a5k5{5|6P6r8O8T8dQ#YWQ#eYQ%ouQ%qvS%sw!gS(O#W(RQ(U#ZQ(p#uQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)X$YQ)Z$[Q)]$`Q)c$eW)m$n)o.}3uQ+^%rQ+r&PS-R'U2bQ-p'oS-u(P-wQ-z(XQ-|(`Q.k(tQ.n(vQ.r:kQ.t:nQ.u:oQ.v:rQ/X)zQ0e+RQ2],|Q2`-PQ2p-iQ2w-}Q3].lQ3b:sQ3c:tQ3d:uQ3e:vQ3f:wQ3g:xQ3h:yQ3i:zQ3j:{Q3k:|Q3l:}Q3m;OQ3n.sQ3q;TQ3r;bQ3y;PQ4q0gQ4z0vQ6];dQ6c2rQ6h2xQ6w3^Q6x;eQ7R;gQ7S;oQ7z5_Q8h6ZQ8l6dQ8v;pQ8|;yQ8};zQ9s8nQ:T9`Q:[9qQ:m#SR<Z<gR#[WR'W!el!tQ!r!v!y!z']'i'j'k-]-m1a5d5fS'S!e-TS-Q'T'[R2g-ZR(w#xQ!fQT-[']-]]!qQ!r']-]1a5dQ#p]R'f:lR)b$dY!uQ']-]1a5dQ'h!rS'r!v!yS't!z5fS-l'i'jQ-n'kR2u-mT#kZ%cS#jZ%cS%im,gU(c#h#i#lS.Q(d(eQ.U(fQ0i+WQ2z.RU2{.S.T.VS6j2|2}R8o6kd#^W#W#Z%f(P(Y*V+T-{/er#gZm#h#i#l%c(d(e(f+W.R.S.T.V2|2}6kS*Y$y*^Q/l*ZQ1v,gQ2^,}Q4P/hQ6X2UQ7Y4QQ8g6YT<R'U+UV#aW%f*VU#`W%f*VS(Q#W(YU(V#Z+T/eS-S'U+UT-v(P-{V'Z!e%g*WQ$lfR)t$qT)i$l)jR3w.|T*[$y*^T*d$|*VQ0l+`Q3P.^Q5g1cQ6o3TQ8R5jQ8r6nQ9b8QQ9t8qQ:V9dQ:_9vQ:d:WR:g:`nqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&i!VR,`&ftmOXst!U!V!Z#d%k&f&o&q&r&t,k,p1|2PR,g&lT%jm,gR1],PR,_&dQ&S|R+w&TR+m%}T&m!W&pT&n!W&pT2O,p2P",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:376,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Rp(U!b'w0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(S#S$h&j'x0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Rp(U!b'x0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(Q':f$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(U!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Rp(U!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Rp(U!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(U!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(U!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(RpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(RpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Rp(U!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(j%1l(Rp(U!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Rp(U!b$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Rp(U!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Rp(U!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(u+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(T';W$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(RpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Rp(U!b(P%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Rp(U!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Rp(U!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Rp(U!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Rp(U!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(U!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(U!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(U!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(U!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(U!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(U!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Rp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Rp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Rp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Rp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(RpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(RpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Rp(U!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Rp(U!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Rp(U!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Rp(U!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Rp(U!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Rp(U!b'y0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Rp(U!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(U!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(U!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(RpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(RpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Rp(U!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Rp(U!b(y7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(m(Ct$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Rp(U!b([+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Rp(U!b(O,2j$^#t(`$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Rp(U!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(t+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z(Kd$?V_!Z(Cds`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Rp(U!b'w0/l$[#t(O,2j(`$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Rp(U!b'x0/l$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(^~~",141,335),new LocalTokenGroup("j~RQYZXz{^~^O'{~~aP!P!Qd~iO'|~~",25,318)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14769},dynamicPrecedences:{77:1,79:1,91:1,167:1,196:1},specialized:[{term:322,get:tr=>spec_identifier[tr]||-1},{term:338,get:tr=>spec_word[tr]||-1},{term:92,get:tr=>spec_LessThan[tr]||-1}],tokenPrec:14793}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(tr){return(Ot,Nt)=>{let er=Ot.node.getChild("VariableDefinition");return er&&Nt(er,tr),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(tr,Ot){tr.matchContext(functionContext)||Ot(tr,"variable")},TypeDefinition(tr,Ot){Ot(tr,"type")},__proto__:null};function getScope(tr,Ot){let Nt=cache.get(Ot);if(Nt)return Nt;let er=[],rr=!0;function ir(nr,sr){let ar=tr.sliceString(nr.from,nr.to);er.push({label:ar,type:sr})}return Ot.cursor(IterMode.IncludeAnonymous).iterate(nr=>{if(rr)rr=!1;else if(nr.name){let sr=gatherCompletions[nr.name];if(sr&&sr(nr,ir)||ScopeNodes.has(nr.name))return!1}else if(nr.to-nr.from>8192){for(let sr of getScope(tr,nr.node))er.push(sr);return!1}}),cache.set(Ot,er),er}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function localCompletionSource(tr){let Ot=syntaxTree(tr.state).resolveInner(tr.pos,-1);if(dontComplete.indexOf(Ot.name)>-1)return null;let Nt=Ot.name=="VariableName"||Ot.to-Ot.from<20&&Identifier.test(tr.state.sliceDoc(Ot.from,Ot.to));if(!Nt&&!tr.explicit)return null;let er=[];for(let rr=Ot;rr;rr=rr.parent)ScopeNodes.has(rr.name)&&(er=er.concat(getScope(tr.state.doc,rr)));return{options:er,from:Nt?Ot.from:tr.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:tr=>{let Ot=tr.textAfter,Nt=/^\s*\}/.test(Ot),er=/^\s*(case|default)\b/.test(Ot);return tr.baseIndent+(Nt?0:er?1:2)*tr.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:tr=>tr.baseIndent+tr.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(tr){let Ot=/^\s*<\//.test(tr.textAfter);return tr.lineIndent(tr.node.from)+(Ot?0:tr.unit)},JSXEscape(tr){let Ot=/\s*\}/.test(tr.textAfter);return tr.lineIndent(tr.node.from)+(Ot?0:tr.unit)},"JSXOpenTag JSXSelfClosingTag"(tr){return tr.column(tr.node.from)+tr.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(tr){return{from:tr.from+2,to:tr.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:tr=>/^JSX/.test(tr.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(tr=>tr.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(tr=>tr.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=tr=>({label:tr,type:"keyword"});const keywords$1="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords$1.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(tr={}){let Ot=tr.jsx?tr.typescript?tsxLanguage:jsxLanguage:tr.typescript?typescriptLanguage:javascriptLanguage,Nt=tr.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords$1);return new LanguageSupport(Ot,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(Nt))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),tr.jsx?autoCloseTags:[]])}function findOpenTag(tr){for(;;){if(tr.name=="JSXOpenTag"||tr.name=="JSXSelfClosingTag"||tr.name=="JSXFragmentTag")return tr;if(tr.name=="JSXEscape"||!tr.parent)return null;tr=tr.parent}}function elementName(tr,Ot,Nt=tr.length){for(let er=Ot==null?void 0:Ot.firstChild;er;er=er.nextSibling)if(er.name=="JSXIdentifier"||er.name=="JSXBuiltin"||er.name=="JSXNamespacedName"||er.name=="JSXMemberExpression")return tr.sliceString(er.from,Math.min(er.to,Nt));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((tr,Ot,Nt,er,rr)=>{if((android?tr.composing:tr.compositionStarted)||tr.state.readOnly||Ot!=Nt||er!=">"&&er!="/"||!javascriptLanguage.isActiveAt(tr.state,Ot,-1))return!1;let ir=rr(),{state:nr}=ir,sr=nr.changeByRange(ar=>{var lr;let{head:cr}=ar,dr=syntaxTree(nr).resolveInner(cr-1,-1),ur;if(dr.name=="JSXStartTag"&&(dr=dr.parent),!(nr.doc.sliceString(cr-1,cr)!=er||dr.name=="JSXAttributeValue"&&dr.to>cr)){if(er==">"&&dr.name=="JSXFragmentTag")return{range:ar,changes:{from:cr,insert:"</>"}};if(er=="/"&&dr.name=="JSXStartCloseTag"){let fr=dr.parent,hr=fr.parent;if(hr&&fr.from==cr-2&&((ur=elementName(nr.doc,hr.firstChild,cr))||((lr=hr.firstChild)===null||lr===void 0?void 0:lr.name)=="JSXFragmentTag")){let pr=`${ur}>`;return{range:EditorSelection.cursor(cr+pr.length,-1),changes:{from:cr,insert:pr}}}}else if(er==">"){let fr=findOpenTag(dr);if(fr&&fr.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(nr.doc.sliceString(cr,cr+2))&&(ur=elementName(nr.doc,fr,cr)))return{range:ar,changes:{from:cr,insert:`</${ur}>`}}}}return{range:ar}});return sr.changes.empty?!1:(tr.dispatch([ir,nr.update(sr,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var createTheme=tr=>{var{theme:Ot,settings:Nt={},styles:er=[]}=tr,rr={".cm-gutters":{}},ir={};Nt.background&&(ir.backgroundColor=Nt.background),Nt.backgroundImage&&(ir.backgroundImage=Nt.backgroundImage),Nt.foreground&&(ir.color=Nt.foreground),Nt.fontSize&&(ir.fontSize=Nt.fontSize),(Nt.background||Nt.foreground)&&(rr["&"]=ir),Nt.fontFamily&&(rr["&.cm-editor .cm-scroller"]={fontFamily:Nt.fontFamily}),Nt.gutterBackground&&(rr[".cm-gutters"].backgroundColor=Nt.gutterBackground),Nt.gutterForeground&&(rr[".cm-gutters"].color=Nt.gutterForeground),Nt.gutterBorder&&(rr[".cm-gutters"].borderRightColor=Nt.gutterBorder),Nt.caret&&(rr[".cm-content"]={caretColor:Nt.caret},rr[".cm-cursor, .cm-dropCursor"]={borderLeftColor:Nt.caret});var nr={};Nt.gutterActiveForeground&&(nr.color=Nt.gutterActiveForeground),Nt.lineHighlight&&(rr[".cm-activeLine"]={backgroundColor:Nt.lineHighlight},nr.backgroundColor=Nt.lineHighlight),rr[".cm-activeLineGutter"]=nr,Nt.selection&&(rr["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:Nt.selection+" !important"}),Nt.selectionMatch&&(rr["& .cm-selectionMatch"]={backgroundColor:Nt.selectionMatch});var sr=EditorView.theme(rr,{dark:Ot==="dark"}),ar=HighlightStyle.define(er),lr=[sr,syntaxHighlighting(ar)];return lr},defaultSettingsAbcdef={background:"#0f0f0f",foreground:"#defdef",caret:"#00FF00",selection:"#515151",selectionMatch:"#515151",gutterBackground:"#555",gutterForeground:"#FFFFFF",lineHighlight:"#0a6bcb3d"},abcdefInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsAbcdef,Nt),styles:[{tag:tags.keyword,color:"darkgoldenrod",fontWeight:"bold"},{tag:tags.atom,color:"#77F"},{tag:tags.comment,color:"#7a7b7c",fontStyle:"italic"},{tag:tags.number,color:"violet"},{tag:tags.definition(tags.variableName),color:"#fffabc"},{tag:tags.variableName,color:"#abcdef"},{tag:tags.function(tags.variableName),color:"#fffabc"},{tag:tags.typeName,color:"#FFDD44"},{tag:tags.tagName,color:"#def"},{tag:tags.string,color:"#2b4"},{tag:tags.meta,color:"#C9F"},{tag:tags.bracket,color:"#8a8a8a"},{tag:tags.attributeName,color:"#DDFF00"},{tag:tags.heading,color:"aquamarine",fontWeight:"bold"},{tag:tags.link,color:"blueviolet",fontWeight:"bold"},...er]})};abcdefInit();var config$c={background:"#000c18",foreground:"#6688cc",selection:"#770811",selectionMatch:"#770811",cursor:"#ddbb88",dropdownBackground:"#181f2f",activeLine:"#0055ff30",matchingBracket:"#082050",keyword:"#225588",storage:"#225588",variable:"#2277ff",parameter:"#2277ff",function:"#9966b8",string:"#22aa44",constant:"#f280d0",type:"#9966b8",class:"#ddbb88",number:"#f280d0",comment:"#384887",heading:"#6688cc",invalid:"#A22D44",regexp:"#22aa44",tag:"#225588"},defaultSettingsAbyss={background:config$c.background,foreground:config$c.foreground,caret:config$c.cursor,selection:config$c.selection,selectionMatch:config$c.selectionMatch,gutterBackground:config$c.background,gutterForeground:config$c.foreground,lineHighlight:config$c.activeLine},abyssInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsAbyss,Nt),styles:[{tag:tags.keyword,color:config$c.keyword},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$c.variable},{tag:[tags.propertyName],color:config$c.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$c.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$c.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$c.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$c.variable},{tag:[tags.className],color:config$c.class},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:config$c.number},{tag:[tags.typeName],color:config$c.type,fontStyle:config$c.type},{tag:[tags.operator,tags.operatorKeyword],color:config$c.keyword},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$c.regexp},{tag:[tags.meta,tags.comment],color:config$c.comment},{tag:tags.tagName,color:config$c.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$c.heading},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:config$c.variable},{tag:tags.invalid,color:config$c.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};abyssInit();var defaultSettingsAndroidstudio={background:"#282b2e",foreground:"#a9b7c6",caret:"#00FF00",selection:"#4e5254",selectionMatch:"#4e5254",lineHighlight:"#7f85891f"},androidstudioInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsAndroidstudio,Nt),styles:[{tag:[tags.keyword,tags.deleted,tags.className],color:"#cc7832"},{tag:[tags.number,tags.literal,tags.derefOperator],color:"#6897bb"},{tag:[tags.link,tags.variableName],color:"#629755"},{tag:[tags.comment,tags.quote],color:"grey"},{tag:[tags.meta,tags.documentMeta],color:"#bbb529"},{tag:[tags.string,tags.propertyName,tags.attributeValue],color:"#6a8759"},{tag:[tags.heading,tags.typeName],color:"#ffc66d"},{tag:[tags.attributeName],color:"#a9b7c6"},{tag:[tags.emphasis],fontStyle:"italic"},...er]})};androidstudioInit();var config$b={background:"#23262E",foreground:"#D5CED9",selection:"#db45a280",selectionMatch:"#db45a280",cursor:"#FFF",dropdownBackground:"#2b303b",dropdownBorder:"#363c49",activeLine:"#596a992e",matchingBracket:"#746f77",keyword:"#c74ded",storage:"#c74ded",variable:"#00e8c6",parameter:"#00e8c6",function:"#FFE66D",string:"#96E072",constant:"#ee5d43",type:"#FFE66D",class:"#FFE66D",number:"#ee5d43",comment:"#A0A1A7cc",heading:"#ff00aa",invalid:null,regexp:"#96E072",tag:"#f92672"},defaultSettingsAndromeda={background:config$b.background,foreground:config$b.foreground,caret:config$b.cursor,selection:config$b.selection,selectionMatch:config$b.selectionMatch,gutterBackground:config$b.background,gutterForeground:config$b.foreground,lineHighlight:config$b.activeLine},andromedaInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsAndromeda,Nt),styles:[{tag:tags.keyword,color:config$b.keyword},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$b.variable},{tag:[tags.propertyName],color:config$b.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$b.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$b.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$b.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$b.variable},{tag:[tags.className],color:config$b.class},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:config$b.number},{tag:[tags.typeName],color:config$b.type,fontStyle:config$b.type},{tag:[tags.operator],color:config$b.keyword},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$b.regexp},{tag:[tags.meta,tags.comment],color:config$b.comment},{tag:tags.tagName,color:config$b.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$b.heading},{tag:[tags.atom,tags.special(tags.variableName)],color:config$b.variable},{tag:tags.invalid,color:config$b.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:[tags.operatorKeyword,tags.bool,tags.null,tags.variableName],color:config$b.constant},...er]})};andromedaInit();var defaultSettingsAtomone={background:"#272C35",foreground:"#9d9b97",caret:"#797977",selection:"#3d4c64",selectionMatch:"#3d4c64",gutterBackground:"#272C35",gutterForeground:"#465063",gutterBorder:"transparent",lineHighlight:"#2e3f5940"},atomoneInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsAtomone,Nt),styles:[{tag:[tags.function(tags.variableName),tags.function(tags.propertyName),tags.url,tags.processingInstruction],color:"hsl(207, 82%, 66%)"},{tag:[tags.tagName,tags.heading],color:"#e06c75"},{tag:tags.comment,color:"#54636D"},{tag:[tags.propertyName],color:"hsl(220, 14%, 71%)"},{tag:[tags.attributeName,tags.number],color:"hsl( 29, 54%, 61%)"},{tag:tags.className,color:"hsl( 39, 67%, 69%)"},{tag:tags.keyword,color:"hsl(286, 60%, 67%)"},{tag:[tags.string,tags.regexp,tags.special(tags.propertyName)],color:"#98c379"},...er]})};atomoneInit();var defaultSettingsAura={background:"#21202e",foreground:"#edecee",caret:"#a277ff",selection:"#5a51898f",selectionMatch:"#5a51898f",gutterBackground:"#21202e",gutterForeground:"#edecee",gutterBorder:"transparent",lineHighlight:"#a394f033"},auraInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsAura,Nt),styles:[{tag:tags.keyword,color:"#a277ff"},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:"#edecee"},{tag:[tags.propertyName],color:"#ffca85"},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:"#61ffca"},{tag:[tags.function(tags.variableName),tags.labelName],color:"#ffca85"},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:"#61ffca"},{tag:[tags.definition(tags.name),tags.separator],color:"#edecee"},{tag:[tags.className],color:"#82e2ff"},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:"#61ffca"},{tag:[tags.typeName],color:"#82e2ff"},{tag:[tags.operator,tags.operatorKeyword],color:"#a277ff"},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:"#61ffca"},{tag:[tags.meta,tags.comment],color:"#6d6d6d"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:"#a277ff"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#edecee"},{tag:tags.invalid,color:"#ff6767"},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};auraInit();var defaultSettingsBasicDark={background:"#2E3235",foreground:"#DDDDDD",caret:"#DDDDDD",selection:"#202325",selectionMatch:"#202325",gutterBackground:"#292d30",gutterForeground:"#808080",gutterBorder:"1px solid #ffffff10",lineHighlight:"#B9D2FF30"},basicDarkInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsBasicDark,Nt),styles:[{tag:tags.keyword,color:"#fda331"},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:"#b5bd68"},{tag:[tags.variableName],color:"#6fb3d2"},{tag:[tags.function(tags.variableName)],color:"#fda331"},{tag:[tags.labelName],color:"#fc6d24"},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:"#fda331"},{tag:[tags.definition(tags.name),tags.separator],color:"#cc99cc"},{tag:[tags.brace],color:"#cc99cc"},{tag:[tags.annotation],color:"#fc6d24"},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:"#fda331"},{tag:[tags.typeName,tags.className],color:"#6fb3d2"},{tag:[tags.operator,tags.operatorKeyword],color:"#cc99cc"},{tag:[tags.tagName],color:"#fda331"},{tag:[tags.squareBracket],color:"#cc99cc"},{tag:[tags.angleBracket],color:"#cc99cc"},{tag:[tags.attributeName],color:"#6fb3d2"},{tag:[tags.regexp],color:"#fda331"},{tag:[tags.quote],color:"#DDDDDD"},{tag:[tags.string],color:"#b5bd68"},{tag:tags.link,color:"#6987AF",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[tags.url,tags.escape,tags.special(tags.string)],color:"#8abeb7"},{tag:[tags.meta],color:"#A54543"},{tag:[tags.comment],color:"#808080",fontStyle:"italic"},{tag:tags.monospace,color:"#DDDDDD"},{tag:tags.strong,fontWeight:"bold",color:"#fda331"},{tag:tags.emphasis,fontStyle:"italic",color:"#6fb3d2"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.heading,fontWeight:"bold",color:"#DDDDDD"},{tag:tags.special(tags.heading1),fontWeight:"bold",color:"#DDDDDD"},{tag:tags.heading1,fontWeight:"bold",color:"#DDDDDD"},{tag:[tags.heading2,tags.heading3,tags.heading4],fontWeight:"bold",color:"#DDDDDD"},{tag:[tags.heading5,tags.heading6],color:"#DDDDDD"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#8abeb7"},{tag:[tags.processingInstruction,tags.inserted],color:"#8abeb7"},{tag:[tags.contentSeparator],color:"#6fb3d2"},{tag:tags.invalid,color:"#B9D2FF",borderBottom:"1px dotted #fc6d24"},...er]})};basicDarkInit();var defaultSettingsBasicLight={background:"#ffffff",foreground:"#2e3440",caret:"#3b4252",selection:"#eceff4",selectionMatch:"#e5e9f0",gutterBackground:"#eceff4",gutterForeground:"#2e3440",gutterBorder:"none",lineHighlight:"#02255f11"},basicLightInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsBasicLight,Nt),styles:[{tag:tags.keyword,color:"#5e81ac"},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:"#d08770"},{tag:[tags.variableName],color:"#d08770"},{tag:[tags.function(tags.variableName)],color:"#5e81ac"},{tag:[tags.labelName],color:"#81a1c1"},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:"#5e81ac"},{tag:[tags.definition(tags.name),tags.separator],color:"#a3be8c"},{tag:[tags.brace],color:"#8fbcbb"},{tag:[tags.annotation],color:"#d30102"},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:"#88c0d0"},{tag:[tags.typeName,tags.className],color:"#ebcb8b"},{tag:[tags.operator,tags.operatorKeyword],color:"#a3be8c"},{tag:[tags.tagName],color:"#b48ead"},{tag:[tags.squareBracket],color:"#bf616a"},{tag:[tags.angleBracket],color:"#d08770"},{tag:[tags.attributeName],color:"#ebcb8b"},{tag:[tags.regexp],color:"#5e81ac"},{tag:[tags.quote],color:"#3b4252"},{tag:[tags.string],color:"#d08770"},{tag:tags.link,color:"#8fbcbb",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[tags.url,tags.escape,tags.special(tags.string)],color:"#d08770"},{tag:[tags.meta],color:"#88c0d0"},{tag:[tags.comment],color:"#434c5e",fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold",color:"#5e81ac"},{tag:tags.emphasis,fontStyle:"italic",color:"#5e81ac"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.heading,fontWeight:"bold",color:"#5e81ac"},{tag:tags.special(tags.heading1),fontWeight:"bold",color:"#5e81ac"},{tag:tags.heading1,fontWeight:"bold",color:"#5e81ac"},{tag:[tags.heading2,tags.heading3,tags.heading4],fontWeight:"bold",color:"#5e81ac"},{tag:[tags.heading5,tags.heading6],color:"#5e81ac"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#d08770"},{tag:[tags.processingInstruction,tags.inserted],color:"#8fbcbb"},{tag:[tags.contentSeparator],color:"#ebcb8b"},{tag:tags.invalid,color:"#434c5e",borderBottom:"1px dotted #d30102"},...er]})};basicLightInit();var defaultSettingsBbedit={background:"#FFFFFF",foreground:"#000000",caret:"#FBAC52",selection:"#FFD420",selectionMatch:"#FFD420",gutterBackground:"#f5f5f5",gutterForeground:"#4D4D4C",gutterBorder:"transparent",lineHighlight:"#00000012"},bbeditInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsBbedit,Nt),styles:[{tag:[tags.meta,tags.comment],color:"#804000"},{tag:[tags.keyword,tags.strong],color:"#0000FF"},{tag:[tags.number],color:"#FF0080"},{tag:[tags.string],color:"#FF0080"},{tag:[tags.variableName],color:"#006600"},{tag:[tags.escape],color:"#33CC33"},{tag:[tags.tagName],color:"#1C02FF"},{tag:[tags.heading],color:"#0C07FF"},{tag:[tags.quote],color:"#000000"},{tag:[tags.list],color:"#B90690"},{tag:[tags.documentMeta],color:"#888888"},{tag:[tags.function(tags.variableName)],color:"#0000A2"},{tag:[tags.definition(tags.typeName),tags.typeName],color:"#6D79DE"},...er]})};bbeditInit();var defaultSettingsBespin={background:"#28211c",foreground:"#9d9b97",caret:"#797977",selection:"#4f382b",selectionMatch:"#4f382b",gutterBackground:"#28211c",gutterForeground:"#666666",lineHighlight:"#ffffff1a"},bespinInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsBespin,Nt),styles:[{tag:[tags.atom,tags.number,tags.link,tags.bool],color:"#9b859d"},{tag:tags.comment,color:"#937121"},{tag:[tags.keyword,tags.tagName],color:"#cf6a4c"},{tag:tags.string,color:"#f9ee98"},{tag:tags.bracket,color:"#9d9b97"},{tag:[tags.variableName],color:"#5ea6ea"},{tag:tags.definition(tags.variableName),color:"#cf7d34"},{tag:[tags.function(tags.variableName),tags.className],color:"#cf7d34"},{tag:[tags.propertyName,tags.attributeName],color:"#54be0d"},...er]})};bespinInit();var defaultSettingsConsoleDark={background:"#000",foreground:"#fff",caret:"#fff",selection:"#5c6c9b",selectionMatch:"#2a3967",gutterBackground:"#000",gutterForeground:"#ada9a9",gutterActiveForeground:"#fff",lineHighlight:"#82828275"},consoleDarkInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsConsoleDark,Nt),styles:[...er]})};consoleDarkInit();var defaultSettingsConsoleLight={background:"#fff",foreground:"#000",caret:"#000",selection:"#c2d2ff",selectionMatch:"#b1c1ef",gutterBackground:"#fff",gutterForeground:"#ada9a9",gutterActiveForeground:"#000",lineHighlight:"#c7c5c575"},consoleLightInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsConsoleLight,Nt),styles:[...er]})};consoleLightInit();var config$a={background:"#232a2f",foreground:"#939da5",selection:"#204062",selectionMatch:"#204062",cursor:"#939da5",dropdownBackground:"#1a2023",activeLine:"#4469832b",matchingBracket:"#204062",keyword:"#ba8ef7",storage:"#ba8ef7",variable:"#939da5",parameter:"#939da5",function:"#ffea6b",string:"#5bec95",constant:"#939da5",type:"#89ddff",class:"#ffea6b",number:"#89ddff",comment:"#707a84",heading:"#5bec95",invalid:"#ff6a80",regexp:"#56adb7",tag:"#ff6a80"},defaultSettingsCopilot={background:config$a.background,foreground:config$a.foreground,caret:config$a.cursor,selection:config$a.selection,selectionMatch:config$a.selectionMatch,gutterBackground:config$a.background,gutterForeground:config$a.foreground,lineHighlight:config$a.activeLine},copilotInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsCopilot,Nt),styles:[{tag:tags.keyword,color:config$a.keyword},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$a.variable},{tag:[tags.propertyName],color:config$a.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$a.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$a.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$a.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$a.variable},{tag:[tags.className],color:config$a.class},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:config$a.number},{tag:[tags.typeName],color:config$a.type,fontStyle:config$a.type},{tag:[tags.operator],color:config$a.keyword},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$a.regexp},{tag:[tags.meta,tags.comment],color:config$a.comment},{tag:tags.tagName,color:config$a.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$a.heading},{tag:[tags.atom,tags.special(tags.variableName)],color:config$a.variable},{tag:tags.invalid,color:config$a.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:[tags.operatorKeyword,tags.bool,tags.null,tags.variableName],color:config$a.constant},...er]})};copilotInit();var defaultSettingsDarcula={background:"#2B2B2B",foreground:"#f8f8f2",caret:"#FFFFFF",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"rgba(255, 255, 255, 0.1)",gutterForeground:"#999",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},darculaInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsDarcula,Nt),styles:[{tag:[tags.atom,tags.number],color:"#bd93f9"},{tag:[tags.comment],color:"#61A151"},{tag:[tags.string],color:"#6A8759"},{tag:[tags.variableName,tags.operator],color:"#A9B7C6"},{tag:[tags.meta,tags.className],color:"#A9B7C6"},{tag:[tags.propertyName],color:"#FFC66D"},{tag:[tags.keyword],color:"#CC7832"},{tag:[tags.tagName],color:"#ff79c6"},{tag:[tags.typeName],color:"#ffb86c"},...er]})};darculaInit();var defaultSettingsDracula={background:"#282a36",foreground:"#f8f8f2",caret:"#f8f8f0",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"#282a36",gutterForeground:"#6D8A88",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},draculaInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsDracula,Nt),styles:[{tag:tags.comment,color:"#6272a4"},{tag:tags.string,color:"#f1fa8c"},{tag:tags.atom,color:"#bd93f9"},{tag:tags.meta,color:"#f8f8f2"},{tag:[tags.keyword,tags.operator,tags.tagName],color:"#ff79c6"},{tag:[tags.function(tags.propertyName),tags.propertyName],color:"#66d9ef"},{tag:[tags.definition(tags.variableName),tags.function(tags.variableName),tags.className,tags.attributeName],color:"#50fa7b"},{tag:tags.atom,color:"#bd93f9"},...er]})},dracula=draculaInit(),defaultSettingsDuotoneLight={background:"#faf8f5",foreground:"#b29762",caret:"#93abdc",selection:"#e3dcce",selectionMatch:"#e3dcce",gutterBackground:"#faf8f5",gutterForeground:"#cdc4b1",gutterBorder:"transparent",lineHighlight:"#ddceb154"},duotoneLightInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsDuotoneLight,Nt),styles:[{tag:[tags.comment,tags.bracket],color:"#b6ad9a"},{tag:[tags.atom,tags.number,tags.keyword,tags.link,tags.attributeName,tags.quote],color:"#063289"},{tag:[tags.emphasis,tags.heading,tags.tagName,tags.propertyName,tags.variableName],color:"#2d2006"},{tag:[tags.typeName,tags.url,tags.string],color:"#896724"},{tag:[tags.operator,tags.string],color:"#1659df"},{tag:[tags.propertyName],color:"#b29762"},{tag:[tags.unit,tags.punctuation],color:"#063289"},...er]})};duotoneLightInit();var defaultSettingsDuotoneDark={background:"#2a2734",foreground:"#6c6783",caret:"#ffad5c",selection:"#91ff6c26",selectionMatch:"#91ff6c26",gutterBackground:"#2a2734",gutterForeground:"#545167",lineHighlight:"#36334280"},duotoneDarkInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsDuotoneDark,Nt),styles:[{tag:[tags.comment,tags.bracket],color:"#6c6783"},{tag:[tags.atom,tags.number,tags.keyword,tags.link,tags.attributeName,tags.quote],color:"#ffcc99"},{tag:[tags.emphasis,tags.heading,tags.tagName,tags.propertyName,tags.className,tags.variableName],color:"#eeebff"},{tag:[tags.typeName,tags.url],color:"#7a63ee"},{tag:tags.operator,color:"#ffad5c"},{tag:tags.string,color:"#ffb870"},{tag:[tags.propertyName],color:"#9a86fd"},{tag:[tags.unit,tags.punctuation],color:"#e09142"},...er]})};duotoneDarkInit();var defaultSettingsEclipse={background:"#fff",foreground:"#000",caret:"#FFFFFF",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#f7f7f7",gutterForeground:"#999",lineHighlight:"#006fff1c",gutterBorder:"transparent"},eclipseInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsEclipse,Nt),styles:[{tag:[tags.comment],color:"#3F7F5F"},{tag:[tags.documentMeta],color:"#FF1717"},{tag:tags.keyword,color:"#7F0055",fontWeight:"bold"},{tag:tags.atom,color:"#00f"},{tag:tags.number,color:"#164"},{tag:tags.propertyName,color:"#164"},{tag:[tags.variableName,tags.definition(tags.variableName)],color:"#0000C0"},{tag:tags.function(tags.variableName),color:"#0000C0"},{tag:tags.string,color:"#2A00FF"},{tag:tags.operator,color:"black"},{tag:tags.tagName,color:"#170"},{tag:tags.attributeName,color:"#00c"},{tag:tags.link,color:"#219"},...er]})};eclipseInit();var defaultSettingsGithubLight={background:"#fff",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},githubLightInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsGithubLight,Nt),styles:[{tag:[tags.standard(tags.tagName),tags.tagName],color:"#116329"},{tag:[tags.comment,tags.bracket],color:"#6a737d"},{tag:[tags.className,tags.propertyName],color:"#6f42c1"},{tag:[tags.variableName,tags.attributeName,tags.number,tags.operator],color:"#005cc5"},{tag:[tags.keyword,tags.typeName,tags.typeOperator,tags.typeName],color:"#d73a49"},{tag:[tags.string,tags.meta,tags.regexp],color:"#032f62"},{tag:[tags.name,tags.quote],color:"#22863a"},{tag:[tags.heading,tags.strong],color:"#24292e",fontWeight:"bold"},{tag:[tags.emphasis],color:"#24292e",fontStyle:"italic"},{tag:[tags.deleted],color:"#b31d28",backgroundColor:"ffeef0"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#e36209"},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:"#032f62"},{tag:tags.link,textDecoration:"underline"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.invalid,color:"#cb2431"},...er]})};githubLightInit();var defaultSettingsGithubDark={background:"#0d1117",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},githubDarkInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsGithubDark,Nt),styles:[{tag:[tags.standard(tags.tagName),tags.tagName],color:"#7ee787"},{tag:[tags.comment,tags.bracket],color:"#8b949e"},{tag:[tags.className,tags.propertyName],color:"#d2a8ff"},{tag:[tags.variableName,tags.attributeName,tags.number,tags.operator],color:"#79c0ff"},{tag:[tags.keyword,tags.typeName,tags.typeOperator,tags.typeName],color:"#ff7b72"},{tag:[tags.string,tags.meta,tags.regexp],color:"#a5d6ff"},{tag:[tags.name,tags.quote],color:"#7ee787"},{tag:[tags.heading,tags.strong],color:"#d2a8ff",fontWeight:"bold"},{tag:[tags.emphasis],color:"#d2a8ff",fontStyle:"italic"},{tag:[tags.deleted],color:"#ffdcd7",backgroundColor:"ffeef0"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#ffab70"},{tag:tags.link,textDecoration:"underline"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.invalid,color:"#f97583"},...er]})};githubDarkInit();var defaultSettingsGruvboxDark={background:"#282828",foreground:"#ebdbb2",caret:"#ebdbb2",selection:"#b99d555c",selectionMatch:"#b99d555c",lineHighlight:"#baa1602b",gutterBackground:"#282828",gutterForeground:"#7c6f64"},gruvboxDarkInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsGruvboxDark,Nt),styles:[{tag:tags.keyword,color:"#fb4934"},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:"#8ec07c"},{tag:[tags.variableName],color:"#83a598"},{tag:[tags.function(tags.variableName)],color:"#b8bb26",fontStyle:"bold"},{tag:[tags.labelName],color:"#ebdbb2"},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:"#d3869b"},{tag:[tags.definition(tags.name),tags.separator],color:"#ebdbb2"},{tag:[tags.brace],color:"#ebdbb2"},{tag:[tags.annotation],color:"#fb4934d"},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:"#d3869b"},{tag:[tags.typeName,tags.className],color:"#fabd2f"},{tag:[tags.operator,tags.operatorKeyword],color:"#fb4934"},{tag:[tags.tagName],color:"#8ec07c",fontStyle:"bold"},{tag:[tags.squareBracket],color:"#fe8019"},{tag:[tags.angleBracket],color:"#83a598"},{tag:[tags.attributeName],color:"#8ec07c"},{tag:[tags.regexp],color:"#8ec07c"},{tag:[tags.quote],color:"#928374"},{tag:[tags.string],color:"#ebdbb2"},{tag:tags.link,color:"#a89984",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[tags.url,tags.escape,tags.special(tags.string)],color:"#d3869b"},{tag:[tags.meta],color:"#fabd2f"},{tag:[tags.comment],color:"#928374",fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold",color:"#fe8019"},{tag:tags.emphasis,fontStyle:"italic",color:"#b8bb26"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.heading,fontWeight:"bold",color:"#b8bb26"},{tag:[tags.heading1,tags.heading2],fontWeight:"bold",color:"#b8bb26"},{tag:[tags.heading3,tags.heading4],fontWeight:"bold",color:"#fabd2f"},{tag:[tags.heading5,tags.heading6],color:"#fabd2f"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#d3869b"},{tag:[tags.processingInstruction,tags.inserted],color:"#83a598"},{tag:[tags.contentSeparator],color:"#fb4934"},{tag:tags.invalid,color:"#fe8019",borderBottom:"1px dotted #fb4934d"},...er]})};gruvboxDarkInit();var defaultSettingsGruvboxLight={background:"#fbf1c7",foreground:"#3c3836",caret:"#af3a03",selection:"#bdae9391",selectionMatch:"#bdae9391",lineHighlight:"#a37f2238",gutterBackground:"#ebdbb2",gutterForeground:"#665c54",gutterBorder:"transparent"},gruvboxLightInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsGruvboxLight,Nt),styles:[{tag:tags.keyword,color:"#9d0006"},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:"#427b58"},{tag:[tags.variableName],color:"#076678"},{tag:[tags.function(tags.variableName)],color:"#79740e",fontStyle:"bold"},{tag:[tags.labelName],color:"#3c3836"},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:"#8f3f71"},{tag:[tags.definition(tags.name),tags.separator],color:"#3c3836"},{tag:[tags.brace],color:"#3c3836"},{tag:[tags.annotation],color:"#9d0006"},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:"#8f3f71"},{tag:[tags.typeName,tags.className],color:"#b57614"},{tag:[tags.operator,tags.operatorKeyword],color:"#9d0006"},{tag:[tags.tagName],color:"#427b58",fontStyle:"bold"},{tag:[tags.squareBracket],color:"#af3a03"},{tag:[tags.angleBracket],color:"#076678"},{tag:[tags.attributeName],color:"#427b58"},{tag:[tags.regexp],color:"#427b58"},{tag:[tags.quote],color:"#928374"},{tag:[tags.string],color:"#3c3836"},{tag:tags.link,color:"#7c6f64",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[tags.url,tags.escape,tags.special(tags.string)],color:"#8f3f71"},{tag:[tags.meta],color:"#b57614"},{tag:[tags.comment],color:"#928374",fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold",color:"#af3a03"},{tag:tags.emphasis,fontStyle:"italic",color:"#79740e"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.heading,fontWeight:"bold",color:"#79740e"},{tag:[tags.heading1,tags.heading2],fontWeight:"bold",color:"#79740e"},{tag:[tags.heading3,tags.heading4],fontWeight:"bold",color:"#b57614"},{tag:[tags.heading5,tags.heading6],color:"#b57614"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#8f3f71"},{tag:[tags.processingInstruction,tags.inserted],color:"#076678"},{tag:[tags.contentSeparator],color:"#9d0006"},{tag:tags.invalid,color:"#af3a03",borderBottom:"1px dotted #9d0006"},...er]})};gruvboxLightInit();var config$9={background:"#221a0f",foreground:"#d3af86",selection:"#84613daa",selectionMatch:"#84613daa",cursor:"#d3af86",dropdownBackground:"#51412c",activeLine:"#5e452b52",matchingBracket:"#5e452b",keyword:"#98676a",storage:"#98676a",variable:"#dc3958",parameter:"#dc3958",function:"#7e602c",string:"#889b4a",constant:"#f79a32",type:"#f06431",class:"#f06431",number:"#f79a32",comment:"#a57a4c",heading:"#8ab1b0",invalid:"#dc3958",regexp:"#7e602c",tag:"#dc3958"},defaultSettingsKimbie={background:config$9.background,foreground:config$9.foreground,caret:config$9.cursor,selection:config$9.selection,selectionMatch:config$9.selection,gutterBackground:config$9.background,gutterForeground:config$9.foreground,lineHighlight:config$9.activeLine},kimbieInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsKimbie,Nt),styles:[{tag:tags.keyword,color:config$9.keyword},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$9.variable},{tag:[tags.propertyName],color:config$9.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$9.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$9.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$9.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$9.variable},{tag:[tags.className],color:config$9.class},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:config$9.number},{tag:[tags.typeName],color:config$9.type,fontStyle:config$9.type},{tag:[tags.operator,tags.operatorKeyword],color:config$9.keyword},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$9.regexp},{tag:[tags.meta,tags.comment],color:config$9.comment},{tag:tags.tagName,color:config$9.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$9.heading},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:config$9.variable},{tag:tags.invalid,color:config$9.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};kimbieInit();var defaultSettingsMaterial={background:"#2e3235",foreground:"#bdbdbd",caret:"#a0a4ae",selection:"#d7d4f063",selectionMatch:"#d7d4f063",gutterBackground:"#2e3235",gutterForeground:"#999",gutterActiveForeground:"#4f5b66",lineHighlight:"#545b6130"},materialInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}=tr||{};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsMaterial,Nt),styles:[{tag:tags.keyword,color:"#cf6edf"},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:"#56c8d8"},{tag:[tags.propertyName],color:"#facf4e"},{tag:[tags.variableName],color:"#bdbdbd"},{tag:[tags.function(tags.variableName)],color:"#56c8d8"},{tag:[tags.labelName],color:"#cf6edf"},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:"#facf4e"},{tag:[tags.definition(tags.name),tags.separator],color:"#fa5788"},{tag:[tags.brace],color:"#cf6edf"},{tag:[tags.annotation],color:"#ff5f52"},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:"#ffad42"},{tag:[tags.typeName,tags.className],color:"#ffad42"},{tag:[tags.operator,tags.operatorKeyword],color:"#7186f0"},{tag:[tags.tagName],color:"#99d066"},{tag:[tags.squareBracket],color:"#ff5f52"},{tag:[tags.angleBracket],color:"#606f7a"},{tag:[tags.attributeName],color:"#bdbdbd"},{tag:[tags.regexp],color:"#ff5f52"},{tag:[tags.quote],color:"#6abf69"},{tag:[tags.string],color:"#99d066"},{tag:tags.link,color:"#56c8d8",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[tags.url,tags.escape,tags.special(tags.string)],color:"#facf4e"},{tag:[tags.meta],color:"#707d8b"},{tag:[tags.comment],color:"#707d8b",fontStyle:"italic"},{tag:tags.monospace,color:"#bdbdbd"},{tag:tags.strong,fontWeight:"bold",color:"#ff5f52"},{tag:tags.emphasis,fontStyle:"italic",color:"#99d066"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.heading,fontWeight:"bold",color:"#facf4e"},{tag:tags.heading1,fontWeight:"bold",color:"#facf4e"},{tag:[tags.heading2,tags.heading3,tags.heading4],fontWeight:"bold",color:"#facf4e"},{tag:[tags.heading5,tags.heading6],color:"#facf4e"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#56c8d8"},{tag:[tags.processingInstruction,tags.inserted],color:"#ff5f52"},{tag:[tags.contentSeparator],color:"#56c8d8"},{tag:tags.invalid,color:"#606f7a",borderBottom:"1px dotted #ff5f52"},...er]})};materialInit();materialInit();var defaultSettingsMaterialLight={background:"#FAFAFA",foreground:"#90A4AE",caret:"#272727",selection:"#80CBC440",selectionMatch:"#80CBC440",gutterBackground:"#FAFAFA",gutterForeground:"#90A4AE",gutterBorder:"transparent",lineHighlight:"#CCD7DA50"},materialLightInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsMaterialLight,Nt),styles:[{tag:tags.keyword,color:"#39ADB5"},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:"#90A4AE"},{tag:[tags.propertyName],color:"#6182B8"},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:"#91B859"},{tag:[tags.function(tags.variableName),tags.labelName],color:"#6182B8"},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:"#39ADB5"},{tag:[tags.definition(tags.name),tags.separator],color:"#90A4AE"},{tag:[tags.className],color:"#E2931D"},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:"#F76D47"},{tag:[tags.typeName],color:"#E2931D",fontStyle:"#E2931D"},{tag:[tags.operator,tags.operatorKeyword],color:"#39ADB5"},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:"#91B859"},{tag:[tags.meta,tags.comment],color:"#90A4AE"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:"#39ADB5"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#90A4AE"},{tag:tags.invalid,color:"#E5393570"},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};materialLightInit();var config$8={background:"#272822",foreground:"#f8f8f2",selection:"#4a4a76",selectionMatch:"#4a4a76",cursor:"#f8f8f0",dropdownBackground:"#414339",activeLine:"#3e3d3257",matchingBracket:"#3e3d32",keyword:"#F92672",storage:"#F92672",variable:"#FD971F",parameter:"#FD971F",function:"#66D9EF",string:"#E6DB74",constant:"#AE81FF",type:"#66D9EF",class:"#A6E22E",number:"#AE81FF",comment:"#88846f",heading:"#A6E22E",invalid:"#F44747",regexp:"#E6DB74",tag:"#F92672"},defaultSettingsMonokai={background:config$8.background,foreground:config$8.foreground,caret:config$8.cursor,selection:config$8.selection,selectionMatch:config$8.selection,gutterBackground:config$8.background,gutterForeground:config$8.foreground,lineHighlight:config$8.activeLine},monokaiInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsMonokai,Nt),styles:[{tag:tags.keyword,color:config$8.keyword},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$8.variable},{tag:[tags.propertyName],color:config$8.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$8.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$8.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$8.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$8.variable},{tag:[tags.className],color:config$8.class},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:config$8.number},{tag:[tags.typeName],color:config$8.type,fontStyle:config$8.type},{tag:[tags.operator,tags.operatorKeyword],color:config$8.keyword},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$8.regexp},{tag:[tags.meta,tags.comment],color:config$8.comment},{tag:tags.tagName,color:config$8.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$8.heading},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:config$8.variable},{tag:tags.invalid,color:config$8.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};monokaiInit();var config$7={background:"#1e1e1e",foreground:"#c5c8c6",selection:"#4747a1",selectionMatch:"#4747a1",cursor:"#c07020",dropdownBackground:"#525252",activeLine:"#30303078",matchingBracket:"#303030",keyword:"#676867",storage:"#676867",variable:"#c7444a",parameter:"#6089B4",function:"#9872A2",string:"#D08442",constant:"#8080FF",type:"#9B0000",class:"#CE6700",number:"#6089B4",comment:"#9A9B99",heading:"#D0B344",invalid:"#FF0B00",regexp:"#D08442",tag:"#6089B4"},defaultSettingsMonokaiDimmed={background:config$7.background,foreground:config$7.foreground,caret:config$7.cursor,selection:config$7.selection,selectionMatch:config$7.selection,gutterBackground:config$7.background,gutterForeground:config$7.foreground,lineHighlight:config$7.activeLine},monokaiDimmedInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsMonokaiDimmed,Nt),styles:[{tag:tags.keyword,color:config$7.keyword},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$7.variable},{tag:[tags.propertyName],color:config$7.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$7.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$7.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$7.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$7.variable},{tag:[tags.className],color:config$7.class},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:config$7.number},{tag:[tags.typeName],color:config$7.type,fontStyle:config$7.type},{tag:[tags.operator,tags.operatorKeyword],color:config$7.keyword},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$7.regexp},{tag:[tags.meta,tags.comment],color:config$7.comment},{tag:tags.tagName,color:config$7.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$7.heading},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:config$7.variable},{tag:tags.invalid,color:config$7.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};monokaiDimmedInit();var defaultSettingsNoctisLilac={background:"#f2f1f8",foreground:"#0c006b",caret:"#5c49e9",selection:"#d5d1f2",selectionMatch:"#d5d1f2",gutterBackground:"#f2f1f8",gutterForeground:"#0c006b70",lineHighlight:"#16067911"},noctisLilacInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsNoctisLilac,Nt),styles:[{tag:tags.comment,color:"#9995b7"},{tag:tags.keyword,color:"#ff5792",fontWeight:"bold"},{tag:[tags.definitionKeyword,tags.modifier],color:"#ff5792"},{tag:[tags.className,tags.tagName,tags.definition(tags.typeName)],color:"#0094f0"},{tag:[tags.number,tags.bool,tags.null,tags.special(tags.brace)],color:"#5842ff"},{tag:[tags.definition(tags.propertyName),tags.function(tags.variableName)],color:"#0095a8"},{tag:tags.typeName,color:"#b3694d"},{tag:[tags.propertyName,tags.variableName],color:"#fa8900"},{tag:tags.operator,color:"#ff5792"},{tag:tags.self,color:"#e64100"},{tag:[tags.string,tags.regexp],color:"#00b368"},{tag:[tags.paren,tags.bracket],color:"#0431fa"},{tag:tags.labelName,color:"#00bdd6"},{tag:tags.attributeName,color:"#e64100"},{tag:tags.angleBracket,color:"#9995b7"},...er]})};noctisLilacInit();var defaultSettingsNord={background:"#2e3440",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#00000073",selectionMatch:"#00000073",gutterBackground:"#2e3440",gutterForeground:"#4c566a",gutterActiveForeground:"#d8dee9",lineHighlight:"#4c566a29"},nordInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsNord,Nt),styles:[{tag:tags.keyword,color:"#5e81ac"},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:"#88c0d0"},{tag:[tags.variableName],color:"#8fbcbb"},{tag:[tags.function(tags.variableName)],color:"#8fbcbb"},{tag:[tags.labelName],color:"#81a1c1"},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:"#5e81ac"},{tag:[tags.definition(tags.name),tags.separator],color:"#a3be8c"},{tag:[tags.brace],color:"#8fbcbb"},{tag:[tags.annotation],color:"#d30102"},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:"#b48ead"},{tag:[tags.typeName,tags.className],color:"#ebcb8b"},{tag:[tags.operator,tags.operatorKeyword],color:"#a3be8c"},{tag:[tags.tagName],color:"#b48ead"},{tag:[tags.squareBracket],color:"#bf616a"},{tag:[tags.angleBracket],color:"#d08770"},{tag:[tags.attributeName],color:"#ebcb8b"},{tag:[tags.regexp],color:"#5e81ac"},{tag:[tags.quote],color:"#b48ead"},{tag:[tags.string],color:"#a3be8c"},{tag:tags.link,color:"#a3be8c",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[tags.url,tags.escape,tags.special(tags.string)],color:"#8fbcbb"},{tag:[tags.meta],color:"#88c0d0"},{tag:[tags.monospace],color:"#d8dee9",fontStyle:"italic"},{tag:[tags.comment],color:"#4c566a",fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold",color:"#5e81ac"},{tag:tags.emphasis,fontStyle:"italic",color:"#5e81ac"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.heading,fontWeight:"bold",color:"#5e81ac"},{tag:tags.special(tags.heading1),fontWeight:"bold",color:"#5e81ac"},{tag:tags.heading1,fontWeight:"bold",color:"#5e81ac"},{tag:[tags.heading2,tags.heading3,tags.heading4],fontWeight:"bold",color:"#5e81ac"},{tag:[tags.heading5,tags.heading6],color:"#5e81ac"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#d08770"},{tag:[tags.processingInstruction,tags.inserted],color:"#8fbcbb"},{tag:[tags.contentSeparator],color:"#ebcb8b"},{tag:tags.invalid,color:"#434c5e",borderBottom:"1px dotted #d30102"},...er]})};nordInit();var defaultSettingsOkaidia={background:"#272822",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#49483E",selectionMatch:"#49483E",gutterBackground:"#272822",gutterForeground:"#FFFFFF70",lineHighlight:"#0000003b"},okaidiaInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsOkaidia,Nt),styles:[{tag:[tags.comment,tags.documentMeta],color:"#8292a2"},{tag:[tags.number,tags.bool,tags.null,tags.atom],color:"#ae81ff"},{tag:[tags.attributeValue,tags.className,tags.name],color:"#e6db74"},{tag:[tags.propertyName,tags.attributeName],color:"#a6e22e"},{tag:[tags.variableName],color:"#9effff"},{tag:[tags.squareBracket],color:"#bababa"},{tag:[tags.string,tags.special(tags.brace)],color:"#e6db74"},{tag:[tags.regexp,tags.className,tags.typeName,tags.definition(tags.typeName)],color:"#66d9ef"},{tag:[tags.definition(tags.variableName),tags.definition(tags.propertyName),tags.function(tags.variableName)],color:"#fd971f"},{tag:[tags.keyword,tags.definitionKeyword,tags.modifier,tags.tagName,tags.angleBracket],color:"#f92672"},...er]})};okaidiaInit();var config$6={background:"#F5F5F5",foreground:"#333333",selection:"#C9D0D9",selectionMatch:"#C9D0D9",cursor:"#54494B",dropdownBackground:"#F5F5F5",activeLine:"#79ff002b",matchingBracket:"#E4F6D4",keyword:"#4B69C6",storage:"#4B69C6",variable:"#7A3E9D",parameter:"#7A3E9D",function:"#AA3731",string:"#448C27",constant:"#9C5D27",type:"#7A3E9D",class:"#AA3731",number:"#9C5D27",comment:"#AAAAAA",heading:"#AA3731",invalid:"#cd3131",regexp:"#4B69C6",tag:"#4B69C6"},defaultSettingsQuietlight={background:config$6.background,foreground:config$6.foreground,caret:config$6.cursor,selection:config$6.selection,selectionMatch:config$6.selection,gutterBackground:config$6.background,gutterForeground:config$6.foreground,gutterBorder:"transparent",lineHighlight:config$6.activeLine},quietlightInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsQuietlight,Nt),styles:[{tag:tags.keyword,color:config$6.keyword},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$6.variable},{tag:[tags.propertyName],color:config$6.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$6.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$6.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$6.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$6.variable},{tag:[tags.className],color:config$6.class},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:config$6.number},{tag:[tags.typeName],color:config$6.type,fontStyle:config$6.type},{tag:[tags.operator,tags.operatorKeyword],color:config$6.keyword},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$6.regexp},{tag:[tags.meta,tags.comment],color:config$6.comment},{tag:tags.tagName,color:config$6.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$6.heading},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:config$6.variable},{tag:tags.invalid,color:config$6.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};quietlightInit();var config$5={background:"#390000",foreground:"#F8F8F8",selection:"#750000",selectionMatch:"#750000",cursor:"#970000",dropdownBackground:"#580000",activeLine:"#ff000033",matchingBracket:"#ff000033",keyword:"#f12727ff",storage:"#ff6262ff",variable:"#edef7dff",parameter:"#edef7dff",function:"#ffb454ff",string:"#edef7dff",constant:"#ec0d1e",type:"#9df39fff",class:"#fec758ff",number:"#994646ff",comment:"#e7c0c0ff",heading:"#fec758ff",invalid:"#ffffffff",regexp:"#edef7dff",tag:"#aa5507ff"},defaultSettingsRed={background:config$5.background,foreground:config$5.foreground,caret:config$5.cursor,selection:config$5.selection,selectionMatch:config$5.selection,gutterBackground:config$5.background,gutterForeground:config$5.foreground,lineHighlight:config$5.activeLine},redInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsRed,Nt),styles:[{tag:tags.keyword,color:config$5.keyword},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$5.variable},{tag:[tags.propertyName],color:config$5.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$5.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$5.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$5.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$5.variable},{tag:[tags.className],color:config$5.class},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:config$5.number},{tag:[tags.typeName],color:config$5.type,fontStyle:config$5.type},{tag:[tags.operator,tags.operatorKeyword],color:config$5.keyword},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$5.regexp},{tag:[tags.meta,tags.comment],color:config$5.comment},{tag:tags.tagName,color:config$5.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$5.heading},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:config$5.variable},{tag:tags.invalid,color:config$5.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};redInit();var config$4={background:"#002B36",foreground:"#839496",selection:"#004454AA",selectionMatch:"#005A6FAA",cursor:"#D30102",dropdownBackground:"#00212B",dropdownBorder:"#2AA19899",activeLine:"#00cafe11",matchingBracket:"#073642",keyword:"#859900",storage:"#93A1A1",variable:"#268BD2",parameter:"#268BD2",function:"#268BD2",string:"#2AA198",constant:"#CB4B16",type:"#859900",class:"#268BD2",number:"#D33682",comment:"#586E75",heading:"#268BD2",invalid:"#DC322F",regexp:"#DC322F",tag:"#268BD2"},defaultSettingsSolarizedDark={background:config$4.background,foreground:config$4.foreground,caret:config$4.cursor,selection:config$4.selection,selectionMatch:config$4.selection,gutterBackground:config$4.background,gutterForeground:config$4.foreground,gutterBorder:"transparent",lineHighlight:config$4.activeLine},solarizedDarkInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsSolarizedDark,Nt),styles:[{tag:tags.keyword,color:config$4.keyword},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$4.variable},{tag:[tags.propertyName],color:config$4.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$4.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$4.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$4.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$4.variable},{tag:[tags.className],color:config$4.class},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:config$4.number},{tag:[tags.typeName],color:config$4.type,fontStyle:config$4.type},{tag:[tags.operator,tags.operatorKeyword],color:config$4.keyword},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$4.regexp},{tag:[tags.meta,tags.comment],color:config$4.comment},{tag:tags.tagName,color:config$4.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$4.heading},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:config$4.variable},{tag:tags.invalid,color:config$4.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};solarizedDarkInit();var config$3={background:"#FDF6E3",foreground:"#657B83",selection:"#EEE8D5",selectionMatch:"#EEE8D5",cursor:"#657B83",dropdownBackground:"#EEE8D5",dropdownBorder:"#D3AF86",activeLine:"#3d392d11",matchingBracket:"#EEE8D5",keyword:"#859900",storage:"#586E75",variable:"#268BD2",parameter:"#268BD2",function:"#268BD2",string:"#2AA198",constant:"#CB4B16",type:"#859900",class:"#268BD2",number:"#D33682",comment:"#93A1A1",heading:"#268BD2",invalid:"#DC322F",regexp:"#DC322F",tag:"#268BD2"},defaultSettingsSolarizedLight={background:config$3.background,foreground:config$3.foreground,caret:config$3.cursor,selection:config$3.selection,selectionMatch:config$3.selectionMatch,gutterBackground:config$3.background,gutterForeground:config$3.foreground,gutterBorder:"transparent",lineHighlight:config$3.activeLine},solarizedLightInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsSolarizedLight,Nt),styles:[{tag:tags.keyword,color:config$3.keyword},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$3.variable},{tag:[tags.propertyName],color:config$3.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$3.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$3.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$3.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$3.variable},{tag:[tags.className],color:config$3.class},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:config$3.number},{tag:[tags.typeName],color:config$3.type,fontStyle:config$3.type},{tag:[tags.operator,tags.operatorKeyword],color:config$3.keyword},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$3.regexp},{tag:[tags.meta,tags.comment],color:config$3.comment},{tag:tags.tagName,color:config$3.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$3.heading},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:config$3.variable},{tag:tags.invalid,color:config$3.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};solarizedLightInit();var defaultSettingsSublime={background:"#303841",foreground:"#FFFFFF",caret:"#FBAC52",selection:"#4C5964",selectionMatch:"#3A546E",gutterBackground:"#303841",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"};function sublimeInit(tr){var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsSublime,Nt),styles:[{tag:[tags.meta,tags.comment],color:"#A2A9B5"},{tag:[tags.attributeName,tags.keyword],color:"#B78FBA"},{tag:tags.function(tags.variableName),color:"#5AB0B0"},{tag:[tags.string,tags.regexp,tags.attributeValue],color:"#99C592"},{tag:tags.operator,color:"#f47954"},{tag:[tags.tagName,tags.modifier],color:"#E35F63"},{tag:[tags.number,tags.definition(tags.tagName),tags.className,tags.definition(tags.variableName)],color:"#fbac52"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#E35F63"},{tag:tags.variableName,color:"#539ac4"},{tag:[tags.propertyName,tags.typeName],color:"#629ccd"},{tag:tags.propertyName,color:"#36b7b5"},...er]})}sublimeInit();var defaultSettingsTokyoNight={background:"#1a1b26",foreground:"#787c99",caret:"#c0caf5",selection:"#515c7e40",selectionMatch:"#16161e",gutterBackground:"#1a1b26",gutterForeground:"#787c99",gutterBorder:"transparent",lineHighlight:"#474b6611"},tokyoNightInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsTokyoNight,Nt),styles:[{tag:tags.keyword,color:"#bb9af7"},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:"#c0caf5"},{tag:[tags.propertyName],color:"#7aa2f7"},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:"#9ece6a"},{tag:[tags.function(tags.variableName),tags.labelName],color:"#7aa2f7"},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:"#bb9af7"},{tag:[tags.definition(tags.name),tags.separator],color:"#c0caf5"},{tag:[tags.className],color:"#c0caf5"},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:"#ff9e64"},{tag:[tags.typeName],color:"#0db9d7"},{tag:[tags.operator,tags.operatorKeyword],color:"#bb9af7"},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:"#b4f9f8"},{tag:[tags.meta,tags.comment],color:"#444b6a"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:"#89ddff"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#c0caf5"},{tag:tags.invalid,color:"#ff5370"},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};tokyoNightInit();var defaultSettingsTokyoNightStorm={background:"#24283b",foreground:"#7982a9",caret:"#c0caf5",selection:"#6f7bb630",selectionMatch:"#343b5f",gutterBackground:"#24283b",gutterForeground:"#7982a9",gutterBorder:"transparent",lineHighlight:"#292e427a"},tokyoNightStormInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsTokyoNightStorm,Nt),styles:[{tag:tags.keyword,color:"#bb9af7"},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:"#c0caf5"},{tag:[tags.propertyName],color:"#7aa2f7"},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:"#9ece6a"},{tag:[tags.function(tags.variableName),tags.labelName],color:"#7aa2f7"},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:"#bb9af7"},{tag:[tags.definition(tags.name),tags.separator],color:"#c0caf5"},{tag:[tags.className],color:"#c0caf5"},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:"#ff9e64"},{tag:[tags.typeName],color:"#2ac3de",fontStyle:"#2ac3de"},{tag:[tags.operator,tags.operatorKeyword],color:"#bb9af7"},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:"#b4f9f8"},{tag:[tags.meta,tags.comment],color:"#565f89"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:"#89ddff"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#c0caf5"},{tag:tags.invalid,color:"#ff5370"},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};tokyoNightStormInit();var defaultSettingsTokyoNightDay={background:"#e1e2e7",foreground:"#3760bf",caret:"#3760bf",selection:"#99a7df",selectionMatch:"#99a7df",gutterBackground:"#e1e2e7",gutterForeground:"#3760bf",gutterBorder:"transparent",lineHighlight:"#5f5faf11"},tokyoNightDayInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsTokyoNightDay,Nt),styles:[{tag:tags.keyword,color:"#007197"},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:"#3760bf"},{tag:[tags.propertyName],color:"#3760bf"},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:"#587539"},{tag:[tags.function(tags.variableName),tags.labelName],color:"#3760bf"},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:"#3760bf"},{tag:[tags.definition(tags.name),tags.separator],color:"#3760bf"},{tag:[tags.className],color:"#3760bf"},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:"#b15c00"},{tag:[tags.typeName],color:"#007197",fontStyle:"#007197"},{tag:[tags.operator,tags.operatorKeyword],color:"#007197"},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:"#587539"},{tag:[tags.meta,tags.comment],color:"#848cb5"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:"#b15c00"},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:"#3760bf"},{tag:tags.invalid,color:"#f52a65"},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};tokyoNightDayInit();var config$2={background:"#002451",foreground:"#ffffff",selection:"#003f8e",selectionMatch:"#003f8e",cursor:"#ffffff",dropdownBackground:"#001733",activeLine:"#00346e7a",matchingBracket:"#00346e",keyword:"#EBBBFF",storage:"#EBBBFF",variable:"#FFC58F",parameter:"#FFC58F",function:"#BBDAFF",string:"#D1F1A9",constant:"#FFC58F",type:"#FFEEAD",class:"#BBDAFF",number:"#FFC58F",comment:"#7285B7",heading:"#D1F1A9",invalid:"#a92049",regexp:"#D1F1A9",tag:"#FF9DA4"},defaultSettingsTomorrowNightBlue={background:config$2.background,foreground:config$2.foreground,caret:config$2.cursor,selection:config$2.selection,selectionMatch:config$2.selection,gutterBackground:config$2.background,gutterForeground:config$2.foreground,lineHighlight:config$2.activeLine},tomorrowNightBlueInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsTomorrowNightBlue,Nt),styles:[{tag:tags.keyword,color:config$2.keyword},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$2.variable},{tag:[tags.propertyName],color:config$2.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$2.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$2.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$2.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$2.variable},{tag:[tags.className],color:config$2.class},{tag:[tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:config$2.number},{tag:[tags.typeName],color:config$2.type,fontStyle:config$2.type},{tag:[tags.operator,tags.operatorKeyword],color:config$2.keyword},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$2.regexp},{tag:[tags.meta,tags.comment],color:config$2.comment},{tag:tags.tagName,color:config$2.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$2.heading},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:config$2.variable},{tag:tags.invalid,color:config$2.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},...er]})};tomorrowNightBlueInit();var defaultSettingsVscodeLight={background:"#ffffff",foreground:"#383a42",caret:"#000",selection:"#add6ff",selectionMatch:"#a8ac94",lineHighlight:"#f0f0f0",gutterBackground:"#fff",gutterForeground:"#237893",gutterActiveForeground:"#0b216f",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace'};function vscodeLightInit(tr){var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsVscodeLight,Nt),styles:[{tag:[tags.keyword,tags.operatorKeyword,tags.modifier,tags.color,tags.constant(tags.name),tags.standard(tags.name),tags.standard(tags.tagName),tags.special(tags.brace),tags.atom,tags.bool,tags.special(tags.variableName)],color:"#0000ff"},{tag:[tags.moduleKeyword,tags.controlKeyword],color:"#af00db"},{tag:[tags.name,tags.deleted,tags.character,tags.macroName,tags.propertyName,tags.variableName,tags.labelName,tags.definition(tags.name)],color:"#0070c1"},{tag:tags.heading,fontWeight:"bold",color:"#0070c1"},{tag:[tags.typeName,tags.className,tags.tagName,tags.number,tags.changed,tags.annotation,tags.self,tags.namespace],color:"#267f99"},{tag:[tags.function(tags.variableName),tags.function(tags.propertyName)],color:"#795e26"},{tag:[tags.number],color:"#098658"},{tag:[tags.operator,tags.punctuation,tags.separator,tags.url,tags.escape,tags.regexp],color:"#383a42"},{tag:[tags.regexp],color:"#af00db"},{tag:[tags.special(tags.string),tags.processingInstruction,tags.string,tags.inserted],color:"#a31515"},{tag:[tags.angleBracket],color:"#383a42"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:[tags.meta,tags.comment],color:"#008000"},{tag:tags.link,color:"#4078f2",textDecoration:"underline"},{tag:tags.invalid,color:"#e45649"},...er]})}vscodeLightInit();var defaultSettingsVscodeDark={background:"#1e1e1e",foreground:"#9cdcfe",caret:"#c6c6c6",selection:"#6199ff2f",selectionMatch:"#72a1ff59",lineHighlight:"#ffffff0f",gutterBackground:"#1e1e1e",gutterForeground:"#838383",gutterActiveForeground:"#fff",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace'};function vscodeDarkInit(tr){var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsVscodeDark,Nt),styles:[{tag:[tags.keyword,tags.operatorKeyword,tags.modifier,tags.color,tags.constant(tags.name),tags.standard(tags.name),tags.standard(tags.tagName),tags.special(tags.brace),tags.atom,tags.bool,tags.special(tags.variableName)],color:"#569cd6"},{tag:[tags.controlKeyword,tags.moduleKeyword],color:"#c586c0"},{tag:[tags.name,tags.deleted,tags.character,tags.macroName,tags.propertyName,tags.variableName,tags.labelName,tags.definition(tags.name)],color:"#9cdcfe"},{tag:tags.heading,fontWeight:"bold",color:"#9cdcfe"},{tag:[tags.typeName,tags.className,tags.tagName,tags.number,tags.changed,tags.annotation,tags.self,tags.namespace],color:"#4ec9b0"},{tag:[tags.function(tags.variableName),tags.function(tags.propertyName)],color:"#dcdcaa"},{tag:[tags.number],color:"#b5cea8"},{tag:[tags.operator,tags.punctuation,tags.separator,tags.url,tags.escape,tags.regexp],color:"#d4d4d4"},{tag:[tags.regexp],color:"#d16969"},{tag:[tags.special(tags.string),tags.processingInstruction,tags.string,tags.inserted],color:"#ce9178"},{tag:[tags.angleBracket],color:"#808080"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:[tags.meta,tags.comment],color:"#6a9955"},{tag:tags.link,color:"#6a9955",textDecoration:"underline"},{tag:tags.invalid,color:"#ff0000"},...er]})}vscodeDarkInit();var config$1={background:"#000",foreground:"#fff",selection:"#7d46fc3f",selectionMatch:"#7d46fc7f",cursor:"#7d46fc",dropdownBackground:"#0a0b0f",dropdownBorder:"#1e1d27",activeLine:"#00346eb0",matchingBracket:"#7d46fc7f",keyword:null,storage:null,variable:null,parameter:null,function:null,string:"#a8a8b1",constant:null,type:null,class:null,number:null,comment:"#2e2e37",heading:null,invalid:null,regexp:"#a8a8b1",tag:null},defaultSettingsWhiteDark={background:config$1.background,foreground:config$1.foreground,caret:config$1.cursor,selection:config$1.selection,selectionMatch:config$1.selectionMatch,gutterBackground:config$1.background,gutterForeground:config$1.foreground,lineHighlight:config$1.activeLine},whiteDarkInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsWhiteDark,Nt),styles:[{tag:tags.keyword,color:config$1.keyword,fontWeight:"bold"},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config$1.variable},{tag:[tags.propertyName],color:config$1.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config$1.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config$1.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config$1.constant},{tag:[tags.definition(tags.name),tags.separator],color:config$1.variable},{tag:[tags.className],color:config$1.class},{tag:[tags.typeName],color:config$1.type,fontStyle:config$1.type},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config$1.regexp},{tag:[tags.meta,tags.comment],color:config$1.comment},{tag:tags.tagName,color:config$1.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config$1.heading},{tag:[tags.atom,tags.special(tags.variableName)],color:config$1.variable},{tag:tags.invalid,color:config$1.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:[tags.operatorKeyword,tags.bool,tags.null,tags.variableName],color:config$1.constant},{tag:[tags.operator],color:"#bb9af7"},{tag:[tags.number],color:"#a8a8b1"},{tag:[tags.bracket],color:"#bb9af7"},...er]})};whiteDarkInit();var config={background:"#fff",foreground:"#000",selection:"#0064ff26",selectionMatch:"#0064ff4c",cursor:"#004bff",dropdownBackground:"#f4f6fc",dropdownBorder:"#e7ecf2",activeLine:"#0064ff0c",matchingBracket:"#0064ff4c",keyword:null,storage:null,variable:null,parameter:null,function:null,string:"#6b7a88",constant:null,type:null,class:null,number:null,comment:"#bec9d3",heading:null,invalid:null,regexp:"#6b7a88",tag:null},defaultSettingsWhiteLight={background:config.background,foreground:config.foreground,caret:config.cursor,selection:config.selection,selectionMatch:config.selectionMatch,gutterBackground:config.background,gutterForeground:config.foreground,lineHighlight:config.activeLine},whiteLightInit=tr=>{var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsWhiteLight,Nt),styles:[{tag:tags.keyword,color:config.keyword,fontWeight:"bold"},{tag:[tags.name,tags.deleted,tags.character,tags.macroName],color:config.variable},{tag:[tags.propertyName],color:config.function},{tag:[tags.processingInstruction,tags.string,tags.inserted,tags.special(tags.string)],color:config.string},{tag:[tags.function(tags.variableName),tags.labelName],color:config.function},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:config.constant},{tag:[tags.definition(tags.name),tags.separator],color:config.variable},{tag:[tags.className],color:config.class},{tag:[tags.typeName],color:config.type,fontStyle:config.type},{tag:[tags.url,tags.escape,tags.regexp,tags.link],color:config.regexp},{tag:[tags.meta,tags.comment],color:config.comment},{tag:tags.tagName,color:config.tag},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:config.heading},{tag:[tags.atom,tags.special(tags.variableName)],color:config.variable},{tag:tags.invalid,color:config.invalid},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:[tags.operatorKeyword,tags.bool,tags.null,tags.variableName],color:config.constant},{tag:[tags.operator],color:"#0431fa"},{tag:[tags.number],color:"#a8a8b1"},{tag:[tags.bracket],color:"#0431fa"},...er]})};whiteLightInit();var defaultSettingsXcodeLight={background:"#fff",foreground:"#3D3D3D",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#AFAFAF",lineHighlight:"#d5e6ff69"};function xcodeLightInit(tr){var{theme:Ot="light",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsXcodeLight,Nt),styles:[{tag:[tags.comment,tags.quote],color:"#707F8D"},{tag:[tags.typeName,tags.typeOperator],color:"#aa0d91"},{tag:[tags.keyword],color:"#aa0d91",fontWeight:"bold"},{tag:[tags.string,tags.meta],color:"#D23423"},{tag:[tags.name],color:"#032f62"},{tag:[tags.typeName],color:"#522BB2"},{tag:[tags.variableName],color:"#23575C"},{tag:[tags.definition(tags.variableName)],color:"#327A9E"},{tag:[tags.regexp,tags.link],color:"#0e0eff"},...er]})}xcodeLightInit();var defaultSettingsXcodeDark={background:"#292A30",foreground:"#CECFD0",caret:"#fff",selection:"#727377",selectionMatch:"#727377",lineHighlight:"#ffffff0f"},xcodeDarkInit=tr=>{var{theme:Ot="dark",settings:Nt={},styles:er=[]}={};return createTheme({theme:Ot,settings:_extends$v({},defaultSettingsXcodeDark,Nt),styles:[{tag:[tags.comment,tags.quote],color:"#7F8C98"},{tag:[tags.keyword],color:"#FF7AB2",fontWeight:"bold"},{tag:[tags.string,tags.meta],color:"#FF8170"},{tag:[tags.typeName],color:"#DABAFF"},{tag:[tags.definition(tags.variableName)],color:"#6BDFFF"},{tag:[tags.name],color:"#6BAA9F"},{tag:[tags.variableName],color:"#ACF2E4"},{tag:[tags.regexp,tags.link],color:"#FF8170"},...er]})};xcodeDarkInit();function TextViewer({git:tr,src:Ot,onChange:Nt,extensions:er}){const[rr,ir]=reactExports.useState(""),nr=reactExports.useCallback((ar,lr)=>{console.log("val:",ar),ir(ar),Nt&&Nt(ar)},[]),sr=async()=>{const ar=dataURLtoFile(Ot),lr=new FileReader,cr=await lr.readAsText(ar,"UTF-8");lr.onload=function(dr){ir(dr.target.result)},lr.onerror=function(dr){console.log(dr)},console.log(cr)};return reactExports.useEffect(()=>{Ot&&sr()},[Ot]),jsxRuntimeExports.jsx(ReactCodeMirror,{theme:dracula,value:rr,height:"500px",extensions:[javascript({jsx:!0})],onChange:nr})}const git$8=gitInstance(),TEXT_FILES=["application/json"],FilePreview=({id:tr,path:Ot})=>{const[Nt,er]=reactExports.useState(null),[rr,ir]=reactExports.useState(null),nr=async()=>{try{const{info:sr,dataUrl:ar}=await git$8.getFile64Data(Ot,!0,!0);console.log(sr),ir(lr=>({...lr,...sr})),er(ar)}catch{}};return reactExports.useEffect(()=>{Ot&&nr()},[Ot,ir,er]),jsxRuntimeExports.jsx("div",{className:"file-viewer",children:rr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:rr.mime?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[rr.mime.mime.startsWith("image")?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("img",{className:"image-preview",src:Nt})}):null,TEXT_FILES.includes(rr.mime.mime)||rr.mime.mime.startsWith("text")?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(TextViewer,{className:"text-preview",src:Nt})}):null]}):null}):null})},FilesContentPage=({})=>{const tr=useDispatch(),Ot=useSelector(fr=>fr.content),Nt=useSelector(fr=>fr.explorer),{setExpanded:er,setSelected:rr}=explorerSlice.actions,ir="Files",nr=[{title:"Konten",path:"contents"},{title:"Daftar File",path:"content/files"}],sr=fr=>!!Nt.expanded[fr],ar=fr=>{tr(er(fr))},lr=(fr,hr)=>{tr(rr({id:fr,path:hr}))},cr=fr=>Nt.selected?Nt.selected.id===fr:!1,[dr,ur]=reactExports.useState({id:null,path:null});return reactExports.useEffect(()=>tr(addListener({predicate:(hr,pr,gr)=>pr.explorer.selected!==gr.explorer.selected,effect:(hr,pr)=>{ur(gr=>({...gr,...hr.payload}))}})),[]),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:ir,breadcrumbs:nr,icon:jsxRuntimeExports.jsx(Folder$2,{}),className:`${Ot.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsx("div",{className:"card",children:jsxRuntimeExports.jsx("div",{className:"card-body",children:jsxRuntimeExports.jsx(FileExplorerApp,{isSelected:cr,onSelect:lr,isExpand:sr,setExpand:ar,children:jsxRuntimeExports.jsx("div",{className:"file-preview",children:jsxRuntimeExports.jsx(FilePreview,{id:dr.id,path:dr.path})})})})})})})};class MWelcomeMessage extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/templates/blocks/welcome-message.json")}}const type$4="object",required$3=["title","description","image","link","linkText"],properties$3={link:{title:"Link",type:"string"},linkText:{title:"Link Text",type:"string"},title:{title:"Title",type:"string"},description:{title:"Keterangan",type:"string"},image:{title:"Image",type:"string",format:"data-url"}},heroSchema={type:type$4,required:required$3,properties:properties$3},title$2={"ui:autofocus":!0,"ui:widget":"block"},description$1={"ui:widget":"block"},image$1={"ui:options":{filePreview:!0}},heroUiSchema={title:title$2,description:description$1,image:image$1};class MHero extends DBGitList{constructor(){super(...arguments);Li(this,"path","web/data/hero.json");Li(this,"imageUploadPath","assets/images/homepage-slide");Li(this,"shadowFields",{image:fileTransform})}}const HeroList=({git:tr,className:Ot,data:Nt,onEditRow:er=rr=>rr})=>{const rr=[{name:"No",prop:"no",width:"50px",selector:(sr,ar)=>ar+1,cell:(sr,ar,lr,cr)=>`${ar+1}.`},{name:"Image",prop:"image",width:"130px",selector:sr=>sr.image,cell:sr=>jsxRuntimeExports.jsx(buildExports.LazyLoadImage,{className:"twx-max-w-[100px]",src:sr.image})},{name:"Title",prop:"title",width:"270px",selector:sr=>sr.title,cell:sr=>jsxRuntimeExports.jsx(BlockData,{className:"twx-text-left",data:sr.title})},{name:"Keterangan",width:"300px",prop:"description",selector:sr=>sr.description,cell:sr=>jsxRuntimeExports.jsx(BlockData,{className:"twx-text-left",data:sr.description})},{name:"Action",width:"120px",prop:"action",selector:sr=>sr.action,cell:sr=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Button,{size:"sm xs",onClick:ar=>er(sr),children:[jsxRuntimeExports.jsx(Edit,{})," Edit"," "]})})}],[ir,nr]=reactExports.useState([...rr]);return reactExports.useEffect(()=>{},[nr]),jsxRuntimeExports.jsx("div",{className:Ot,children:jsxRuntimeExports.jsx(Xe,{columns:ir,data:Nt,striped:!0,pagination:!0,fixedHeader:!0})})},pageTitle$6="Template",breadcrumbs$6=[{title:"Konten",path:"contents"},{title:"Template",path:"content/template"}],routePath$5="/contents/template",git$7=createGit(),mFooter=new MFooter(git$7,footerSchema),mWelcomeMessage=new MWelcomeMessage(git$7,welcomeMessageSchema),mHero=new MHero(git$7,heroSchema),TemplateContentPage=({})=>{const tr=useLocation(),Ot=useDispatch(),Nt=useNavigate(),er=useSelector(Tr=>Tr.content),{setLoading:rr,setLoadingMessage:ir,displayAlert:nr}=contentSlice.actions,[sr,ar]=reactExports.useState("footer"),lr=(Tr,Er="Menyimpan Data")=>{Tr?(Ot(rr(!0)),Ot(ir(Er))):Ot(rr(!1))},cr=(Tr,Er,Pr)=>{Ot(nr(["danger","error",Pr]))},dr=Tr=>{Nt(`${routePath$5}/${Tr}`)},[ur,fr]=reactExports.useState(!1),[hr,pr]=reactExports.useState(mFooter.defaultValue),gr=async()=>{const Tr=await mFooter.get();console.log(Tr),pr(Tr)},br=()=>{fr(!0)},vr=async Tr=>{const{formData:Er}=Tr;lr(!0);try{await mFooter.update(Er),await mFooter.commit(!0)}catch(Pr){cr("danger","error",Pr.toString())}fr(!1),lr(!1),gr()},[kr,Sr]=reactExports.useState(!1),[Cr,Ar]=reactExports.useState(MWelcomeMessage.defaultValue),Ir=async()=>{const Tr=await mWelcomeMessage.get();console.log(Tr),Ar(Tr)},qr=()=>{Sr(!0)},Qr=async Tr=>{const{formData:Er}=Tr;lr(!0);try{await mWelcomeMessage.update(Er),await mWelcomeMessage.commit(!0)}catch(Pr){cr("danger","error",Pr.toString())}Sr(!1),lr(!1),Ir()},[Wr,jr]=reactExports.useState([]),[Or,yr]=reactExports.useState(null),[xr,wr]=reactExports.useState(!1),Br=async()=>{const Tr=await mHero.getData();console.log(Tr),jr(Tr)},_r=async Tr=>{yr(Tr),wr(!0)},Mr=async Tr=>{const{formData:Er}=Tr;lr(!0);let Pr=!1;try{await mHero.updateRow(Er,!0)}catch(Rr){Pr=!0,cr("danger","error",Rr.toString())}lr(!1),Pr||(wr(!1),Br())};return reactExports.useEffect(()=>{const Er=tr.pathname.split("/").at(-1);ar(Er),Er==="footer"?gr():Er==="welcome-message"?Ir():Er==="hero"&&Br()},[tr.key,ar,pr,Ar,jr]),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:pageTitle$6,breadcrumbs:breadcrumbs$6,icon:jsxRuntimeExports.jsx(Table,{}),className:`${er.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsx("div",{className:"card",children:jsxRuntimeExports.jsx("div",{className:"card-body",children:jsxRuntimeExports.jsxs(Tabs,{id:"content-template-tab",activeKey:sr,onSelect:Tr=>dr(Tr),children:[jsxRuntimeExports.jsx(Tab,{eventKey:"welcome-message",title:"Pesan Selamat Datang",children:sr==="welcome-message"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:kr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{schema:welcomeMessageSchema,uiSchema:welcomeMessageUiSchema,title:"Edit Welcome Message",formData:Cr,onCancel:Tr=>Sr(!1),onSubmit:Tr=>Qr(Tr)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{schema:welcomeMessageSchema,rowData:Cr,title:"Welcome Message"}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Tr=>qr(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"footer",title:"Catatan Kaki",children:sr==="footer"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ur?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{schema:footerSchema,uiSchema:footerUiSchema,title:"Edit Footer Data",formData:hr,onCancel:Tr=>fr(!1),onSubmit:Tr=>vr(Tr)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{schema:footerSchema,rowData:hr,title:"Footer Data"}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Tr=>br(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"hero",title:"Hero Slide Depan",children:sr==="hero"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:xr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Item Hero",formData:Or,schema:heroSchema,uiSchema:heroUiSchema,onSubmit:Tr=>Mr(Tr),onCancel:Tr=>wr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"twx-text-2xl twx-text-center twx-py-4 twx-mb-8",children:"Daftar Hero"}),jsxRuntimeExports.jsx(HeroList,{git:git$7,className:"twx-border twx-border-slate-200 twx-border-solid",data:Wr,onEditRow:Tr=>_r(Tr)})]})})})]})})})})})},type$3="object",required$2=["heading","title","image","contents"],properties$2={heading:{title:"Heading",type:"string"},title:{title:"Title",type:"string"},image:{title:"Image",type:"string",format:"data-url"},contents:{title:"Konten",type:"string"}},fullProfileSchema={type:type$3,required:required$2,properties:properties$2},heading={"ui:autofocus":!0},title$1={},image={"ui:options":{filePreview:!0}},contents={"ui:widget":"block"},fullProfileUiSchema={heading,title:title$1,image,contents};class MProfile extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/profile.json");Li(this,"imageUploadPath","assets/images/profile");Li(this,"shadowFields",{image:fileTransform})}}class MShortProfile extends MProfile{constructor(){super(...arguments);Li(this,"dataRootField","short")}}class MFullProfile extends MProfile{constructor(){super(...arguments);Li(this,"dataRootField","full")}}class MMetaProfile extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/pages/profile.json")}}class MProfileBanner extends MBanner{constructor(){super(...arguments);Li(this,"path","web/data/profile.json")}}const git$6=createGit(),mShortProfile=new MShortProfile(git$6,shortProfileSchema),mFullProfile=new MFullProfile(git$6,fullProfileSchema),mProfileBanner=new MProfileBanner(git$6,bannerSchema),mMetaProfile=new MMetaProfile(git$6,metaSchema),pageTitle$5="Profile",breadcrumbs$5=[{title:"Konten",path:"contents"},{title:"Profile",path:"content/profile"}],routePath$4="/contents/profile",ProfileContentPage=({subModule:tr})=>{const Ot=useLocation(),Nt=useDispatch(),er=useNavigate(),rr=useSelector(Er=>Er.content);useSelector(Er=>Er.setting);const{setLoading:ir,setLoadingMessage:nr,displayAlert:sr}=contentSlice.actions,[ar,lr]=reactExports.useState("banner"),[cr,dr]=reactExports.useState(!1),ur=(Er,Pr="Menyimpan Data")=>{Er?(Nt(ir(!0)),Nt(nr(Pr))):Nt(ir(!1))},fr=Er=>{er(`${routePath$4}/${Er}`)},[hr,pr]=reactExports.useState(mShortProfile.defaultValue),[gr,br]=reactExports.useState(!1),vr=(Er,Pr,Rr)=>{Nt(sr([Er,Pr,Rr]))},kr=async()=>{const Er=await mShortProfile.get();pr(Er)},Sr=()=>{br(!0)},Cr=async Er=>{const{formData:Pr}=Er;ur(!0);try{await mShortProfile.update(Pr),await mShortProfile.commit(!0)}catch(Rr){vr("danger","error",Rr.toString())}ur(!1),br(!1),kr()},[Ar,Ir]=reactExports.useState(mFullProfile.defaultValue),[qr,Qr]=reactExports.useState(!1),Wr=async()=>{const Er=await mFullProfile.get();Ir(Er)},jr=()=>{Qr(!0)},Or=async Er=>{const{formData:Pr}=Er;ur(!0);try{await mFullProfile.update(Pr),await mFullProfile.commit(!0)}catch(Rr){vr("danger","error",Rr.toString())}ur(!1),Qr(!1),Wr()},[yr,xr]=reactExports.useState(mMetaProfile.defaultValue),[wr,Br]=reactExports.useState(!1),_r=async()=>{const Er=await mMetaProfile.get();xr(Er)},Mr=()=>{Br(!0)},Tr=async Er=>{const{formData:Pr}=Er;ur(!0);try{await mMetaProfile.update(Pr),await mMetaProfile.commit(!0)}catch(Rr){vr("danger","error",Rr.toString())}ur(!1),Br(!1),_r()};return reactExports.useEffect(()=>{const Pr=Ot.pathname.split("/").at(-1);lr(Pr),Pr==="short-profile"?kr():Pr==="full-profile"?Wr():Pr==="contact-person"?loadContactPersonListData():Pr==="meta"?_r():Pr==="banner"&&dr(crc32id())},[Ot.key,lr,pr,Ir,xr]),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:pageTitle$5,breadcrumbs:breadcrumbs$5,icon:jsxRuntimeExports.jsx(Trello,{}),className:`${rr.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsx("div",{className:"card",children:jsxRuntimeExports.jsx("div",{className:"card-body",children:jsxRuntimeExports.jsxs(Tabs,{id:"content-profile-tab",activeKey:ar,onSelect:Er=>fr(Er),children:[jsxRuntimeExports.jsx(Tab,{eventKey:"banner",title:"Banner",children:ar==="banner"&&jsxRuntimeExports.jsx(BannerEditor,{showLoading:ur,page:"profile",model:mProfileBanner,trigger:cr,schema:bannerSchema,uiSchema:bannerUiSchema,showAlert:vr})}),jsxRuntimeExports.jsx(Tab,{eventKey:"short-profile",title:"Short Profile",children:ar==="short-profile"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:gr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit ShortProfile Details",formData:hr,schema:shortProfileSchema,uiSchema:shortProfileUiSchema,onSubmit:Er=>Cr(Er),onCancel:Er=>br(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Short Profile Details",showImages:["image"],rowData:hr,schema:shortProfileSchema}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Er=>Sr(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"full-profile",title:"Full Profile",children:ar==="full-profile"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:qr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Full Profile Details",formData:Ar,schema:fullProfileSchema,uiSchema:fullProfileUiSchema,onSubmit:Er=>Or(Er),onCancel:Er=>Qr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Full Profile Details",showImages:["image"],rowData:Ar,schema:fullProfileSchema}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Er=>jr(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"meta",title:"Meta",children:ar==="meta"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:wr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Meta Page",formData:yr,schema:metaSchema,uiSchema:metaUiSchema,onSubmit:Er=>Tr(Er),onCancel:Er=>Br(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Meta Page",schema:metaSchema,rowData:yr}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Er=>Mr(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})})]})})})})})};class MMetaKontak extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/pages/kontak.json")}}class MKontakBanner extends MBanner{constructor(){super(...arguments);Li(this,"path","web/data/kontak.json")}}class MContactPerson extends DBGitList{constructor(){super(...arguments);Li(this,"path","web/data/contact-person-list.json")}}const ContactPersonList=({git:tr,className:Ot,data:Nt,onEditRow:er=rr=>rr})=>{const rr=[{name:"No",prop:"no",width:"50px",selector:(sr,ar)=>ar+1,cell:(sr,ar,lr,cr)=>`${ar+1}.`},{name:"Name",prop:"name",selector:sr=>sr.name},{name:"Nomor",prop:"phone",selector:sr=>sr.phone},{name:"Action",width:"120px",prop:"action",selector:sr=>sr.action,cell:sr=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Button,{size:"sm xs",onClick:ar=>er(sr),children:[jsxRuntimeExports.jsx(Edit,{})," Edit"," "]})})}],[ir,nr]=reactExports.useState([...rr]);return reactExports.useEffect(()=>{},[nr]),jsxRuntimeExports.jsx("div",{className:Ot,children:jsxRuntimeExports.jsx(Xe,{columns:ir,data:Nt,striped:!0,pagination:!0,fixedHeader:!0})})};class MSocialNetworkLink extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/social-network-links.json")}}const git$5=createGit(),mCompany=new MCompany(git$5,companySchema),mContactPeron=new MContactPerson(git$5,contactPersonSchema),mKontakBanner=new MKontakBanner(git$5,bannerSchema),mMetaKontak=new MMetaKontak(git$5,metaSchema),mSocialNetworkLink=new MSocialNetworkLink(git$5,socialNetworkLinkSchema),pageTitle$4="Kontak",breadcrumbs$4=[{title:"Konten",path:"contents"},{title:"Kontak",path:"content/kontak"}],routePath$3="/contents/kontak",KontakContentPage=({subModule:tr})=>{const Ot=useLocation(),Nt=useDispatch(),er=useNavigate(),rr=useSelector(Rr=>Rr.content);useSelector(Rr=>Rr.setting);const{setLoading:ir,setLoadingMessage:nr,displayAlert:sr}=contentSlice.actions,[ar,lr]=reactExports.useState("banner"),[cr,dr]=reactExports.useState(!1),ur=(Rr,Lr="Menyimpan Data")=>{Rr?(Nt(ir(!0)),Nt(nr(Lr))):Nt(ir(!1))},fr=(Rr,Lr,Hr)=>{Nt(sr([Rr,Lr,Hr]))},hr=Rr=>{er(`${routePath$3}/${Rr}`)},[pr,gr]=reactExports.useState([]),[br,vr]=reactExports.useState(mContactPeron.defaultValue),[kr,Sr]=reactExports.useState(!1),Cr=async()=>{const Rr=await mContactPeron.getData();gr(Rr)},Ar=(Rr,Lr)=>{vr(Rr),Sr(!0)},Ir=async(Rr,Lr)=>{const{formData:Hr}=Rr;ur(!0);try{await mContactPeron.updateRow(Hr,!0)}catch(Gr){Nt(sr(["danger","error",Gr.toString()]))}ur(!1),Sr(!1),Cr()},[qr,Qr]=reactExports.useState(mCompany.defaultValue),[Wr,jr]=reactExports.useState(!1),Or=async()=>{const Rr=await mCompany.get();Qr(Rr)},yr=()=>{jr(!0)},xr=async Rr=>{const{formData:Lr}=Rr;ur(!0);try{await mCompany.update(Lr),await mCompany.commit(!0)}catch(Hr){Nt(sr(["danger","error",Hr.toString()]))}ur(!1),jr(!1),Or()};reactExports.useState(mMetaKontak.defaultValue),reactExports.useState(!1);const[wr,Br]=reactExports.useState(!1),[_r,Mr]=reactExports.useState(MSocialNetworkLink.defaultValue),Tr=async()=>{const Rr=await mSocialNetworkLink.get();console.log(Rr),Mr(Rr)},Er=()=>{Br(!0)},Pr=async Rr=>{const{formData:Lr}=Rr;ur(!0);try{await mSocialNetworkLink.update(Lr),await mSocialNetworkLink.commit(!0)}catch(Hr){fr("danger","error",Hr.toString())}Br(!1),ur(!1),Tr()};return reactExports.useEffect(()=>{const Lr=Ot.pathname.split("/").at(-1);lr(Lr),Lr==="company"?Or():Lr==="contact-person"?Cr():Lr==="social-network-link"&&Tr()},[Ot.key,lr,Qr,gr,Mr]),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:pageTitle$4,breadcrumbs:breadcrumbs$4,icon:jsxRuntimeExports.jsx(PhoneCall,{}),className:`${rr.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsx("div",{className:"card",children:jsxRuntimeExports.jsx("div",{className:"card-body",children:jsxRuntimeExports.jsxs(Tabs,{id:"content-contact-tab",activeKey:ar,onSelect:Rr=>hr(Rr),children:[jsxRuntimeExports.jsx(Tab,{eventKey:"banner",title:"Banner",children:ar==="banner"&&jsxRuntimeExports.jsx(BannerEditor,{showLoading:ur,page:"profile",model:mKontakBanner,trigger:cr,schema:bannerSchema,uiSchema:bannerUiSchema,showAlert:fr})}),jsxRuntimeExports.jsx(Tab,{eventKey:"company",title:"Pondok Pesantren",children:ar==="company"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Wr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Company Details",formData:qr,schema:companySchema,uiSchema:companyUiSchema,onSubmit:Rr=>xr(Rr),onCancel:Rr=>jr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Company Details",rowData:qr,schema:companySchema}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Rr=>yr(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"contact-person",title:"Kontak Person",children:ar==="contact-person"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:kr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Contact Person",formData:br,schema:contactPersonSchema,uiSchema:contactPersonUiSchema,onSubmit:Rr=>Ir(Rr),onCancel:Rr=>Sr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"twx-text-2xl twx-text-center twx-py-4 twx-mb-8",children:"Contact Person"}),jsxRuntimeExports.jsx(ContactPersonList,{git:git$5,className:"twx-border twx-border-slate-200 twx-border-solid",data:pr,onEditRow:Rr=>Ar(Rr)})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"social-network-link",title:"Sosial Network Link",children:ar==="social-network-link"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:wr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{schema:socialNetworkLinkSchema,uiSchema:socialNetworkLinkUiSchema,title:"Edit SocialNetworkLink Data",formData:_r,onCancel:Rr=>Br(!1),onSubmit:Rr=>Pr(Rr)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{schema:socialNetworkLinkSchema,rowData:_r,title:"Social Network Link Data"}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Rr=>Er(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})})]})})})})})},LembagaList=({git:tr,className:Ot,data:Nt,onEditRow:er=rr=>rr})=>{const rr=[{name:"No",prop:"no",width:"50px",selector:(sr,ar)=>ar+1,cell:(sr,ar,lr,cr)=>`${ar+1}.`},{name:"Image",prop:"image",width:"130px",selector:sr=>sr.image,cell:sr=>jsxRuntimeExports.jsx(buildExports.LazyLoadImage,{className:"twx-max-w-[100px]",src:sr.image})},{name:"Title",prop:"title",width:"270px",selector:sr=>sr.title},{name:"Keterangan",width:"300px",prop:"description",selector:sr=>sr.description},{name:"Action",width:"120px",prop:"action",selector:sr=>sr.action,cell:sr=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Button,{size:"sm xs",onClick:ar=>er(sr),children:[jsxRuntimeExports.jsx(Edit,{})," Edit"," "]})})}],[ir,nr]=reactExports.useState([...rr]);return reactExports.useEffect(()=>{},[nr]),jsxRuntimeExports.jsx("div",{className:Ot,children:jsxRuntimeExports.jsx(Xe,{columns:ir,data:Nt,striped:!0,pagination:!0,fixedHeader:!0})})};class MGalery extends DBGitList{constructor(){super(...arguments);Li(this,"path","web/data/galery.json");Li(this,"dataRootField","contents");Li(this,"imageUploadPath","assets/images/galery/croped");Li(this,"shadowFields",{image:fileTransform})}}class MMetaGalery extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/pages/galery.json")}}class MGaleryBanner extends MBanner{constructor(){super(...arguments);Li(this,"path","web/data/galery.json")}}const git$4=createGit(),mGalery=new MGalery(git$4,galerySchema),mGaleryBanner=new MGaleryBanner(git$4,bannerSchema),mMetaGalery=new MMetaGalery(git$4,metaSchema),pageTitle$3="Galeri",breadcrumbs$3=[{title:"Konten",path:"contents"},{title:"Galeri",path:"content/galery"}],routePath$2="/contents/galery",GaleryContentPage=({subModule:tr})=>{const Ot=useLocation(),Nt=useDispatch(),er=useNavigate(),rr=useSelector(wr=>wr.content);useSelector(wr=>wr.setting);const{setLoading:ir,setLoadingMessage:nr,displayAlert:sr}=contentSlice.actions,[ar,lr]=reactExports.useState("banner"),[cr,dr]=reactExports.useState(!1),ur=(wr,Br="Menyimpan Data")=>{wr?(Nt(ir(!0)),Nt(nr(Br))):Nt(ir(!1))},fr=wr=>{er(`${routePath$2}/${wr}`)},hr=(wr,Br,_r)=>{Nt(sr([wr,Br,_r]))},[pr,gr]=reactExports.useState([]),[br,vr]=reactExports.useState(null),[kr,Sr]=reactExports.useState(!1),Cr=async()=>{const wr=await mGalery.getData();gr(wr)},Ar=async wr=>{vr(wr),Sr(!0)},Ir=async wr=>{const{formData:Br}=wr;ur(!0);try{await mGalery.updateRow(Br,!0)}catch(_r){Nt(sr(["danger","error",_r.toString()]))}ur(!1),Sr(!1),Cr()},[qr,Qr]=reactExports.useState(mMetaGalery.defaultValue),[Wr,jr]=reactExports.useState(!1),Or=async()=>{const wr=await mMetaGalery.get();Qr(wr)},yr=()=>{jr(!0)},xr=async wr=>{const{formData:Br}=wr;ur(!0);try{await mMetaGalery.update(Br),await mMetaGalery.commit(!0)}catch(_r){Nt(sr(["danger","error",_r.toString()]))}ur(!1),jr(!1),Or()};return reactExports.useEffect(()=>{const Br=Ot.pathname.split("/").at(-1);lr(Br),Br==="galery"?Cr():Br==="meta"?Or():Br==="banner"&&dr(crc32id())},[Ot.key,lr,vr,Qr]),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:pageTitle$3,breadcrumbs:breadcrumbs$3,icon:jsxRuntimeExports.jsx(Image,{}),className:`${rr.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsx("div",{className:"card",children:jsxRuntimeExports.jsx("div",{className:"card-body",children:jsxRuntimeExports.jsxs(Tabs,{id:"content-profile-tab",activeKey:ar,onSelect:wr=>fr(wr),children:[jsxRuntimeExports.jsx(Tab,{eventKey:"banner",title:"Banner",children:ar==="banner"&&jsxRuntimeExports.jsx(BannerEditor,{showLoading:ur,page:"profile",model:mGaleryBanner,trigger:cr,schema:bannerSchema,uiSchema:bannerUiSchema,showAlert:hr})}),jsxRuntimeExports.jsx(Tab,{eventKey:"galery",title:"Galeri",children:ar==="galery"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:kr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Item Galery",formData:br,schema:galerySchema,uiSchema:galeryUiSchema,onSubmit:wr=>Ir(wr),onCancel:wr=>Sr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"twx-text-2xl twx-text-center twx-py-4 twx-mb-8",children:"Daftar Galery"}),jsxRuntimeExports.jsx(LembagaList,{git:git$4,className:"twx-border twx-border-slate-200 twx-border-solid",data:pr,onEditRow:wr=>Ar(wr)})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"meta",title:"Meta",children:ar==="meta"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Wr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Meta Page",formData:qr,schema:metaSchema,uiSchema:metaUiSchema,onSubmit:wr=>xr(wr),onCancel:wr=>jr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Meta Page",schema:metaSchema,rowData:qr}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:wr=>yr(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})})]})})})})})},AsyncButton$1=({callback:tr,onClick:Ot,children:Nt})=>{const[er,rr]=reactExports.useState(!1),ir=async()=>{tr().then(nr=>rr(!nr))};return reactExports.useEffect(()=>{ir()},[rr]),er?jsxRuntimeExports.jsx(Button,{size:"sm xs",onClick:Ot,children:Nt}):null},BeritaList=({git:tr,className:Ot,data:Nt,onEditRow:er=nr=>nr,onCompileRow:rr=nr=>nr,validHash:ir=nr=>!0})=>{const nr=[{name:"No",prop:"no",width:"50px",selector:(lr,cr)=>cr+1,cell:(lr,cr,dr,ur)=>`${cr+1}.`},{name:"Cover",prop:"cover",width:"130px",selector:lr=>lr.cover,cell:lr=>jsxRuntimeExports.jsx(buildExports.LazyLoadImage,{className:"twx-max-w-[100px]",src:`/assets/images/berita/covers/${lr.cover}`})},{name:"Title",prop:"title",width:"270px",selector:lr=>lr.title},{name:"Headline",width:"300px",prop:"headline",selector:lr=>lr.headline},{name:"Action",width:"120px",prop:"action",selector:lr=>lr.action,cell:lr=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{size:"sm xs",onClick:cr=>er(lr),children:jsxRuntimeExports.jsx(Edit,{})}),jsxRuntimeExports.jsx(AsyncButton$1,{size:"sm xs",callback:async cr=>await ir(lr),onClick:cr=>rr(lr),children:jsxRuntimeExports.jsx(Archive,{})})]})}],[sr,ar]=reactExports.useState([...nr]);return reactExports.useEffect(()=>{},[ar]),jsxRuntimeExports.jsx("div",{className:Ot,children:jsxRuntimeExports.jsx(Xe,{columns:sr,data:Nt,striped:!0,pagination:!0,fixedHeader:!0})})};var sqlWasm={exports:{}},empty=null;const empty$1=Object.freeze(Object.defineProperty({__proto__:null,default:empty},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(empty$1);var pathBrowserify,hasRequiredPathBrowserify;function requirePathBrowserify(){if(hasRequiredPathBrowserify)return pathBrowserify;hasRequiredPathBrowserify=1;function tr(rr){if(typeof rr!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(rr))}function Ot(rr,ir){for(var nr="",sr=0,ar=-1,lr=0,cr,dr=0;dr<=rr.length;++dr){if(dr<rr.length)cr=rr.charCodeAt(dr);else{if(cr===47)break;cr=47}if(cr===47){if(!(ar===dr-1||lr===1))if(ar!==dr-1&&lr===2){if(nr.length<2||sr!==2||nr.charCodeAt(nr.length-1)!==46||nr.charCodeAt(nr.length-2)!==46){if(nr.length>2){var ur=nr.lastIndexOf("/");if(ur!==nr.length-1){ur===-1?(nr="",sr=0):(nr=nr.slice(0,ur),sr=nr.length-1-nr.lastIndexOf("/")),ar=dr,lr=0;continue}}else if(nr.length===2||nr.length===1){nr="",sr=0,ar=dr,lr=0;continue}}ir&&(nr.length>0?nr+="/..":nr="..",sr=2)}else nr.length>0?nr+="/"+rr.slice(ar+1,dr):nr=rr.slice(ar+1,dr),sr=dr-ar-1;ar=dr,lr=0}else cr===46&&lr!==-1?++lr:lr=-1}return nr}function Nt(rr,ir){var nr=ir.dir||ir.root,sr=ir.base||(ir.name||"")+(ir.ext||"");return nr?nr===ir.root?nr+sr:nr+rr+sr:sr}var er={resolve:function(){for(var ir="",nr=!1,sr,ar=arguments.length-1;ar>=-1&&!nr;ar--){var lr;ar>=0?lr=arguments[ar]:(sr===void 0&&(sr=process$1.cwd()),lr=sr),tr(lr),lr.length!==0&&(ir=lr+"/"+ir,nr=lr.charCodeAt(0)===47)}return ir=Ot(ir,!nr),nr?ir.length>0?"/"+ir:"/":ir.length>0?ir:"."},normalize:function(ir){if(tr(ir),ir.length===0)return".";var nr=ir.charCodeAt(0)===47,sr=ir.charCodeAt(ir.length-1)===47;return ir=Ot(ir,!nr),ir.length===0&&!nr&&(ir="."),ir.length>0&&sr&&(ir+="/"),nr?"/"+ir:ir},isAbsolute:function(ir){return tr(ir),ir.length>0&&ir.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var ir,nr=0;nr<arguments.length;++nr){var sr=arguments[nr];tr(sr),sr.length>0&&(ir===void 0?ir=sr:ir+="/"+sr)}return ir===void 0?".":er.normalize(ir)},relative:function(ir,nr){if(tr(ir),tr(nr),ir===nr||(ir=er.resolve(ir),nr=er.resolve(nr),ir===nr))return"";for(var sr=1;sr<ir.length&&ir.charCodeAt(sr)===47;++sr);for(var ar=ir.length,lr=ar-sr,cr=1;cr<nr.length&&nr.charCodeAt(cr)===47;++cr);for(var dr=nr.length,ur=dr-cr,fr=lr<ur?lr:ur,hr=-1,pr=0;pr<=fr;++pr){if(pr===fr){if(ur>fr){if(nr.charCodeAt(cr+pr)===47)return nr.slice(cr+pr+1);if(pr===0)return nr.slice(cr+pr)}else lr>fr&&(ir.charCodeAt(sr+pr)===47?hr=pr:pr===0&&(hr=0));break}var gr=ir.charCodeAt(sr+pr),br=nr.charCodeAt(cr+pr);if(gr!==br)break;gr===47&&(hr=pr)}var vr="";for(pr=sr+hr+1;pr<=ar;++pr)(pr===ar||ir.charCodeAt(pr)===47)&&(vr.length===0?vr+="..":vr+="/..");return vr.length>0?vr+nr.slice(cr+hr):(cr+=hr,nr.charCodeAt(cr)===47&&++cr,nr.slice(cr))},_makeLong:function(ir){return ir},dirname:function(ir){if(tr(ir),ir.length===0)return".";for(var nr=ir.charCodeAt(0),sr=nr===47,ar=-1,lr=!0,cr=ir.length-1;cr>=1;--cr)if(nr=ir.charCodeAt(cr),nr===47){if(!lr){ar=cr;break}}else lr=!1;return ar===-1?sr?"/":".":sr&&ar===1?"//":ir.slice(0,ar)},basename:function(ir,nr){if(nr!==void 0&&typeof nr!="string")throw new TypeError('"ext" argument must be a string');tr(ir);var sr=0,ar=-1,lr=!0,cr;if(nr!==void 0&&nr.length>0&&nr.length<=ir.length){if(nr.length===ir.length&&nr===ir)return"";var dr=nr.length-1,ur=-1;for(cr=ir.length-1;cr>=0;--cr){var fr=ir.charCodeAt(cr);if(fr===47){if(!lr){sr=cr+1;break}}else ur===-1&&(lr=!1,ur=cr+1),dr>=0&&(fr===nr.charCodeAt(dr)?--dr===-1&&(ar=cr):(dr=-1,ar=ur))}return sr===ar?ar=ur:ar===-1&&(ar=ir.length),ir.slice(sr,ar)}else{for(cr=ir.length-1;cr>=0;--cr)if(ir.charCodeAt(cr)===47){if(!lr){sr=cr+1;break}}else ar===-1&&(lr=!1,ar=cr+1);return ar===-1?"":ir.slice(sr,ar)}},extname:function(ir){tr(ir);for(var nr=-1,sr=0,ar=-1,lr=!0,cr=0,dr=ir.length-1;dr>=0;--dr){var ur=ir.charCodeAt(dr);if(ur===47){if(!lr){sr=dr+1;break}continue}ar===-1&&(lr=!1,ar=dr+1),ur===46?nr===-1?nr=dr:cr!==1&&(cr=1):nr!==-1&&(cr=-1)}return nr===-1||ar===-1||cr===0||cr===1&&nr===ar-1&&nr===sr+1?"":ir.slice(nr,ar)},format:function(ir){if(ir===null||typeof ir!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof ir);return Nt("/",ir)},parse:function(ir){tr(ir);var nr={root:"",dir:"",base:"",ext:"",name:""};if(ir.length===0)return nr;var sr=ir.charCodeAt(0),ar=sr===47,lr;ar?(nr.root="/",lr=1):lr=0;for(var cr=-1,dr=0,ur=-1,fr=!0,hr=ir.length-1,pr=0;hr>=lr;--hr){if(sr=ir.charCodeAt(hr),sr===47){if(!fr){dr=hr+1;break}continue}ur===-1&&(fr=!1,ur=hr+1),sr===46?cr===-1?cr=hr:pr!==1&&(pr=1):cr!==-1&&(pr=-1)}return cr===-1||ur===-1||pr===0||pr===1&&cr===ur-1&&cr===dr+1?ur!==-1&&(dr===0&&ar?nr.base=nr.name=ir.slice(1,ur):nr.base=nr.name=ir.slice(dr,ur)):(dr===0&&ar?(nr.name=ir.slice(1,cr),nr.base=ir.slice(1,ur)):(nr.name=ir.slice(dr,cr),nr.base=ir.slice(dr,ur)),nr.ext=ir.slice(cr,ur)),dr>0?nr.dir=ir.slice(0,dr-1):ar&&(nr.dir="/"),nr},sep:"/",delimiter:":",win32:null,posix:null};return er.posix=er,pathBrowserify=er,pathBrowserify}var cryptoBrowserify={},browser$b={exports:{}},hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var tr=65536,Ot=4294967295;function Nt(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var er=safeBufferExports.Buffer,rr=commonjsGlobal.crypto||commonjsGlobal.msCrypto;rr&&rr.getRandomValues?browser$b.exports=ir:browser$b.exports=Nt;function ir(nr,sr){if(nr>Ot)throw new RangeError("requested too many random bytes");var ar=er.allocUnsafe(nr);if(nr>0)if(nr>tr)for(var lr=0;lr<nr;lr+=tr)rr.getRandomValues(ar.slice(lr,lr+tr));else rr.getRandomValues(ar);return typeof sr=="function"?process$1.nextTick(function(){sr(null,ar)}):ar}return browser$b.exports}var readableBrowser$1={exports:{}},events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var tr=typeof Reflect=="object"?Reflect:null,Ot=tr&&typeof tr.apply=="function"?tr.apply:function(Cr,Ar,Ir){return Function.prototype.apply.call(Cr,Ar,Ir)},Nt;tr&&typeof tr.ownKeys=="function"?Nt=tr.ownKeys:Object.getOwnPropertySymbols?Nt=function(Cr){return Object.getOwnPropertyNames(Cr).concat(Object.getOwnPropertySymbols(Cr))}:Nt=function(Cr){return Object.getOwnPropertyNames(Cr)};function er(Sr){console&&console.warn&&console.warn(Sr)}var rr=Number.isNaN||function(Cr){return Cr!==Cr};function ir(){ir.init.call(this)}events.exports=ir,events.exports.once=br,ir.EventEmitter=ir,ir.prototype._events=void 0,ir.prototype._eventsCount=0,ir.prototype._maxListeners=void 0;var nr=10;function sr(Sr){if(typeof Sr!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Sr)}Object.defineProperty(ir,"defaultMaxListeners",{enumerable:!0,get:function(){return nr},set:function(Sr){if(typeof Sr!="number"||Sr<0||rr(Sr))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Sr+".");nr=Sr}}),ir.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ir.prototype.setMaxListeners=function(Cr){if(typeof Cr!="number"||Cr<0||rr(Cr))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Cr+".");return this._maxListeners=Cr,this};function ar(Sr){return Sr._maxListeners===void 0?ir.defaultMaxListeners:Sr._maxListeners}ir.prototype.getMaxListeners=function(){return ar(this)},ir.prototype.emit=function(Cr){for(var Ar=[],Ir=1;Ir<arguments.length;Ir++)Ar.push(arguments[Ir]);var qr=Cr==="error",Qr=this._events;if(Qr!==void 0)qr=qr&&Qr.error===void 0;else if(!qr)return!1;if(qr){var Wr;if(Ar.length>0&&(Wr=Ar[0]),Wr instanceof Error)throw Wr;var jr=new Error("Unhandled error."+(Wr?" ("+Wr.message+")":""));throw jr.context=Wr,jr}var Or=Qr[Cr];if(Or===void 0)return!1;if(typeof Or=="function")Ot(Or,this,Ar);else for(var yr=Or.length,xr=hr(Or,yr),Ir=0;Ir<yr;++Ir)Ot(xr[Ir],this,Ar);return!0};function lr(Sr,Cr,Ar,Ir){var qr,Qr,Wr;if(sr(Ar),Qr=Sr._events,Qr===void 0?(Qr=Sr._events=Object.create(null),Sr._eventsCount=0):(Qr.newListener!==void 0&&(Sr.emit("newListener",Cr,Ar.listener?Ar.listener:Ar),Qr=Sr._events),Wr=Qr[Cr]),Wr===void 0)Wr=Qr[Cr]=Ar,++Sr._eventsCount;else if(typeof Wr=="function"?Wr=Qr[Cr]=Ir?[Ar,Wr]:[Wr,Ar]:Ir?Wr.unshift(Ar):Wr.push(Ar),qr=ar(Sr),qr>0&&Wr.length>qr&&!Wr.warned){Wr.warned=!0;var jr=new Error("Possible EventEmitter memory leak detected. "+Wr.length+" "+String(Cr)+" listeners added. Use emitter.setMaxListeners() to increase limit");jr.name="MaxListenersExceededWarning",jr.emitter=Sr,jr.type=Cr,jr.count=Wr.length,er(jr)}return Sr}ir.prototype.addListener=function(Cr,Ar){return lr(this,Cr,Ar,!1)},ir.prototype.on=ir.prototype.addListener,ir.prototype.prependListener=function(Cr,Ar){return lr(this,Cr,Ar,!0)};function cr(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function dr(Sr,Cr,Ar){var Ir={fired:!1,wrapFn:void 0,target:Sr,type:Cr,listener:Ar},qr=cr.bind(Ir);return qr.listener=Ar,Ir.wrapFn=qr,qr}ir.prototype.once=function(Cr,Ar){return sr(Ar),this.on(Cr,dr(this,Cr,Ar)),this},ir.prototype.prependOnceListener=function(Cr,Ar){return sr(Ar),this.prependListener(Cr,dr(this,Cr,Ar)),this},ir.prototype.removeListener=function(Cr,Ar){var Ir,qr,Qr,Wr,jr;if(sr(Ar),qr=this._events,qr===void 0)return this;if(Ir=qr[Cr],Ir===void 0)return this;if(Ir===Ar||Ir.listener===Ar)--this._eventsCount===0?this._events=Object.create(null):(delete qr[Cr],qr.removeListener&&this.emit("removeListener",Cr,Ir.listener||Ar));else if(typeof Ir!="function"){for(Qr=-1,Wr=Ir.length-1;Wr>=0;Wr--)if(Ir[Wr]===Ar||Ir[Wr].listener===Ar){jr=Ir[Wr].listener,Qr=Wr;break}if(Qr<0)return this;Qr===0?Ir.shift():pr(Ir,Qr),Ir.length===1&&(qr[Cr]=Ir[0]),qr.removeListener!==void 0&&this.emit("removeListener",Cr,jr||Ar)}return this},ir.prototype.off=ir.prototype.removeListener,ir.prototype.removeAllListeners=function(Cr){var Ar,Ir,qr;if(Ir=this._events,Ir===void 0)return this;if(Ir.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Ir[Cr]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Ir[Cr]),this;if(arguments.length===0){var Qr=Object.keys(Ir),Wr;for(qr=0;qr<Qr.length;++qr)Wr=Qr[qr],Wr!=="removeListener"&&this.removeAllListeners(Wr);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Ar=Ir[Cr],typeof Ar=="function")this.removeListener(Cr,Ar);else if(Ar!==void 0)for(qr=Ar.length-1;qr>=0;qr--)this.removeListener(Cr,Ar[qr]);return this};function ur(Sr,Cr,Ar){var Ir=Sr._events;if(Ir===void 0)return[];var qr=Ir[Cr];return qr===void 0?[]:typeof qr=="function"?Ar?[qr.listener||qr]:[qr]:Ar?gr(qr):hr(qr,qr.length)}ir.prototype.listeners=function(Cr){return ur(this,Cr,!0)},ir.prototype.rawListeners=function(Cr){return ur(this,Cr,!1)},ir.listenerCount=function(Sr,Cr){return typeof Sr.listenerCount=="function"?Sr.listenerCount(Cr):fr.call(Sr,Cr)},ir.prototype.listenerCount=fr;function fr(Sr){var Cr=this._events;if(Cr!==void 0){var Ar=Cr[Sr];if(typeof Ar=="function")return 1;if(Ar!==void 0)return Ar.length}return 0}ir.prototype.eventNames=function(){return this._eventsCount>0?Nt(this._events):[]};function hr(Sr,Cr){for(var Ar=new Array(Cr),Ir=0;Ir<Cr;++Ir)Ar[Ir]=Sr[Ir];return Ar}function pr(Sr,Cr){for(;Cr+1<Sr.length;Cr++)Sr[Cr]=Sr[Cr+1];Sr.pop()}function gr(Sr){for(var Cr=new Array(Sr.length),Ar=0;Ar<Cr.length;++Ar)Cr[Ar]=Sr[Ar].listener||Sr[Ar];return Cr}function br(Sr,Cr){return new Promise(function(Ar,Ir){function qr(Wr){Sr.removeListener(Cr,Qr),Ir(Wr)}function Qr(){typeof Sr.removeListener=="function"&&Sr.removeListener("error",qr),Ar([].slice.call(arguments))}kr(Sr,Cr,Qr,{once:!0}),Cr!=="error"&&vr(Sr,qr,{once:!0})})}function vr(Sr,Cr,Ar){typeof Sr.on=="function"&&kr(Sr,"error",Cr,Ar)}function kr(Sr,Cr,Ar,Ir){if(typeof Sr.on=="function")Ir.once?Sr.once(Cr,Ar):Sr.on(Cr,Ar);else if(typeof Sr.addEventListener=="function")Sr.addEventListener(Cr,function qr(Qr){Ir.once&&Sr.removeEventListener(Cr,qr),Ar(Qr)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Sr)}return events.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$1={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var Ot={},Nt=Symbol("test"),er=Object(Nt);if(typeof Nt=="string"||Object.prototype.toString.call(Nt)!=="[object Symbol]"||Object.prototype.toString.call(er)!=="[object Symbol]")return!1;var rr=42;Ot[Nt]=rr;for(Nt in Ot)return!1;if(typeof Object.keys=="function"&&Object.keys(Ot).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(Ot).length!==0)return!1;var ir=Object.getOwnPropertySymbols(Ot);if(ir.length!==1||ir[0]!==Nt||!Object.prototype.propertyIsEnumerable.call(Ot,Nt))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var nr=Object.getOwnPropertyDescriptor(Ot,Nt);if(nr.value!==rr||nr.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var tr=requireShams$1();return shams=function(){return tr()&&!!Symbol.toStringTag},shams}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type$2,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type$2=TypeError),type$2}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var tr=typeof Symbol<"u"&&Symbol,Ot=requireShams$1();return hasSymbols=function(){return typeof tr!="function"||typeof Symbol!="function"||typeof tr("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ot()},hasSymbols}var hasProto,hasRequiredHasProto;function requireHasProto(){if(hasRequiredHasProto)return hasProto;hasRequiredHasProto=1;var tr={__proto__:null,foo:{}},Ot=Object;return hasProto=function(){return{__proto__:tr}.foo===tr.foo&&!(tr instanceof Ot)},hasProto}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var tr="Function.prototype.bind called on incompatible ",Ot=Object.prototype.toString,Nt=Math.max,er="[object Function]",rr=function(ar,lr){for(var cr=[],dr=0;dr<ar.length;dr+=1)cr[dr]=ar[dr];for(var ur=0;ur<lr.length;ur+=1)cr[ur+ar.length]=lr[ur];return cr},ir=function(ar,lr){for(var cr=[],dr=lr,ur=0;dr<ar.length;dr+=1,ur+=1)cr[ur]=ar[dr];return cr},nr=function(sr,ar){for(var lr="",cr=0;cr<sr.length;cr+=1)lr+=sr[cr],cr+1<sr.length&&(lr+=ar);return lr};return implementation=function(ar){var lr=this;if(typeof lr!="function"||Ot.apply(lr)!==er)throw new TypeError(tr+lr);for(var cr=ir(arguments,1),dr,ur=function(){if(this instanceof dr){var br=lr.apply(this,rr(cr,arguments));return Object(br)===br?br:this}return lr.apply(ar,rr(cr,arguments))},fr=Nt(0,lr.length-cr.length),hr=[],pr=0;pr<fr;pr++)hr[pr]="$"+pr;if(dr=Function("binder","return function ("+nr(hr,",")+"){ return binder.apply(this,arguments); }")(ur),lr.prototype){var gr=function(){};gr.prototype=lr.prototype,dr.prototype=new gr,gr.prototype=null}return dr},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var tr=requireImplementation();return functionBind=Function.prototype.bind||tr,functionBind}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var tr=Function.prototype.call,Ot=Object.prototype.hasOwnProperty,Nt=requireFunctionBind();return hasown=Nt.call(tr,Ot),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var tr,Ot=requireEsErrors(),Nt=require_eval(),er=requireRange(),rr=requireRef(),ir=requireSyntax(),nr=requireType(),sr=requireUri(),ar=Function,lr=function(_r){try{return ar('"use strict"; return ('+_r+").constructor;")()}catch{}},cr=Object.getOwnPropertyDescriptor;if(cr)try{cr({},"")}catch{cr=null}var dr=function(){throw new nr},ur=cr?function(){try{return arguments.callee,dr}catch{try{return cr(arguments,"callee").get}catch{return dr}}}():dr,fr=requireHasSymbols()(),hr=requireHasProto()(),pr=Object.getPrototypeOf||(hr?function(_r){return _r.__proto__}:null),gr={},br=typeof Uint8Array>"u"||!pr?tr:pr(Uint8Array),vr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?tr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?tr:ArrayBuffer,"%ArrayIteratorPrototype%":fr&&pr?pr([][Symbol.iterator]()):tr,"%AsyncFromSyncIteratorPrototype%":tr,"%AsyncFunction%":gr,"%AsyncGenerator%":gr,"%AsyncGeneratorFunction%":gr,"%AsyncIteratorPrototype%":gr,"%Atomics%":typeof Atomics>"u"?tr:Atomics,"%BigInt%":typeof BigInt>"u"?tr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?tr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?tr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?tr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ot,"%eval%":eval,"%EvalError%":Nt,"%Float32Array%":typeof Float32Array>"u"?tr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?tr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?tr:FinalizationRegistry,"%Function%":ar,"%GeneratorFunction%":gr,"%Int8Array%":typeof Int8Array>"u"?tr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?tr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?tr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":fr&&pr?pr(pr([][Symbol.iterator]())):tr,"%JSON%":typeof JSON=="object"?JSON:tr,"%Map%":typeof Map>"u"?tr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!fr||!pr?tr:pr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?tr:Promise,"%Proxy%":typeof Proxy>"u"?tr:Proxy,"%RangeError%":er,"%ReferenceError%":rr,"%Reflect%":typeof Reflect>"u"?tr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?tr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!fr||!pr?tr:pr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?tr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":fr&&pr?pr(""[Symbol.iterator]()):tr,"%Symbol%":fr?Symbol:tr,"%SyntaxError%":ir,"%ThrowTypeError%":ur,"%TypedArray%":br,"%TypeError%":nr,"%Uint8Array%":typeof Uint8Array>"u"?tr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?tr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?tr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?tr:Uint32Array,"%URIError%":sr,"%WeakMap%":typeof WeakMap>"u"?tr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?tr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?tr:WeakSet};if(pr)try{null.error}catch(_r){var kr=pr(pr(_r));vr["%Error.prototype%"]=kr}var Sr=function _r(Mr){var Tr;if(Mr==="%AsyncFunction%")Tr=lr("async function () {}");else if(Mr==="%GeneratorFunction%")Tr=lr("function* () {}");else if(Mr==="%AsyncGeneratorFunction%")Tr=lr("async function* () {}");else if(Mr==="%AsyncGenerator%"){var Er=_r("%AsyncGeneratorFunction%");Er&&(Tr=Er.prototype)}else if(Mr==="%AsyncIteratorPrototype%"){var Pr=_r("%AsyncGenerator%");Pr&&pr&&(Tr=pr(Pr.prototype))}return vr[Mr]=Tr,Tr},Cr={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ar=requireFunctionBind(),Ir=requireHasown(),qr=Ar.call(Function.call,Array.prototype.concat),Qr=Ar.call(Function.apply,Array.prototype.splice),Wr=Ar.call(Function.call,String.prototype.replace),jr=Ar.call(Function.call,String.prototype.slice),Or=Ar.call(Function.call,RegExp.prototype.exec),yr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xr=/\\(\\)?/g,wr=function(Mr){var Tr=jr(Mr,0,1),Er=jr(Mr,-1);if(Tr==="%"&&Er!=="%")throw new ir("invalid intrinsic syntax, expected closing `%`");if(Er==="%"&&Tr!=="%")throw new ir("invalid intrinsic syntax, expected opening `%`");var Pr=[];return Wr(Mr,yr,function(Rr,Lr,Hr,Gr){Pr[Pr.length]=Hr?Wr(Gr,xr,"$1"):Lr||Rr}),Pr},Br=function(Mr,Tr){var Er=Mr,Pr;if(Ir(Cr,Er)&&(Pr=Cr[Er],Er="%"+Pr[0]+"%"),Ir(vr,Er)){var Rr=vr[Er];if(Rr===gr&&(Rr=Sr(Er)),typeof Rr>"u"&&!Tr)throw new nr("intrinsic "+Mr+" exists, but is not available. Please file an issue!");return{alias:Pr,name:Er,value:Rr}}throw new ir("intrinsic "+Mr+" does not exist!")};return getIntrinsic=function(Mr,Tr){if(typeof Mr!="string"||Mr.length===0)throw new nr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Tr!="boolean")throw new nr('"allowMissing" argument must be a boolean');if(Or(/^%?[^%]*%?$/,Mr)===null)throw new ir("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Er=wr(Mr),Pr=Er.length>0?Er[0]:"",Rr=Br("%"+Pr+"%",Tr),Lr=Rr.name,Hr=Rr.value,Gr=!1,Ur=Rr.alias;Ur&&(Pr=Ur[0],Qr(Er,qr([0,1],Ur)));for(var Nr=1,Fr=!0;Nr<Er.length;Nr+=1){var Xr=Er[Nr],Jr=jr(Xr,0,1),Vr=jr(Xr,-1);if((Jr==='"'||Jr==="'"||Jr==="`"||Vr==='"'||Vr==="'"||Vr==="`")&&Jr!==Vr)throw new ir("property names with quotes must have matching quotes");if((Xr==="constructor"||!Fr)&&(Gr=!0),Pr+="."+Xr,Lr="%"+Pr+"%",Ir(vr,Lr))Hr=vr[Lr];else if(Hr!=null){if(!(Xr in Hr)){if(!Tr)throw new nr("base intrinsic for "+Mr+" exists, but the property is not available.");return}if(cr&&Nr+1>=Er.length){var Zr=cr(Hr,Xr);Fr=!!Zr,Fr&&"get"in Zr&&!("originalValue"in Zr.get)?Hr=Zr.get:Hr=Hr[Xr]}else Fr=Ir(Hr,Xr),Hr=Hr[Xr];Fr&&!Gr&&(vr[Lr]=Hr)}}return Hr},getIntrinsic}var callBind={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var tr=requireGetIntrinsic(),Ot=tr("%Object.defineProperty%",!0)||!1;if(Ot)try{Ot({},"a",{value:1})}catch{Ot=!1}return esDefineProperty=Ot,esDefineProperty}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var tr=requireGetIntrinsic(),Ot=tr("%Object.getOwnPropertyDescriptor%",!0);if(Ot)try{Ot([],"length")}catch{Ot=null}return gopd=Ot,gopd}var defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var tr=requireEsDefineProperty(),Ot=requireSyntax(),Nt=requireType(),er=requireGopd();return defineDataProperty=function(ir,nr,sr){if(!ir||typeof ir!="object"&&typeof ir!="function")throw new Nt("`obj` must be an object or a function`");if(typeof nr!="string"&&typeof nr!="symbol")throw new Nt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Nt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Nt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Nt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Nt("`loose`, if provided, must be a boolean");var ar=arguments.length>3?arguments[3]:null,lr=arguments.length>4?arguments[4]:null,cr=arguments.length>5?arguments[5]:null,dr=arguments.length>6?arguments[6]:!1,ur=!!er&&er(ir,nr);if(tr)tr(ir,nr,{configurable:cr===null&&ur?ur.configurable:!cr,enumerable:ar===null&&ur?ur.enumerable:!ar,value:sr,writable:lr===null&&ur?ur.writable:!lr});else if(dr||!ar&&!lr&&!cr)ir[nr]=sr;else throw new Ot("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var tr=requireEsDefineProperty(),Ot=function(){return!!tr};return Ot.hasArrayLengthDefineBug=function(){if(!tr)return null;try{return tr([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=Ot,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var tr=requireGetIntrinsic(),Ot=requireDefineDataProperty(),Nt=requireHasPropertyDescriptors()(),er=requireGopd(),rr=requireType(),ir=tr("%Math.floor%");return setFunctionLength=function(sr,ar){if(typeof sr!="function")throw new rr("`fn` is not a function");if(typeof ar!="number"||ar<0||ar>4294967295||ir(ar)!==ar)throw new rr("`length` must be a positive 32-bit integer");var lr=arguments.length>2&&!!arguments[2],cr=!0,dr=!0;if("length"in sr&&er){var ur=er(sr,"length");ur&&!ur.configurable&&(cr=!1),ur&&!ur.writable&&(dr=!1)}return(cr||dr||!lr)&&(Nt?Ot(sr,"length",ar,!0,!0):Ot(sr,"length",ar)),sr},setFunctionLength}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(tr){var Ot=requireFunctionBind(),Nt=requireGetIntrinsic(),er=requireSetFunctionLength(),rr=requireType(),ir=Nt("%Function.prototype.apply%"),nr=Nt("%Function.prototype.call%"),sr=Nt("%Reflect.apply%",!0)||Ot.call(nr,ir),ar=requireEsDefineProperty(),lr=Nt("%Math.max%");tr.exports=function(ur){if(typeof ur!="function")throw new rr("a function is required");var fr=sr(Ot,nr,arguments);return er(fr,1+lr(0,ur.length-(arguments.length-1)),!0)};var cr=function(){return sr(Ot,ir,arguments)};ar?ar(tr.exports,"apply",{value:cr}):tr.exports.apply=cr}(callBind)),callBind.exports}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var tr=requireGetIntrinsic(),Ot=requireCallBind(),Nt=Ot(tr("String.prototype.indexOf"));return callBound=function(rr,ir){var nr=tr(rr,!!ir);return typeof nr=="function"&&Nt(rr,".prototype.")>-1?Ot(nr):nr},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var tr=requireShams()(),Ot=requireCallBound(),Nt=Ot("Object.prototype.toString"),er=function(sr){return tr&&sr&&typeof sr=="object"&&Symbol.toStringTag in sr?!1:Nt(sr)==="[object Arguments]"},rr=function(sr){return er(sr)?!0:sr!==null&&typeof sr=="object"&&typeof sr.length=="number"&&sr.length>=0&&Nt(sr)!=="[object Array]"&&Nt(sr.callee)==="[object Function]"},ir=function(){return er(arguments)}();return er.isLegacyArguments=rr,isArguments=ir?er:rr,isArguments}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var tr=Object.prototype.toString,Ot=Function.prototype.toString,Nt=/^\s*(?:function)?\*/,er=requireShams()(),rr=Object.getPrototypeOf,ir=function(){if(!er)return!1;try{return Function("return function*() {}")()}catch{}},nr;return isGeneratorFunction=function(ar){if(typeof ar!="function")return!1;if(Nt.test(Ot.call(ar)))return!0;if(!er){var lr=tr.call(ar);return lr==="[object GeneratorFunction]"}if(!rr)return!1;if(typeof nr>"u"){var cr=ir();nr=cr?rr(cr):!1}return rr(ar)===nr},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var tr=Function.prototype.toString,Ot=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Nt,er;if(typeof Ot=="function"&&typeof Object.defineProperty=="function")try{Nt=Object.defineProperty({},"length",{get:function(){throw er}}),er={},Ot(function(){throw 42},null,Nt)}catch(vr){vr!==er&&(Ot=null)}else Ot=null;var rr=/^\s*class\b/,ir=function(kr){try{var Sr=tr.call(kr);return rr.test(Sr)}catch{return!1}},nr=function(kr){try{return ir(kr)?!1:(tr.call(kr),!0)}catch{return!1}},sr=Object.prototype.toString,ar="[object Object]",lr="[object Function]",cr="[object GeneratorFunction]",dr="[object HTMLAllCollection]",ur="[object HTML document.all class]",fr="[object HTMLCollection]",hr=typeof Symbol=="function"&&!!Symbol.toStringTag,pr=!(0 in[,]),gr=function(){return!1};if(typeof document=="object"){var br=document.all;sr.call(br)===sr.call(document.all)&&(gr=function(kr){if((pr||!kr)&&(typeof kr>"u"||typeof kr=="object"))try{var Sr=sr.call(kr);return(Sr===dr||Sr===ur||Sr===fr||Sr===ar)&&kr("")==null}catch{}return!1})}return isCallable=Ot?function(kr){if(gr(kr))return!0;if(!kr||typeof kr!="function"&&typeof kr!="object")return!1;try{Ot(kr,null,Nt)}catch(Sr){if(Sr!==er)return!1}return!ir(kr)&&nr(kr)}:function(kr){if(gr(kr))return!0;if(!kr||typeof kr!="function"&&typeof kr!="object")return!1;if(hr)return nr(kr);if(ir(kr))return!1;var Sr=sr.call(kr);return Sr!==lr&&Sr!==cr&&!/^\[object HTML/.test(Sr)?!1:nr(kr)},isCallable}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var tr=requireIsCallable(),Ot=Object.prototype.toString,Nt=Object.prototype.hasOwnProperty,er=function(ar,lr,cr){for(var dr=0,ur=ar.length;dr<ur;dr++)Nt.call(ar,dr)&&(cr==null?lr(ar[dr],dr,ar):lr.call(cr,ar[dr],dr,ar))},rr=function(ar,lr,cr){for(var dr=0,ur=ar.length;dr<ur;dr++)cr==null?lr(ar.charAt(dr),dr,ar):lr.call(cr,ar.charAt(dr),dr,ar)},ir=function(ar,lr,cr){for(var dr in ar)Nt.call(ar,dr)&&(cr==null?lr(ar[dr],dr,ar):lr.call(cr,ar[dr],dr,ar))},nr=function(ar,lr,cr){if(!tr(lr))throw new TypeError("iterator must be a function");var dr;arguments.length>=3&&(dr=cr),Ot.call(ar)==="[object Array]"?er(ar,lr,dr):typeof ar=="string"?rr(ar,lr,dr):ir(ar,lr,dr)};return forEach_1=nr,forEach_1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var tr=requirePossibleTypedArrayNames(),Ot=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var er=[],rr=0;rr<tr.length;rr++)typeof Ot[tr[rr]]=="function"&&(er[er.length]=tr[rr]);return er},availableTypedArrays}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var tr=requireForEach(),Ot=requireAvailableTypedArrays(),Nt=requireCallBind(),er=requireCallBound(),rr=requireGopd(),ir=er("Object.prototype.toString"),nr=requireShams()(),sr=typeof globalThis>"u"?commonjsGlobal:globalThis,ar=Ot(),lr=er("String.prototype.slice"),cr=Object.getPrototypeOf,dr=er("Array.prototype.indexOf",!0)||function(gr,br){for(var vr=0;vr<gr.length;vr+=1)if(gr[vr]===br)return vr;return-1},ur={__proto__:null};nr&&rr&&cr?tr(ar,function(pr){var gr=new sr[pr];if(Symbol.toStringTag in gr){var br=cr(gr),vr=rr(br,Symbol.toStringTag);if(!vr){var kr=cr(br);vr=rr(kr,Symbol.toStringTag)}ur["$"+pr]=Nt(vr.get)}}):tr(ar,function(pr){var gr=new sr[pr],br=gr.slice||gr.set;br&&(ur["$"+pr]=Nt(br))});var fr=function(gr){var br=!1;return tr(ur,function(vr,kr){if(!br)try{"$"+vr(gr)===kr&&(br=lr(kr,1))}catch{}}),br},hr=function(gr){var br=!1;return tr(ur,function(vr,kr){if(!br)try{vr(gr),br=lr(kr,1)}catch{}}),br};return whichTypedArray=function(gr){if(!gr||typeof gr!="object")return!1;if(!nr){var br=lr(ir(gr),8,-1);return dr(ar,br)>-1?br:br!=="Object"?!1:hr(gr)}return rr?fr(gr):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var tr=requireWhichTypedArray();return isTypedArray=function(Nt){return!!tr(Nt)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(tr){var Ot=requireIsArguments(),Nt=requireIsGeneratorFunction(),er=requireWhichTypedArray(),rr=requireIsTypedArray();function ir(Si){return Si.call.bind(Si)}var nr=typeof BigInt<"u",sr=typeof Symbol<"u",ar=ir(Object.prototype.toString),lr=ir(Number.prototype.valueOf),cr=ir(String.prototype.valueOf),dr=ir(Boolean.prototype.valueOf);if(nr)var ur=ir(BigInt.prototype.valueOf);if(sr)var fr=ir(Symbol.prototype.valueOf);function hr(Si,zi){if(typeof Si!="object")return!1;try{return zi(Si),!0}catch{return!1}}tr.isArgumentsObject=Ot,tr.isGeneratorFunction=Nt,tr.isTypedArray=rr;function pr(Si){return typeof Promise<"u"&&Si instanceof Promise||Si!==null&&typeof Si=="object"&&typeof Si.then=="function"&&typeof Si.catch=="function"}tr.isPromise=pr;function gr(Si){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Si):rr(Si)||Lr(Si)}tr.isArrayBufferView=gr;function br(Si){return er(Si)==="Uint8Array"}tr.isUint8Array=br;function vr(Si){return er(Si)==="Uint8ClampedArray"}tr.isUint8ClampedArray=vr;function kr(Si){return er(Si)==="Uint16Array"}tr.isUint16Array=kr;function Sr(Si){return er(Si)==="Uint32Array"}tr.isUint32Array=Sr;function Cr(Si){return er(Si)==="Int8Array"}tr.isInt8Array=Cr;function Ar(Si){return er(Si)==="Int16Array"}tr.isInt16Array=Ar;function Ir(Si){return er(Si)==="Int32Array"}tr.isInt32Array=Ir;function qr(Si){return er(Si)==="Float32Array"}tr.isFloat32Array=qr;function Qr(Si){return er(Si)==="Float64Array"}tr.isFloat64Array=Qr;function Wr(Si){return er(Si)==="BigInt64Array"}tr.isBigInt64Array=Wr;function jr(Si){return er(Si)==="BigUint64Array"}tr.isBigUint64Array=jr;function Or(Si){return ar(Si)==="[object Map]"}Or.working=typeof Map<"u"&&Or(new Map);function yr(Si){return typeof Map>"u"?!1:Or.working?Or(Si):Si instanceof Map}tr.isMap=yr;function xr(Si){return ar(Si)==="[object Set]"}xr.working=typeof Set<"u"&&xr(new Set);function wr(Si){return typeof Set>"u"?!1:xr.working?xr(Si):Si instanceof Set}tr.isSet=wr;function Br(Si){return ar(Si)==="[object WeakMap]"}Br.working=typeof WeakMap<"u"&&Br(new WeakMap);function _r(Si){return typeof WeakMap>"u"?!1:Br.working?Br(Si):Si instanceof WeakMap}tr.isWeakMap=_r;function Mr(Si){return ar(Si)==="[object WeakSet]"}Mr.working=typeof WeakSet<"u"&&Mr(new WeakSet);function Tr(Si){return Mr(Si)}tr.isWeakSet=Tr;function Er(Si){return ar(Si)==="[object ArrayBuffer]"}Er.working=typeof ArrayBuffer<"u"&&Er(new ArrayBuffer);function Pr(Si){return typeof ArrayBuffer>"u"?!1:Er.working?Er(Si):Si instanceof ArrayBuffer}tr.isArrayBuffer=Pr;function Rr(Si){return ar(Si)==="[object DataView]"}Rr.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Rr(new DataView(new ArrayBuffer(1),0,1));function Lr(Si){return typeof DataView>"u"?!1:Rr.working?Rr(Si):Si instanceof DataView}tr.isDataView=Lr;var Hr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Gr(Si){return ar(Si)==="[object SharedArrayBuffer]"}function Ur(Si){return typeof Hr>"u"?!1:(typeof Gr.working>"u"&&(Gr.working=Gr(new Hr)),Gr.working?Gr(Si):Si instanceof Hr)}tr.isSharedArrayBuffer=Ur;function Nr(Si){return ar(Si)==="[object AsyncFunction]"}tr.isAsyncFunction=Nr;function Fr(Si){return ar(Si)==="[object Map Iterator]"}tr.isMapIterator=Fr;function Xr(Si){return ar(Si)==="[object Set Iterator]"}tr.isSetIterator=Xr;function Jr(Si){return ar(Si)==="[object Generator]"}tr.isGeneratorObject=Jr;function Vr(Si){return ar(Si)==="[object WebAssembly.Module]"}tr.isWebAssemblyCompiledModule=Vr;function Zr(Si){return hr(Si,lr)}tr.isNumberObject=Zr;function Kr(Si){return hr(Si,cr)}tr.isStringObject=Kr;function Ci(Si){return hr(Si,dr)}tr.isBooleanObject=Ci;function Mi(Si){return nr&&hr(Si,ur)}tr.isBigIntObject=Mi;function Ti(Si){return sr&&hr(Si,fr)}tr.isSymbolObject=Ti;function Ii(Si){return Zr(Si)||Kr(Si)||Ci(Si)||Mi(Si)||Ti(Si)}tr.isBoxedPrimitive=Ii;function ji(Si){return typeof Uint8Array<"u"&&(Pr(Si)||Ur(Si))}tr.isAnyArrayBuffer=ji,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Si){Object.defineProperty(tr,Si,{enumerable:!1,value:function(){throw new Error(Si+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(Ot){return Ot&&typeof Ot=="object"&&typeof Ot.copy=="function"&&typeof Ot.fill=="function"&&typeof Ot.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(tr){var Ot={},Nt=Object.getOwnPropertyDescriptors||function(Hr){for(var Gr=Object.keys(Hr),Ur={},Nr=0;Nr<Gr.length;Nr++)Ur[Gr[Nr]]=Object.getOwnPropertyDescriptor(Hr,Gr[Nr]);return Ur},er=/%[sdj%]/g;tr.format=function(Lr){if(!Ar(Lr)){for(var Hr=[],Gr=0;Gr<arguments.length;Gr++)Hr.push(sr(arguments[Gr]));return Hr.join(" ")}for(var Gr=1,Ur=arguments,Nr=Ur.length,Fr=String(Lr).replace(er,function(Jr){if(Jr==="%%")return"%";if(Gr>=Nr)return Jr;switch(Jr){case"%s":return String(Ur[Gr++]);case"%d":return Number(Ur[Gr++]);case"%j":try{return JSON.stringify(Ur[Gr++])}catch{return"[Circular]"}default:return Jr}}),Xr=Ur[Gr];Gr<Nr;Xr=Ur[++Gr])kr(Xr)||!Wr(Xr)?Fr+=" "+Xr:Fr+=" "+sr(Xr);return Fr},tr.deprecate=function(Lr,Hr){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return Lr;if(typeof process$1>"u")return function(){return tr.deprecate(Lr,Hr).apply(this,arguments)};var Gr=!1;function Ur(){if(!Gr){if(process$1.throwDeprecation)throw new Error(Hr);process$1.traceDeprecation?console.trace(Hr):console.error(Hr),Gr=!0}return Lr.apply(this,arguments)}return Ur};var rr={},ir=/^$/;if(Ot.NODE_DEBUG){var nr=Ot.NODE_DEBUG;nr=nr.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),ir=new RegExp("^"+nr+"$","i")}tr.debuglog=function(Lr){if(Lr=Lr.toUpperCase(),!rr[Lr])if(ir.test(Lr)){var Hr=process$1.pid;rr[Lr]=function(){var Gr=tr.format.apply(tr,arguments);console.error("%s %d: %s",Lr,Hr,Gr)}}else rr[Lr]=function(){};return rr[Lr]};function sr(Lr,Hr){var Gr={seen:[],stylize:lr};return arguments.length>=3&&(Gr.depth=arguments[2]),arguments.length>=4&&(Gr.colors=arguments[3]),vr(Hr)?Gr.showHidden=Hr:Hr&&tr._extend(Gr,Hr),qr(Gr.showHidden)&&(Gr.showHidden=!1),qr(Gr.depth)&&(Gr.depth=2),qr(Gr.colors)&&(Gr.colors=!1),qr(Gr.customInspect)&&(Gr.customInspect=!0),Gr.colors&&(Gr.stylize=ar),dr(Gr,Lr,Gr.depth)}tr.inspect=sr,sr.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},sr.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function ar(Lr,Hr){var Gr=sr.styles[Hr];return Gr?"\x1B["+sr.colors[Gr][0]+"m"+Lr+"\x1B["+sr.colors[Gr][1]+"m":Lr}function lr(Lr,Hr){return Lr}function cr(Lr){var Hr={};return Lr.forEach(function(Gr,Ur){Hr[Gr]=!0}),Hr}function dr(Lr,Hr,Gr){if(Lr.customInspect&&Hr&&yr(Hr.inspect)&&Hr.inspect!==tr.inspect&&!(Hr.constructor&&Hr.constructor.prototype===Hr)){var Ur=Hr.inspect(Gr,Lr);return Ar(Ur)||(Ur=dr(Lr,Ur,Gr)),Ur}var Nr=ur(Lr,Hr);if(Nr)return Nr;var Fr=Object.keys(Hr),Xr=cr(Fr);if(Lr.showHidden&&(Fr=Object.getOwnPropertyNames(Hr)),Or(Hr)&&(Fr.indexOf("message")>=0||Fr.indexOf("description")>=0))return fr(Hr);if(Fr.length===0){if(yr(Hr)){var Jr=Hr.name?": "+Hr.name:"";return Lr.stylize("[Function"+Jr+"]","special")}if(Qr(Hr))return Lr.stylize(RegExp.prototype.toString.call(Hr),"regexp");if(jr(Hr))return Lr.stylize(Date.prototype.toString.call(Hr),"date");if(Or(Hr))return fr(Hr)}var Vr="",Zr=!1,Kr=["{","}"];if(br(Hr)&&(Zr=!0,Kr=["[","]"]),yr(Hr)){var Ci=Hr.name?": "+Hr.name:"";Vr=" [Function"+Ci+"]"}if(Qr(Hr)&&(Vr=" "+RegExp.prototype.toString.call(Hr)),jr(Hr)&&(Vr=" "+Date.prototype.toUTCString.call(Hr)),Or(Hr)&&(Vr=" "+fr(Hr)),Fr.length===0&&(!Zr||Hr.length==0))return Kr[0]+Vr+Kr[1];if(Gr<0)return Qr(Hr)?Lr.stylize(RegExp.prototype.toString.call(Hr),"regexp"):Lr.stylize("[Object]","special");Lr.seen.push(Hr);var Mi;return Zr?Mi=hr(Lr,Hr,Gr,Xr,Fr):Mi=Fr.map(function(Ti){return pr(Lr,Hr,Gr,Xr,Ti,Zr)}),Lr.seen.pop(),gr(Mi,Vr,Kr)}function ur(Lr,Hr){if(qr(Hr))return Lr.stylize("undefined","undefined");if(Ar(Hr)){var Gr="'"+JSON.stringify(Hr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Lr.stylize(Gr,"string")}if(Cr(Hr))return Lr.stylize(""+Hr,"number");if(vr(Hr))return Lr.stylize(""+Hr,"boolean");if(kr(Hr))return Lr.stylize("null","null")}function fr(Lr){return"["+Error.prototype.toString.call(Lr)+"]"}function hr(Lr,Hr,Gr,Ur,Nr){for(var Fr=[],Xr=0,Jr=Hr.length;Xr<Jr;++Xr)Tr(Hr,String(Xr))?Fr.push(pr(Lr,Hr,Gr,Ur,String(Xr),!0)):Fr.push("");return Nr.forEach(function(Vr){Vr.match(/^\d+$/)||Fr.push(pr(Lr,Hr,Gr,Ur,Vr,!0))}),Fr}function pr(Lr,Hr,Gr,Ur,Nr,Fr){var Xr,Jr,Vr;if(Vr=Object.getOwnPropertyDescriptor(Hr,Nr)||{value:Hr[Nr]},Vr.get?Vr.set?Jr=Lr.stylize("[Getter/Setter]","special"):Jr=Lr.stylize("[Getter]","special"):Vr.set&&(Jr=Lr.stylize("[Setter]","special")),Tr(Ur,Nr)||(Xr="["+Nr+"]"),Jr||(Lr.seen.indexOf(Vr.value)<0?(kr(Gr)?Jr=dr(Lr,Vr.value,null):Jr=dr(Lr,Vr.value,Gr-1),Jr.indexOf(`
`)>-1&&(Fr?Jr=Jr.split(`
`).map(function(Zr){return"  "+Zr}).join(`
`).slice(2):Jr=`
`+Jr.split(`
`).map(function(Zr){return"   "+Zr}).join(`
`))):Jr=Lr.stylize("[Circular]","special")),qr(Xr)){if(Fr&&Nr.match(/^\d+$/))return Jr;Xr=JSON.stringify(""+Nr),Xr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Xr=Xr.slice(1,-1),Xr=Lr.stylize(Xr,"name")):(Xr=Xr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Xr=Lr.stylize(Xr,"string"))}return Xr+": "+Jr}function gr(Lr,Hr,Gr){var Ur=Lr.reduce(function(Nr,Fr){return Fr.indexOf(`
`)>=0,Nr+Fr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ur>60?Gr[0]+(Hr===""?"":Hr+`
 `)+" "+Lr.join(`,
  `)+" "+Gr[1]:Gr[0]+Hr+" "+Lr.join(", ")+" "+Gr[1]}tr.types=requireTypes();function br(Lr){return Array.isArray(Lr)}tr.isArray=br;function vr(Lr){return typeof Lr=="boolean"}tr.isBoolean=vr;function kr(Lr){return Lr===null}tr.isNull=kr;function Sr(Lr){return Lr==null}tr.isNullOrUndefined=Sr;function Cr(Lr){return typeof Lr=="number"}tr.isNumber=Cr;function Ar(Lr){return typeof Lr=="string"}tr.isString=Ar;function Ir(Lr){return typeof Lr=="symbol"}tr.isSymbol=Ir;function qr(Lr){return Lr===void 0}tr.isUndefined=qr;function Qr(Lr){return Wr(Lr)&&wr(Lr)==="[object RegExp]"}tr.isRegExp=Qr,tr.types.isRegExp=Qr;function Wr(Lr){return typeof Lr=="object"&&Lr!==null}tr.isObject=Wr;function jr(Lr){return Wr(Lr)&&wr(Lr)==="[object Date]"}tr.isDate=jr,tr.types.isDate=jr;function Or(Lr){return Wr(Lr)&&(wr(Lr)==="[object Error]"||Lr instanceof Error)}tr.isError=Or,tr.types.isNativeError=Or;function yr(Lr){return typeof Lr=="function"}tr.isFunction=yr;function xr(Lr){return Lr===null||typeof Lr=="boolean"||typeof Lr=="number"||typeof Lr=="string"||typeof Lr=="symbol"||typeof Lr>"u"}tr.isPrimitive=xr,tr.isBuffer=requireIsBufferBrowser();function wr(Lr){return Object.prototype.toString.call(Lr)}function Br(Lr){return Lr<10?"0"+Lr.toString(10):Lr.toString(10)}var _r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Mr(){var Lr=new Date,Hr=[Br(Lr.getHours()),Br(Lr.getMinutes()),Br(Lr.getSeconds())].join(":");return[Lr.getDate(),_r[Lr.getMonth()],Hr].join(" ")}tr.log=function(){console.log("%s - %s",Mr(),tr.format.apply(tr,arguments))},tr.inherits=inherits_browserExports,tr._extend=function(Lr,Hr){if(!Hr||!Wr(Hr))return Lr;for(var Gr=Object.keys(Hr),Ur=Gr.length;Ur--;)Lr[Gr[Ur]]=Hr[Gr[Ur]];return Lr};function Tr(Lr,Hr){return Object.prototype.hasOwnProperty.call(Lr,Hr)}var Er=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;tr.promisify=function(Hr){if(typeof Hr!="function")throw new TypeError('The "original" argument must be of type Function');if(Er&&Hr[Er]){var Gr=Hr[Er];if(typeof Gr!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Gr,Er,{value:Gr,enumerable:!1,writable:!1,configurable:!0}),Gr}function Gr(){for(var Ur,Nr,Fr=new Promise(function(Vr,Zr){Ur=Vr,Nr=Zr}),Xr=[],Jr=0;Jr<arguments.length;Jr++)Xr.push(arguments[Jr]);Xr.push(function(Vr,Zr){Vr?Nr(Vr):Ur(Zr)});try{Hr.apply(this,Xr)}catch(Vr){Nr(Vr)}return Fr}return Object.setPrototypeOf(Gr,Object.getPrototypeOf(Hr)),Er&&Object.defineProperty(Gr,Er,{value:Gr,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Gr,Nt(Hr))},tr.promisify.custom=Er;function Pr(Lr,Hr){if(!Lr){var Gr=new Error("Promise was rejected with a falsy value");Gr.reason=Lr,Lr=Gr}return Hr(Lr)}function Rr(Lr){if(typeof Lr!="function")throw new TypeError('The "original" argument must be of type Function');function Hr(){for(var Gr=[],Ur=0;Ur<arguments.length;Ur++)Gr.push(arguments[Ur]);var Nr=Gr.pop();if(typeof Nr!="function")throw new TypeError("The last argument must be of type Function");var Fr=this,Xr=function(){return Nr.apply(Fr,arguments)};Lr.apply(this,Gr).then(function(Jr){process$1.nextTick(Xr.bind(null,null,Jr))},function(Jr){process$1.nextTick(Pr.bind(null,Jr,Xr))})}return Object.setPrototypeOf(Hr,Object.getPrototypeOf(Lr)),Object.defineProperties(Hr,Nt(Lr)),Hr}tr.callbackify=Rr}(util$1)),util$1}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function tr(hr,pr){var gr=Object.keys(hr);if(Object.getOwnPropertySymbols){var br=Object.getOwnPropertySymbols(hr);pr&&(br=br.filter(function(vr){return Object.getOwnPropertyDescriptor(hr,vr).enumerable})),gr.push.apply(gr,br)}return gr}function Ot(hr){for(var pr=1;pr<arguments.length;pr++){var gr=arguments[pr]!=null?arguments[pr]:{};pr%2?tr(Object(gr),!0).forEach(function(br){Nt(hr,br,gr[br])}):Object.getOwnPropertyDescriptors?Object.defineProperties(hr,Object.getOwnPropertyDescriptors(gr)):tr(Object(gr)).forEach(function(br){Object.defineProperty(hr,br,Object.getOwnPropertyDescriptor(gr,br))})}return hr}function Nt(hr,pr,gr){return pr=nr(pr),pr in hr?Object.defineProperty(hr,pr,{value:gr,enumerable:!0,configurable:!0,writable:!0}):hr[pr]=gr,hr}function er(hr,pr){if(!(hr instanceof pr))throw new TypeError("Cannot call a class as a function")}function rr(hr,pr){for(var gr=0;gr<pr.length;gr++){var br=pr[gr];br.enumerable=br.enumerable||!1,br.configurable=!0,"value"in br&&(br.writable=!0),Object.defineProperty(hr,nr(br.key),br)}}function ir(hr,pr,gr){return pr&&rr(hr.prototype,pr),Object.defineProperty(hr,"prototype",{writable:!1}),hr}function nr(hr){var pr=sr(hr,"string");return typeof pr=="symbol"?pr:String(pr)}function sr(hr,pr){if(typeof hr!="object"||hr===null)return hr;var gr=hr[Symbol.toPrimitive];if(gr!==void 0){var br=gr.call(hr,pr||"default");if(typeof br!="object")return br;throw new TypeError("@@toPrimitive must return a primitive value.")}return(pr==="string"?String:Number)(hr)}var ar=require$$1$3,lr=ar.Buffer,cr=requireUtil$1(),dr=cr.inspect,ur=dr&&dr.custom||"inspect";function fr(hr,pr,gr){lr.prototype.copy.call(hr,pr,gr)}return buffer_list=function(){function hr(){er(this,hr),this.head=null,this.tail=null,this.length=0}return ir(hr,[{key:"push",value:function(gr){var br={data:gr,next:null};this.length>0?this.tail.next=br:this.head=br,this.tail=br,++this.length}},{key:"unshift",value:function(gr){var br={data:gr,next:this.head};this.length===0&&(this.tail=br),this.head=br,++this.length}},{key:"shift",value:function(){if(this.length!==0){var gr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,gr}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(gr){if(this.length===0)return"";for(var br=this.head,vr=""+br.data;br=br.next;)vr+=gr+br.data;return vr}},{key:"concat",value:function(gr){if(this.length===0)return lr.alloc(0);for(var br=lr.allocUnsafe(gr>>>0),vr=this.head,kr=0;vr;)fr(vr.data,br,kr),kr+=vr.data.length,vr=vr.next;return br}},{key:"consume",value:function(gr,br){var vr;return gr<this.head.data.length?(vr=this.head.data.slice(0,gr),this.head.data=this.head.data.slice(gr)):gr===this.head.data.length?vr=this.shift():vr=br?this._getString(gr):this._getBuffer(gr),vr}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(gr){var br=this.head,vr=1,kr=br.data;for(gr-=kr.length;br=br.next;){var Sr=br.data,Cr=gr>Sr.length?Sr.length:gr;if(Cr===Sr.length?kr+=Sr:kr+=Sr.slice(0,gr),gr-=Cr,gr===0){Cr===Sr.length?(++vr,br.next?this.head=br.next:this.head=this.tail=null):(this.head=br,br.data=Sr.slice(Cr));break}++vr}return this.length-=vr,kr}},{key:"_getBuffer",value:function(gr){var br=lr.allocUnsafe(gr),vr=this.head,kr=1;for(vr.data.copy(br),gr-=vr.data.length;vr=vr.next;){var Sr=vr.data,Cr=gr>Sr.length?Sr.length:gr;if(Sr.copy(br,br.length-gr,0,Cr),gr-=Cr,gr===0){Cr===Sr.length?(++kr,vr.next?this.head=vr.next:this.head=this.tail=null):(this.head=vr,vr.data=Sr.slice(Cr));break}++kr}return this.length-=kr,br}},{key:ur,value:function(gr,br){return dr(this,Ot(Ot({},br),{},{depth:0,customInspect:!1}))}}]),hr}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function tr(nr,sr){var ar=this,lr=this._readableState&&this._readableState.destroyed,cr=this._writableState&&this._writableState.destroyed;return lr||cr?(sr?sr(nr):nr&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(rr,this,nr)):process$1.nextTick(rr,this,nr)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(nr||null,function(dr){!sr&&dr?ar._writableState?ar._writableState.errorEmitted?process$1.nextTick(Nt,ar):(ar._writableState.errorEmitted=!0,process$1.nextTick(Ot,ar,dr)):process$1.nextTick(Ot,ar,dr):sr?(process$1.nextTick(Nt,ar),sr(dr)):process$1.nextTick(Nt,ar)}),this)}function Ot(nr,sr){rr(nr,sr),Nt(nr)}function Nt(nr){nr._writableState&&!nr._writableState.emitClose||nr._readableState&&!nr._readableState.emitClose||nr.emit("close")}function er(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function rr(nr,sr){nr.emit("error",sr)}function ir(nr,sr){var ar=nr._readableState,lr=nr._writableState;ar&&ar.autoDestroy||lr&&lr.autoDestroy?nr.destroy(sr):nr.emit("error",sr)}return destroy_1$1={destroy:tr,undestroy:er,errorOrDestroy:ir},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function tr(sr,ar){sr.prototype=Object.create(ar.prototype),sr.prototype.constructor=sr,sr.__proto__=ar}var Ot={};function Nt(sr,ar,lr){lr||(lr=Error);function cr(ur,fr,hr){return typeof ar=="string"?ar:ar(ur,fr,hr)}var dr=function(ur){tr(fr,ur);function fr(hr,pr,gr){return ur.call(this,cr(hr,pr,gr))||this}return fr}(lr);dr.prototype.name=lr.name,dr.prototype.code=sr,Ot[sr]=dr}function er(sr,ar){if(Array.isArray(sr)){var lr=sr.length;return sr=sr.map(function(cr){return String(cr)}),lr>2?"one of ".concat(ar," ").concat(sr.slice(0,lr-1).join(", "),", or ")+sr[lr-1]:lr===2?"one of ".concat(ar," ").concat(sr[0]," or ").concat(sr[1]):"of ".concat(ar," ").concat(sr[0])}else return"of ".concat(ar," ").concat(String(sr))}function rr(sr,ar,lr){return sr.substr(0,ar.length)===ar}function ir(sr,ar,lr){return(lr===void 0||lr>sr.length)&&(lr=sr.length),sr.substring(lr-ar.length,lr)===ar}function nr(sr,ar,lr){return typeof lr!="number"&&(lr=0),lr+ar.length>sr.length?!1:sr.indexOf(ar,lr)!==-1}return Nt("ERR_INVALID_OPT_VALUE",function(sr,ar){return'The value "'+ar+'" is invalid for option "'+sr+'"'},TypeError),Nt("ERR_INVALID_ARG_TYPE",function(sr,ar,lr){var cr;typeof ar=="string"&&rr(ar,"not ")?(cr="must not be",ar=ar.replace(/^not /,"")):cr="must be";var dr;if(ir(sr," argument"))dr="The ".concat(sr," ").concat(cr," ").concat(er(ar,"type"));else{var ur=nr(sr,".")?"property":"argument";dr='The "'.concat(sr,'" ').concat(ur," ").concat(cr," ").concat(er(ar,"type"))}return dr+=". Received type ".concat(typeof lr),dr},TypeError),Nt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Nt("ERR_METHOD_NOT_IMPLEMENTED",function(sr){return"The "+sr+" method is not implemented"}),Nt("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Nt("ERR_STREAM_DESTROYED",function(sr){return"Cannot call "+sr+" after a stream was destroyed"}),Nt("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Nt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Nt("ERR_STREAM_WRITE_AFTER_END","write after end"),Nt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Nt("ERR_UNKNOWN_ENCODING",function(sr){return"Unknown encoding: "+sr},TypeError),Nt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=Ot,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var tr=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function Ot(er,rr,ir){return er.highWaterMark!=null?er.highWaterMark:rr?er[ir]:null}function Nt(er,rr,ir,nr){var sr=Ot(rr,nr,ir);if(sr!=null){if(!(isFinite(sr)&&Math.floor(sr)===sr)||sr<0){var ar=nr?ir:"highWaterMark";throw new tr(ar,sr)}return Math.floor(sr)}return er.objectMode?16:16*1024}return state={getHighWaterMark:Nt},state}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1,browser$a=tr;function tr(Nt,er){if(Ot("noDeprecation"))return Nt;var rr=!1;function ir(){if(!rr){if(Ot("throwDeprecation"))throw new Error(er);Ot("traceDeprecation")?console.trace(er):console.warn(er),rr=!0}return Nt.apply(this,arguments)}return ir}function Ot(Nt){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var er=commonjsGlobal.localStorage[Nt];return er==null?!1:String(er).toLowerCase()==="true"}return browser$a}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=qr;function tr(Ur){var Nr=this;this.next=null,this.entry=null,this.finish=function(){Gr(Nr,Ur)}}var Ot;qr.WritableState=Ar;var Nt={deprecate:requireBrowser$a()},er=requireStreamBrowser$1(),rr=require$$1$3.Buffer,ir=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function nr(Ur){return rr.from(Ur)}function sr(Ur){return rr.isBuffer(Ur)||Ur instanceof ir}var ar=requireDestroy$1(),lr=requireState(),cr=lr.getHighWaterMark,dr=requireErrorsBrowser().codes,ur=dr.ERR_INVALID_ARG_TYPE,fr=dr.ERR_METHOD_NOT_IMPLEMENTED,hr=dr.ERR_MULTIPLE_CALLBACK,pr=dr.ERR_STREAM_CANNOT_PIPE,gr=dr.ERR_STREAM_DESTROYED,br=dr.ERR_STREAM_NULL_VALUES,vr=dr.ERR_STREAM_WRITE_AFTER_END,kr=dr.ERR_UNKNOWN_ENCODING,Sr=ar.errorOrDestroy;inherits_browserExports(qr,er);function Cr(){}function Ar(Ur,Nr,Fr){Ot=Ot||require_stream_duplex$1(),Ur=Ur||{},typeof Fr!="boolean"&&(Fr=Nr instanceof Ot),this.objectMode=!!Ur.objectMode,Fr&&(this.objectMode=this.objectMode||!!Ur.writableObjectMode),this.highWaterMark=cr(this,Ur,"writableHighWaterMark",Fr),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Xr=Ur.decodeStrings===!1;this.decodeStrings=!Xr,this.defaultEncoding=Ur.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Jr){Br(Nr,Jr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ur.emitClose!==!1,this.autoDestroy=!!Ur.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new tr(this)}Ar.prototype.getBuffer=function(){for(var Nr=this.bufferedRequest,Fr=[];Nr;)Fr.push(Nr),Nr=Nr.next;return Fr},function(){try{Object.defineProperty(Ar.prototype,"buffer",{get:Nt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Ir;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ir=Function.prototype[Symbol.hasInstance],Object.defineProperty(qr,Symbol.hasInstance,{value:function(Nr){return Ir.call(this,Nr)?!0:this!==qr?!1:Nr&&Nr._writableState instanceof Ar}})):Ir=function(Nr){return Nr instanceof this};function qr(Ur){Ot=Ot||require_stream_duplex$1();var Nr=this instanceof Ot;if(!Nr&&!Ir.call(qr,this))return new qr(Ur);this._writableState=new Ar(Ur,this,Nr),this.writable=!0,Ur&&(typeof Ur.write=="function"&&(this._write=Ur.write),typeof Ur.writev=="function"&&(this._writev=Ur.writev),typeof Ur.destroy=="function"&&(this._destroy=Ur.destroy),typeof Ur.final=="function"&&(this._final=Ur.final)),er.call(this)}qr.prototype.pipe=function(){Sr(this,new pr)};function Qr(Ur,Nr){var Fr=new vr;Sr(Ur,Fr),process$1.nextTick(Nr,Fr)}function Wr(Ur,Nr,Fr,Xr){var Jr;return Fr===null?Jr=new br:typeof Fr!="string"&&!Nr.objectMode&&(Jr=new ur("chunk",["string","Buffer"],Fr)),Jr?(Sr(Ur,Jr),process$1.nextTick(Xr,Jr),!1):!0}qr.prototype.write=function(Ur,Nr,Fr){var Xr=this._writableState,Jr=!1,Vr=!Xr.objectMode&&sr(Ur);return Vr&&!rr.isBuffer(Ur)&&(Ur=nr(Ur)),typeof Nr=="function"&&(Fr=Nr,Nr=null),Vr?Nr="buffer":Nr||(Nr=Xr.defaultEncoding),typeof Fr!="function"&&(Fr=Cr),Xr.ending?Qr(this,Fr):(Vr||Wr(this,Xr,Ur,Fr))&&(Xr.pendingcb++,Jr=Or(this,Xr,Vr,Ur,Nr,Fr)),Jr},qr.prototype.cork=function(){this._writableState.corked++},qr.prototype.uncork=function(){var Ur=this._writableState;Ur.corked&&(Ur.corked--,!Ur.writing&&!Ur.corked&&!Ur.bufferProcessing&&Ur.bufferedRequest&&Tr(this,Ur))},qr.prototype.setDefaultEncoding=function(Nr){if(typeof Nr=="string"&&(Nr=Nr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Nr+"").toLowerCase())>-1))throw new kr(Nr);return this._writableState.defaultEncoding=Nr,this},Object.defineProperty(qr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function jr(Ur,Nr,Fr){return!Ur.objectMode&&Ur.decodeStrings!==!1&&typeof Nr=="string"&&(Nr=rr.from(Nr,Fr)),Nr}Object.defineProperty(qr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Or(Ur,Nr,Fr,Xr,Jr,Vr){if(!Fr){var Zr=jr(Nr,Xr,Jr);Xr!==Zr&&(Fr=!0,Jr="buffer",Xr=Zr)}var Kr=Nr.objectMode?1:Xr.length;Nr.length+=Kr;var Ci=Nr.length<Nr.highWaterMark;if(Ci||(Nr.needDrain=!0),Nr.writing||Nr.corked){var Mi=Nr.lastBufferedRequest;Nr.lastBufferedRequest={chunk:Xr,encoding:Jr,isBuf:Fr,callback:Vr,next:null},Mi?Mi.next=Nr.lastBufferedRequest:Nr.bufferedRequest=Nr.lastBufferedRequest,Nr.bufferedRequestCount+=1}else yr(Ur,Nr,!1,Kr,Xr,Jr,Vr);return Ci}function yr(Ur,Nr,Fr,Xr,Jr,Vr,Zr){Nr.writelen=Xr,Nr.writecb=Zr,Nr.writing=!0,Nr.sync=!0,Nr.destroyed?Nr.onwrite(new gr("write")):Fr?Ur._writev(Jr,Nr.onwrite):Ur._write(Jr,Vr,Nr.onwrite),Nr.sync=!1}function xr(Ur,Nr,Fr,Xr,Jr){--Nr.pendingcb,Fr?(process$1.nextTick(Jr,Xr),process$1.nextTick(Lr,Ur,Nr),Ur._writableState.errorEmitted=!0,Sr(Ur,Xr)):(Jr(Xr),Ur._writableState.errorEmitted=!0,Sr(Ur,Xr),Lr(Ur,Nr))}function wr(Ur){Ur.writing=!1,Ur.writecb=null,Ur.length-=Ur.writelen,Ur.writelen=0}function Br(Ur,Nr){var Fr=Ur._writableState,Xr=Fr.sync,Jr=Fr.writecb;if(typeof Jr!="function")throw new hr;if(wr(Fr),Nr)xr(Ur,Fr,Xr,Nr,Jr);else{var Vr=Er(Fr)||Ur.destroyed;!Vr&&!Fr.corked&&!Fr.bufferProcessing&&Fr.bufferedRequest&&Tr(Ur,Fr),Xr?process$1.nextTick(_r,Ur,Fr,Vr,Jr):_r(Ur,Fr,Vr,Jr)}}function _r(Ur,Nr,Fr,Xr){Fr||Mr(Ur,Nr),Nr.pendingcb--,Xr(),Lr(Ur,Nr)}function Mr(Ur,Nr){Nr.length===0&&Nr.needDrain&&(Nr.needDrain=!1,Ur.emit("drain"))}function Tr(Ur,Nr){Nr.bufferProcessing=!0;var Fr=Nr.bufferedRequest;if(Ur._writev&&Fr&&Fr.next){var Xr=Nr.bufferedRequestCount,Jr=new Array(Xr),Vr=Nr.corkedRequestsFree;Vr.entry=Fr;for(var Zr=0,Kr=!0;Fr;)Jr[Zr]=Fr,Fr.isBuf||(Kr=!1),Fr=Fr.next,Zr+=1;Jr.allBuffers=Kr,yr(Ur,Nr,!0,Nr.length,Jr,"",Vr.finish),Nr.pendingcb++,Nr.lastBufferedRequest=null,Vr.next?(Nr.corkedRequestsFree=Vr.next,Vr.next=null):Nr.corkedRequestsFree=new tr(Nr),Nr.bufferedRequestCount=0}else{for(;Fr;){var Ci=Fr.chunk,Mi=Fr.encoding,Ti=Fr.callback,Ii=Nr.objectMode?1:Ci.length;if(yr(Ur,Nr,!1,Ii,Ci,Mi,Ti),Fr=Fr.next,Nr.bufferedRequestCount--,Nr.writing)break}Fr===null&&(Nr.lastBufferedRequest=null)}Nr.bufferedRequest=Fr,Nr.bufferProcessing=!1}qr.prototype._write=function(Ur,Nr,Fr){Fr(new fr("_write()"))},qr.prototype._writev=null,qr.prototype.end=function(Ur,Nr,Fr){var Xr=this._writableState;return typeof Ur=="function"?(Fr=Ur,Ur=null,Nr=null):typeof Nr=="function"&&(Fr=Nr,Nr=null),Ur!=null&&this.write(Ur,Nr),Xr.corked&&(Xr.corked=1,this.uncork()),Xr.ending||Hr(this,Xr,Fr),this},Object.defineProperty(qr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Er(Ur){return Ur.ending&&Ur.length===0&&Ur.bufferedRequest===null&&!Ur.finished&&!Ur.writing}function Pr(Ur,Nr){Ur._final(function(Fr){Nr.pendingcb--,Fr&&Sr(Ur,Fr),Nr.prefinished=!0,Ur.emit("prefinish"),Lr(Ur,Nr)})}function Rr(Ur,Nr){!Nr.prefinished&&!Nr.finalCalled&&(typeof Ur._final=="function"&&!Nr.destroyed?(Nr.pendingcb++,Nr.finalCalled=!0,process$1.nextTick(Pr,Ur,Nr)):(Nr.prefinished=!0,Ur.emit("prefinish")))}function Lr(Ur,Nr){var Fr=Er(Nr);if(Fr&&(Rr(Ur,Nr),Nr.pendingcb===0&&(Nr.finished=!0,Ur.emit("finish"),Nr.autoDestroy))){var Xr=Ur._readableState;(!Xr||Xr.autoDestroy&&Xr.endEmitted)&&Ur.destroy()}return Fr}function Hr(Ur,Nr,Fr){Nr.ending=!0,Lr(Ur,Nr),Fr&&(Nr.finished?process$1.nextTick(Fr):Ur.once("finish",Fr)),Nr.ended=!0,Ur.writable=!1}function Gr(Ur,Nr,Fr){var Xr=Ur.entry;for(Ur.entry=null;Xr;){var Jr=Xr.callback;Nr.pendingcb--,Jr(Fr),Xr=Xr.next}Nr.corkedRequestsFree.next=Ur}return Object.defineProperty(qr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Nr){this._writableState&&(this._writableState.destroyed=Nr)}}),qr.prototype.destroy=ar.destroy,qr.prototype._undestroy=ar.undestroy,qr.prototype._destroy=function(Ur,Nr){Nr(Ur)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var tr=Object.keys||function(lr){var cr=[];for(var dr in lr)cr.push(dr);return cr};_stream_duplex$1=nr;var Ot=require_stream_readable$1(),Nt=require_stream_writable$1();inherits_browserExports(nr,Ot);for(var er=tr(Nt.prototype),rr=0;rr<er.length;rr++){var ir=er[rr];nr.prototype[ir]||(nr.prototype[ir]=Nt.prototype[ir])}function nr(lr){if(!(this instanceof nr))return new nr(lr);Ot.call(this,lr),Nt.call(this,lr),this.allowHalfOpen=!0,lr&&(lr.readable===!1&&(this.readable=!1),lr.writable===!1&&(this.writable=!1),lr.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",sr)))}Object.defineProperty(nr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(nr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(nr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function sr(){this._writableState.ended||process$1.nextTick(ar,this)}function ar(lr){lr.end()}return Object.defineProperty(nr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(cr){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=cr,this._writableState.destroyed=cr)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var tr=safeBufferExports.Buffer,Ot=tr.isEncoding||function(br){switch(br=""+br,br&&br.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Nt(br){if(!br)return"utf8";for(var vr;;)switch(br){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return br;default:if(vr)return;br=(""+br).toLowerCase(),vr=!0}}function er(br){var vr=Nt(br);if(typeof vr!="string"&&(tr.isEncoding===Ot||!Ot(br)))throw new Error("Unknown encoding: "+br);return vr||br}string_decoder.StringDecoder=rr;function rr(br){this.encoding=er(br);var vr;switch(this.encoding){case"utf16le":this.text=dr,this.end=ur,vr=4;break;case"utf8":this.fillLast=ar,vr=4;break;case"base64":this.text=fr,this.end=hr,vr=3;break;default:this.write=pr,this.end=gr;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=tr.allocUnsafe(vr)}rr.prototype.write=function(br){if(br.length===0)return"";var vr,kr;if(this.lastNeed){if(vr=this.fillLast(br),vr===void 0)return"";kr=this.lastNeed,this.lastNeed=0}else kr=0;return kr<br.length?vr?vr+this.text(br,kr):this.text(br,kr):vr||""},rr.prototype.end=cr,rr.prototype.text=lr,rr.prototype.fillLast=function(br){if(this.lastNeed<=br.length)return br.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);br.copy(this.lastChar,this.lastTotal-this.lastNeed,0,br.length),this.lastNeed-=br.length};function ir(br){return br<=127?0:br>>5===6?2:br>>4===14?3:br>>3===30?4:br>>6===2?-1:-2}function nr(br,vr,kr){var Sr=vr.length-1;if(Sr<kr)return 0;var Cr=ir(vr[Sr]);return Cr>=0?(Cr>0&&(br.lastNeed=Cr-1),Cr):--Sr<kr||Cr===-2?0:(Cr=ir(vr[Sr]),Cr>=0?(Cr>0&&(br.lastNeed=Cr-2),Cr):--Sr<kr||Cr===-2?0:(Cr=ir(vr[Sr]),Cr>=0?(Cr>0&&(Cr===2?Cr=0:br.lastNeed=Cr-3),Cr):0))}function sr(br,vr,kr){if((vr[0]&192)!==128)return br.lastNeed=0,"�";if(br.lastNeed>1&&vr.length>1){if((vr[1]&192)!==128)return br.lastNeed=1,"�";if(br.lastNeed>2&&vr.length>2&&(vr[2]&192)!==128)return br.lastNeed=2,"�"}}function ar(br){var vr=this.lastTotal-this.lastNeed,kr=sr(this,br);if(kr!==void 0)return kr;if(this.lastNeed<=br.length)return br.copy(this.lastChar,vr,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);br.copy(this.lastChar,vr,0,br.length),this.lastNeed-=br.length}function lr(br,vr){var kr=nr(this,br,vr);if(!this.lastNeed)return br.toString("utf8",vr);this.lastTotal=kr;var Sr=br.length-(kr-this.lastNeed);return br.copy(this.lastChar,0,Sr),br.toString("utf8",vr,Sr)}function cr(br){var vr=br&&br.length?this.write(br):"";return this.lastNeed?vr+"�":vr}function dr(br,vr){if((br.length-vr)%2===0){var kr=br.toString("utf16le",vr);if(kr){var Sr=kr.charCodeAt(kr.length-1);if(Sr>=55296&&Sr<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=br[br.length-2],this.lastChar[1]=br[br.length-1],kr.slice(0,-1)}return kr}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=br[br.length-1],br.toString("utf16le",vr,br.length-1)}function ur(br){var vr=br&&br.length?this.write(br):"";if(this.lastNeed){var kr=this.lastTotal-this.lastNeed;return vr+this.lastChar.toString("utf16le",0,kr)}return vr}function fr(br,vr){var kr=(br.length-vr)%3;return kr===0?br.toString("base64",vr):(this.lastNeed=3-kr,this.lastTotal=3,kr===1?this.lastChar[0]=br[br.length-1]:(this.lastChar[0]=br[br.length-2],this.lastChar[1]=br[br.length-1]),br.toString("base64",vr,br.length-kr))}function hr(br){var vr=br&&br.length?this.write(br):"";return this.lastNeed?vr+this.lastChar.toString("base64",0,3-this.lastNeed):vr}function pr(br){return br.toString(this.encoding)}function gr(br){return br&&br.length?this.write(br):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var tr=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function Ot(ir){var nr=!1;return function(){if(!nr){nr=!0;for(var sr=arguments.length,ar=new Array(sr),lr=0;lr<sr;lr++)ar[lr]=arguments[lr];ir.apply(this,ar)}}}function Nt(){}function er(ir){return ir.setHeader&&typeof ir.abort=="function"}function rr(ir,nr,sr){if(typeof nr=="function")return rr(ir,null,nr);nr||(nr={}),sr=Ot(sr||Nt);var ar=nr.readable||nr.readable!==!1&&ir.readable,lr=nr.writable||nr.writable!==!1&&ir.writable,cr=function(){ir.writable||ur()},dr=ir._writableState&&ir._writableState.finished,ur=function(){lr=!1,dr=!0,ar||sr.call(ir)},fr=ir._readableState&&ir._readableState.endEmitted,hr=function(){ar=!1,fr=!0,lr||sr.call(ir)},pr=function(kr){sr.call(ir,kr)},gr=function(){var kr;if(ar&&!fr)return(!ir._readableState||!ir._readableState.ended)&&(kr=new tr),sr.call(ir,kr);if(lr&&!dr)return(!ir._writableState||!ir._writableState.ended)&&(kr=new tr),sr.call(ir,kr)},br=function(){ir.req.on("finish",ur)};return er(ir)?(ir.on("complete",ur),ir.on("abort",gr),ir.req?br():ir.on("request",br)):lr&&!ir._writableState&&(ir.on("end",cr),ir.on("close",cr)),ir.on("end",hr),ir.on("finish",ur),nr.error!==!1&&ir.on("error",pr),ir.on("close",gr),function(){ir.removeListener("complete",ur),ir.removeListener("abort",gr),ir.removeListener("request",br),ir.req&&ir.req.removeListener("finish",ur),ir.removeListener("end",cr),ir.removeListener("close",cr),ir.removeListener("finish",ur),ir.removeListener("end",hr),ir.removeListener("error",pr),ir.removeListener("close",gr)}}return endOfStream=rr,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var tr;function Ot(kr,Sr,Cr){return Sr=Nt(Sr),Sr in kr?Object.defineProperty(kr,Sr,{value:Cr,enumerable:!0,configurable:!0,writable:!0}):kr[Sr]=Cr,kr}function Nt(kr){var Sr=er(kr,"string");return typeof Sr=="symbol"?Sr:String(Sr)}function er(kr,Sr){if(typeof kr!="object"||kr===null)return kr;var Cr=kr[Symbol.toPrimitive];if(Cr!==void 0){var Ar=Cr.call(kr,Sr||"default");if(typeof Ar!="object")return Ar;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Sr==="string"?String:Number)(kr)}var rr=requireEndOfStream(),ir=Symbol("lastResolve"),nr=Symbol("lastReject"),sr=Symbol("error"),ar=Symbol("ended"),lr=Symbol("lastPromise"),cr=Symbol("handlePromise"),dr=Symbol("stream");function ur(kr,Sr){return{value:kr,done:Sr}}function fr(kr){var Sr=kr[ir];if(Sr!==null){var Cr=kr[dr].read();Cr!==null&&(kr[lr]=null,kr[ir]=null,kr[nr]=null,Sr(ur(Cr,!1)))}}function hr(kr){process$1.nextTick(fr,kr)}function pr(kr,Sr){return function(Cr,Ar){kr.then(function(){if(Sr[ar]){Cr(ur(void 0,!0));return}Sr[cr](Cr,Ar)},Ar)}}var gr=Object.getPrototypeOf(function(){}),br=Object.setPrototypeOf((tr={get stream(){return this[dr]},next:function(){var Sr=this,Cr=this[sr];if(Cr!==null)return Promise.reject(Cr);if(this[ar])return Promise.resolve(ur(void 0,!0));if(this[dr].destroyed)return new Promise(function(Qr,Wr){process$1.nextTick(function(){Sr[sr]?Wr(Sr[sr]):Qr(ur(void 0,!0))})});var Ar=this[lr],Ir;if(Ar)Ir=new Promise(pr(Ar,this));else{var qr=this[dr].read();if(qr!==null)return Promise.resolve(ur(qr,!1));Ir=new Promise(this[cr])}return this[lr]=Ir,Ir}},Ot(tr,Symbol.asyncIterator,function(){return this}),Ot(tr,"return",function(){var Sr=this;return new Promise(function(Cr,Ar){Sr[dr].destroy(null,function(Ir){if(Ir){Ar(Ir);return}Cr(ur(void 0,!0))})})}),tr),gr),vr=function(Sr){var Cr,Ar=Object.create(br,(Cr={},Ot(Cr,dr,{value:Sr,writable:!0}),Ot(Cr,ir,{value:null,writable:!0}),Ot(Cr,nr,{value:null,writable:!0}),Ot(Cr,sr,{value:null,writable:!0}),Ot(Cr,ar,{value:Sr._readableState.endEmitted,writable:!0}),Ot(Cr,cr,{value:function(qr,Qr){var Wr=Ar[dr].read();Wr?(Ar[lr]=null,Ar[ir]=null,Ar[nr]=null,qr(ur(Wr,!1))):(Ar[ir]=qr,Ar[nr]=Qr)},writable:!0}),Cr));return Ar[lr]=null,rr(Sr,function(Ir){if(Ir&&Ir.code!=="ERR_STREAM_PREMATURE_CLOSE"){var qr=Ar[nr];qr!==null&&(Ar[lr]=null,Ar[ir]=null,Ar[nr]=null,qr(Ir)),Ar[sr]=Ir;return}var Qr=Ar[ir];Qr!==null&&(Ar[lr]=null,Ar[ir]=null,Ar[nr]=null,Qr(ur(void 0,!0))),Ar[ar]=!0}),Sr.on("readable",hr.bind(null,Ar)),Ar};return async_iterator=vr,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Qr;var tr;Qr.ReadableState=qr,requireEvents().EventEmitter;var Ot=function(Zr,Kr){return Zr.listeners(Kr).length},Nt=requireStreamBrowser$1(),er=require$$1$3.Buffer,rr=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ir(Vr){return er.from(Vr)}function nr(Vr){return er.isBuffer(Vr)||Vr instanceof rr}var sr=requireUtil$1(),ar;sr&&sr.debuglog?ar=sr.debuglog("stream"):ar=function(){};var lr=requireBuffer_list(),cr=requireDestroy$1(),dr=requireState(),ur=dr.getHighWaterMark,fr=requireErrorsBrowser().codes,hr=fr.ERR_INVALID_ARG_TYPE,pr=fr.ERR_STREAM_PUSH_AFTER_EOF,gr=fr.ERR_METHOD_NOT_IMPLEMENTED,br=fr.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,vr,kr,Sr;inherits_browserExports(Qr,Nt);var Cr=cr.errorOrDestroy,Ar=["error","close","destroy","pause","resume"];function Ir(Vr,Zr,Kr){if(typeof Vr.prependListener=="function")return Vr.prependListener(Zr,Kr);!Vr._events||!Vr._events[Zr]?Vr.on(Zr,Kr):Array.isArray(Vr._events[Zr])?Vr._events[Zr].unshift(Kr):Vr._events[Zr]=[Kr,Vr._events[Zr]]}function qr(Vr,Zr,Kr){tr=tr||require_stream_duplex$1(),Vr=Vr||{},typeof Kr!="boolean"&&(Kr=Zr instanceof tr),this.objectMode=!!Vr.objectMode,Kr&&(this.objectMode=this.objectMode||!!Vr.readableObjectMode),this.highWaterMark=ur(this,Vr,"readableHighWaterMark",Kr),this.buffer=new lr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Vr.emitClose!==!1,this.autoDestroy=!!Vr.autoDestroy,this.destroyed=!1,this.defaultEncoding=Vr.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Vr.encoding&&(vr||(vr=requireString_decoder().StringDecoder),this.decoder=new vr(Vr.encoding),this.encoding=Vr.encoding)}function Qr(Vr){if(tr=tr||require_stream_duplex$1(),!(this instanceof Qr))return new Qr(Vr);var Zr=this instanceof tr;this._readableState=new qr(Vr,this,Zr),this.readable=!0,Vr&&(typeof Vr.read=="function"&&(this._read=Vr.read),typeof Vr.destroy=="function"&&(this._destroy=Vr.destroy)),Nt.call(this)}Object.defineProperty(Qr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Zr){this._readableState&&(this._readableState.destroyed=Zr)}}),Qr.prototype.destroy=cr.destroy,Qr.prototype._undestroy=cr.undestroy,Qr.prototype._destroy=function(Vr,Zr){Zr(Vr)},Qr.prototype.push=function(Vr,Zr){var Kr=this._readableState,Ci;return Kr.objectMode?Ci=!0:typeof Vr=="string"&&(Zr=Zr||Kr.defaultEncoding,Zr!==Kr.encoding&&(Vr=er.from(Vr,Zr),Zr=""),Ci=!0),Wr(this,Vr,Zr,!1,Ci)},Qr.prototype.unshift=function(Vr){return Wr(this,Vr,null,!0,!1)};function Wr(Vr,Zr,Kr,Ci,Mi){ar("readableAddChunk",Zr);var Ti=Vr._readableState;if(Zr===null)Ti.reading=!1,Br(Vr,Ti);else{var Ii;if(Mi||(Ii=Or(Ti,Zr)),Ii)Cr(Vr,Ii);else if(Ti.objectMode||Zr&&Zr.length>0)if(typeof Zr!="string"&&!Ti.objectMode&&Object.getPrototypeOf(Zr)!==er.prototype&&(Zr=ir(Zr)),Ci)Ti.endEmitted?Cr(Vr,new br):jr(Vr,Ti,Zr,!0);else if(Ti.ended)Cr(Vr,new pr);else{if(Ti.destroyed)return!1;Ti.reading=!1,Ti.decoder&&!Kr?(Zr=Ti.decoder.write(Zr),Ti.objectMode||Zr.length!==0?jr(Vr,Ti,Zr,!1):Tr(Vr,Ti)):jr(Vr,Ti,Zr,!1)}else Ci||(Ti.reading=!1,Tr(Vr,Ti))}return!Ti.ended&&(Ti.length<Ti.highWaterMark||Ti.length===0)}function jr(Vr,Zr,Kr,Ci){Zr.flowing&&Zr.length===0&&!Zr.sync?(Zr.awaitDrain=0,Vr.emit("data",Kr)):(Zr.length+=Zr.objectMode?1:Kr.length,Ci?Zr.buffer.unshift(Kr):Zr.buffer.push(Kr),Zr.needReadable&&_r(Vr)),Tr(Vr,Zr)}function Or(Vr,Zr){var Kr;return!nr(Zr)&&typeof Zr!="string"&&Zr!==void 0&&!Vr.objectMode&&(Kr=new hr("chunk",["string","Buffer","Uint8Array"],Zr)),Kr}Qr.prototype.isPaused=function(){return this._readableState.flowing===!1},Qr.prototype.setEncoding=function(Vr){vr||(vr=requireString_decoder().StringDecoder);var Zr=new vr(Vr);this._readableState.decoder=Zr,this._readableState.encoding=this._readableState.decoder.encoding;for(var Kr=this._readableState.buffer.head,Ci="";Kr!==null;)Ci+=Zr.write(Kr.data),Kr=Kr.next;return this._readableState.buffer.clear(),Ci!==""&&this._readableState.buffer.push(Ci),this._readableState.length=Ci.length,this};var yr=1073741824;function xr(Vr){return Vr>=yr?Vr=yr:(Vr--,Vr|=Vr>>>1,Vr|=Vr>>>2,Vr|=Vr>>>4,Vr|=Vr>>>8,Vr|=Vr>>>16,Vr++),Vr}function wr(Vr,Zr){return Vr<=0||Zr.length===0&&Zr.ended?0:Zr.objectMode?1:Vr!==Vr?Zr.flowing&&Zr.length?Zr.buffer.head.data.length:Zr.length:(Vr>Zr.highWaterMark&&(Zr.highWaterMark=xr(Vr)),Vr<=Zr.length?Vr:Zr.ended?Zr.length:(Zr.needReadable=!0,0))}Qr.prototype.read=function(Vr){ar("read",Vr),Vr=parseInt(Vr,10);var Zr=this._readableState,Kr=Vr;if(Vr!==0&&(Zr.emittedReadable=!1),Vr===0&&Zr.needReadable&&((Zr.highWaterMark!==0?Zr.length>=Zr.highWaterMark:Zr.length>0)||Zr.ended))return ar("read: emitReadable",Zr.length,Zr.ended),Zr.length===0&&Zr.ended?Fr(this):_r(this),null;if(Vr=wr(Vr,Zr),Vr===0&&Zr.ended)return Zr.length===0&&Fr(this),null;var Ci=Zr.needReadable;ar("need readable",Ci),(Zr.length===0||Zr.length-Vr<Zr.highWaterMark)&&(Ci=!0,ar("length less than watermark",Ci)),Zr.ended||Zr.reading?(Ci=!1,ar("reading or ended",Ci)):Ci&&(ar("do read"),Zr.reading=!0,Zr.sync=!0,Zr.length===0&&(Zr.needReadable=!0),this._read(Zr.highWaterMark),Zr.sync=!1,Zr.reading||(Vr=wr(Kr,Zr)));var Mi;return Vr>0?Mi=Nr(Vr,Zr):Mi=null,Mi===null?(Zr.needReadable=Zr.length<=Zr.highWaterMark,Vr=0):(Zr.length-=Vr,Zr.awaitDrain=0),Zr.length===0&&(Zr.ended||(Zr.needReadable=!0),Kr!==Vr&&Zr.ended&&Fr(this)),Mi!==null&&this.emit("data",Mi),Mi};function Br(Vr,Zr){if(ar("onEofChunk"),!Zr.ended){if(Zr.decoder){var Kr=Zr.decoder.end();Kr&&Kr.length&&(Zr.buffer.push(Kr),Zr.length+=Zr.objectMode?1:Kr.length)}Zr.ended=!0,Zr.sync?_r(Vr):(Zr.needReadable=!1,Zr.emittedReadable||(Zr.emittedReadable=!0,Mr(Vr)))}}function _r(Vr){var Zr=Vr._readableState;ar("emitReadable",Zr.needReadable,Zr.emittedReadable),Zr.needReadable=!1,Zr.emittedReadable||(ar("emitReadable",Zr.flowing),Zr.emittedReadable=!0,process$1.nextTick(Mr,Vr))}function Mr(Vr){var Zr=Vr._readableState;ar("emitReadable_",Zr.destroyed,Zr.length,Zr.ended),!Zr.destroyed&&(Zr.length||Zr.ended)&&(Vr.emit("readable"),Zr.emittedReadable=!1),Zr.needReadable=!Zr.flowing&&!Zr.ended&&Zr.length<=Zr.highWaterMark,Ur(Vr)}function Tr(Vr,Zr){Zr.readingMore||(Zr.readingMore=!0,process$1.nextTick(Er,Vr,Zr))}function Er(Vr,Zr){for(;!Zr.reading&&!Zr.ended&&(Zr.length<Zr.highWaterMark||Zr.flowing&&Zr.length===0);){var Kr=Zr.length;if(ar("maybeReadMore read 0"),Vr.read(0),Kr===Zr.length)break}Zr.readingMore=!1}Qr.prototype._read=function(Vr){Cr(this,new gr("_read()"))},Qr.prototype.pipe=function(Vr,Zr){var Kr=this,Ci=this._readableState;switch(Ci.pipesCount){case 0:Ci.pipes=Vr;break;case 1:Ci.pipes=[Ci.pipes,Vr];break;default:Ci.pipes.push(Vr);break}Ci.pipesCount+=1,ar("pipe count=%d opts=%j",Ci.pipesCount,Zr);var Mi=(!Zr||Zr.end!==!1)&&Vr!==process$1.stdout&&Vr!==process$1.stderr,Ti=Mi?ji:ln;Ci.endEmitted?process$1.nextTick(Ti):Kr.once("end",Ti),Vr.on("unpipe",Ii);function Ii(qi,fn){ar("onunpipe"),qi===Kr&&fn&&fn.hasUnpiped===!1&&(fn.hasUnpiped=!0,Di())}function ji(){ar("onend"),Vr.end()}var Si=Pr(Kr);Vr.on("drain",Si);var zi=!1;function Di(){ar("cleanup"),Vr.removeListener("close",Ni),Vr.removeListener("finish",rn),Vr.removeListener("drain",Si),Vr.removeListener("error",Vi),Vr.removeListener("unpipe",Ii),Kr.removeListener("end",ji),Kr.removeListener("end",ln),Kr.removeListener("data",Fi),zi=!0,Ci.awaitDrain&&(!Vr._writableState||Vr._writableState.needDrain)&&Si()}Kr.on("data",Fi);function Fi(qi){ar("ondata");var fn=Vr.write(qi);ar("dest.write",fn),fn===!1&&((Ci.pipesCount===1&&Ci.pipes===Vr||Ci.pipesCount>1&&Jr(Ci.pipes,Vr)!==-1)&&!zi&&(ar("false write response, pause",Ci.awaitDrain),Ci.awaitDrain++),Kr.pause())}function Vi(qi){ar("onerror",qi),ln(),Vr.removeListener("error",Vi),Ot(Vr,"error")===0&&Cr(Vr,qi)}Ir(Vr,"error",Vi);function Ni(){Vr.removeListener("finish",rn),ln()}Vr.once("close",Ni);function rn(){ar("onfinish"),Vr.removeListener("close",Ni),ln()}Vr.once("finish",rn);function ln(){ar("unpipe"),Kr.unpipe(Vr)}return Vr.emit("pipe",Kr),Ci.flowing||(ar("pipe resume"),Kr.resume()),Vr};function Pr(Vr){return function(){var Kr=Vr._readableState;ar("pipeOnDrain",Kr.awaitDrain),Kr.awaitDrain&&Kr.awaitDrain--,Kr.awaitDrain===0&&Ot(Vr,"data")&&(Kr.flowing=!0,Ur(Vr))}}Qr.prototype.unpipe=function(Vr){var Zr=this._readableState,Kr={hasUnpiped:!1};if(Zr.pipesCount===0)return this;if(Zr.pipesCount===1)return Vr&&Vr!==Zr.pipes?this:(Vr||(Vr=Zr.pipes),Zr.pipes=null,Zr.pipesCount=0,Zr.flowing=!1,Vr&&Vr.emit("unpipe",this,Kr),this);if(!Vr){var Ci=Zr.pipes,Mi=Zr.pipesCount;Zr.pipes=null,Zr.pipesCount=0,Zr.flowing=!1;for(var Ti=0;Ti<Mi;Ti++)Ci[Ti].emit("unpipe",this,{hasUnpiped:!1});return this}var Ii=Jr(Zr.pipes,Vr);return Ii===-1?this:(Zr.pipes.splice(Ii,1),Zr.pipesCount-=1,Zr.pipesCount===1&&(Zr.pipes=Zr.pipes[0]),Vr.emit("unpipe",this,Kr),this)},Qr.prototype.on=function(Vr,Zr){var Kr=Nt.prototype.on.call(this,Vr,Zr),Ci=this._readableState;return Vr==="data"?(Ci.readableListening=this.listenerCount("readable")>0,Ci.flowing!==!1&&this.resume()):Vr==="readable"&&!Ci.endEmitted&&!Ci.readableListening&&(Ci.readableListening=Ci.needReadable=!0,Ci.flowing=!1,Ci.emittedReadable=!1,ar("on readable",Ci.length,Ci.reading),Ci.length?_r(this):Ci.reading||process$1.nextTick(Lr,this)),Kr},Qr.prototype.addListener=Qr.prototype.on,Qr.prototype.removeListener=function(Vr,Zr){var Kr=Nt.prototype.removeListener.call(this,Vr,Zr);return Vr==="readable"&&process$1.nextTick(Rr,this),Kr},Qr.prototype.removeAllListeners=function(Vr){var Zr=Nt.prototype.removeAllListeners.apply(this,arguments);return(Vr==="readable"||Vr===void 0)&&process$1.nextTick(Rr,this),Zr};function Rr(Vr){var Zr=Vr._readableState;Zr.readableListening=Vr.listenerCount("readable")>0,Zr.resumeScheduled&&!Zr.paused?Zr.flowing=!0:Vr.listenerCount("data")>0&&Vr.resume()}function Lr(Vr){ar("readable nexttick read 0"),Vr.read(0)}Qr.prototype.resume=function(){var Vr=this._readableState;return Vr.flowing||(ar("resume"),Vr.flowing=!Vr.readableListening,Hr(this,Vr)),Vr.paused=!1,this};function Hr(Vr,Zr){Zr.resumeScheduled||(Zr.resumeScheduled=!0,process$1.nextTick(Gr,Vr,Zr))}function Gr(Vr,Zr){ar("resume",Zr.reading),Zr.reading||Vr.read(0),Zr.resumeScheduled=!1,Vr.emit("resume"),Ur(Vr),Zr.flowing&&!Zr.reading&&Vr.read(0)}Qr.prototype.pause=function(){return ar("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ar("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ur(Vr){var Zr=Vr._readableState;for(ar("flow",Zr.flowing);Zr.flowing&&Vr.read()!==null;);}Qr.prototype.wrap=function(Vr){var Zr=this,Kr=this._readableState,Ci=!1;Vr.on("end",function(){if(ar("wrapped end"),Kr.decoder&&!Kr.ended){var Ii=Kr.decoder.end();Ii&&Ii.length&&Zr.push(Ii)}Zr.push(null)}),Vr.on("data",function(Ii){if(ar("wrapped data"),Kr.decoder&&(Ii=Kr.decoder.write(Ii)),!(Kr.objectMode&&Ii==null)&&!(!Kr.objectMode&&(!Ii||!Ii.length))){var ji=Zr.push(Ii);ji||(Ci=!0,Vr.pause())}});for(var Mi in Vr)this[Mi]===void 0&&typeof Vr[Mi]=="function"&&(this[Mi]=function(ji){return function(){return Vr[ji].apply(Vr,arguments)}}(Mi));for(var Ti=0;Ti<Ar.length;Ti++)Vr.on(Ar[Ti],this.emit.bind(this,Ar[Ti]));return this._read=function(Ii){ar("wrapped _read",Ii),Ci&&(Ci=!1,Vr.resume())},this},typeof Symbol=="function"&&(Qr.prototype[Symbol.asyncIterator]=function(){return kr===void 0&&(kr=requireAsync_iterator()),kr(this)}),Object.defineProperty(Qr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Qr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Qr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Zr){this._readableState&&(this._readableState.flowing=Zr)}}),Qr._fromList=Nr,Object.defineProperty(Qr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Nr(Vr,Zr){if(Zr.length===0)return null;var Kr;return Zr.objectMode?Kr=Zr.buffer.shift():!Vr||Vr>=Zr.length?(Zr.decoder?Kr=Zr.buffer.join(""):Zr.buffer.length===1?Kr=Zr.buffer.first():Kr=Zr.buffer.concat(Zr.length),Zr.buffer.clear()):Kr=Zr.buffer.consume(Vr,Zr.decoder),Kr}function Fr(Vr){var Zr=Vr._readableState;ar("endReadable",Zr.endEmitted),Zr.endEmitted||(Zr.ended=!0,process$1.nextTick(Xr,Zr,Vr))}function Xr(Vr,Zr){if(ar("endReadableNT",Vr.endEmitted,Vr.length),!Vr.endEmitted&&Vr.length===0&&(Vr.endEmitted=!0,Zr.readable=!1,Zr.emit("end"),Vr.autoDestroy)){var Kr=Zr._writableState;(!Kr||Kr.autoDestroy&&Kr.finished)&&Zr.destroy()}}typeof Symbol=="function"&&(Qr.from=function(Vr,Zr){return Sr===void 0&&(Sr=requireFromBrowser()),Sr(Qr,Vr,Zr)});function Jr(Vr,Zr){for(var Kr=0,Ci=Vr.length;Kr<Ci;Kr++)if(Vr[Kr]===Zr)return Kr;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=sr;var tr=requireErrorsBrowser().codes,Ot=tr.ERR_METHOD_NOT_IMPLEMENTED,Nt=tr.ERR_MULTIPLE_CALLBACK,er=tr.ERR_TRANSFORM_ALREADY_TRANSFORMING,rr=tr.ERR_TRANSFORM_WITH_LENGTH_0,ir=require_stream_duplex$1();inherits_browserExports(sr,ir);function nr(cr,dr){var ur=this._transformState;ur.transforming=!1;var fr=ur.writecb;if(fr===null)return this.emit("error",new Nt);ur.writechunk=null,ur.writecb=null,dr!=null&&this.push(dr),fr(cr);var hr=this._readableState;hr.reading=!1,(hr.needReadable||hr.length<hr.highWaterMark)&&this._read(hr.highWaterMark)}function sr(cr){if(!(this instanceof sr))return new sr(cr);ir.call(this,cr),this._transformState={afterTransform:nr.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,cr&&(typeof cr.transform=="function"&&(this._transform=cr.transform),typeof cr.flush=="function"&&(this._flush=cr.flush)),this.on("prefinish",ar)}function ar(){var cr=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(dr,ur){lr(cr,dr,ur)}):lr(this,null,null)}sr.prototype.push=function(cr,dr){return this._transformState.needTransform=!1,ir.prototype.push.call(this,cr,dr)},sr.prototype._transform=function(cr,dr,ur){ur(new Ot("_transform()"))},sr.prototype._write=function(cr,dr,ur){var fr=this._transformState;if(fr.writecb=ur,fr.writechunk=cr,fr.writeencoding=dr,!fr.transforming){var hr=this._readableState;(fr.needTransform||hr.needReadable||hr.length<hr.highWaterMark)&&this._read(hr.highWaterMark)}},sr.prototype._read=function(cr){var dr=this._transformState;dr.writechunk!==null&&!dr.transforming?(dr.transforming=!0,this._transform(dr.writechunk,dr.writeencoding,dr.afterTransform)):dr.needTransform=!0},sr.prototype._destroy=function(cr,dr){ir.prototype._destroy.call(this,cr,function(ur){dr(ur)})};function lr(cr,dr,ur){if(dr)return cr.emit("error",dr);if(ur!=null&&cr.push(ur),cr._writableState.length)throw new rr;if(cr._transformState.transforming)throw new er;return cr.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=Ot;var tr=require_stream_transform$1();inherits_browserExports(Ot,tr);function Ot(Nt){if(!(this instanceof Ot))return new Ot(Nt);tr.call(this,Nt)}return Ot.prototype._transform=function(Nt,er,rr){rr(null,Nt)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var tr;function Ot(ur){var fr=!1;return function(){fr||(fr=!0,ur.apply(void 0,arguments))}}var Nt=requireErrorsBrowser().codes,er=Nt.ERR_MISSING_ARGS,rr=Nt.ERR_STREAM_DESTROYED;function ir(ur){if(ur)throw ur}function nr(ur){return ur.setHeader&&typeof ur.abort=="function"}function sr(ur,fr,hr,pr){pr=Ot(pr);var gr=!1;ur.on("close",function(){gr=!0}),tr===void 0&&(tr=requireEndOfStream()),tr(ur,{readable:fr,writable:hr},function(vr){if(vr)return pr(vr);gr=!0,pr()});var br=!1;return function(vr){if(!gr&&!br){if(br=!0,nr(ur))return ur.abort();if(typeof ur.destroy=="function")return ur.destroy();pr(vr||new rr("pipe"))}}}function ar(ur){ur()}function lr(ur,fr){return ur.pipe(fr)}function cr(ur){return!ur.length||typeof ur[ur.length-1]!="function"?ir:ur.pop()}function dr(){for(var ur=arguments.length,fr=new Array(ur),hr=0;hr<ur;hr++)fr[hr]=arguments[hr];var pr=cr(fr);if(Array.isArray(fr[0])&&(fr=fr[0]),fr.length<2)throw new er("streams");var gr,br=fr.map(function(vr,kr){var Sr=kr<fr.length-1,Cr=kr>0;return sr(vr,Sr,Cr,function(Ar){gr||(gr=Ar),Ar&&br.forEach(ar),!Sr&&(br.forEach(ar),pr(gr))})});return fr.reduce(lr)}return pipeline_1=dr,pipeline_1}var hasRequiredReadableBrowser$1;function requireReadableBrowser$1(){return hasRequiredReadableBrowser$1||(hasRequiredReadableBrowser$1=1,function(tr,Ot){Ot=tr.exports=require_stream_readable$1(),Ot.Stream=Ot,Ot.Readable=Ot,Ot.Writable=require_stream_writable$1(),Ot.Duplex=require_stream_duplex$1(),Ot.Transform=require_stream_transform$1(),Ot.PassThrough=require_stream_passthrough$1(),Ot.finished=requireEndOfStream(),Ot.pipeline=requirePipeline()}(readableBrowser$1,readableBrowser$1.exports)),readableBrowser$1.exports}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var tr=safeBufferExports.Buffer,Ot=requireReadableBrowser$1().Transform,Nt=inherits_browserExports;function er(ir,nr){if(!tr.isBuffer(ir)&&typeof ir!="string")throw new TypeError(nr+" must be a string or a buffer")}function rr(ir){Ot.call(this),this._block=tr.allocUnsafe(ir),this._blockSize=ir,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return Nt(rr,Ot),rr.prototype._transform=function(ir,nr,sr){var ar=null;try{this.update(ir,nr)}catch(lr){ar=lr}sr(ar)},rr.prototype._flush=function(ir){var nr=null;try{this.push(this.digest())}catch(sr){nr=sr}ir(nr)},rr.prototype.update=function(ir,nr){if(er(ir,"Data"),this._finalized)throw new Error("Digest already called");tr.isBuffer(ir)||(ir=tr.from(ir,nr));for(var sr=this._block,ar=0;this._blockOffset+ir.length-ar>=this._blockSize;){for(var lr=this._blockOffset;lr<this._blockSize;)sr[lr++]=ir[ar++];this._update(),this._blockOffset=0}for(;ar<ir.length;)sr[this._blockOffset++]=ir[ar++];for(var cr=0,dr=ir.length*8;dr>0;++cr)this._length[cr]+=dr,dr=this._length[cr]/4294967296|0,dr>0&&(this._length[cr]-=4294967296*dr);return this},rr.prototype._update=function(){throw new Error("_update is not implemented")},rr.prototype.digest=function(ir){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var nr=this._digest();ir!==void 0&&(nr=nr.toString(ir)),this._block.fill(0),this._blockOffset=0;for(var sr=0;sr<4;++sr)this._length[sr]=0;return nr},rr.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=rr,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var tr=inherits_browserExports,Ot=requireHashBase(),Nt=safeBufferExports.Buffer,er=new Array(16);function rr(){Ot.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}tr(rr,Ot),rr.prototype._update=function(){for(var cr=er,dr=0;dr<16;++dr)cr[dr]=this._block.readInt32LE(dr*4);var ur=this._a,fr=this._b,hr=this._c,pr=this._d;ur=nr(ur,fr,hr,pr,cr[0],3614090360,7),pr=nr(pr,ur,fr,hr,cr[1],3905402710,12),hr=nr(hr,pr,ur,fr,cr[2],606105819,17),fr=nr(fr,hr,pr,ur,cr[3],3250441966,22),ur=nr(ur,fr,hr,pr,cr[4],4118548399,7),pr=nr(pr,ur,fr,hr,cr[5],1200080426,12),hr=nr(hr,pr,ur,fr,cr[6],2821735955,17),fr=nr(fr,hr,pr,ur,cr[7],4249261313,22),ur=nr(ur,fr,hr,pr,cr[8],1770035416,7),pr=nr(pr,ur,fr,hr,cr[9],2336552879,12),hr=nr(hr,pr,ur,fr,cr[10],4294925233,17),fr=nr(fr,hr,pr,ur,cr[11],2304563134,22),ur=nr(ur,fr,hr,pr,cr[12],1804603682,7),pr=nr(pr,ur,fr,hr,cr[13],4254626195,12),hr=nr(hr,pr,ur,fr,cr[14],2792965006,17),fr=nr(fr,hr,pr,ur,cr[15],1236535329,22),ur=sr(ur,fr,hr,pr,cr[1],4129170786,5),pr=sr(pr,ur,fr,hr,cr[6],3225465664,9),hr=sr(hr,pr,ur,fr,cr[11],643717713,14),fr=sr(fr,hr,pr,ur,cr[0],3921069994,20),ur=sr(ur,fr,hr,pr,cr[5],3593408605,5),pr=sr(pr,ur,fr,hr,cr[10],38016083,9),hr=sr(hr,pr,ur,fr,cr[15],3634488961,14),fr=sr(fr,hr,pr,ur,cr[4],3889429448,20),ur=sr(ur,fr,hr,pr,cr[9],568446438,5),pr=sr(pr,ur,fr,hr,cr[14],3275163606,9),hr=sr(hr,pr,ur,fr,cr[3],4107603335,14),fr=sr(fr,hr,pr,ur,cr[8],1163531501,20),ur=sr(ur,fr,hr,pr,cr[13],2850285829,5),pr=sr(pr,ur,fr,hr,cr[2],4243563512,9),hr=sr(hr,pr,ur,fr,cr[7],1735328473,14),fr=sr(fr,hr,pr,ur,cr[12],2368359562,20),ur=ar(ur,fr,hr,pr,cr[5],4294588738,4),pr=ar(pr,ur,fr,hr,cr[8],2272392833,11),hr=ar(hr,pr,ur,fr,cr[11],1839030562,16),fr=ar(fr,hr,pr,ur,cr[14],4259657740,23),ur=ar(ur,fr,hr,pr,cr[1],2763975236,4),pr=ar(pr,ur,fr,hr,cr[4],1272893353,11),hr=ar(hr,pr,ur,fr,cr[7],4139469664,16),fr=ar(fr,hr,pr,ur,cr[10],3200236656,23),ur=ar(ur,fr,hr,pr,cr[13],681279174,4),pr=ar(pr,ur,fr,hr,cr[0],3936430074,11),hr=ar(hr,pr,ur,fr,cr[3],3572445317,16),fr=ar(fr,hr,pr,ur,cr[6],76029189,23),ur=ar(ur,fr,hr,pr,cr[9],3654602809,4),pr=ar(pr,ur,fr,hr,cr[12],3873151461,11),hr=ar(hr,pr,ur,fr,cr[15],530742520,16),fr=ar(fr,hr,pr,ur,cr[2],3299628645,23),ur=lr(ur,fr,hr,pr,cr[0],4096336452,6),pr=lr(pr,ur,fr,hr,cr[7],1126891415,10),hr=lr(hr,pr,ur,fr,cr[14],2878612391,15),fr=lr(fr,hr,pr,ur,cr[5],4237533241,21),ur=lr(ur,fr,hr,pr,cr[12],1700485571,6),pr=lr(pr,ur,fr,hr,cr[3],2399980690,10),hr=lr(hr,pr,ur,fr,cr[10],4293915773,15),fr=lr(fr,hr,pr,ur,cr[1],2240044497,21),ur=lr(ur,fr,hr,pr,cr[8],1873313359,6),pr=lr(pr,ur,fr,hr,cr[15],4264355552,10),hr=lr(hr,pr,ur,fr,cr[6],2734768916,15),fr=lr(fr,hr,pr,ur,cr[13],1309151649,21),ur=lr(ur,fr,hr,pr,cr[4],4149444226,6),pr=lr(pr,ur,fr,hr,cr[11],3174756917,10),hr=lr(hr,pr,ur,fr,cr[2],718787259,15),fr=lr(fr,hr,pr,ur,cr[9],3951481745,21),this._a=this._a+ur|0,this._b=this._b+fr|0,this._c=this._c+hr|0,this._d=this._d+pr|0},rr.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var cr=Nt.allocUnsafe(16);return cr.writeInt32LE(this._a,0),cr.writeInt32LE(this._b,4),cr.writeInt32LE(this._c,8),cr.writeInt32LE(this._d,12),cr};function ir(cr,dr){return cr<<dr|cr>>>32-dr}function nr(cr,dr,ur,fr,hr,pr,gr){return ir(cr+(dr&ur|~dr&fr)+hr+pr|0,gr)+dr|0}function sr(cr,dr,ur,fr,hr,pr,gr){return ir(cr+(dr&fr|ur&~fr)+hr+pr|0,gr)+dr|0}function ar(cr,dr,ur,fr,hr,pr,gr){return ir(cr+(dr^ur^fr)+hr+pr|0,gr)+dr|0}function lr(cr,dr,ur,fr,hr,pr,gr){return ir(cr+(ur^(dr|~fr))+hr+pr|0,gr)+dr|0}return md5_js=rr,md5_js}var ripemd160$1,hasRequiredRipemd160$1;function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$1;hasRequiredRipemd160$1=1;var tr=require$$1$3.Buffer,Ot=inherits_browserExports,Nt=requireHashBase(),er=new Array(16),rr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ir=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],nr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ar=[0,1518500249,1859775393,2400959708,2840853838],lr=[1352829926,1548603684,1836072691,2053994217,0];function cr(){Nt.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}Ot(cr,Nt),cr.prototype._update=function(){for(var br=er,vr=0;vr<16;++vr)br[vr]=this._block.readInt32LE(vr*4);for(var kr=this._a|0,Sr=this._b|0,Cr=this._c|0,Ar=this._d|0,Ir=this._e|0,qr=this._a|0,Qr=this._b|0,Wr=this._c|0,jr=this._d|0,Or=this._e|0,yr=0;yr<80;yr+=1){var xr,wr;yr<16?(xr=ur(kr,Sr,Cr,Ar,Ir,br[rr[yr]],ar[0],nr[yr]),wr=gr(qr,Qr,Wr,jr,Or,br[ir[yr]],lr[0],sr[yr])):yr<32?(xr=fr(kr,Sr,Cr,Ar,Ir,br[rr[yr]],ar[1],nr[yr]),wr=pr(qr,Qr,Wr,jr,Or,br[ir[yr]],lr[1],sr[yr])):yr<48?(xr=hr(kr,Sr,Cr,Ar,Ir,br[rr[yr]],ar[2],nr[yr]),wr=hr(qr,Qr,Wr,jr,Or,br[ir[yr]],lr[2],sr[yr])):yr<64?(xr=pr(kr,Sr,Cr,Ar,Ir,br[rr[yr]],ar[3],nr[yr]),wr=fr(qr,Qr,Wr,jr,Or,br[ir[yr]],lr[3],sr[yr])):(xr=gr(kr,Sr,Cr,Ar,Ir,br[rr[yr]],ar[4],nr[yr]),wr=ur(qr,Qr,Wr,jr,Or,br[ir[yr]],lr[4],sr[yr])),kr=Ir,Ir=Ar,Ar=dr(Cr,10),Cr=Sr,Sr=xr,qr=Or,Or=jr,jr=dr(Wr,10),Wr=Qr,Qr=wr}var Br=this._b+Cr+jr|0;this._b=this._c+Ar+Or|0,this._c=this._d+Ir+qr|0,this._d=this._e+kr+Qr|0,this._e=this._a+Sr+Wr|0,this._a=Br},cr.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var br=tr.alloc?tr.alloc(20):new tr(20);return br.writeInt32LE(this._a,0),br.writeInt32LE(this._b,4),br.writeInt32LE(this._c,8),br.writeInt32LE(this._d,12),br.writeInt32LE(this._e,16),br};function dr(br,vr){return br<<vr|br>>>32-vr}function ur(br,vr,kr,Sr,Cr,Ar,Ir,qr){return dr(br+(vr^kr^Sr)+Ar+Ir|0,qr)+Cr|0}function fr(br,vr,kr,Sr,Cr,Ar,Ir,qr){return dr(br+(vr&kr|~vr&Sr)+Ar+Ir|0,qr)+Cr|0}function hr(br,vr,kr,Sr,Cr,Ar,Ir,qr){return dr(br+((vr|~kr)^Sr)+Ar+Ir|0,qr)+Cr|0}function pr(br,vr,kr,Sr,Cr,Ar,Ir,qr){return dr(br+(vr&Sr|kr&~Sr)+Ar+Ir|0,qr)+Cr|0}function gr(br,vr,kr,Sr,Cr,Ar,Ir,qr){return dr(br+(vr^(kr|~Sr))+Ar+Ir|0,qr)+Cr|0}return ripemd160$1=cr,ripemd160$1}var sha_js={exports:{}},sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var tr=inherits_browserExports,Ot=hash$4,Nt=safeBufferExports.Buffer,er=[1518500249,1859775393,-1894007588,-899497514],rr=new Array(80);function ir(){this.init(),this._w=rr,Ot.call(this,64,56)}tr(ir,Ot),ir.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function nr(lr){return lr<<5|lr>>>27}function sr(lr){return lr<<30|lr>>>2}function ar(lr,cr,dr,ur){return lr===0?cr&dr|~cr&ur:lr===2?cr&dr|cr&ur|dr&ur:cr^dr^ur}return ir.prototype._update=function(lr){for(var cr=this._w,dr=this._a|0,ur=this._b|0,fr=this._c|0,hr=this._d|0,pr=this._e|0,gr=0;gr<16;++gr)cr[gr]=lr.readInt32BE(gr*4);for(;gr<80;++gr)cr[gr]=cr[gr-3]^cr[gr-8]^cr[gr-14]^cr[gr-16];for(var br=0;br<80;++br){var vr=~~(br/20),kr=nr(dr)+ar(vr,ur,fr,hr)+pr+cr[br]+er[vr]|0;pr=hr,hr=fr,fr=sr(ur),ur=dr,dr=kr}this._a=dr+this._a|0,this._b=ur+this._b|0,this._c=fr+this._c|0,this._d=hr+this._d|0,this._e=pr+this._e|0},ir.prototype._hash=function(){var lr=Nt.allocUnsafe(20);return lr.writeInt32BE(this._a|0,0),lr.writeInt32BE(this._b|0,4),lr.writeInt32BE(this._c|0,8),lr.writeInt32BE(this._d|0,12),lr.writeInt32BE(this._e|0,16),lr},sha$1=ir,sha$1}var sha256$2,hasRequiredSha256$1;function requireSha256$1(){if(hasRequiredSha256$1)return sha256$2;hasRequiredSha256$1=1;var tr=inherits_browserExports,Ot=hash$4,Nt=safeBufferExports.Buffer,er=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],rr=new Array(64);function ir(){this.init(),this._w=rr,Ot.call(this,64,56)}tr(ir,Ot),ir.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function nr(ur,fr,hr){return hr^ur&(fr^hr)}function sr(ur,fr,hr){return ur&fr|hr&(ur|fr)}function ar(ur){return(ur>>>2|ur<<30)^(ur>>>13|ur<<19)^(ur>>>22|ur<<10)}function lr(ur){return(ur>>>6|ur<<26)^(ur>>>11|ur<<21)^(ur>>>25|ur<<7)}function cr(ur){return(ur>>>7|ur<<25)^(ur>>>18|ur<<14)^ur>>>3}function dr(ur){return(ur>>>17|ur<<15)^(ur>>>19|ur<<13)^ur>>>10}return ir.prototype._update=function(ur){for(var fr=this._w,hr=this._a|0,pr=this._b|0,gr=this._c|0,br=this._d|0,vr=this._e|0,kr=this._f|0,Sr=this._g|0,Cr=this._h|0,Ar=0;Ar<16;++Ar)fr[Ar]=ur.readInt32BE(Ar*4);for(;Ar<64;++Ar)fr[Ar]=dr(fr[Ar-2])+fr[Ar-7]+cr(fr[Ar-15])+fr[Ar-16]|0;for(var Ir=0;Ir<64;++Ir){var qr=Cr+lr(vr)+nr(vr,kr,Sr)+er[Ir]+fr[Ir]|0,Qr=ar(hr)+sr(hr,pr,gr)|0;Cr=Sr,Sr=kr,kr=vr,vr=br+qr|0,br=gr,gr=pr,pr=hr,hr=qr+Qr|0}this._a=hr+this._a|0,this._b=pr+this._b|0,this._c=gr+this._c|0,this._d=br+this._d|0,this._e=vr+this._e|0,this._f=kr+this._f|0,this._g=Sr+this._g|0,this._h=Cr+this._h|0},ir.prototype._hash=function(){var ur=Nt.allocUnsafe(32);return ur.writeInt32BE(this._a,0),ur.writeInt32BE(this._b,4),ur.writeInt32BE(this._c,8),ur.writeInt32BE(this._d,12),ur.writeInt32BE(this._e,16),ur.writeInt32BE(this._f,20),ur.writeInt32BE(this._g,24),ur.writeInt32BE(this._h,28),ur},sha256$2=ir,sha256$2}var sha224$2,hasRequiredSha224$1;function requireSha224$1(){if(hasRequiredSha224$1)return sha224$2;hasRequiredSha224$1=1;var tr=inherits_browserExports,Ot=requireSha256$1(),Nt=hash$4,er=safeBufferExports.Buffer,rr=new Array(64);function ir(){this.init(),this._w=rr,Nt.call(this,64,56)}return tr(ir,Ot),ir.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},ir.prototype._hash=function(){var nr=er.allocUnsafe(28);return nr.writeInt32BE(this._a,0),nr.writeInt32BE(this._b,4),nr.writeInt32BE(this._c,8),nr.writeInt32BE(this._d,12),nr.writeInt32BE(this._e,16),nr.writeInt32BE(this._f,20),nr.writeInt32BE(this._g,24),nr},sha224$2=ir,sha224$2}var sha512$2,hasRequiredSha512$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$2;hasRequiredSha512$1=1;var tr=inherits_browserExports,Ot=hash$4,Nt=safeBufferExports.Buffer,er=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],rr=new Array(160);function ir(){this.init(),this._w=rr,Ot.call(this,128,112)}tr(ir,Ot),ir.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function nr(pr,gr,br){return br^pr&(gr^br)}function sr(pr,gr,br){return pr&gr|br&(pr|gr)}function ar(pr,gr){return(pr>>>28|gr<<4)^(gr>>>2|pr<<30)^(gr>>>7|pr<<25)}function lr(pr,gr){return(pr>>>14|gr<<18)^(pr>>>18|gr<<14)^(gr>>>9|pr<<23)}function cr(pr,gr){return(pr>>>1|gr<<31)^(pr>>>8|gr<<24)^pr>>>7}function dr(pr,gr){return(pr>>>1|gr<<31)^(pr>>>8|gr<<24)^(pr>>>7|gr<<25)}function ur(pr,gr){return(pr>>>19|gr<<13)^(gr>>>29|pr<<3)^pr>>>6}function fr(pr,gr){return(pr>>>19|gr<<13)^(gr>>>29|pr<<3)^(pr>>>6|gr<<26)}function hr(pr,gr){return pr>>>0<gr>>>0?1:0}return ir.prototype._update=function(pr){for(var gr=this._w,br=this._ah|0,vr=this._bh|0,kr=this._ch|0,Sr=this._dh|0,Cr=this._eh|0,Ar=this._fh|0,Ir=this._gh|0,qr=this._hh|0,Qr=this._al|0,Wr=this._bl|0,jr=this._cl|0,Or=this._dl|0,yr=this._el|0,xr=this._fl|0,wr=this._gl|0,Br=this._hl|0,_r=0;_r<32;_r+=2)gr[_r]=pr.readInt32BE(_r*4),gr[_r+1]=pr.readInt32BE(_r*4+4);for(;_r<160;_r+=2){var Mr=gr[_r-30],Tr=gr[_r-15*2+1],Er=cr(Mr,Tr),Pr=dr(Tr,Mr);Mr=gr[_r-2*2],Tr=gr[_r-2*2+1];var Rr=ur(Mr,Tr),Lr=fr(Tr,Mr),Hr=gr[_r-7*2],Gr=gr[_r-7*2+1],Ur=gr[_r-16*2],Nr=gr[_r-16*2+1],Fr=Pr+Gr|0,Xr=Er+Hr+hr(Fr,Pr)|0;Fr=Fr+Lr|0,Xr=Xr+Rr+hr(Fr,Lr)|0,Fr=Fr+Nr|0,Xr=Xr+Ur+hr(Fr,Nr)|0,gr[_r]=Xr,gr[_r+1]=Fr}for(var Jr=0;Jr<160;Jr+=2){Xr=gr[Jr],Fr=gr[Jr+1];var Vr=sr(br,vr,kr),Zr=sr(Qr,Wr,jr),Kr=ar(br,Qr),Ci=ar(Qr,br),Mi=lr(Cr,yr),Ti=lr(yr,Cr),Ii=er[Jr],ji=er[Jr+1],Si=nr(Cr,Ar,Ir),zi=nr(yr,xr,wr),Di=Br+Ti|0,Fi=qr+Mi+hr(Di,Br)|0;Di=Di+zi|0,Fi=Fi+Si+hr(Di,zi)|0,Di=Di+ji|0,Fi=Fi+Ii+hr(Di,ji)|0,Di=Di+Fr|0,Fi=Fi+Xr+hr(Di,Fr)|0;var Vi=Ci+Zr|0,Ni=Kr+Vr+hr(Vi,Ci)|0;qr=Ir,Br=wr,Ir=Ar,wr=xr,Ar=Cr,xr=yr,yr=Or+Di|0,Cr=Sr+Fi+hr(yr,Or)|0,Sr=kr,Or=jr,kr=vr,jr=Wr,vr=br,Wr=Qr,Qr=Di+Vi|0,br=Fi+Ni+hr(Qr,Di)|0}this._al=this._al+Qr|0,this._bl=this._bl+Wr|0,this._cl=this._cl+jr|0,this._dl=this._dl+Or|0,this._el=this._el+yr|0,this._fl=this._fl+xr|0,this._gl=this._gl+wr|0,this._hl=this._hl+Br|0,this._ah=this._ah+br+hr(this._al,Qr)|0,this._bh=this._bh+vr+hr(this._bl,Wr)|0,this._ch=this._ch+kr+hr(this._cl,jr)|0,this._dh=this._dh+Sr+hr(this._dl,Or)|0,this._eh=this._eh+Cr+hr(this._el,yr)|0,this._fh=this._fh+Ar+hr(this._fl,xr)|0,this._gh=this._gh+Ir+hr(this._gl,wr)|0,this._hh=this._hh+qr+hr(this._hl,Br)|0},ir.prototype._hash=function(){var pr=Nt.allocUnsafe(64);function gr(br,vr,kr){pr.writeInt32BE(br,kr),pr.writeInt32BE(vr,kr+4)}return gr(this._ah,this._al,0),gr(this._bh,this._bl,8),gr(this._ch,this._cl,16),gr(this._dh,this._dl,24),gr(this._eh,this._el,32),gr(this._fh,this._fl,40),gr(this._gh,this._gl,48),gr(this._hh,this._hl,56),pr},sha512$2=ir,sha512$2}var sha384$2,hasRequiredSha384$1;function requireSha384$1(){if(hasRequiredSha384$1)return sha384$2;hasRequiredSha384$1=1;var tr=inherits_browserExports,Ot=requireSha512$1(),Nt=hash$4,er=safeBufferExports.Buffer,rr=new Array(160);function ir(){this.init(),this._w=rr,Nt.call(this,128,112)}return tr(ir,Ot),ir.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},ir.prototype._hash=function(){var nr=er.allocUnsafe(48);function sr(ar,lr,cr){nr.writeInt32BE(ar,cr),nr.writeInt32BE(lr,cr+4)}return sr(this._ah,this._al,0),sr(this._bh,this._bl,8),sr(this._ch,this._cl,16),sr(this._dh,this._dl,24),sr(this._eh,this._el,32),sr(this._fh,this._fl,40),nr},sha384$2=ir,sha384$2}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var tr=sha_js.exports=function(Nt){Nt=Nt.toLowerCase();var er=tr[Nt];if(!er)throw new Error(Nt+" is not supported (we accept pull requests)");return new er};return tr.sha=requireSha$1(),tr.sha1=sha1$1,tr.sha224=requireSha224$1(),tr.sha256=requireSha256$1(),tr.sha384=requireSha384$1(),tr.sha512=requireSha512$1(),sha_js.exports}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=Nt;var tr=requireEvents().EventEmitter,Ot=inherits_browserExports;Ot(Nt,tr),Nt.Readable=require_stream_readable$1(),Nt.Writable=require_stream_writable$1(),Nt.Duplex=require_stream_duplex$1(),Nt.Transform=require_stream_transform$1(),Nt.PassThrough=require_stream_passthrough$1(),Nt.finished=requireEndOfStream(),Nt.pipeline=requirePipeline(),Nt.Stream=Nt;function Nt(){tr.call(this)}return Nt.prototype.pipe=function(er,rr){var ir=this;function nr(fr){er.writable&&er.write(fr)===!1&&ir.pause&&ir.pause()}ir.on("data",nr);function sr(){ir.readable&&ir.resume&&ir.resume()}er.on("drain",sr),!er._isStdio&&(!rr||rr.end!==!1)&&(ir.on("end",lr),ir.on("close",cr));var ar=!1;function lr(){ar||(ar=!0,er.end())}function cr(){ar||(ar=!0,typeof er.destroy=="function"&&er.destroy())}function dr(fr){if(ur(),tr.listenerCount(this,"error")===0)throw fr}ir.on("error",dr),er.on("error",dr);function ur(){ir.removeListener("data",nr),er.removeListener("drain",sr),ir.removeListener("end",lr),ir.removeListener("close",cr),ir.removeListener("error",dr),er.removeListener("error",dr),ir.removeListener("end",ur),ir.removeListener("close",ur),er.removeListener("close",ur)}return ir.on("end",ur),ir.on("close",ur),er.on("close",ur),er.emit("pipe",ir),er},streamBrowserify}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var tr=safeBufferExports.Buffer,Ot=requireStreamBrowserify().Transform,Nt=requireString_decoder().StringDecoder,er=inherits_browserExports;function rr(ir){Ot.call(this),this.hashMode=typeof ir=="string",this.hashMode?this[ir]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return er(rr,Ot),rr.prototype.update=function(ir,nr,sr){typeof ir=="string"&&(ir=tr.from(ir,nr));var ar=this._update(ir);return this.hashMode?this:(sr&&(ar=this._toString(ar,sr)),ar)},rr.prototype.setAutoPadding=function(){},rr.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},rr.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},rr.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},rr.prototype._transform=function(ir,nr,sr){var ar;try{this.hashMode?this._update(ir):this.push(this._update(ir))}catch(lr){ar=lr}finally{sr(ar)}},rr.prototype._flush=function(ir){var nr;try{this.push(this.__final())}catch(sr){nr=sr}ir(nr)},rr.prototype._finalOrDigest=function(ir){var nr=this.__final()||tr.alloc(0);return ir&&(nr=this._toString(nr,ir,!0)),nr},rr.prototype._toString=function(ir,nr,sr){if(this._decoder||(this._decoder=new Nt(nr),this._encoding=nr),this._encoding!==nr)throw new Error("can't switch encodings");var ar=this._decoder.write(ir);return sr&&(ar+=this._decoder.end()),ar},cipherBase=rr,cipherBase}var browser$9,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var tr=inherits_browserExports,Ot=requireMd5_js(),Nt=requireRipemd160$1(),er=requireSha_js(),rr=requireCipherBase();function ir(nr){rr.call(this,"digest"),this._hash=nr}return tr(ir,rr),ir.prototype._update=function(nr){this._hash.update(nr)},ir.prototype._final=function(){return this._hash.digest()},browser$9=function(sr){return sr=sr.toLowerCase(),sr==="md5"?new Ot:sr==="rmd160"||sr==="ripemd160"?new Nt:new ir(er(sr))},browser$9}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var tr=inherits_browserExports,Ot=safeBufferExports.Buffer,Nt=requireCipherBase(),er=Ot.alloc(128),rr=64;function ir(nr,sr){Nt.call(this,"digest"),typeof sr=="string"&&(sr=Ot.from(sr)),this._alg=nr,this._key=sr,sr.length>rr?sr=nr(sr):sr.length<rr&&(sr=Ot.concat([sr,er],rr));for(var ar=this._ipad=Ot.allocUnsafe(rr),lr=this._opad=Ot.allocUnsafe(rr),cr=0;cr<rr;cr++)ar[cr]=sr[cr]^54,lr[cr]=sr[cr]^92;this._hash=[ar]}return tr(ir,Nt),ir.prototype._update=function(nr){this._hash.push(nr)},ir.prototype._final=function(){var nr=this._alg(Ot.concat(this._hash));return this._alg(Ot.concat([this._opad,nr]))},legacy=ir,legacy}var md5$1,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1;var tr=requireMd5_js();return md5$1=function(Ot){return new tr().update(Ot).digest()},md5$1}var browser$8,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var tr=inherits_browserExports,Ot=requireLegacy(),Nt=requireCipherBase(),er=safeBufferExports.Buffer,rr=requireMd5$1(),ir=requireRipemd160$1(),nr=requireSha_js(),sr=er.alloc(128);function ar(lr,cr){Nt.call(this,"digest"),typeof cr=="string"&&(cr=er.from(cr));var dr=lr==="sha512"||lr==="sha384"?128:64;if(this._alg=lr,this._key=cr,cr.length>dr){var ur=lr==="rmd160"?new ir:nr(lr);cr=ur.update(cr).digest()}else cr.length<dr&&(cr=er.concat([cr,sr],dr));for(var fr=this._ipad=er.allocUnsafe(dr),hr=this._opad=er.allocUnsafe(dr),pr=0;pr<dr;pr++)fr[pr]=cr[pr]^54,hr[pr]=cr[pr]^92;this._hash=lr==="rmd160"?new ir:nr(lr),this._hash.update(fr)}return tr(ar,Nt),ar.prototype._update=function(lr){this._hash.update(lr)},ar.prototype._final=function(){var lr=this._hash.digest(),cr=this._alg==="rmd160"?new ir:nr(this._alg);return cr.update(this._opad).update(lr).digest()},browser$8=function(cr,dr){return cr=cr.toLowerCase(),cr==="rmd160"||cr==="ripemd160"?new ar("rmd160",dr):cr==="md5"?new Ot(rr,dr):new ar(cr,dr)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224$1={sign:"ecdsa",hash:"sha224",id:""},sha384$1={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224:sha224$1,sha384:sha384$1,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$7={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var tr=Math.pow(2,30)-1;return precondition=function(Ot,Nt){if(typeof Ot!="number")throw new TypeError("Iterations not a number");if(Ot<0)throw new TypeError("Bad iterations");if(typeof Nt!="number")throw new TypeError("Key length not a number");if(Nt<0||Nt>tr||Nt!==Nt)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var tr;if(commonjsGlobal.process&&commonjsGlobal.process.browser)tr="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var Ot=parseInt(process$1.version.split(".")[0].slice(1),10);tr=Ot>=6?"utf-8":"binary"}else tr="utf-8";return defaultEncoding_1=tr,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var tr=safeBufferExports.Buffer;return toBuffer=function(Ot,Nt,er){if(tr.isBuffer(Ot))return Ot;if(typeof Ot=="string")return tr.from(Ot,Nt);if(ArrayBuffer.isView(Ot))return tr.from(Ot.buffer);throw new TypeError(er+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var tr=requireMd5$1(),Ot=requireRipemd160$1(),Nt=requireSha_js(),er=safeBufferExports.Buffer,rr=requirePrecondition(),ir=requireDefaultEncoding(),nr=requireToBuffer(),sr=er.alloc(128),ar={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function lr(ur,fr,hr){var pr=cr(ur),gr=ur==="sha512"||ur==="sha384"?128:64;fr.length>gr?fr=pr(fr):fr.length<gr&&(fr=er.concat([fr,sr],gr));for(var br=er.allocUnsafe(gr+ar[ur]),vr=er.allocUnsafe(gr+ar[ur]),kr=0;kr<gr;kr++)br[kr]=fr[kr]^54,vr[kr]=fr[kr]^92;var Sr=er.allocUnsafe(gr+hr+4);br.copy(Sr,0,0,gr),this.ipad1=Sr,this.ipad2=br,this.opad=vr,this.alg=ur,this.blocksize=gr,this.hash=pr,this.size=ar[ur]}lr.prototype.run=function(ur,fr){ur.copy(fr,this.blocksize);var hr=this.hash(fr);return hr.copy(this.opad,this.blocksize),this.hash(this.opad)};function cr(ur){function fr(pr){return Nt(ur).update(pr).digest()}function hr(pr){return new Ot().update(pr).digest()}return ur==="rmd160"||ur==="ripemd160"?hr:ur==="md5"?tr:fr}function dr(ur,fr,hr,pr,gr){rr(hr,pr),ur=nr(ur,ir,"Password"),fr=nr(fr,ir,"Salt"),gr=gr||"sha1";var br=new lr(gr,ur,fr.length),vr=er.allocUnsafe(pr),kr=er.allocUnsafe(fr.length+4);fr.copy(kr,0,0,fr.length);for(var Sr=0,Cr=ar[gr],Ar=Math.ceil(pr/Cr),Ir=1;Ir<=Ar;Ir++){kr.writeUInt32BE(Ir,fr.length);for(var qr=br.run(kr,br.ipad1),Qr=qr,Wr=1;Wr<hr;Wr++){Qr=br.run(Qr,br.ipad2);for(var jr=0;jr<Cr;jr++)qr[jr]^=Qr[jr]}qr.copy(vr,Sr),Sr+=Cr}return vr}return syncBrowser=dr,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var tr=safeBufferExports.Buffer,Ot=requirePrecondition(),Nt=requireDefaultEncoding(),er=requireSyncBrowser(),rr=requireToBuffer(),ir,nr=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,sr={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},ar=[];function lr(hr){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!nr||!nr.importKey||!nr.deriveBits)return Promise.resolve(!1);if(ar[hr]!==void 0)return ar[hr];ir=ir||tr.alloc(8);var pr=ur(ir,ir,10,128,hr).then(function(){return!0}).catch(function(){return!1});return ar[hr]=pr,pr}var cr;function dr(){return cr||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?cr=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?cr=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?cr=commonjsGlobal.setImmediate:cr=commonjsGlobal.setTimeout,cr)}function ur(hr,pr,gr,br,vr){return nr.importKey("raw",hr,{name:"PBKDF2"},!1,["deriveBits"]).then(function(kr){return nr.deriveBits({name:"PBKDF2",salt:pr,iterations:gr,hash:{name:vr}},kr,br<<3)}).then(function(kr){return tr.from(kr)})}function fr(hr,pr){hr.then(function(gr){dr()(function(){pr(null,gr)})},function(gr){dr()(function(){pr(gr)})})}return async=function(hr,pr,gr,br,vr,kr){typeof vr=="function"&&(kr=vr,vr=void 0),vr=vr||"sha1";var Sr=sr[vr.toLowerCase()];if(!Sr||typeof commonjsGlobal.Promise!="function"){dr()(function(){var Cr;try{Cr=er(hr,pr,gr,br,vr)}catch(Ar){return kr(Ar)}kr(null,Cr)});return}if(Ot(gr,br),hr=rr(hr,Nt,"Password"),pr=rr(pr,Nt,"Salt"),typeof kr!="function")throw new Error("No callback provided to pbkdf2");fr(lr(Sr).then(function(Cr){return Cr?ur(hr,pr,gr,br,Sr):er(hr,pr,gr,br,vr)}),kr)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$3={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1,utils$3.readUInt32BE=function(rr,ir){var nr=rr[0+ir]<<24|rr[1+ir]<<16|rr[2+ir]<<8|rr[3+ir];return nr>>>0},utils$3.writeUInt32BE=function(rr,ir,nr){rr[0+nr]=ir>>>24,rr[1+nr]=ir>>>16&255,rr[2+nr]=ir>>>8&255,rr[3+nr]=ir&255},utils$3.ip=function(rr,ir,nr,sr){for(var ar=0,lr=0,cr=6;cr>=0;cr-=2){for(var dr=0;dr<=24;dr+=8)ar<<=1,ar|=ir>>>dr+cr&1;for(var dr=0;dr<=24;dr+=8)ar<<=1,ar|=rr>>>dr+cr&1}for(var cr=6;cr>=0;cr-=2){for(var dr=1;dr<=25;dr+=8)lr<<=1,lr|=ir>>>dr+cr&1;for(var dr=1;dr<=25;dr+=8)lr<<=1,lr|=rr>>>dr+cr&1}nr[sr+0]=ar>>>0,nr[sr+1]=lr>>>0},utils$3.rip=function(rr,ir,nr,sr){for(var ar=0,lr=0,cr=0;cr<4;cr++)for(var dr=24;dr>=0;dr-=8)ar<<=1,ar|=ir>>>dr+cr&1,ar<<=1,ar|=rr>>>dr+cr&1;for(var cr=4;cr<8;cr++)for(var dr=24;dr>=0;dr-=8)lr<<=1,lr|=ir>>>dr+cr&1,lr<<=1,lr|=rr>>>dr+cr&1;nr[sr+0]=ar>>>0,nr[sr+1]=lr>>>0},utils$3.pc1=function(rr,ir,nr,sr){for(var ar=0,lr=0,cr=7;cr>=5;cr--){for(var dr=0;dr<=24;dr+=8)ar<<=1,ar|=ir>>dr+cr&1;for(var dr=0;dr<=24;dr+=8)ar<<=1,ar|=rr>>dr+cr&1}for(var dr=0;dr<=24;dr+=8)ar<<=1,ar|=ir>>dr+cr&1;for(var cr=1;cr<=3;cr++){for(var dr=0;dr<=24;dr+=8)lr<<=1,lr|=ir>>dr+cr&1;for(var dr=0;dr<=24;dr+=8)lr<<=1,lr|=rr>>dr+cr&1}for(var dr=0;dr<=24;dr+=8)lr<<=1,lr|=rr>>dr+cr&1;nr[sr+0]=ar>>>0,nr[sr+1]=lr>>>0},utils$3.r28shl=function(rr,ir){return rr<<ir&268435455|rr>>>28-ir};var tr=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$3.pc2=function(rr,ir,nr,sr){for(var ar=0,lr=0,cr=tr.length>>>1,dr=0;dr<cr;dr++)ar<<=1,ar|=rr>>>tr[dr]&1;for(var dr=cr;dr<tr.length;dr++)lr<<=1,lr|=ir>>>tr[dr]&1;nr[sr+0]=ar>>>0,nr[sr+1]=lr>>>0},utils$3.expand=function(rr,ir,nr){var sr=0,ar=0;sr=(rr&1)<<5|rr>>>27;for(var lr=23;lr>=15;lr-=4)sr<<=6,sr|=rr>>>lr&63;for(var lr=11;lr>=3;lr-=4)ar|=rr>>>lr&63,ar<<=6;ar|=(rr&31)<<1|rr>>>31,ir[nr+0]=sr>>>0,ir[nr+1]=ar>>>0};var Ot=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$3.substitute=function(rr,ir){for(var nr=0,sr=0;sr<4;sr++){var ar=rr>>>18-sr*6&63,lr=Ot[sr*64+ar];nr<<=4,nr|=lr}for(var sr=0;sr<4;sr++){var ar=ir>>>18-sr*6&63,lr=Ot[4*64+sr*64+ar];nr<<=4,nr|=lr}return nr>>>0};var Nt=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$3.permute=function(rr){for(var ir=0,nr=0;nr<Nt.length;nr++)ir<<=1,ir|=rr>>>Nt[nr]&1;return ir>>>0},utils$3.padSplit=function(rr,ir,nr){for(var sr=rr.toString(2);sr.length<ir;)sr="0"+sr;for(var ar=[],lr=0;lr<ir;lr+=nr)ar.push(sr.slice(lr,lr+nr));return ar.join(" ")},utils$3}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=tr;function tr(Ot,Nt){if(!Ot)throw new Error(Nt||"Assertion failed")}return tr.equal=function(Nt,er,rr){if(Nt!=er)throw new Error(rr||"Assertion failed: "+Nt+" != "+er)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var tr=requireMinimalisticAssert();function Ot(Nt){this.options=Nt,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=Nt.padding!==!1}return cipher=Ot,Ot.prototype._init=function(){},Ot.prototype.update=function(er){return er.length===0?[]:this.type==="decrypt"?this._updateDecrypt(er):this._updateEncrypt(er)},Ot.prototype._buffer=function(er,rr){for(var ir=Math.min(this.buffer.length-this.bufferOff,er.length-rr),nr=0;nr<ir;nr++)this.buffer[this.bufferOff+nr]=er[rr+nr];return this.bufferOff+=ir,ir},Ot.prototype._flushBuffer=function(er,rr){return this._update(this.buffer,0,er,rr),this.bufferOff=0,this.blockSize},Ot.prototype._updateEncrypt=function(er){var rr=0,ir=0,nr=(this.bufferOff+er.length)/this.blockSize|0,sr=new Array(nr*this.blockSize);this.bufferOff!==0&&(rr+=this._buffer(er,rr),this.bufferOff===this.buffer.length&&(ir+=this._flushBuffer(sr,ir)));for(var ar=er.length-(er.length-rr)%this.blockSize;rr<ar;rr+=this.blockSize)this._update(er,rr,sr,ir),ir+=this.blockSize;for(;rr<er.length;rr++,this.bufferOff++)this.buffer[this.bufferOff]=er[rr];return sr},Ot.prototype._updateDecrypt=function(er){for(var rr=0,ir=0,nr=Math.ceil((this.bufferOff+er.length)/this.blockSize)-1,sr=new Array(nr*this.blockSize);nr>0;nr--)rr+=this._buffer(er,rr),ir+=this._flushBuffer(sr,ir);return rr+=this._buffer(er,rr),sr},Ot.prototype.final=function(er){var rr;er&&(rr=this.update(er));var ir;return this.type==="encrypt"?ir=this._finalEncrypt():ir=this._finalDecrypt(),rr?rr.concat(ir):ir},Ot.prototype._pad=function(er,rr){if(rr===0)return!1;for(;rr<er.length;)er[rr++]=0;return!0},Ot.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var er=new Array(this.blockSize);return this._update(this.buffer,0,er,0),er},Ot.prototype._unpad=function(er){return er},Ot.prototype._finalDecrypt=function(){tr.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var er=new Array(this.blockSize);return this._flushBuffer(er,0),this._unpad(er)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var tr=requireMinimalisticAssert(),Ot=inherits_browserExports,Nt=requireUtils$3(),er=requireCipher();function rr(){this.tmp=new Array(2),this.keys=null}function ir(sr){er.call(this,sr);var ar=new rr;this._desState=ar,this.deriveKeys(ar,sr.key)}Ot(ir,er),des=ir,ir.create=function(ar){return new ir(ar)};var nr=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return ir.prototype.deriveKeys=function(ar,lr){ar.keys=new Array(16*2),tr.equal(lr.length,this.blockSize,"Invalid key length");var cr=Nt.readUInt32BE(lr,0),dr=Nt.readUInt32BE(lr,4);Nt.pc1(cr,dr,ar.tmp,0),cr=ar.tmp[0],dr=ar.tmp[1];for(var ur=0;ur<ar.keys.length;ur+=2){var fr=nr[ur>>>1];cr=Nt.r28shl(cr,fr),dr=Nt.r28shl(dr,fr),Nt.pc2(cr,dr,ar.keys,ur)}},ir.prototype._update=function(ar,lr,cr,dr){var ur=this._desState,fr=Nt.readUInt32BE(ar,lr),hr=Nt.readUInt32BE(ar,lr+4);Nt.ip(fr,hr,ur.tmp,0),fr=ur.tmp[0],hr=ur.tmp[1],this.type==="encrypt"?this._encrypt(ur,fr,hr,ur.tmp,0):this._decrypt(ur,fr,hr,ur.tmp,0),fr=ur.tmp[0],hr=ur.tmp[1],Nt.writeUInt32BE(cr,fr,dr),Nt.writeUInt32BE(cr,hr,dr+4)},ir.prototype._pad=function(ar,lr){if(this.padding===!1)return!1;for(var cr=ar.length-lr,dr=lr;dr<ar.length;dr++)ar[dr]=cr;return!0},ir.prototype._unpad=function(ar){if(this.padding===!1)return ar;for(var lr=ar[ar.length-1],cr=ar.length-lr;cr<ar.length;cr++)tr.equal(ar[cr],lr);return ar.slice(0,ar.length-lr)},ir.prototype._encrypt=function(ar,lr,cr,dr,ur){for(var fr=lr,hr=cr,pr=0;pr<ar.keys.length;pr+=2){var gr=ar.keys[pr],br=ar.keys[pr+1];Nt.expand(hr,ar.tmp,0),gr^=ar.tmp[0],br^=ar.tmp[1];var vr=Nt.substitute(gr,br),kr=Nt.permute(vr),Sr=hr;hr=(fr^kr)>>>0,fr=Sr}Nt.rip(hr,fr,dr,ur)},ir.prototype._decrypt=function(ar,lr,cr,dr,ur){for(var fr=cr,hr=lr,pr=ar.keys.length-2;pr>=0;pr-=2){var gr=ar.keys[pr],br=ar.keys[pr+1];Nt.expand(fr,ar.tmp,0),gr^=ar.tmp[0],br^=ar.tmp[1];var vr=Nt.substitute(gr,br),kr=Nt.permute(vr),Sr=fr;fr=(hr^kr)>>>0,hr=Sr}Nt.rip(fr,hr,dr,ur)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var tr=requireMinimalisticAssert(),Ot=inherits_browserExports,Nt={};function er(ir){tr.equal(ir.length,8,"Invalid IV length"),this.iv=new Array(8);for(var nr=0;nr<this.iv.length;nr++)this.iv[nr]=ir[nr]}function rr(ir){function nr(cr){ir.call(this,cr),this._cbcInit()}Ot(nr,ir);for(var sr=Object.keys(Nt),ar=0;ar<sr.length;ar++){var lr=sr[ar];nr.prototype[lr]=Nt[lr]}return nr.create=function(dr){return new nr(dr)},nr}return cbc$1.instantiate=rr,Nt._cbcInit=function(){var nr=new er(this.options.iv);this._cbcState=nr},Nt._update=function(nr,sr,ar,lr){var cr=this._cbcState,dr=this.constructor.super_.prototype,ur=cr.iv;if(this.type==="encrypt"){for(var fr=0;fr<this.blockSize;fr++)ur[fr]^=nr[sr+fr];dr._update.call(this,ur,0,ar,lr);for(var fr=0;fr<this.blockSize;fr++)ur[fr]=ar[lr+fr]}else{dr._update.call(this,nr,sr,ar,lr);for(var fr=0;fr<this.blockSize;fr++)ar[lr+fr]^=ur[fr];for(var fr=0;fr<this.blockSize;fr++)ur[fr]=nr[sr+fr]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var tr=requireMinimalisticAssert(),Ot=inherits_browserExports,Nt=requireCipher(),er=requireDes$1();function rr(nr,sr){tr.equal(sr.length,24,"Invalid key length");var ar=sr.slice(0,8),lr=sr.slice(8,16),cr=sr.slice(16,24);nr==="encrypt"?this.ciphers=[er.create({type:"encrypt",key:ar}),er.create({type:"decrypt",key:lr}),er.create({type:"encrypt",key:cr})]:this.ciphers=[er.create({type:"decrypt",key:cr}),er.create({type:"encrypt",key:lr}),er.create({type:"decrypt",key:ar})]}function ir(nr){Nt.call(this,nr);var sr=new rr(this.type,this.options.key);this._edeState=sr}return Ot(ir,Nt),ede=ir,ir.create=function(sr){return new ir(sr)},ir.prototype._update=function(sr,ar,lr,cr){var dr=this._edeState;dr.ciphers[0]._update(sr,ar,lr,cr),dr.ciphers[1]._update(lr,cr,lr,cr),dr.ciphers[2]._update(lr,cr,lr,cr)},ir.prototype._pad=er.prototype._pad,ir.prototype._unpad=er.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var tr=requireCipherBase(),Ot=requireDes(),Nt=inherits_browserExports,er=safeBufferExports.Buffer,rr={"des-ede3-cbc":Ot.CBC.instantiate(Ot.EDE),"des-ede3":Ot.EDE,"des-ede-cbc":Ot.CBC.instantiate(Ot.EDE),"des-ede":Ot.EDE,"des-cbc":Ot.CBC.instantiate(Ot.DES),"des-ecb":Ot.DES};rr.des=rr["des-cbc"],rr.des3=rr["des-ede3-cbc"],browserifyDes=ir,Nt(ir,tr);function ir(nr){tr.call(this);var sr=nr.mode.toLowerCase(),ar=rr[sr],lr;nr.decrypt?lr="decrypt":lr="encrypt";var cr=nr.key;er.isBuffer(cr)||(cr=er.from(cr)),(sr==="des-ede"||sr==="des-ede-cbc")&&(cr=er.concat([cr,cr.slice(0,8)]));var dr=nr.iv;er.isBuffer(dr)||(dr=er.from(dr)),this._des=ar.create({key:cr,iv:dr,type:lr})}return ir.prototype._update=function(nr){return er.from(this._des.update(nr))},ir.prototype._final=function(){return er.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(tr,Ot){return tr._cipher.encryptBlock(Ot)},ecb.decrypt=function(tr,Ot){return tr._cipher.decryptBlock(Ot)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(Ot,Nt){for(var er=Math.min(Ot.length,Nt.length),rr=new Buffer(er),ir=0;ir<er;++ir)rr[ir]=Ot[ir]^Nt[ir];return rr}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var tr=requireBufferXor();return cbc.encrypt=function(Ot,Nt){var er=tr(Nt,Ot._prev);return Ot._prev=Ot._cipher.encryptBlock(er),Ot._prev},cbc.decrypt=function(Ot,Nt){var er=Ot._prev;Ot._prev=Nt;var rr=Ot._cipher.decryptBlock(Nt);return tr(rr,er)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var tr=safeBufferExports.Buffer,Ot=requireBufferXor();function Nt(er,rr,ir){var nr=rr.length,sr=Ot(rr,er._cache);return er._cache=er._cache.slice(nr),er._prev=tr.concat([er._prev,ir?rr:sr]),sr}return cfb.encrypt=function(er,rr,ir){for(var nr=tr.allocUnsafe(0),sr;rr.length;)if(er._cache.length===0&&(er._cache=er._cipher.encryptBlock(er._prev),er._prev=tr.allocUnsafe(0)),er._cache.length<=rr.length)sr=er._cache.length,nr=tr.concat([nr,Nt(er,rr.slice(0,sr),ir)]),rr=rr.slice(sr);else{nr=tr.concat([nr,Nt(er,rr,ir)]);break}return nr},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var tr=safeBufferExports.Buffer;function Ot(Nt,er,rr){var ir=Nt._cipher.encryptBlock(Nt._prev),nr=ir[0]^er;return Nt._prev=tr.concat([Nt._prev.slice(1),tr.from([rr?er:nr])]),nr}return cfb8.encrypt=function(Nt,er,rr){for(var ir=er.length,nr=tr.allocUnsafe(ir),sr=-1;++sr<ir;)nr[sr]=Ot(Nt,er[sr],rr);return nr},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var tr=safeBufferExports.Buffer;function Ot(er,rr,ir){for(var nr,sr=-1,ar=8,lr=0,cr,dr;++sr<ar;)nr=er._cipher.encryptBlock(er._prev),cr=rr&1<<7-sr?128:0,dr=nr[0]^cr,lr+=(dr&128)>>sr%8,er._prev=Nt(er._prev,ir?cr:dr);return lr}function Nt(er,rr){var ir=er.length,nr=-1,sr=tr.allocUnsafe(er.length);for(er=tr.concat([er,tr.from([rr])]);++nr<ir;)sr[nr]=er[nr]<<1|er[nr+1]>>7;return sr}return cfb1.encrypt=function(er,rr,ir){for(var nr=rr.length,sr=tr.allocUnsafe(nr),ar=-1;++ar<nr;)sr[ar]=Ot(er,rr[ar],ir);return sr},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var tr=requireBufferXor();function Ot(Nt){return Nt._prev=Nt._cipher.encryptBlock(Nt._prev),Nt._prev}return ofb.encrypt=function(Nt,er){for(;Nt._cache.length<er.length;)Nt._cache=Buffer.concat([Nt._cache,Ot(Nt)]);var rr=Nt._cache.slice(0,er.length);return Nt._cache=Nt._cache.slice(er.length),tr(er,rr)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function tr(Ot){for(var Nt=Ot.length,er;Nt--;)if(er=Ot.readUInt8(Nt),er===255)Ot.writeUInt8(0,Nt);else{er++,Ot.writeUInt8(er,Nt);break}}return incr32_1=tr,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var tr=requireBufferXor(),Ot=safeBufferExports.Buffer,Nt=requireIncr32();function er(ir){var nr=ir._cipher.encryptBlockRaw(ir._prev);return Nt(ir._prev),nr}var rr=16;return ctr.encrypt=function(ir,nr){var sr=Math.ceil(nr.length/rr),ar=ir._cache.length;ir._cache=Ot.concat([ir._cache,Ot.allocUnsafe(sr*rr)]);for(var lr=0;lr<sr;lr++){var cr=er(ir),dr=ar+lr*rr;ir._cache.writeUInt32BE(cr[0],dr+0),ir._cache.writeUInt32BE(cr[1],dr+4),ir._cache.writeUInt32BE(cr[2],dr+8),ir._cache.writeUInt32BE(cr[3],dr+12)}var ur=ir._cache.slice(0,nr.length);return ir._cache=ir._cache.slice(nr.length),tr(nr,ur)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var tr={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},Ot=require$$2;for(var Nt in Ot)Ot[Nt].module=tr[Ot[Nt].mode];return modes_1=Ot,modes_1}var aes$1={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$1;hasRequiredAes$1=1;var tr=safeBufferExports.Buffer;function Ot(sr){tr.isBuffer(sr)||(sr=tr.from(sr));for(var ar=sr.length/4|0,lr=new Array(ar),cr=0;cr<ar;cr++)lr[cr]=sr.readUInt32BE(cr*4);return lr}function Nt(sr){for(var ar=0;ar<sr.length;sr++)sr[ar]=0}function er(sr,ar,lr,cr,dr){for(var ur=lr[0],fr=lr[1],hr=lr[2],pr=lr[3],gr=sr[0]^ar[0],br=sr[1]^ar[1],vr=sr[2]^ar[2],kr=sr[3]^ar[3],Sr,Cr,Ar,Ir,qr=4,Qr=1;Qr<dr;Qr++)Sr=ur[gr>>>24]^fr[br>>>16&255]^hr[vr>>>8&255]^pr[kr&255]^ar[qr++],Cr=ur[br>>>24]^fr[vr>>>16&255]^hr[kr>>>8&255]^pr[gr&255]^ar[qr++],Ar=ur[vr>>>24]^fr[kr>>>16&255]^hr[gr>>>8&255]^pr[br&255]^ar[qr++],Ir=ur[kr>>>24]^fr[gr>>>16&255]^hr[br>>>8&255]^pr[vr&255]^ar[qr++],gr=Sr,br=Cr,vr=Ar,kr=Ir;return Sr=(cr[gr>>>24]<<24|cr[br>>>16&255]<<16|cr[vr>>>8&255]<<8|cr[kr&255])^ar[qr++],Cr=(cr[br>>>24]<<24|cr[vr>>>16&255]<<16|cr[kr>>>8&255]<<8|cr[gr&255])^ar[qr++],Ar=(cr[vr>>>24]<<24|cr[kr>>>16&255]<<16|cr[gr>>>8&255]<<8|cr[br&255])^ar[qr++],Ir=(cr[kr>>>24]<<24|cr[gr>>>16&255]<<16|cr[br>>>8&255]<<8|cr[vr&255])^ar[qr++],Sr=Sr>>>0,Cr=Cr>>>0,Ar=Ar>>>0,Ir=Ir>>>0,[Sr,Cr,Ar,Ir]}var rr=[0,1,2,4,8,16,32,64,128,27,54],ir=function(){for(var sr=new Array(256),ar=0;ar<256;ar++)ar<128?sr[ar]=ar<<1:sr[ar]=ar<<1^283;for(var lr=[],cr=[],dr=[[],[],[],[]],ur=[[],[],[],[]],fr=0,hr=0,pr=0;pr<256;++pr){var gr=hr^hr<<1^hr<<2^hr<<3^hr<<4;gr=gr>>>8^gr&255^99,lr[fr]=gr,cr[gr]=fr;var br=sr[fr],vr=sr[br],kr=sr[vr],Sr=sr[gr]*257^gr*16843008;dr[0][fr]=Sr<<24|Sr>>>8,dr[1][fr]=Sr<<16|Sr>>>16,dr[2][fr]=Sr<<8|Sr>>>24,dr[3][fr]=Sr,Sr=kr*16843009^vr*65537^br*257^fr*16843008,ur[0][gr]=Sr<<24|Sr>>>8,ur[1][gr]=Sr<<16|Sr>>>16,ur[2][gr]=Sr<<8|Sr>>>24,ur[3][gr]=Sr,fr===0?fr=hr=1:(fr=br^sr[sr[sr[kr^br]]],hr^=sr[sr[hr]])}return{SBOX:lr,INV_SBOX:cr,SUB_MIX:dr,INV_SUB_MIX:ur}}();function nr(sr){this._key=Ot(sr),this._reset()}return nr.blockSize=4*4,nr.keySize=256/8,nr.prototype.blockSize=nr.blockSize,nr.prototype.keySize=nr.keySize,nr.prototype._reset=function(){for(var sr=this._key,ar=sr.length,lr=ar+6,cr=(lr+1)*4,dr=[],ur=0;ur<ar;ur++)dr[ur]=sr[ur];for(ur=ar;ur<cr;ur++){var fr=dr[ur-1];ur%ar===0?(fr=fr<<8|fr>>>24,fr=ir.SBOX[fr>>>24]<<24|ir.SBOX[fr>>>16&255]<<16|ir.SBOX[fr>>>8&255]<<8|ir.SBOX[fr&255],fr^=rr[ur/ar|0]<<24):ar>6&&ur%ar===4&&(fr=ir.SBOX[fr>>>24]<<24|ir.SBOX[fr>>>16&255]<<16|ir.SBOX[fr>>>8&255]<<8|ir.SBOX[fr&255]),dr[ur]=dr[ur-ar]^fr}for(var hr=[],pr=0;pr<cr;pr++){var gr=cr-pr,br=dr[gr-(pr%4?0:4)];pr<4||gr<=4?hr[pr]=br:hr[pr]=ir.INV_SUB_MIX[0][ir.SBOX[br>>>24]]^ir.INV_SUB_MIX[1][ir.SBOX[br>>>16&255]]^ir.INV_SUB_MIX[2][ir.SBOX[br>>>8&255]]^ir.INV_SUB_MIX[3][ir.SBOX[br&255]]}this._nRounds=lr,this._keySchedule=dr,this._invKeySchedule=hr},nr.prototype.encryptBlockRaw=function(sr){return sr=Ot(sr),er(sr,this._keySchedule,ir.SUB_MIX,ir.SBOX,this._nRounds)},nr.prototype.encryptBlock=function(sr){var ar=this.encryptBlockRaw(sr),lr=tr.allocUnsafe(16);return lr.writeUInt32BE(ar[0],0),lr.writeUInt32BE(ar[1],4),lr.writeUInt32BE(ar[2],8),lr.writeUInt32BE(ar[3],12),lr},nr.prototype.decryptBlock=function(sr){sr=Ot(sr);var ar=sr[1];sr[1]=sr[3],sr[3]=ar;var lr=er(sr,this._invKeySchedule,ir.INV_SUB_MIX,ir.INV_SBOX,this._nRounds),cr=tr.allocUnsafe(16);return cr.writeUInt32BE(lr[0],0),cr.writeUInt32BE(lr[3],4),cr.writeUInt32BE(lr[2],8),cr.writeUInt32BE(lr[1],12),cr},nr.prototype.scrub=function(){Nt(this._keySchedule),Nt(this._invKeySchedule),Nt(this._key)},aes$1.AES=nr,aes$1}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var tr=safeBufferExports.Buffer,Ot=tr.alloc(16,0);function Nt(ir){return[ir.readUInt32BE(0),ir.readUInt32BE(4),ir.readUInt32BE(8),ir.readUInt32BE(12)]}function er(ir){var nr=tr.allocUnsafe(16);return nr.writeUInt32BE(ir[0]>>>0,0),nr.writeUInt32BE(ir[1]>>>0,4),nr.writeUInt32BE(ir[2]>>>0,8),nr.writeUInt32BE(ir[3]>>>0,12),nr}function rr(ir){this.h=ir,this.state=tr.alloc(16,0),this.cache=tr.allocUnsafe(0)}return rr.prototype.ghash=function(ir){for(var nr=-1;++nr<ir.length;)this.state[nr]^=ir[nr];this._multiply()},rr.prototype._multiply=function(){for(var ir=Nt(this.h),nr=[0,0,0,0],sr,ar,lr,cr=-1;++cr<128;){for(ar=(this.state[~~(cr/8)]&1<<7-cr%8)!==0,ar&&(nr[0]^=ir[0],nr[1]^=ir[1],nr[2]^=ir[2],nr[3]^=ir[3]),lr=(ir[3]&1)!==0,sr=3;sr>0;sr--)ir[sr]=ir[sr]>>>1|(ir[sr-1]&1)<<31;ir[0]=ir[0]>>>1,lr&&(ir[0]=ir[0]^225<<24)}this.state=er(nr)},rr.prototype.update=function(ir){this.cache=tr.concat([this.cache,ir]);for(var nr;this.cache.length>=16;)nr=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(nr)},rr.prototype.final=function(ir,nr){return this.cache.length&&this.ghash(tr.concat([this.cache,Ot],16)),this.ghash(er([0,ir,0,nr])),this.state},ghash=rr,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var tr=requireAes$1(),Ot=safeBufferExports.Buffer,Nt=requireCipherBase(),er=inherits_browserExports,rr=requireGhash(),ir=requireBufferXor(),nr=requireIncr32();function sr(cr,dr){var ur=0;cr.length!==dr.length&&ur++;for(var fr=Math.min(cr.length,dr.length),hr=0;hr<fr;++hr)ur+=cr[hr]^dr[hr];return ur}function ar(cr,dr,ur){if(dr.length===12)return cr._finID=Ot.concat([dr,Ot.from([0,0,0,1])]),Ot.concat([dr,Ot.from([0,0,0,2])]);var fr=new rr(ur),hr=dr.length,pr=hr%16;fr.update(dr),pr&&(pr=16-pr,fr.update(Ot.alloc(pr,0))),fr.update(Ot.alloc(8,0));var gr=hr*8,br=Ot.alloc(8);br.writeUIntBE(gr,0,8),fr.update(br),cr._finID=fr.state;var vr=Ot.from(cr._finID);return nr(vr),vr}function lr(cr,dr,ur,fr){Nt.call(this);var hr=Ot.alloc(4,0);this._cipher=new tr.AES(dr);var pr=this._cipher.encryptBlock(hr);this._ghash=new rr(pr),ur=ar(this,ur,pr),this._prev=Ot.from(ur),this._cache=Ot.allocUnsafe(0),this._secCache=Ot.allocUnsafe(0),this._decrypt=fr,this._alen=0,this._len=0,this._mode=cr,this._authTag=null,this._called=!1}return er(lr,Nt),lr.prototype._update=function(cr){if(!this._called&&this._alen){var dr=16-this._alen%16;dr<16&&(dr=Ot.alloc(dr,0),this._ghash.update(dr))}this._called=!0;var ur=this._mode.encrypt(this,cr);return this._decrypt?this._ghash.update(cr):this._ghash.update(ur),this._len+=cr.length,ur},lr.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var cr=ir(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&sr(cr,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=cr,this._cipher.scrub()},lr.prototype.getAuthTag=function(){if(this._decrypt||!Ot.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},lr.prototype.setAuthTag=function(dr){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=dr},lr.prototype.setAAD=function(dr){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(dr),this._alen+=dr.length},authCipher=lr,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var tr=requireAes$1(),Ot=safeBufferExports.Buffer,Nt=requireCipherBase(),er=inherits_browserExports;function rr(ir,nr,sr,ar){Nt.call(this),this._cipher=new tr.AES(nr),this._prev=Ot.from(sr),this._cache=Ot.allocUnsafe(0),this._secCache=Ot.allocUnsafe(0),this._decrypt=ar,this._mode=ir}return er(rr,Nt),rr.prototype._update=function(ir){return this._mode.encrypt(this,ir,this._decrypt)},rr.prototype._final=function(){this._cipher.scrub()},streamCipher=rr,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var tr=safeBufferExports.Buffer,Ot=requireMd5_js();function Nt(er,rr,ir,nr){if(tr.isBuffer(er)||(er=tr.from(er,"binary")),rr&&(tr.isBuffer(rr)||(rr=tr.from(rr,"binary")),rr.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var sr=ir/8,ar=tr.alloc(sr),lr=tr.alloc(nr||0),cr=tr.alloc(0);sr>0||nr>0;){var dr=new Ot;dr.update(cr),dr.update(er),rr&&dr.update(rr),cr=dr.digest();var ur=0;if(sr>0){var fr=ar.length-sr;ur=Math.min(sr,cr.length),cr.copy(ar,fr,0,ur),sr-=ur}if(ur<cr.length&&nr>0){var hr=lr.length-nr,pr=Math.min(nr,cr.length-ur);cr.copy(lr,hr,ur,ur+pr),nr-=pr}}return cr.fill(0),{key:ar,iv:lr}}return evp_bytestokey=Nt,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var tr=requireModes$1(),Ot=requireAuthCipher(),Nt=safeBufferExports.Buffer,er=requireStreamCipher(),rr=requireCipherBase(),ir=requireAes$1(),nr=requireEvp_bytestokey(),sr=inherits_browserExports;function ar(fr,hr,pr){rr.call(this),this._cache=new cr,this._cipher=new ir.AES(hr),this._prev=Nt.from(pr),this._mode=fr,this._autopadding=!0}sr(ar,rr),ar.prototype._update=function(fr){this._cache.add(fr);for(var hr,pr,gr=[];hr=this._cache.get();)pr=this._mode.encrypt(this,hr),gr.push(pr);return Nt.concat(gr)};var lr=Nt.alloc(16,16);ar.prototype._final=function(){var fr=this._cache.flush();if(this._autopadding)return fr=this._mode.encrypt(this,fr),this._cipher.scrub(),fr;if(!fr.equals(lr))throw this._cipher.scrub(),new Error("data not multiple of block length")},ar.prototype.setAutoPadding=function(fr){return this._autopadding=!!fr,this};function cr(){this.cache=Nt.allocUnsafe(0)}cr.prototype.add=function(fr){this.cache=Nt.concat([this.cache,fr])},cr.prototype.get=function(){if(this.cache.length>15){var fr=this.cache.slice(0,16);return this.cache=this.cache.slice(16),fr}return null},cr.prototype.flush=function(){for(var fr=16-this.cache.length,hr=Nt.allocUnsafe(fr),pr=-1;++pr<fr;)hr.writeUInt8(fr,pr);return Nt.concat([this.cache,hr])};function dr(fr,hr,pr){var gr=tr[fr.toLowerCase()];if(!gr)throw new TypeError("invalid suite type");if(typeof hr=="string"&&(hr=Nt.from(hr)),hr.length!==gr.key/8)throw new TypeError("invalid key length "+hr.length);if(typeof pr=="string"&&(pr=Nt.from(pr)),gr.mode!=="GCM"&&pr.length!==gr.iv)throw new TypeError("invalid iv length "+pr.length);return gr.type==="stream"?new er(gr.module,hr,pr):gr.type==="auth"?new Ot(gr.module,hr,pr):new ar(gr.module,hr,pr)}function ur(fr,hr){var pr=tr[fr.toLowerCase()];if(!pr)throw new TypeError("invalid suite type");var gr=nr(hr,!1,pr.key,pr.iv);return dr(fr,gr.key,gr.iv)}return encrypter.createCipheriv=dr,encrypter.createCipher=ur,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var tr=requireAuthCipher(),Ot=safeBufferExports.Buffer,Nt=requireModes$1(),er=requireStreamCipher(),rr=requireCipherBase(),ir=requireAes$1(),nr=requireEvp_bytestokey(),sr=inherits_browserExports;function ar(fr,hr,pr){rr.call(this),this._cache=new lr,this._last=void 0,this._cipher=new ir.AES(hr),this._prev=Ot.from(pr),this._mode=fr,this._autopadding=!0}sr(ar,rr),ar.prototype._update=function(fr){this._cache.add(fr);for(var hr,pr,gr=[];hr=this._cache.get(this._autopadding);)pr=this._mode.decrypt(this,hr),gr.push(pr);return Ot.concat(gr)},ar.prototype._final=function(){var fr=this._cache.flush();if(this._autopadding)return cr(this._mode.decrypt(this,fr));if(fr)throw new Error("data not multiple of block length")},ar.prototype.setAutoPadding=function(fr){return this._autopadding=!!fr,this};function lr(){this.cache=Ot.allocUnsafe(0)}lr.prototype.add=function(fr){this.cache=Ot.concat([this.cache,fr])},lr.prototype.get=function(fr){var hr;if(fr){if(this.cache.length>16)return hr=this.cache.slice(0,16),this.cache=this.cache.slice(16),hr}else if(this.cache.length>=16)return hr=this.cache.slice(0,16),this.cache=this.cache.slice(16),hr;return null},lr.prototype.flush=function(){if(this.cache.length)return this.cache};function cr(fr){var hr=fr[15];if(hr<1||hr>16)throw new Error("unable to decrypt data");for(var pr=-1;++pr<hr;)if(fr[pr+(16-hr)]!==hr)throw new Error("unable to decrypt data");if(hr!==16)return fr.slice(0,16-hr)}function dr(fr,hr,pr){var gr=Nt[fr.toLowerCase()];if(!gr)throw new TypeError("invalid suite type");if(typeof pr=="string"&&(pr=Ot.from(pr)),gr.mode!=="GCM"&&pr.length!==gr.iv)throw new TypeError("invalid iv length "+pr.length);if(typeof hr=="string"&&(hr=Ot.from(hr)),hr.length!==gr.key/8)throw new TypeError("invalid key length "+hr.length);return gr.type==="stream"?new er(gr.module,hr,pr,!0):gr.type==="auth"?new tr(gr.module,hr,pr,!0):new ar(gr.module,hr,pr)}function ur(fr,hr){var pr=Nt[fr.toLowerCase()];if(!pr)throw new TypeError("invalid suite type");var gr=nr(hr,!1,pr.key,pr.iv);return dr(fr,gr.key,gr.iv)}return decrypter.createDecipher=ur,decrypter.createDecipheriv=dr,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var tr=requireEncrypter(),Ot=requireDecrypter(),Nt=require$$2;function er(){return Object.keys(Nt)}return browser$5.createCipher=browser$5.Cipher=tr.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=tr.createCipheriv,browser$5.createDecipher=browser$5.Decipher=Ot.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=Ot.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=er,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(tr){tr["des-ecb"]={key:8,iv:0},tr["des-cbc"]=tr.des={key:8,iv:8},tr["des-ede3-cbc"]=tr.des3={key:24,iv:8},tr["des-ede3"]={key:24,iv:0},tr["des-ede-cbc"]={key:16,iv:8},tr["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var tr=requireBrowserifyDes(),Ot=requireBrowser$6(),Nt=requireModes$1(),er=requireModes(),rr=requireEvp_bytestokey();function ir(cr,dr){cr=cr.toLowerCase();var ur,fr;if(Nt[cr])ur=Nt[cr].key,fr=Nt[cr].iv;else if(er[cr])ur=er[cr].key*8,fr=er[cr].iv;else throw new TypeError("invalid suite type");var hr=rr(dr,!1,ur,fr);return sr(cr,hr.key,hr.iv)}function nr(cr,dr){cr=cr.toLowerCase();var ur,fr;if(Nt[cr])ur=Nt[cr].key,fr=Nt[cr].iv;else if(er[cr])ur=er[cr].key*8,fr=er[cr].iv;else throw new TypeError("invalid suite type");var hr=rr(dr,!1,ur,fr);return ar(cr,hr.key,hr.iv)}function sr(cr,dr,ur){if(cr=cr.toLowerCase(),Nt[cr])return Ot.createCipheriv(cr,dr,ur);if(er[cr])return new tr({key:dr,iv:ur,mode:cr});throw new TypeError("invalid suite type")}function ar(cr,dr,ur){if(cr=cr.toLowerCase(),Nt[cr])return Ot.createDecipheriv(cr,dr,ur);if(er[cr])return new tr({key:dr,iv:ur,mode:cr,decrypt:!0});throw new TypeError("invalid suite type")}function lr(){return Object.keys(er).concat(Ot.getCiphers())}return browser$6.createCipher=browser$6.Cipher=ir,browser$6.createCipheriv=browser$6.Cipheriv=sr,browser$6.createDecipher=browser$6.Decipher=nr,browser$6.createDecipheriv=browser$6.Decipheriv=ar,browser$6.listCiphers=browser$6.getCiphers=lr,browser$6}var browser$4={},bn$1={exports:{}};bn$1.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(tr){(function(Ot,Nt){function er(jr,Or){if(!jr)throw new Error(Or||"Assertion failed")}function rr(jr,Or){jr.super_=Or;var yr=function(){};yr.prototype=Or.prototype,jr.prototype=new yr,jr.prototype.constructor=jr}function ir(jr,Or,yr){if(ir.isBN(jr))return jr;this.negative=0,this.words=null,this.length=0,this.red=null,jr!==null&&((Or==="le"||Or==="be")&&(yr=Or,Or=10),this._init(jr||0,Or||10,yr||"be"))}typeof Ot=="object"?Ot.exports=ir:Nt.BN=ir,ir.BN=ir,ir.wordSize=26;var nr;try{typeof window<"u"&&typeof window.Buffer<"u"?nr=window.Buffer:nr=require$$1$3.Buffer}catch{}ir.isBN=function(Or){return Or instanceof ir?!0:Or!==null&&typeof Or=="object"&&Or.constructor.wordSize===ir.wordSize&&Array.isArray(Or.words)},ir.max=function(Or,yr){return Or.cmp(yr)>0?Or:yr},ir.min=function(Or,yr){return Or.cmp(yr)<0?Or:yr},ir.prototype._init=function(Or,yr,xr){if(typeof Or=="number")return this._initNumber(Or,yr,xr);if(typeof Or=="object")return this._initArray(Or,yr,xr);yr==="hex"&&(yr=16),er(yr===(yr|0)&&yr>=2&&yr<=36),Or=Or.toString().replace(/\s+/g,"");var wr=0;Or[0]==="-"&&(wr++,this.negative=1),wr<Or.length&&(yr===16?this._parseHex(Or,wr,xr):(this._parseBase(Or,yr,wr),xr==="le"&&this._initArray(this.toArray(),yr,xr)))},ir.prototype._initNumber=function(Or,yr,xr){Or<0&&(this.negative=1,Or=-Or),Or<67108864?(this.words=[Or&67108863],this.length=1):Or<4503599627370496?(this.words=[Or&67108863,Or/67108864&67108863],this.length=2):(er(Or<9007199254740992),this.words=[Or&67108863,Or/67108864&67108863,1],this.length=3),xr==="le"&&this._initArray(this.toArray(),yr,xr)},ir.prototype._initArray=function(Or,yr,xr){if(er(typeof Or.length=="number"),Or.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Or.length/3),this.words=new Array(this.length);for(var wr=0;wr<this.length;wr++)this.words[wr]=0;var Br,_r,Mr=0;if(xr==="be")for(wr=Or.length-1,Br=0;wr>=0;wr-=3)_r=Or[wr]|Or[wr-1]<<8|Or[wr-2]<<16,this.words[Br]|=_r<<Mr&67108863,this.words[Br+1]=_r>>>26-Mr&67108863,Mr+=24,Mr>=26&&(Mr-=26,Br++);else if(xr==="le")for(wr=0,Br=0;wr<Or.length;wr+=3)_r=Or[wr]|Or[wr+1]<<8|Or[wr+2]<<16,this.words[Br]|=_r<<Mr&67108863,this.words[Br+1]=_r>>>26-Mr&67108863,Mr+=24,Mr>=26&&(Mr-=26,Br++);return this.strip()};function sr(jr,Or){var yr=jr.charCodeAt(Or);return yr>=65&&yr<=70?yr-55:yr>=97&&yr<=102?yr-87:yr-48&15}function ar(jr,Or,yr){var xr=sr(jr,yr);return yr-1>=Or&&(xr|=sr(jr,yr-1)<<4),xr}ir.prototype._parseHex=function(Or,yr,xr){this.length=Math.ceil((Or.length-yr)/6),this.words=new Array(this.length);for(var wr=0;wr<this.length;wr++)this.words[wr]=0;var Br=0,_r=0,Mr;if(xr==="be")for(wr=Or.length-1;wr>=yr;wr-=2)Mr=ar(Or,yr,wr)<<Br,this.words[_r]|=Mr&67108863,Br>=18?(Br-=18,_r+=1,this.words[_r]|=Mr>>>26):Br+=8;else{var Tr=Or.length-yr;for(wr=Tr%2===0?yr+1:yr;wr<Or.length;wr+=2)Mr=ar(Or,yr,wr)<<Br,this.words[_r]|=Mr&67108863,Br>=18?(Br-=18,_r+=1,this.words[_r]|=Mr>>>26):Br+=8}this.strip()};function lr(jr,Or,yr,xr){for(var wr=0,Br=Math.min(jr.length,yr),_r=Or;_r<Br;_r++){var Mr=jr.charCodeAt(_r)-48;wr*=xr,Mr>=49?wr+=Mr-49+10:Mr>=17?wr+=Mr-17+10:wr+=Mr}return wr}ir.prototype._parseBase=function(Or,yr,xr){this.words=[0],this.length=1;for(var wr=0,Br=1;Br<=67108863;Br*=yr)wr++;wr--,Br=Br/yr|0;for(var _r=Or.length-xr,Mr=_r%wr,Tr=Math.min(_r,_r-Mr)+xr,Er=0,Pr=xr;Pr<Tr;Pr+=wr)Er=lr(Or,Pr,Pr+wr,yr),this.imuln(Br),this.words[0]+Er<67108864?this.words[0]+=Er:this._iaddn(Er);if(Mr!==0){var Rr=1;for(Er=lr(Or,Pr,Or.length,yr),Pr=0;Pr<Mr;Pr++)Rr*=yr;this.imuln(Rr),this.words[0]+Er<67108864?this.words[0]+=Er:this._iaddn(Er)}this.strip()},ir.prototype.copy=function(Or){Or.words=new Array(this.length);for(var yr=0;yr<this.length;yr++)Or.words[yr]=this.words[yr];Or.length=this.length,Or.negative=this.negative,Or.red=this.red},ir.prototype.clone=function(){var Or=new ir(null);return this.copy(Or),Or},ir.prototype._expand=function(Or){for(;this.length<Or;)this.words[this.length++]=0;return this},ir.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ir.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ir.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var cr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],dr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ur=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ir.prototype.toString=function(Or,yr){Or=Or||10,yr=yr|0||1;var xr;if(Or===16||Or==="hex"){xr="";for(var wr=0,Br=0,_r=0;_r<this.length;_r++){var Mr=this.words[_r],Tr=((Mr<<wr|Br)&16777215).toString(16);Br=Mr>>>24-wr&16777215,Br!==0||_r!==this.length-1?xr=cr[6-Tr.length]+Tr+xr:xr=Tr+xr,wr+=2,wr>=26&&(wr-=26,_r--)}for(Br!==0&&(xr=Br.toString(16)+xr);xr.length%yr!==0;)xr="0"+xr;return this.negative!==0&&(xr="-"+xr),xr}if(Or===(Or|0)&&Or>=2&&Or<=36){var Er=dr[Or],Pr=ur[Or];xr="";var Rr=this.clone();for(Rr.negative=0;!Rr.isZero();){var Lr=Rr.modn(Pr).toString(Or);Rr=Rr.idivn(Pr),Rr.isZero()?xr=Lr+xr:xr=cr[Er-Lr.length]+Lr+xr}for(this.isZero()&&(xr="0"+xr);xr.length%yr!==0;)xr="0"+xr;return this.negative!==0&&(xr="-"+xr),xr}er(!1,"Base should be between 2 and 36")},ir.prototype.toNumber=function(){var Or=this.words[0];return this.length===2?Or+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Or+=4503599627370496+this.words[1]*67108864:this.length>2&&er(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Or:Or},ir.prototype.toJSON=function(){return this.toString(16)},ir.prototype.toBuffer=function(Or,yr){return er(typeof nr<"u"),this.toArrayLike(nr,Or,yr)},ir.prototype.toArray=function(Or,yr){return this.toArrayLike(Array,Or,yr)},ir.prototype.toArrayLike=function(Or,yr,xr){var wr=this.byteLength(),Br=xr||Math.max(1,wr);er(wr<=Br,"byte array longer than desired length"),er(Br>0,"Requested array length <= 0"),this.strip();var _r=yr==="le",Mr=new Or(Br),Tr,Er,Pr=this.clone();if(_r){for(Er=0;!Pr.isZero();Er++)Tr=Pr.andln(255),Pr.iushrn(8),Mr[Er]=Tr;for(;Er<Br;Er++)Mr[Er]=0}else{for(Er=0;Er<Br-wr;Er++)Mr[Er]=0;for(Er=0;!Pr.isZero();Er++)Tr=Pr.andln(255),Pr.iushrn(8),Mr[Br-Er-1]=Tr}return Mr},Math.clz32?ir.prototype._countBits=function(Or){return 32-Math.clz32(Or)}:ir.prototype._countBits=function(Or){var yr=Or,xr=0;return yr>=4096&&(xr+=13,yr>>>=13),yr>=64&&(xr+=7,yr>>>=7),yr>=8&&(xr+=4,yr>>>=4),yr>=2&&(xr+=2,yr>>>=2),xr+yr},ir.prototype._zeroBits=function(Or){if(Or===0)return 26;var yr=Or,xr=0;return yr&8191||(xr+=13,yr>>>=13),yr&127||(xr+=7,yr>>>=7),yr&15||(xr+=4,yr>>>=4),yr&3||(xr+=2,yr>>>=2),yr&1||xr++,xr},ir.prototype.bitLength=function(){var Or=this.words[this.length-1],yr=this._countBits(Or);return(this.length-1)*26+yr};function fr(jr){for(var Or=new Array(jr.bitLength()),yr=0;yr<Or.length;yr++){var xr=yr/26|0,wr=yr%26;Or[yr]=(jr.words[xr]&1<<wr)>>>wr}return Or}ir.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Or=0,yr=0;yr<this.length;yr++){var xr=this._zeroBits(this.words[yr]);if(Or+=xr,xr!==26)break}return Or},ir.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ir.prototype.toTwos=function(Or){return this.negative!==0?this.abs().inotn(Or).iaddn(1):this.clone()},ir.prototype.fromTwos=function(Or){return this.testn(Or-1)?this.notn(Or).iaddn(1).ineg():this.clone()},ir.prototype.isNeg=function(){return this.negative!==0},ir.prototype.neg=function(){return this.clone().ineg()},ir.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ir.prototype.iuor=function(Or){for(;this.length<Or.length;)this.words[this.length++]=0;for(var yr=0;yr<Or.length;yr++)this.words[yr]=this.words[yr]|Or.words[yr];return this.strip()},ir.prototype.ior=function(Or){return er((this.negative|Or.negative)===0),this.iuor(Or)},ir.prototype.or=function(Or){return this.length>Or.length?this.clone().ior(Or):Or.clone().ior(this)},ir.prototype.uor=function(Or){return this.length>Or.length?this.clone().iuor(Or):Or.clone().iuor(this)},ir.prototype.iuand=function(Or){var yr;this.length>Or.length?yr=Or:yr=this;for(var xr=0;xr<yr.length;xr++)this.words[xr]=this.words[xr]&Or.words[xr];return this.length=yr.length,this.strip()},ir.prototype.iand=function(Or){return er((this.negative|Or.negative)===0),this.iuand(Or)},ir.prototype.and=function(Or){return this.length>Or.length?this.clone().iand(Or):Or.clone().iand(this)},ir.prototype.uand=function(Or){return this.length>Or.length?this.clone().iuand(Or):Or.clone().iuand(this)},ir.prototype.iuxor=function(Or){var yr,xr;this.length>Or.length?(yr=this,xr=Or):(yr=Or,xr=this);for(var wr=0;wr<xr.length;wr++)this.words[wr]=yr.words[wr]^xr.words[wr];if(this!==yr)for(;wr<yr.length;wr++)this.words[wr]=yr.words[wr];return this.length=yr.length,this.strip()},ir.prototype.ixor=function(Or){return er((this.negative|Or.negative)===0),this.iuxor(Or)},ir.prototype.xor=function(Or){return this.length>Or.length?this.clone().ixor(Or):Or.clone().ixor(this)},ir.prototype.uxor=function(Or){return this.length>Or.length?this.clone().iuxor(Or):Or.clone().iuxor(this)},ir.prototype.inotn=function(Or){er(typeof Or=="number"&&Or>=0);var yr=Math.ceil(Or/26)|0,xr=Or%26;this._expand(yr),xr>0&&yr--;for(var wr=0;wr<yr;wr++)this.words[wr]=~this.words[wr]&67108863;return xr>0&&(this.words[wr]=~this.words[wr]&67108863>>26-xr),this.strip()},ir.prototype.notn=function(Or){return this.clone().inotn(Or)},ir.prototype.setn=function(Or,yr){er(typeof Or=="number"&&Or>=0);var xr=Or/26|0,wr=Or%26;return this._expand(xr+1),yr?this.words[xr]=this.words[xr]|1<<wr:this.words[xr]=this.words[xr]&~(1<<wr),this.strip()},ir.prototype.iadd=function(Or){var yr;if(this.negative!==0&&Or.negative===0)return this.negative=0,yr=this.isub(Or),this.negative^=1,this._normSign();if(this.negative===0&&Or.negative!==0)return Or.negative=0,yr=this.isub(Or),Or.negative=1,yr._normSign();var xr,wr;this.length>Or.length?(xr=this,wr=Or):(xr=Or,wr=this);for(var Br=0,_r=0;_r<wr.length;_r++)yr=(xr.words[_r]|0)+(wr.words[_r]|0)+Br,this.words[_r]=yr&67108863,Br=yr>>>26;for(;Br!==0&&_r<xr.length;_r++)yr=(xr.words[_r]|0)+Br,this.words[_r]=yr&67108863,Br=yr>>>26;if(this.length=xr.length,Br!==0)this.words[this.length]=Br,this.length++;else if(xr!==this)for(;_r<xr.length;_r++)this.words[_r]=xr.words[_r];return this},ir.prototype.add=function(Or){var yr;return Or.negative!==0&&this.negative===0?(Or.negative=0,yr=this.sub(Or),Or.negative^=1,yr):Or.negative===0&&this.negative!==0?(this.negative=0,yr=Or.sub(this),this.negative=1,yr):this.length>Or.length?this.clone().iadd(Or):Or.clone().iadd(this)},ir.prototype.isub=function(Or){if(Or.negative!==0){Or.negative=0;var yr=this.iadd(Or);return Or.negative=1,yr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Or),this.negative=1,this._normSign();var xr=this.cmp(Or);if(xr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var wr,Br;xr>0?(wr=this,Br=Or):(wr=Or,Br=this);for(var _r=0,Mr=0;Mr<Br.length;Mr++)yr=(wr.words[Mr]|0)-(Br.words[Mr]|0)+_r,_r=yr>>26,this.words[Mr]=yr&67108863;for(;_r!==0&&Mr<wr.length;Mr++)yr=(wr.words[Mr]|0)+_r,_r=yr>>26,this.words[Mr]=yr&67108863;if(_r===0&&Mr<wr.length&&wr!==this)for(;Mr<wr.length;Mr++)this.words[Mr]=wr.words[Mr];return this.length=Math.max(this.length,Mr),wr!==this&&(this.negative=1),this.strip()},ir.prototype.sub=function(Or){return this.clone().isub(Or)};function hr(jr,Or,yr){yr.negative=Or.negative^jr.negative;var xr=jr.length+Or.length|0;yr.length=xr,xr=xr-1|0;var wr=jr.words[0]|0,Br=Or.words[0]|0,_r=wr*Br,Mr=_r&67108863,Tr=_r/67108864|0;yr.words[0]=Mr;for(var Er=1;Er<xr;Er++){for(var Pr=Tr>>>26,Rr=Tr&67108863,Lr=Math.min(Er,Or.length-1),Hr=Math.max(0,Er-jr.length+1);Hr<=Lr;Hr++){var Gr=Er-Hr|0;wr=jr.words[Gr]|0,Br=Or.words[Hr]|0,_r=wr*Br+Rr,Pr+=_r/67108864|0,Rr=_r&67108863}yr.words[Er]=Rr|0,Tr=Pr|0}return Tr!==0?yr.words[Er]=Tr|0:yr.length--,yr.strip()}var pr=function(Or,yr,xr){var wr=Or.words,Br=yr.words,_r=xr.words,Mr=0,Tr,Er,Pr,Rr=wr[0]|0,Lr=Rr&8191,Hr=Rr>>>13,Gr=wr[1]|0,Ur=Gr&8191,Nr=Gr>>>13,Fr=wr[2]|0,Xr=Fr&8191,Jr=Fr>>>13,Vr=wr[3]|0,Zr=Vr&8191,Kr=Vr>>>13,Ci=wr[4]|0,Mi=Ci&8191,Ti=Ci>>>13,Ii=wr[5]|0,ji=Ii&8191,Si=Ii>>>13,zi=wr[6]|0,Di=zi&8191,Fi=zi>>>13,Vi=wr[7]|0,Ni=Vi&8191,rn=Vi>>>13,ln=wr[8]|0,qi=ln&8191,fn=ln>>>13,Sn=wr[9]|0,Xi=Sn&8191,yn=Sn>>>13,kn=Br[0]|0,nn=kn&8191,jn=kn>>>13,Tn=Br[1]|0,cn=Tn&8191,Dn=Tn>>>13,Wi=Br[2]|0,tn=Wi&8191,Bn=Wi>>>13,Mn=Br[3]|0,Yi=Mn&8191,Cn=Mn>>>13,wn=Br[4]|0,on=wn&8191,Pi=wn>>>13,Pn=Br[5]|0,Hi=Pn&8191,En=Pn>>>13,An=Br[6]|0,Ji=An&8191,sn=An>>>13,xn=Br[7]|0,Ui=xn&8191,vn=xn>>>13,hn=Br[8]|0,an=hn&8191,Ln=hn>>>13,In=Br[9]|0,Qi=In&8191,_n=In>>>13;xr.negative=Or.negative^yr.negative,xr.length=19,Tr=Math.imul(Lr,nn),Er=Math.imul(Lr,jn),Er=Er+Math.imul(Hr,nn)|0,Pr=Math.imul(Hr,jn);var Nn=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,Tr=Math.imul(Ur,nn),Er=Math.imul(Ur,jn),Er=Er+Math.imul(Nr,nn)|0,Pr=Math.imul(Nr,jn),Tr=Tr+Math.imul(Lr,cn)|0,Er=Er+Math.imul(Lr,Dn)|0,Er=Er+Math.imul(Hr,cn)|0,Pr=Pr+Math.imul(Hr,Dn)|0;var On=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(On>>>26)|0,On&=67108863,Tr=Math.imul(Xr,nn),Er=Math.imul(Xr,jn),Er=Er+Math.imul(Jr,nn)|0,Pr=Math.imul(Jr,jn),Tr=Tr+Math.imul(Ur,cn)|0,Er=Er+Math.imul(Ur,Dn)|0,Er=Er+Math.imul(Nr,cn)|0,Pr=Pr+Math.imul(Nr,Dn)|0,Tr=Tr+Math.imul(Lr,tn)|0,Er=Er+Math.imul(Lr,Bn)|0,Er=Er+Math.imul(Hr,tn)|0,Pr=Pr+Math.imul(Hr,Bn)|0;var es=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(es>>>26)|0,es&=67108863,Tr=Math.imul(Zr,nn),Er=Math.imul(Zr,jn),Er=Er+Math.imul(Kr,nn)|0,Pr=Math.imul(Kr,jn),Tr=Tr+Math.imul(Xr,cn)|0,Er=Er+Math.imul(Xr,Dn)|0,Er=Er+Math.imul(Jr,cn)|0,Pr=Pr+Math.imul(Jr,Dn)|0,Tr=Tr+Math.imul(Ur,tn)|0,Er=Er+Math.imul(Ur,Bn)|0,Er=Er+Math.imul(Nr,tn)|0,Pr=Pr+Math.imul(Nr,Bn)|0,Tr=Tr+Math.imul(Lr,Yi)|0,Er=Er+Math.imul(Lr,Cn)|0,Er=Er+Math.imul(Hr,Yi)|0,Pr=Pr+Math.imul(Hr,Cn)|0;var Zn=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,Tr=Math.imul(Mi,nn),Er=Math.imul(Mi,jn),Er=Er+Math.imul(Ti,nn)|0,Pr=Math.imul(Ti,jn),Tr=Tr+Math.imul(Zr,cn)|0,Er=Er+Math.imul(Zr,Dn)|0,Er=Er+Math.imul(Kr,cn)|0,Pr=Pr+Math.imul(Kr,Dn)|0,Tr=Tr+Math.imul(Xr,tn)|0,Er=Er+Math.imul(Xr,Bn)|0,Er=Er+Math.imul(Jr,tn)|0,Pr=Pr+Math.imul(Jr,Bn)|0,Tr=Tr+Math.imul(Ur,Yi)|0,Er=Er+Math.imul(Ur,Cn)|0,Er=Er+Math.imul(Nr,Yi)|0,Pr=Pr+Math.imul(Nr,Cn)|0,Tr=Tr+Math.imul(Lr,on)|0,Er=Er+Math.imul(Lr,Pi)|0,Er=Er+Math.imul(Hr,on)|0,Pr=Pr+Math.imul(Hr,Pi)|0;var Qn=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,Tr=Math.imul(ji,nn),Er=Math.imul(ji,jn),Er=Er+Math.imul(Si,nn)|0,Pr=Math.imul(Si,jn),Tr=Tr+Math.imul(Mi,cn)|0,Er=Er+Math.imul(Mi,Dn)|0,Er=Er+Math.imul(Ti,cn)|0,Pr=Pr+Math.imul(Ti,Dn)|0,Tr=Tr+Math.imul(Zr,tn)|0,Er=Er+Math.imul(Zr,Bn)|0,Er=Er+Math.imul(Kr,tn)|0,Pr=Pr+Math.imul(Kr,Bn)|0,Tr=Tr+Math.imul(Xr,Yi)|0,Er=Er+Math.imul(Xr,Cn)|0,Er=Er+Math.imul(Jr,Yi)|0,Pr=Pr+Math.imul(Jr,Cn)|0,Tr=Tr+Math.imul(Ur,on)|0,Er=Er+Math.imul(Ur,Pi)|0,Er=Er+Math.imul(Nr,on)|0,Pr=Pr+Math.imul(Nr,Pi)|0,Tr=Tr+Math.imul(Lr,Hi)|0,Er=Er+Math.imul(Lr,En)|0,Er=Er+Math.imul(Hr,Hi)|0,Pr=Pr+Math.imul(Hr,En)|0;var Kn=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,Tr=Math.imul(Di,nn),Er=Math.imul(Di,jn),Er=Er+Math.imul(Fi,nn)|0,Pr=Math.imul(Fi,jn),Tr=Tr+Math.imul(ji,cn)|0,Er=Er+Math.imul(ji,Dn)|0,Er=Er+Math.imul(Si,cn)|0,Pr=Pr+Math.imul(Si,Dn)|0,Tr=Tr+Math.imul(Mi,tn)|0,Er=Er+Math.imul(Mi,Bn)|0,Er=Er+Math.imul(Ti,tn)|0,Pr=Pr+Math.imul(Ti,Bn)|0,Tr=Tr+Math.imul(Zr,Yi)|0,Er=Er+Math.imul(Zr,Cn)|0,Er=Er+Math.imul(Kr,Yi)|0,Pr=Pr+Math.imul(Kr,Cn)|0,Tr=Tr+Math.imul(Xr,on)|0,Er=Er+Math.imul(Xr,Pi)|0,Er=Er+Math.imul(Jr,on)|0,Pr=Pr+Math.imul(Jr,Pi)|0,Tr=Tr+Math.imul(Ur,Hi)|0,Er=Er+Math.imul(Ur,En)|0,Er=Er+Math.imul(Nr,Hi)|0,Pr=Pr+Math.imul(Nr,En)|0,Tr=Tr+Math.imul(Lr,Ji)|0,Er=Er+Math.imul(Lr,sn)|0,Er=Er+Math.imul(Hr,Ji)|0,Pr=Pr+Math.imul(Hr,sn)|0;var ts=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(ts>>>26)|0,ts&=67108863,Tr=Math.imul(Ni,nn),Er=Math.imul(Ni,jn),Er=Er+Math.imul(rn,nn)|0,Pr=Math.imul(rn,jn),Tr=Tr+Math.imul(Di,cn)|0,Er=Er+Math.imul(Di,Dn)|0,Er=Er+Math.imul(Fi,cn)|0,Pr=Pr+Math.imul(Fi,Dn)|0,Tr=Tr+Math.imul(ji,tn)|0,Er=Er+Math.imul(ji,Bn)|0,Er=Er+Math.imul(Si,tn)|0,Pr=Pr+Math.imul(Si,Bn)|0,Tr=Tr+Math.imul(Mi,Yi)|0,Er=Er+Math.imul(Mi,Cn)|0,Er=Er+Math.imul(Ti,Yi)|0,Pr=Pr+Math.imul(Ti,Cn)|0,Tr=Tr+Math.imul(Zr,on)|0,Er=Er+Math.imul(Zr,Pi)|0,Er=Er+Math.imul(Kr,on)|0,Pr=Pr+Math.imul(Kr,Pi)|0,Tr=Tr+Math.imul(Xr,Hi)|0,Er=Er+Math.imul(Xr,En)|0,Er=Er+Math.imul(Jr,Hi)|0,Pr=Pr+Math.imul(Jr,En)|0,Tr=Tr+Math.imul(Ur,Ji)|0,Er=Er+Math.imul(Ur,sn)|0,Er=Er+Math.imul(Nr,Ji)|0,Pr=Pr+Math.imul(Nr,sn)|0,Tr=Tr+Math.imul(Lr,Ui)|0,Er=Er+Math.imul(Lr,vn)|0,Er=Er+Math.imul(Hr,Ui)|0,Pr=Pr+Math.imul(Hr,vn)|0;var ss=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(ss>>>26)|0,ss&=67108863,Tr=Math.imul(qi,nn),Er=Math.imul(qi,jn),Er=Er+Math.imul(fn,nn)|0,Pr=Math.imul(fn,jn),Tr=Tr+Math.imul(Ni,cn)|0,Er=Er+Math.imul(Ni,Dn)|0,Er=Er+Math.imul(rn,cn)|0,Pr=Pr+Math.imul(rn,Dn)|0,Tr=Tr+Math.imul(Di,tn)|0,Er=Er+Math.imul(Di,Bn)|0,Er=Er+Math.imul(Fi,tn)|0,Pr=Pr+Math.imul(Fi,Bn)|0,Tr=Tr+Math.imul(ji,Yi)|0,Er=Er+Math.imul(ji,Cn)|0,Er=Er+Math.imul(Si,Yi)|0,Pr=Pr+Math.imul(Si,Cn)|0,Tr=Tr+Math.imul(Mi,on)|0,Er=Er+Math.imul(Mi,Pi)|0,Er=Er+Math.imul(Ti,on)|0,Pr=Pr+Math.imul(Ti,Pi)|0,Tr=Tr+Math.imul(Zr,Hi)|0,Er=Er+Math.imul(Zr,En)|0,Er=Er+Math.imul(Kr,Hi)|0,Pr=Pr+Math.imul(Kr,En)|0,Tr=Tr+Math.imul(Xr,Ji)|0,Er=Er+Math.imul(Xr,sn)|0,Er=Er+Math.imul(Jr,Ji)|0,Pr=Pr+Math.imul(Jr,sn)|0,Tr=Tr+Math.imul(Ur,Ui)|0,Er=Er+Math.imul(Ur,vn)|0,Er=Er+Math.imul(Nr,Ui)|0,Pr=Pr+Math.imul(Nr,vn)|0,Tr=Tr+Math.imul(Lr,an)|0,Er=Er+Math.imul(Lr,Ln)|0,Er=Er+Math.imul(Hr,an)|0,Pr=Pr+Math.imul(Hr,Ln)|0;var as=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(as>>>26)|0,as&=67108863,Tr=Math.imul(Xi,nn),Er=Math.imul(Xi,jn),Er=Er+Math.imul(yn,nn)|0,Pr=Math.imul(yn,jn),Tr=Tr+Math.imul(qi,cn)|0,Er=Er+Math.imul(qi,Dn)|0,Er=Er+Math.imul(fn,cn)|0,Pr=Pr+Math.imul(fn,Dn)|0,Tr=Tr+Math.imul(Ni,tn)|0,Er=Er+Math.imul(Ni,Bn)|0,Er=Er+Math.imul(rn,tn)|0,Pr=Pr+Math.imul(rn,Bn)|0,Tr=Tr+Math.imul(Di,Yi)|0,Er=Er+Math.imul(Di,Cn)|0,Er=Er+Math.imul(Fi,Yi)|0,Pr=Pr+Math.imul(Fi,Cn)|0,Tr=Tr+Math.imul(ji,on)|0,Er=Er+Math.imul(ji,Pi)|0,Er=Er+Math.imul(Si,on)|0,Pr=Pr+Math.imul(Si,Pi)|0,Tr=Tr+Math.imul(Mi,Hi)|0,Er=Er+Math.imul(Mi,En)|0,Er=Er+Math.imul(Ti,Hi)|0,Pr=Pr+Math.imul(Ti,En)|0,Tr=Tr+Math.imul(Zr,Ji)|0,Er=Er+Math.imul(Zr,sn)|0,Er=Er+Math.imul(Kr,Ji)|0,Pr=Pr+Math.imul(Kr,sn)|0,Tr=Tr+Math.imul(Xr,Ui)|0,Er=Er+Math.imul(Xr,vn)|0,Er=Er+Math.imul(Jr,Ui)|0,Pr=Pr+Math.imul(Jr,vn)|0,Tr=Tr+Math.imul(Ur,an)|0,Er=Er+Math.imul(Ur,Ln)|0,Er=Er+Math.imul(Nr,an)|0,Pr=Pr+Math.imul(Nr,Ln)|0,Tr=Tr+Math.imul(Lr,Qi)|0,Er=Er+Math.imul(Lr,_n)|0,Er=Er+Math.imul(Hr,Qi)|0,Pr=Pr+Math.imul(Hr,_n)|0;var Fn=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,Tr=Math.imul(Xi,cn),Er=Math.imul(Xi,Dn),Er=Er+Math.imul(yn,cn)|0,Pr=Math.imul(yn,Dn),Tr=Tr+Math.imul(qi,tn)|0,Er=Er+Math.imul(qi,Bn)|0,Er=Er+Math.imul(fn,tn)|0,Pr=Pr+Math.imul(fn,Bn)|0,Tr=Tr+Math.imul(Ni,Yi)|0,Er=Er+Math.imul(Ni,Cn)|0,Er=Er+Math.imul(rn,Yi)|0,Pr=Pr+Math.imul(rn,Cn)|0,Tr=Tr+Math.imul(Di,on)|0,Er=Er+Math.imul(Di,Pi)|0,Er=Er+Math.imul(Fi,on)|0,Pr=Pr+Math.imul(Fi,Pi)|0,Tr=Tr+Math.imul(ji,Hi)|0,Er=Er+Math.imul(ji,En)|0,Er=Er+Math.imul(Si,Hi)|0,Pr=Pr+Math.imul(Si,En)|0,Tr=Tr+Math.imul(Mi,Ji)|0,Er=Er+Math.imul(Mi,sn)|0,Er=Er+Math.imul(Ti,Ji)|0,Pr=Pr+Math.imul(Ti,sn)|0,Tr=Tr+Math.imul(Zr,Ui)|0,Er=Er+Math.imul(Zr,vn)|0,Er=Er+Math.imul(Kr,Ui)|0,Pr=Pr+Math.imul(Kr,vn)|0,Tr=Tr+Math.imul(Xr,an)|0,Er=Er+Math.imul(Xr,Ln)|0,Er=Er+Math.imul(Jr,an)|0,Pr=Pr+Math.imul(Jr,Ln)|0,Tr=Tr+Math.imul(Ur,Qi)|0,Er=Er+Math.imul(Ur,_n)|0,Er=Er+Math.imul(Nr,Qi)|0,Pr=Pr+Math.imul(Nr,_n)|0;var zn=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(zn>>>26)|0,zn&=67108863,Tr=Math.imul(Xi,tn),Er=Math.imul(Xi,Bn),Er=Er+Math.imul(yn,tn)|0,Pr=Math.imul(yn,Bn),Tr=Tr+Math.imul(qi,Yi)|0,Er=Er+Math.imul(qi,Cn)|0,Er=Er+Math.imul(fn,Yi)|0,Pr=Pr+Math.imul(fn,Cn)|0,Tr=Tr+Math.imul(Ni,on)|0,Er=Er+Math.imul(Ni,Pi)|0,Er=Er+Math.imul(rn,on)|0,Pr=Pr+Math.imul(rn,Pi)|0,Tr=Tr+Math.imul(Di,Hi)|0,Er=Er+Math.imul(Di,En)|0,Er=Er+Math.imul(Fi,Hi)|0,Pr=Pr+Math.imul(Fi,En)|0,Tr=Tr+Math.imul(ji,Ji)|0,Er=Er+Math.imul(ji,sn)|0,Er=Er+Math.imul(Si,Ji)|0,Pr=Pr+Math.imul(Si,sn)|0,Tr=Tr+Math.imul(Mi,Ui)|0,Er=Er+Math.imul(Mi,vn)|0,Er=Er+Math.imul(Ti,Ui)|0,Pr=Pr+Math.imul(Ti,vn)|0,Tr=Tr+Math.imul(Zr,an)|0,Er=Er+Math.imul(Zr,Ln)|0,Er=Er+Math.imul(Kr,an)|0,Pr=Pr+Math.imul(Kr,Ln)|0,Tr=Tr+Math.imul(Xr,Qi)|0,Er=Er+Math.imul(Xr,_n)|0,Er=Er+Math.imul(Jr,Qi)|0,Pr=Pr+Math.imul(Jr,_n)|0;var ls=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(ls>>>26)|0,ls&=67108863,Tr=Math.imul(Xi,Yi),Er=Math.imul(Xi,Cn),Er=Er+Math.imul(yn,Yi)|0,Pr=Math.imul(yn,Cn),Tr=Tr+Math.imul(qi,on)|0,Er=Er+Math.imul(qi,Pi)|0,Er=Er+Math.imul(fn,on)|0,Pr=Pr+Math.imul(fn,Pi)|0,Tr=Tr+Math.imul(Ni,Hi)|0,Er=Er+Math.imul(Ni,En)|0,Er=Er+Math.imul(rn,Hi)|0,Pr=Pr+Math.imul(rn,En)|0,Tr=Tr+Math.imul(Di,Ji)|0,Er=Er+Math.imul(Di,sn)|0,Er=Er+Math.imul(Fi,Ji)|0,Pr=Pr+Math.imul(Fi,sn)|0,Tr=Tr+Math.imul(ji,Ui)|0,Er=Er+Math.imul(ji,vn)|0,Er=Er+Math.imul(Si,Ui)|0,Pr=Pr+Math.imul(Si,vn)|0,Tr=Tr+Math.imul(Mi,an)|0,Er=Er+Math.imul(Mi,Ln)|0,Er=Er+Math.imul(Ti,an)|0,Pr=Pr+Math.imul(Ti,Ln)|0,Tr=Tr+Math.imul(Zr,Qi)|0,Er=Er+Math.imul(Zr,_n)|0,Er=Er+Math.imul(Kr,Qi)|0,Pr=Pr+Math.imul(Kr,_n)|0;var Jn=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,Tr=Math.imul(Xi,on),Er=Math.imul(Xi,Pi),Er=Er+Math.imul(yn,on)|0,Pr=Math.imul(yn,Pi),Tr=Tr+Math.imul(qi,Hi)|0,Er=Er+Math.imul(qi,En)|0,Er=Er+Math.imul(fn,Hi)|0,Pr=Pr+Math.imul(fn,En)|0,Tr=Tr+Math.imul(Ni,Ji)|0,Er=Er+Math.imul(Ni,sn)|0,Er=Er+Math.imul(rn,Ji)|0,Pr=Pr+Math.imul(rn,sn)|0,Tr=Tr+Math.imul(Di,Ui)|0,Er=Er+Math.imul(Di,vn)|0,Er=Er+Math.imul(Fi,Ui)|0,Pr=Pr+Math.imul(Fi,vn)|0,Tr=Tr+Math.imul(ji,an)|0,Er=Er+Math.imul(ji,Ln)|0,Er=Er+Math.imul(Si,an)|0,Pr=Pr+Math.imul(Si,Ln)|0,Tr=Tr+Math.imul(Mi,Qi)|0,Er=Er+Math.imul(Mi,_n)|0,Er=Er+Math.imul(Ti,Qi)|0,Pr=Pr+Math.imul(Ti,_n)|0;var cs=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(cs>>>26)|0,cs&=67108863,Tr=Math.imul(Xi,Hi),Er=Math.imul(Xi,En),Er=Er+Math.imul(yn,Hi)|0,Pr=Math.imul(yn,En),Tr=Tr+Math.imul(qi,Ji)|0,Er=Er+Math.imul(qi,sn)|0,Er=Er+Math.imul(fn,Ji)|0,Pr=Pr+Math.imul(fn,sn)|0,Tr=Tr+Math.imul(Ni,Ui)|0,Er=Er+Math.imul(Ni,vn)|0,Er=Er+Math.imul(rn,Ui)|0,Pr=Pr+Math.imul(rn,vn)|0,Tr=Tr+Math.imul(Di,an)|0,Er=Er+Math.imul(Di,Ln)|0,Er=Er+Math.imul(Fi,an)|0,Pr=Pr+Math.imul(Fi,Ln)|0,Tr=Tr+Math.imul(ji,Qi)|0,Er=Er+Math.imul(ji,_n)|0,Er=Er+Math.imul(Si,Qi)|0,Pr=Pr+Math.imul(Si,_n)|0;var Xn=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,Tr=Math.imul(Xi,Ji),Er=Math.imul(Xi,sn),Er=Er+Math.imul(yn,Ji)|0,Pr=Math.imul(yn,sn),Tr=Tr+Math.imul(qi,Ui)|0,Er=Er+Math.imul(qi,vn)|0,Er=Er+Math.imul(fn,Ui)|0,Pr=Pr+Math.imul(fn,vn)|0,Tr=Tr+Math.imul(Ni,an)|0,Er=Er+Math.imul(Ni,Ln)|0,Er=Er+Math.imul(rn,an)|0,Pr=Pr+Math.imul(rn,Ln)|0,Tr=Tr+Math.imul(Di,Qi)|0,Er=Er+Math.imul(Di,_n)|0,Er=Er+Math.imul(Fi,Qi)|0,Pr=Pr+Math.imul(Fi,_n)|0;var rs=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(rs>>>26)|0,rs&=67108863,Tr=Math.imul(Xi,Ui),Er=Math.imul(Xi,vn),Er=Er+Math.imul(yn,Ui)|0,Pr=Math.imul(yn,vn),Tr=Tr+Math.imul(qi,an)|0,Er=Er+Math.imul(qi,Ln)|0,Er=Er+Math.imul(fn,an)|0,Pr=Pr+Math.imul(fn,Ln)|0,Tr=Tr+Math.imul(Ni,Qi)|0,Er=Er+Math.imul(Ni,_n)|0,Er=Er+Math.imul(rn,Qi)|0,Pr=Pr+Math.imul(rn,_n)|0;var ds=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(ds>>>26)|0,ds&=67108863,Tr=Math.imul(Xi,an),Er=Math.imul(Xi,Ln),Er=Er+Math.imul(yn,an)|0,Pr=Math.imul(yn,Ln),Tr=Tr+Math.imul(qi,Qi)|0,Er=Er+Math.imul(qi,_n)|0,Er=Er+Math.imul(fn,Qi)|0,Pr=Pr+Math.imul(fn,_n)|0;var us=(Mr+Tr|0)+((Er&8191)<<13)|0;Mr=(Pr+(Er>>>13)|0)+(us>>>26)|0,us&=67108863,Tr=Math.imul(Xi,Qi),Er=Math.imul(Xi,_n),Er=Er+Math.imul(yn,Qi)|0,Pr=Math.imul(yn,_n);var Vn=(Mr+Tr|0)+((Er&8191)<<13)|0;return Mr=(Pr+(Er>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,_r[0]=Nn,_r[1]=On,_r[2]=es,_r[3]=Zn,_r[4]=Qn,_r[5]=Kn,_r[6]=ts,_r[7]=ss,_r[8]=as,_r[9]=Fn,_r[10]=zn,_r[11]=ls,_r[12]=Jn,_r[13]=cs,_r[14]=Xn,_r[15]=rs,_r[16]=ds,_r[17]=us,_r[18]=Vn,Mr!==0&&(_r[19]=Mr,xr.length++),xr};Math.imul||(pr=hr);function gr(jr,Or,yr){yr.negative=Or.negative^jr.negative,yr.length=jr.length+Or.length;for(var xr=0,wr=0,Br=0;Br<yr.length-1;Br++){var _r=wr;wr=0;for(var Mr=xr&67108863,Tr=Math.min(Br,Or.length-1),Er=Math.max(0,Br-jr.length+1);Er<=Tr;Er++){var Pr=Br-Er,Rr=jr.words[Pr]|0,Lr=Or.words[Er]|0,Hr=Rr*Lr,Gr=Hr&67108863;_r=_r+(Hr/67108864|0)|0,Gr=Gr+Mr|0,Mr=Gr&67108863,_r=_r+(Gr>>>26)|0,wr+=_r>>>26,_r&=67108863}yr.words[Br]=Mr,xr=_r,_r=wr}return xr!==0?yr.words[Br]=xr:yr.length--,yr.strip()}function br(jr,Or,yr){var xr=new vr;return xr.mulp(jr,Or,yr)}ir.prototype.mulTo=function(Or,yr){var xr,wr=this.length+Or.length;return this.length===10&&Or.length===10?xr=pr(this,Or,yr):wr<63?xr=hr(this,Or,yr):wr<1024?xr=gr(this,Or,yr):xr=br(this,Or,yr),xr};function vr(jr,Or){this.x=jr,this.y=Or}vr.prototype.makeRBT=function(Or){for(var yr=new Array(Or),xr=ir.prototype._countBits(Or)-1,wr=0;wr<Or;wr++)yr[wr]=this.revBin(wr,xr,Or);return yr},vr.prototype.revBin=function(Or,yr,xr){if(Or===0||Or===xr-1)return Or;for(var wr=0,Br=0;Br<yr;Br++)wr|=(Or&1)<<yr-Br-1,Or>>=1;return wr},vr.prototype.permute=function(Or,yr,xr,wr,Br,_r){for(var Mr=0;Mr<_r;Mr++)wr[Mr]=yr[Or[Mr]],Br[Mr]=xr[Or[Mr]]},vr.prototype.transform=function(Or,yr,xr,wr,Br,_r){this.permute(_r,Or,yr,xr,wr,Br);for(var Mr=1;Mr<Br;Mr<<=1)for(var Tr=Mr<<1,Er=Math.cos(2*Math.PI/Tr),Pr=Math.sin(2*Math.PI/Tr),Rr=0;Rr<Br;Rr+=Tr)for(var Lr=Er,Hr=Pr,Gr=0;Gr<Mr;Gr++){var Ur=xr[Rr+Gr],Nr=wr[Rr+Gr],Fr=xr[Rr+Gr+Mr],Xr=wr[Rr+Gr+Mr],Jr=Lr*Fr-Hr*Xr;Xr=Lr*Xr+Hr*Fr,Fr=Jr,xr[Rr+Gr]=Ur+Fr,wr[Rr+Gr]=Nr+Xr,xr[Rr+Gr+Mr]=Ur-Fr,wr[Rr+Gr+Mr]=Nr-Xr,Gr!==Tr&&(Jr=Er*Lr-Pr*Hr,Hr=Er*Hr+Pr*Lr,Lr=Jr)}},vr.prototype.guessLen13b=function(Or,yr){var xr=Math.max(yr,Or)|1,wr=xr&1,Br=0;for(xr=xr/2|0;xr;xr=xr>>>1)Br++;return 1<<Br+1+wr},vr.prototype.conjugate=function(Or,yr,xr){if(!(xr<=1))for(var wr=0;wr<xr/2;wr++){var Br=Or[wr];Or[wr]=Or[xr-wr-1],Or[xr-wr-1]=Br,Br=yr[wr],yr[wr]=-yr[xr-wr-1],yr[xr-wr-1]=-Br}},vr.prototype.normalize13b=function(Or,yr){for(var xr=0,wr=0;wr<yr/2;wr++){var Br=Math.round(Or[2*wr+1]/yr)*8192+Math.round(Or[2*wr]/yr)+xr;Or[wr]=Br&67108863,Br<67108864?xr=0:xr=Br/67108864|0}return Or},vr.prototype.convert13b=function(Or,yr,xr,wr){for(var Br=0,_r=0;_r<yr;_r++)Br=Br+(Or[_r]|0),xr[2*_r]=Br&8191,Br=Br>>>13,xr[2*_r+1]=Br&8191,Br=Br>>>13;for(_r=2*yr;_r<wr;++_r)xr[_r]=0;er(Br===0),er((Br&-8192)===0)},vr.prototype.stub=function(Or){for(var yr=new Array(Or),xr=0;xr<Or;xr++)yr[xr]=0;return yr},vr.prototype.mulp=function(Or,yr,xr){var wr=2*this.guessLen13b(Or.length,yr.length),Br=this.makeRBT(wr),_r=this.stub(wr),Mr=new Array(wr),Tr=new Array(wr),Er=new Array(wr),Pr=new Array(wr),Rr=new Array(wr),Lr=new Array(wr),Hr=xr.words;Hr.length=wr,this.convert13b(Or.words,Or.length,Mr,wr),this.convert13b(yr.words,yr.length,Pr,wr),this.transform(Mr,_r,Tr,Er,wr,Br),this.transform(Pr,_r,Rr,Lr,wr,Br);for(var Gr=0;Gr<wr;Gr++){var Ur=Tr[Gr]*Rr[Gr]-Er[Gr]*Lr[Gr];Er[Gr]=Tr[Gr]*Lr[Gr]+Er[Gr]*Rr[Gr],Tr[Gr]=Ur}return this.conjugate(Tr,Er,wr),this.transform(Tr,Er,Hr,_r,wr,Br),this.conjugate(Hr,_r,wr),this.normalize13b(Hr,wr),xr.negative=Or.negative^yr.negative,xr.length=Or.length+yr.length,xr.strip()},ir.prototype.mul=function(Or){var yr=new ir(null);return yr.words=new Array(this.length+Or.length),this.mulTo(Or,yr)},ir.prototype.mulf=function(Or){var yr=new ir(null);return yr.words=new Array(this.length+Or.length),br(this,Or,yr)},ir.prototype.imul=function(Or){return this.clone().mulTo(Or,this)},ir.prototype.imuln=function(Or){er(typeof Or=="number"),er(Or<67108864);for(var yr=0,xr=0;xr<this.length;xr++){var wr=(this.words[xr]|0)*Or,Br=(wr&67108863)+(yr&67108863);yr>>=26,yr+=wr/67108864|0,yr+=Br>>>26,this.words[xr]=Br&67108863}return yr!==0&&(this.words[xr]=yr,this.length++),this},ir.prototype.muln=function(Or){return this.clone().imuln(Or)},ir.prototype.sqr=function(){return this.mul(this)},ir.prototype.isqr=function(){return this.imul(this.clone())},ir.prototype.pow=function(Or){var yr=fr(Or);if(yr.length===0)return new ir(1);for(var xr=this,wr=0;wr<yr.length&&yr[wr]===0;wr++,xr=xr.sqr());if(++wr<yr.length)for(var Br=xr.sqr();wr<yr.length;wr++,Br=Br.sqr())yr[wr]!==0&&(xr=xr.mul(Br));return xr},ir.prototype.iushln=function(Or){er(typeof Or=="number"&&Or>=0);var yr=Or%26,xr=(Or-yr)/26,wr=67108863>>>26-yr<<26-yr,Br;if(yr!==0){var _r=0;for(Br=0;Br<this.length;Br++){var Mr=this.words[Br]&wr,Tr=(this.words[Br]|0)-Mr<<yr;this.words[Br]=Tr|_r,_r=Mr>>>26-yr}_r&&(this.words[Br]=_r,this.length++)}if(xr!==0){for(Br=this.length-1;Br>=0;Br--)this.words[Br+xr]=this.words[Br];for(Br=0;Br<xr;Br++)this.words[Br]=0;this.length+=xr}return this.strip()},ir.prototype.ishln=function(Or){return er(this.negative===0),this.iushln(Or)},ir.prototype.iushrn=function(Or,yr,xr){er(typeof Or=="number"&&Or>=0);var wr;yr?wr=(yr-yr%26)/26:wr=0;var Br=Or%26,_r=Math.min((Or-Br)/26,this.length),Mr=67108863^67108863>>>Br<<Br,Tr=xr;if(wr-=_r,wr=Math.max(0,wr),Tr){for(var Er=0;Er<_r;Er++)Tr.words[Er]=this.words[Er];Tr.length=_r}if(_r!==0)if(this.length>_r)for(this.length-=_r,Er=0;Er<this.length;Er++)this.words[Er]=this.words[Er+_r];else this.words[0]=0,this.length=1;var Pr=0;for(Er=this.length-1;Er>=0&&(Pr!==0||Er>=wr);Er--){var Rr=this.words[Er]|0;this.words[Er]=Pr<<26-Br|Rr>>>Br,Pr=Rr&Mr}return Tr&&Pr!==0&&(Tr.words[Tr.length++]=Pr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ir.prototype.ishrn=function(Or,yr,xr){return er(this.negative===0),this.iushrn(Or,yr,xr)},ir.prototype.shln=function(Or){return this.clone().ishln(Or)},ir.prototype.ushln=function(Or){return this.clone().iushln(Or)},ir.prototype.shrn=function(Or){return this.clone().ishrn(Or)},ir.prototype.ushrn=function(Or){return this.clone().iushrn(Or)},ir.prototype.testn=function(Or){er(typeof Or=="number"&&Or>=0);var yr=Or%26,xr=(Or-yr)/26,wr=1<<yr;if(this.length<=xr)return!1;var Br=this.words[xr];return!!(Br&wr)},ir.prototype.imaskn=function(Or){er(typeof Or=="number"&&Or>=0);var yr=Or%26,xr=(Or-yr)/26;if(er(this.negative===0,"imaskn works only with positive numbers"),this.length<=xr)return this;if(yr!==0&&xr++,this.length=Math.min(xr,this.length),yr!==0){var wr=67108863^67108863>>>yr<<yr;this.words[this.length-1]&=wr}return this.strip()},ir.prototype.maskn=function(Or){return this.clone().imaskn(Or)},ir.prototype.iaddn=function(Or){return er(typeof Or=="number"),er(Or<67108864),Or<0?this.isubn(-Or):this.negative!==0?this.length===1&&(this.words[0]|0)<Or?(this.words[0]=Or-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Or),this.negative=1,this):this._iaddn(Or)},ir.prototype._iaddn=function(Or){this.words[0]+=Or;for(var yr=0;yr<this.length&&this.words[yr]>=67108864;yr++)this.words[yr]-=67108864,yr===this.length-1?this.words[yr+1]=1:this.words[yr+1]++;return this.length=Math.max(this.length,yr+1),this},ir.prototype.isubn=function(Or){if(er(typeof Or=="number"),er(Or<67108864),Or<0)return this.iaddn(-Or);if(this.negative!==0)return this.negative=0,this.iaddn(Or),this.negative=1,this;if(this.words[0]-=Or,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var yr=0;yr<this.length&&this.words[yr]<0;yr++)this.words[yr]+=67108864,this.words[yr+1]-=1;return this.strip()},ir.prototype.addn=function(Or){return this.clone().iaddn(Or)},ir.prototype.subn=function(Or){return this.clone().isubn(Or)},ir.prototype.iabs=function(){return this.negative=0,this},ir.prototype.abs=function(){return this.clone().iabs()},ir.prototype._ishlnsubmul=function(Or,yr,xr){var wr=Or.length+xr,Br;this._expand(wr);var _r,Mr=0;for(Br=0;Br<Or.length;Br++){_r=(this.words[Br+xr]|0)+Mr;var Tr=(Or.words[Br]|0)*yr;_r-=Tr&67108863,Mr=(_r>>26)-(Tr/67108864|0),this.words[Br+xr]=_r&67108863}for(;Br<this.length-xr;Br++)_r=(this.words[Br+xr]|0)+Mr,Mr=_r>>26,this.words[Br+xr]=_r&67108863;if(Mr===0)return this.strip();for(er(Mr===-1),Mr=0,Br=0;Br<this.length;Br++)_r=-(this.words[Br]|0)+Mr,Mr=_r>>26,this.words[Br]=_r&67108863;return this.negative=1,this.strip()},ir.prototype._wordDiv=function(Or,yr){var xr=this.length-Or.length,wr=this.clone(),Br=Or,_r=Br.words[Br.length-1]|0,Mr=this._countBits(_r);xr=26-Mr,xr!==0&&(Br=Br.ushln(xr),wr.iushln(xr),_r=Br.words[Br.length-1]|0);var Tr=wr.length-Br.length,Er;if(yr!=="mod"){Er=new ir(null),Er.length=Tr+1,Er.words=new Array(Er.length);for(var Pr=0;Pr<Er.length;Pr++)Er.words[Pr]=0}var Rr=wr.clone()._ishlnsubmul(Br,1,Tr);Rr.negative===0&&(wr=Rr,Er&&(Er.words[Tr]=1));for(var Lr=Tr-1;Lr>=0;Lr--){var Hr=(wr.words[Br.length+Lr]|0)*67108864+(wr.words[Br.length+Lr-1]|0);for(Hr=Math.min(Hr/_r|0,67108863),wr._ishlnsubmul(Br,Hr,Lr);wr.negative!==0;)Hr--,wr.negative=0,wr._ishlnsubmul(Br,1,Lr),wr.isZero()||(wr.negative^=1);Er&&(Er.words[Lr]=Hr)}return Er&&Er.strip(),wr.strip(),yr!=="div"&&xr!==0&&wr.iushrn(xr),{div:Er||null,mod:wr}},ir.prototype.divmod=function(Or,yr,xr){if(er(!Or.isZero()),this.isZero())return{div:new ir(0),mod:new ir(0)};var wr,Br,_r;return this.negative!==0&&Or.negative===0?(_r=this.neg().divmod(Or,yr),yr!=="mod"&&(wr=_r.div.neg()),yr!=="div"&&(Br=_r.mod.neg(),xr&&Br.negative!==0&&Br.iadd(Or)),{div:wr,mod:Br}):this.negative===0&&Or.negative!==0?(_r=this.divmod(Or.neg(),yr),yr!=="mod"&&(wr=_r.div.neg()),{div:wr,mod:_r.mod}):this.negative&Or.negative?(_r=this.neg().divmod(Or.neg(),yr),yr!=="div"&&(Br=_r.mod.neg(),xr&&Br.negative!==0&&Br.isub(Or)),{div:_r.div,mod:Br}):Or.length>this.length||this.cmp(Or)<0?{div:new ir(0),mod:this}:Or.length===1?yr==="div"?{div:this.divn(Or.words[0]),mod:null}:yr==="mod"?{div:null,mod:new ir(this.modn(Or.words[0]))}:{div:this.divn(Or.words[0]),mod:new ir(this.modn(Or.words[0]))}:this._wordDiv(Or,yr)},ir.prototype.div=function(Or){return this.divmod(Or,"div",!1).div},ir.prototype.mod=function(Or){return this.divmod(Or,"mod",!1).mod},ir.prototype.umod=function(Or){return this.divmod(Or,"mod",!0).mod},ir.prototype.divRound=function(Or){var yr=this.divmod(Or);if(yr.mod.isZero())return yr.div;var xr=yr.div.negative!==0?yr.mod.isub(Or):yr.mod,wr=Or.ushrn(1),Br=Or.andln(1),_r=xr.cmp(wr);return _r<0||Br===1&&_r===0?yr.div:yr.div.negative!==0?yr.div.isubn(1):yr.div.iaddn(1)},ir.prototype.modn=function(Or){er(Or<=67108863);for(var yr=(1<<26)%Or,xr=0,wr=this.length-1;wr>=0;wr--)xr=(yr*xr+(this.words[wr]|0))%Or;return xr},ir.prototype.idivn=function(Or){er(Or<=67108863);for(var yr=0,xr=this.length-1;xr>=0;xr--){var wr=(this.words[xr]|0)+yr*67108864;this.words[xr]=wr/Or|0,yr=wr%Or}return this.strip()},ir.prototype.divn=function(Or){return this.clone().idivn(Or)},ir.prototype.egcd=function(Or){er(Or.negative===0),er(!Or.isZero());var yr=this,xr=Or.clone();yr.negative!==0?yr=yr.umod(Or):yr=yr.clone();for(var wr=new ir(1),Br=new ir(0),_r=new ir(0),Mr=new ir(1),Tr=0;yr.isEven()&&xr.isEven();)yr.iushrn(1),xr.iushrn(1),++Tr;for(var Er=xr.clone(),Pr=yr.clone();!yr.isZero();){for(var Rr=0,Lr=1;!(yr.words[0]&Lr)&&Rr<26;++Rr,Lr<<=1);if(Rr>0)for(yr.iushrn(Rr);Rr-- >0;)(wr.isOdd()||Br.isOdd())&&(wr.iadd(Er),Br.isub(Pr)),wr.iushrn(1),Br.iushrn(1);for(var Hr=0,Gr=1;!(xr.words[0]&Gr)&&Hr<26;++Hr,Gr<<=1);if(Hr>0)for(xr.iushrn(Hr);Hr-- >0;)(_r.isOdd()||Mr.isOdd())&&(_r.iadd(Er),Mr.isub(Pr)),_r.iushrn(1),Mr.iushrn(1);yr.cmp(xr)>=0?(yr.isub(xr),wr.isub(_r),Br.isub(Mr)):(xr.isub(yr),_r.isub(wr),Mr.isub(Br))}return{a:_r,b:Mr,gcd:xr.iushln(Tr)}},ir.prototype._invmp=function(Or){er(Or.negative===0),er(!Or.isZero());var yr=this,xr=Or.clone();yr.negative!==0?yr=yr.umod(Or):yr=yr.clone();for(var wr=new ir(1),Br=new ir(0),_r=xr.clone();yr.cmpn(1)>0&&xr.cmpn(1)>0;){for(var Mr=0,Tr=1;!(yr.words[0]&Tr)&&Mr<26;++Mr,Tr<<=1);if(Mr>0)for(yr.iushrn(Mr);Mr-- >0;)wr.isOdd()&&wr.iadd(_r),wr.iushrn(1);for(var Er=0,Pr=1;!(xr.words[0]&Pr)&&Er<26;++Er,Pr<<=1);if(Er>0)for(xr.iushrn(Er);Er-- >0;)Br.isOdd()&&Br.iadd(_r),Br.iushrn(1);yr.cmp(xr)>=0?(yr.isub(xr),wr.isub(Br)):(xr.isub(yr),Br.isub(wr))}var Rr;return yr.cmpn(1)===0?Rr=wr:Rr=Br,Rr.cmpn(0)<0&&Rr.iadd(Or),Rr},ir.prototype.gcd=function(Or){if(this.isZero())return Or.abs();if(Or.isZero())return this.abs();var yr=this.clone(),xr=Or.clone();yr.negative=0,xr.negative=0;for(var wr=0;yr.isEven()&&xr.isEven();wr++)yr.iushrn(1),xr.iushrn(1);do{for(;yr.isEven();)yr.iushrn(1);for(;xr.isEven();)xr.iushrn(1);var Br=yr.cmp(xr);if(Br<0){var _r=yr;yr=xr,xr=_r}else if(Br===0||xr.cmpn(1)===0)break;yr.isub(xr)}while(!0);return xr.iushln(wr)},ir.prototype.invm=function(Or){return this.egcd(Or).a.umod(Or)},ir.prototype.isEven=function(){return(this.words[0]&1)===0},ir.prototype.isOdd=function(){return(this.words[0]&1)===1},ir.prototype.andln=function(Or){return this.words[0]&Or},ir.prototype.bincn=function(Or){er(typeof Or=="number");var yr=Or%26,xr=(Or-yr)/26,wr=1<<yr;if(this.length<=xr)return this._expand(xr+1),this.words[xr]|=wr,this;for(var Br=wr,_r=xr;Br!==0&&_r<this.length;_r++){var Mr=this.words[_r]|0;Mr+=Br,Br=Mr>>>26,Mr&=67108863,this.words[_r]=Mr}return Br!==0&&(this.words[_r]=Br,this.length++),this},ir.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ir.prototype.cmpn=function(Or){var yr=Or<0;if(this.negative!==0&&!yr)return-1;if(this.negative===0&&yr)return 1;this.strip();var xr;if(this.length>1)xr=1;else{yr&&(Or=-Or),er(Or<=67108863,"Number is too big");var wr=this.words[0]|0;xr=wr===Or?0:wr<Or?-1:1}return this.negative!==0?-xr|0:xr},ir.prototype.cmp=function(Or){if(this.negative!==0&&Or.negative===0)return-1;if(this.negative===0&&Or.negative!==0)return 1;var yr=this.ucmp(Or);return this.negative!==0?-yr|0:yr},ir.prototype.ucmp=function(Or){if(this.length>Or.length)return 1;if(this.length<Or.length)return-1;for(var yr=0,xr=this.length-1;xr>=0;xr--){var wr=this.words[xr]|0,Br=Or.words[xr]|0;if(wr!==Br){wr<Br?yr=-1:wr>Br&&(yr=1);break}}return yr},ir.prototype.gtn=function(Or){return this.cmpn(Or)===1},ir.prototype.gt=function(Or){return this.cmp(Or)===1},ir.prototype.gten=function(Or){return this.cmpn(Or)>=0},ir.prototype.gte=function(Or){return this.cmp(Or)>=0},ir.prototype.ltn=function(Or){return this.cmpn(Or)===-1},ir.prototype.lt=function(Or){return this.cmp(Or)===-1},ir.prototype.lten=function(Or){return this.cmpn(Or)<=0},ir.prototype.lte=function(Or){return this.cmp(Or)<=0},ir.prototype.eqn=function(Or){return this.cmpn(Or)===0},ir.prototype.eq=function(Or){return this.cmp(Or)===0},ir.red=function(Or){return new Qr(Or)},ir.prototype.toRed=function(Or){return er(!this.red,"Already a number in reduction context"),er(this.negative===0,"red works only with positives"),Or.convertTo(this)._forceRed(Or)},ir.prototype.fromRed=function(){return er(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ir.prototype._forceRed=function(Or){return this.red=Or,this},ir.prototype.forceRed=function(Or){return er(!this.red,"Already a number in reduction context"),this._forceRed(Or)},ir.prototype.redAdd=function(Or){return er(this.red,"redAdd works only with red numbers"),this.red.add(this,Or)},ir.prototype.redIAdd=function(Or){return er(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Or)},ir.prototype.redSub=function(Or){return er(this.red,"redSub works only with red numbers"),this.red.sub(this,Or)},ir.prototype.redISub=function(Or){return er(this.red,"redISub works only with red numbers"),this.red.isub(this,Or)},ir.prototype.redShl=function(Or){return er(this.red,"redShl works only with red numbers"),this.red.shl(this,Or)},ir.prototype.redMul=function(Or){return er(this.red,"redMul works only with red numbers"),this.red._verify2(this,Or),this.red.mul(this,Or)},ir.prototype.redIMul=function(Or){return er(this.red,"redMul works only with red numbers"),this.red._verify2(this,Or),this.red.imul(this,Or)},ir.prototype.redSqr=function(){return er(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ir.prototype.redISqr=function(){return er(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ir.prototype.redSqrt=function(){return er(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ir.prototype.redInvm=function(){return er(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ir.prototype.redNeg=function(){return er(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ir.prototype.redPow=function(Or){return er(this.red&&!Or.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Or)};var kr={k256:null,p224:null,p192:null,p25519:null};function Sr(jr,Or){this.name=jr,this.p=new ir(Or,16),this.n=this.p.bitLength(),this.k=new ir(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Sr.prototype._tmp=function(){var Or=new ir(null);return Or.words=new Array(Math.ceil(this.n/13)),Or},Sr.prototype.ireduce=function(Or){var yr=Or,xr;do this.split(yr,this.tmp),yr=this.imulK(yr),yr=yr.iadd(this.tmp),xr=yr.bitLength();while(xr>this.n);var wr=xr<this.n?-1:yr.ucmp(this.p);return wr===0?(yr.words[0]=0,yr.length=1):wr>0?yr.isub(this.p):yr.strip!==void 0?yr.strip():yr._strip(),yr},Sr.prototype.split=function(Or,yr){Or.iushrn(this.n,0,yr)},Sr.prototype.imulK=function(Or){return Or.imul(this.k)};function Cr(){Sr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}rr(Cr,Sr),Cr.prototype.split=function(Or,yr){for(var xr=4194303,wr=Math.min(Or.length,9),Br=0;Br<wr;Br++)yr.words[Br]=Or.words[Br];if(yr.length=wr,Or.length<=9){Or.words[0]=0,Or.length=1;return}var _r=Or.words[9];for(yr.words[yr.length++]=_r&xr,Br=10;Br<Or.length;Br++){var Mr=Or.words[Br]|0;Or.words[Br-10]=(Mr&xr)<<4|_r>>>22,_r=Mr}_r>>>=22,Or.words[Br-10]=_r,_r===0&&Or.length>10?Or.length-=10:Or.length-=9},Cr.prototype.imulK=function(Or){Or.words[Or.length]=0,Or.words[Or.length+1]=0,Or.length+=2;for(var yr=0,xr=0;xr<Or.length;xr++){var wr=Or.words[xr]|0;yr+=wr*977,Or.words[xr]=yr&67108863,yr=wr*64+(yr/67108864|0)}return Or.words[Or.length-1]===0&&(Or.length--,Or.words[Or.length-1]===0&&Or.length--),Or};function Ar(){Sr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}rr(Ar,Sr);function Ir(){Sr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}rr(Ir,Sr);function qr(){Sr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}rr(qr,Sr),qr.prototype.imulK=function(Or){for(var yr=0,xr=0;xr<Or.length;xr++){var wr=(Or.words[xr]|0)*19+yr,Br=wr&67108863;wr>>>=26,Or.words[xr]=Br,yr=wr}return yr!==0&&(Or.words[Or.length++]=yr),Or},ir._prime=function(Or){if(kr[Or])return kr[Or];var yr;if(Or==="k256")yr=new Cr;else if(Or==="p224")yr=new Ar;else if(Or==="p192")yr=new Ir;else if(Or==="p25519")yr=new qr;else throw new Error("Unknown prime "+Or);return kr[Or]=yr,yr};function Qr(jr){if(typeof jr=="string"){var Or=ir._prime(jr);this.m=Or.p,this.prime=Or}else er(jr.gtn(1),"modulus must be greater than 1"),this.m=jr,this.prime=null}Qr.prototype._verify1=function(Or){er(Or.negative===0,"red works only with positives"),er(Or.red,"red works only with red numbers")},Qr.prototype._verify2=function(Or,yr){er((Or.negative|yr.negative)===0,"red works only with positives"),er(Or.red&&Or.red===yr.red,"red works only with red numbers")},Qr.prototype.imod=function(Or){return this.prime?this.prime.ireduce(Or)._forceRed(this):Or.umod(this.m)._forceRed(this)},Qr.prototype.neg=function(Or){return Or.isZero()?Or.clone():this.m.sub(Or)._forceRed(this)},Qr.prototype.add=function(Or,yr){this._verify2(Or,yr);var xr=Or.add(yr);return xr.cmp(this.m)>=0&&xr.isub(this.m),xr._forceRed(this)},Qr.prototype.iadd=function(Or,yr){this._verify2(Or,yr);var xr=Or.iadd(yr);return xr.cmp(this.m)>=0&&xr.isub(this.m),xr},Qr.prototype.sub=function(Or,yr){this._verify2(Or,yr);var xr=Or.sub(yr);return xr.cmpn(0)<0&&xr.iadd(this.m),xr._forceRed(this)},Qr.prototype.isub=function(Or,yr){this._verify2(Or,yr);var xr=Or.isub(yr);return xr.cmpn(0)<0&&xr.iadd(this.m),xr},Qr.prototype.shl=function(Or,yr){return this._verify1(Or),this.imod(Or.ushln(yr))},Qr.prototype.imul=function(Or,yr){return this._verify2(Or,yr),this.imod(Or.imul(yr))},Qr.prototype.mul=function(Or,yr){return this._verify2(Or,yr),this.imod(Or.mul(yr))},Qr.prototype.isqr=function(Or){return this.imul(Or,Or.clone())},Qr.prototype.sqr=function(Or){return this.mul(Or,Or)},Qr.prototype.sqrt=function(Or){if(Or.isZero())return Or.clone();var yr=this.m.andln(3);if(er(yr%2===1),yr===3){var xr=this.m.add(new ir(1)).iushrn(2);return this.pow(Or,xr)}for(var wr=this.m.subn(1),Br=0;!wr.isZero()&&wr.andln(1)===0;)Br++,wr.iushrn(1);er(!wr.isZero());var _r=new ir(1).toRed(this),Mr=_r.redNeg(),Tr=this.m.subn(1).iushrn(1),Er=this.m.bitLength();for(Er=new ir(2*Er*Er).toRed(this);this.pow(Er,Tr).cmp(Mr)!==0;)Er.redIAdd(Mr);for(var Pr=this.pow(Er,wr),Rr=this.pow(Or,wr.addn(1).iushrn(1)),Lr=this.pow(Or,wr),Hr=Br;Lr.cmp(_r)!==0;){for(var Gr=Lr,Ur=0;Gr.cmp(_r)!==0;Ur++)Gr=Gr.redSqr();er(Ur<Hr);var Nr=this.pow(Pr,new ir(1).iushln(Hr-Ur-1));Rr=Rr.redMul(Nr),Pr=Nr.redSqr(),Lr=Lr.redMul(Pr),Hr=Ur}return Rr},Qr.prototype.invm=function(Or){var yr=Or._invmp(this.m);return yr.negative!==0?(yr.negative=0,this.imod(yr).redNeg()):this.imod(yr)},Qr.prototype.pow=function(Or,yr){if(yr.isZero())return new ir(1).toRed(this);if(yr.cmpn(1)===0)return Or.clone();var xr=4,wr=new Array(1<<xr);wr[0]=new ir(1).toRed(this),wr[1]=Or;for(var Br=2;Br<wr.length;Br++)wr[Br]=this.mul(wr[Br-1],Or);var _r=wr[0],Mr=0,Tr=0,Er=yr.bitLength()%26;for(Er===0&&(Er=26),Br=yr.length-1;Br>=0;Br--){for(var Pr=yr.words[Br],Rr=Er-1;Rr>=0;Rr--){var Lr=Pr>>Rr&1;if(_r!==wr[0]&&(_r=this.sqr(_r)),Lr===0&&Mr===0){Tr=0;continue}Mr<<=1,Mr|=Lr,Tr++,!(Tr!==xr&&(Br!==0||Rr!==0))&&(_r=this.mul(_r,wr[Mr]),Tr=0,Mr=0)}Er=26}return _r},Qr.prototype.convertTo=function(Or){var yr=Or.umod(this.m);return yr===Or?yr.clone():yr},Qr.prototype.convertFrom=function(Or){var yr=Or.clone();return yr.red=null,yr},ir.mont=function(Or){return new Wr(Or)};function Wr(jr){Qr.call(this,jr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ir(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}rr(Wr,Qr),Wr.prototype.convertTo=function(Or){return this.imod(Or.ushln(this.shift))},Wr.prototype.convertFrom=function(Or){var yr=this.imod(Or.mul(this.rinv));return yr.red=null,yr},Wr.prototype.imul=function(Or,yr){if(Or.isZero()||yr.isZero())return Or.words[0]=0,Or.length=1,Or;var xr=Or.imul(yr),wr=xr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Br=xr.isub(wr).iushrn(this.shift),_r=Br;return Br.cmp(this.m)>=0?_r=Br.isub(this.m):Br.cmpn(0)<0&&(_r=Br.iadd(this.m)),_r._forceRed(this)},Wr.prototype.mul=function(Or,yr){if(Or.isZero()||yr.isZero())return new ir(0)._forceRed(this);var xr=Or.mul(yr),wr=xr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Br=xr.isub(wr).iushrn(this.shift),_r=Br;return Br.cmp(this.m)>=0?_r=Br.isub(this.m):Br.cmpn(0)<0&&(_r=Br.iadd(this.m)),_r._forceRed(this)},Wr.prototype.invm=function(Or){var yr=this.imod(Or._invmp(this.m).mul(this.r2));return yr._forceRed(this)}})(tr,commonjsGlobal)}(bn$1)),bn$1.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var tr;brorand.exports=function(rr){return tr||(tr=new Ot(null)),tr.generate(rr)};function Ot(er){this.rand=er}if(brorand.exports.Rand=Ot,Ot.prototype.generate=function(rr){return this._rand(rr)},Ot.prototype._rand=function(rr){if(this.rand.getBytes)return this.rand.getBytes(rr);for(var ir=new Uint8Array(rr),nr=0;nr<ir.length;nr++)ir[nr]=this.rand.getByte();return ir},typeof self=="object")self.crypto&&self.crypto.getRandomValues?Ot.prototype._rand=function(rr){var ir=new Uint8Array(rr);return self.crypto.getRandomValues(ir),ir}:self.msCrypto&&self.msCrypto.getRandomValues?Ot.prototype._rand=function(rr){var ir=new Uint8Array(rr);return self.msCrypto.getRandomValues(ir),ir}:typeof window=="object"&&(Ot.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Nt=requireCryptoBrowserify();if(typeof Nt.randomBytes!="function")throw new Error("Not supported");Ot.prototype._rand=function(rr){return Nt.randomBytes(rr)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var tr=requireBn$1(),Ot=requireBrorand();function Nt(er){this.rand=er||new Ot.Rand}return mr=Nt,Nt.create=function(rr){return new Nt(rr)},Nt.prototype._randbelow=function(rr){var ir=rr.bitLength(),nr=Math.ceil(ir/8);do var sr=new tr(this.rand.generate(nr));while(sr.cmp(rr)>=0);return sr},Nt.prototype._randrange=function(rr,ir){var nr=ir.sub(rr);return rr.add(this._randbelow(nr))},Nt.prototype.test=function(rr,ir,nr){var sr=rr.bitLength(),ar=tr.mont(rr),lr=new tr(1).toRed(ar);ir||(ir=Math.max(1,sr/48|0));for(var cr=rr.subn(1),dr=0;!cr.testn(dr);dr++);for(var ur=rr.shrn(dr),fr=cr.toRed(ar),hr=!0;ir>0;ir--){var pr=this._randrange(new tr(2),cr);nr&&nr(pr);var gr=pr.toRed(ar).redPow(ur);if(!(gr.cmp(lr)===0||gr.cmp(fr)===0)){for(var br=1;br<dr;br++){if(gr=gr.redSqr(),gr.cmp(lr)===0)return!1;if(gr.cmp(fr)===0)break}if(br===dr)return!1}}return hr},Nt.prototype.getDivisor=function(rr,ir){var nr=rr.bitLength(),sr=tr.mont(rr),ar=new tr(1).toRed(sr);ir||(ir=Math.max(1,nr/48|0));for(var lr=rr.subn(1),cr=0;!lr.testn(cr);cr++);for(var dr=rr.shrn(cr),ur=lr.toRed(sr);ir>0;ir--){var fr=this._randrange(new tr(2),lr),hr=rr.gcd(fr);if(hr.cmpn(1)!==0)return hr;var pr=fr.toRed(sr).redPow(dr);if(!(pr.cmp(ar)===0||pr.cmp(ur)===0)){for(var gr=1;gr<cr;gr++){if(pr=pr.redSqr(),pr.cmp(ar)===0)return pr.fromRed().subn(1).gcd(rr);if(pr.cmp(ur)===0)break}if(gr===cr)return pr=pr.redSqr(),pr.fromRed().subn(1).gcd(rr)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var tr=requireBrowser$b();generatePrime=gr,gr.simpleSieve=hr,gr.fermatTest=pr;var Ot=requireBn$1(),Nt=new Ot(24),er=requireMr(),rr=new er,ir=new Ot(1),nr=new Ot(2),sr=new Ot(5);new Ot(16),new Ot(8);var ar=new Ot(10),lr=new Ot(3);new Ot(7);var cr=new Ot(11),dr=new Ot(4);new Ot(12);var ur=null;function fr(){if(ur!==null)return ur;var br=1048576,vr=[];vr[0]=2;for(var kr=1,Sr=3;Sr<br;Sr+=2){for(var Cr=Math.ceil(Math.sqrt(Sr)),Ar=0;Ar<kr&&vr[Ar]<=Cr&&Sr%vr[Ar]!==0;Ar++);kr!==Ar&&vr[Ar]<=Cr||(vr[kr++]=Sr)}return ur=vr,vr}function hr(br){for(var vr=fr(),kr=0;kr<vr.length;kr++)if(br.modn(vr[kr])===0)return br.cmpn(vr[kr])===0;return!0}function pr(br){var vr=Ot.mont(br);return nr.toRed(vr).redPow(br.subn(1)).fromRed().cmpn(1)===0}function gr(br,vr){if(br<16)return vr===2||vr===5?new Ot([140,123]):new Ot([140,39]);vr=new Ot(vr);for(var kr,Sr;;){for(kr=new Ot(tr(Math.ceil(br/8)));kr.bitLength()>br;)kr.ishrn(1);if(kr.isEven()&&kr.iadd(ir),kr.testn(1)||kr.iadd(nr),vr.cmp(nr)){if(!vr.cmp(sr))for(;kr.mod(ar).cmp(lr);)kr.iadd(dr)}else for(;kr.mod(Nt).cmp(cr);)kr.iadd(dr);if(Sr=kr.shrn(1),hr(Sr)&&hr(kr)&&pr(Sr)&&pr(kr)&&rr.test(Sr)&&rr.test(kr))return kr}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var tr=requireBn$1(),Ot=requireMr(),Nt=new Ot,er=new tr(24),rr=new tr(11),ir=new tr(10),nr=new tr(3),sr=new tr(7),ar=requireGeneratePrime(),lr=requireBrowser$b();dh=hr;function cr(gr,br){return br=br||"utf8",Buffer.isBuffer(gr)||(gr=new Buffer(gr,br)),this._pub=new tr(gr),this}function dr(gr,br){return br=br||"utf8",Buffer.isBuffer(gr)||(gr=new Buffer(gr,br)),this._priv=new tr(gr),this}var ur={};function fr(gr,br){var vr=br.toString("hex"),kr=[vr,gr.toString(16)].join("_");if(kr in ur)return ur[kr];var Sr=0;if(gr.isEven()||!ar.simpleSieve||!ar.fermatTest(gr)||!Nt.test(gr))return Sr+=1,vr==="02"||vr==="05"?Sr+=8:Sr+=4,ur[kr]=Sr,Sr;Nt.test(gr.shrn(1))||(Sr+=2);var Cr;switch(vr){case"02":gr.mod(er).cmp(rr)&&(Sr+=8);break;case"05":Cr=gr.mod(ir),Cr.cmp(nr)&&Cr.cmp(sr)&&(Sr+=8);break;default:Sr+=4}return ur[kr]=Sr,Sr}function hr(gr,br,vr){this.setGenerator(br),this.__prime=new tr(gr),this._prime=tr.mont(this.__prime),this._primeLen=gr.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,vr?(this.setPublicKey=cr,this.setPrivateKey=dr):this._primeCode=8}Object.defineProperty(hr.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=fr(this.__prime,this.__gen)),this._primeCode}}),hr.prototype.generateKeys=function(){return this._priv||(this._priv=new tr(lr(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},hr.prototype.computeSecret=function(gr){gr=new tr(gr),gr=gr.toRed(this._prime);var br=gr.redPow(this._priv).fromRed(),vr=new Buffer(br.toArray()),kr=this.getPrime();if(vr.length<kr.length){var Sr=new Buffer(kr.length-vr.length);Sr.fill(0),vr=Buffer.concat([Sr,vr])}return vr},hr.prototype.getPublicKey=function(br){return pr(this._pub,br)},hr.prototype.getPrivateKey=function(br){return pr(this._priv,br)},hr.prototype.getPrime=function(gr){return pr(this.__prime,gr)},hr.prototype.getGenerator=function(gr){return pr(this._gen,gr)},hr.prototype.setGenerator=function(gr,br){return br=br||"utf8",Buffer.isBuffer(gr)||(gr=new Buffer(gr,br)),this.__gen=gr,this._gen=new tr(gr),this};function pr(gr,br){var vr=new Buffer(gr.toArray());return br?vr.toString(br):vr}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var tr=requireGeneratePrime(),Ot=require$$1$1,Nt=requireDh();function er(nr){var sr=new Buffer(Ot[nr].prime,"hex"),ar=new Buffer(Ot[nr].gen,"hex");return new Nt(sr,ar)}var rr={binary:!0,hex:!0,base64:!0};function ir(nr,sr,ar,lr){return Buffer.isBuffer(sr)||rr[sr]===void 0?ir(nr,"binary",sr,ar):(sr=sr||"binary",lr=lr||"binary",ar=ar||new Buffer([2]),Buffer.isBuffer(ar)||(ar=new Buffer(ar,lr)),typeof nr=="number"?new Nt(tr(nr,ar),ar,!0):(Buffer.isBuffer(nr)||(nr=new Buffer(nr,sr)),new Nt(nr,ar,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=er,browser$4.createDiffieHellman=browser$4.DiffieHellman=ir,browser$4}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:tr}:processNextickArgs.exports=process$1;function tr(Ot,Nt,er,rr){if(typeof Ot!="function")throw new TypeError('"callback" argument must be a function');var ir=arguments.length,nr,sr;switch(ir){case 0:case 1:return process$1.nextTick(Ot);case 2:return process$1.nextTick(function(){Ot.call(null,Nt)});case 3:return process$1.nextTick(function(){Ot.call(null,Nt,er)});case 4:return process$1.nextTick(function(){Ot.call(null,Nt,er,rr)});default:for(nr=new Array(ir-1),sr=0;sr<nr.length;)nr[sr++]=arguments[sr];return process$1.nextTick(function(){Ot.apply(null,nr)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var tr={}.toString;return isarray=Array.isArray||function(Ot){return tr.call(Ot)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(tr,Ot){var Nt=require$$1$3,er=Nt.Buffer;function rr(nr,sr){for(var ar in nr)sr[ar]=nr[ar]}er.from&&er.alloc&&er.allocUnsafe&&er.allocUnsafeSlow?tr.exports=Nt:(rr(Nt,Ot),Ot.Buffer=ir);function ir(nr,sr,ar){return er(nr,sr,ar)}rr(er,ir),ir.from=function(nr,sr,ar){if(typeof nr=="number")throw new TypeError("Argument must not be a number");return er(nr,sr,ar)},ir.alloc=function(nr,sr,ar){if(typeof nr!="number")throw new TypeError("Argument must be a number");var lr=er(nr);return sr!==void 0?typeof ar=="string"?lr.fill(sr,ar):lr.fill(sr):lr.fill(0),lr},ir.allocUnsafe=function(nr){if(typeof nr!="number")throw new TypeError("Argument must be a number");return er(nr)},ir.allocUnsafeSlow=function(nr){if(typeof nr!="number")throw new TypeError("Argument must be a number");return Nt.SlowBuffer(nr)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function tr(pr){return Array.isArray?Array.isArray(pr):hr(pr)==="[object Array]"}util.isArray=tr;function Ot(pr){return typeof pr=="boolean"}util.isBoolean=Ot;function Nt(pr){return pr===null}util.isNull=Nt;function er(pr){return pr==null}util.isNullOrUndefined=er;function rr(pr){return typeof pr=="number"}util.isNumber=rr;function ir(pr){return typeof pr=="string"}util.isString=ir;function nr(pr){return typeof pr=="symbol"}util.isSymbol=nr;function sr(pr){return pr===void 0}util.isUndefined=sr;function ar(pr){return hr(pr)==="[object RegExp]"}util.isRegExp=ar;function lr(pr){return typeof pr=="object"&&pr!==null}util.isObject=lr;function cr(pr){return hr(pr)==="[object Date]"}util.isDate=cr;function dr(pr){return hr(pr)==="[object Error]"||pr instanceof Error}util.isError=dr;function ur(pr){return typeof pr=="function"}util.isFunction=ur;function fr(pr){return pr===null||typeof pr=="boolean"||typeof pr=="number"||typeof pr=="string"||typeof pr=="symbol"||typeof pr>"u"}util.isPrimitive=fr,util.isBuffer=require$$1$3.Buffer.isBuffer;function hr(pr){return Object.prototype.toString.call(pr)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(tr){function Ot(ir,nr){if(!(ir instanceof nr))throw new TypeError("Cannot call a class as a function")}var Nt=requireSafeBuffer().Buffer,er=requireUtil$1();function rr(ir,nr,sr){ir.copy(nr,sr)}tr.exports=function(){function ir(){Ot(this,ir),this.head=null,this.tail=null,this.length=0}return ir.prototype.push=function(sr){var ar={data:sr,next:null};this.length>0?this.tail.next=ar:this.head=ar,this.tail=ar,++this.length},ir.prototype.unshift=function(sr){var ar={data:sr,next:this.head};this.length===0&&(this.tail=ar),this.head=ar,++this.length},ir.prototype.shift=function(){if(this.length!==0){var sr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,sr}},ir.prototype.clear=function(){this.head=this.tail=null,this.length=0},ir.prototype.join=function(sr){if(this.length===0)return"";for(var ar=this.head,lr=""+ar.data;ar=ar.next;)lr+=sr+ar.data;return lr},ir.prototype.concat=function(sr){if(this.length===0)return Nt.alloc(0);for(var ar=Nt.allocUnsafe(sr>>>0),lr=this.head,cr=0;lr;)rr(lr.data,ar,cr),cr+=lr.data.length,lr=lr.next;return ar},ir}(),er&&er.inspect&&er.inspect.custom&&(tr.exports.prototype[er.inspect.custom]=function(){var ir=er.inspect({length:this.length});return this.constructor.name+" "+ir})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var tr=requireProcessNextickArgs();function Ot(rr,ir){var nr=this,sr=this._readableState&&this._readableState.destroyed,ar=this._writableState&&this._writableState.destroyed;return sr||ar?(ir?ir(rr):rr&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,tr.nextTick(er,this,rr)):tr.nextTick(er,this,rr)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(rr||null,function(lr){!ir&&lr?nr._writableState?nr._writableState.errorEmitted||(nr._writableState.errorEmitted=!0,tr.nextTick(er,nr,lr)):tr.nextTick(er,nr,lr):ir&&ir(lr)}),this)}function Nt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function er(rr,ir){rr.emit("error",ir)}return destroy_1={destroy:Ot,undestroy:Nt},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var tr=requireProcessNextickArgs();_stream_writable=pr;function Ot(_r){var Mr=this;this.next=null,this.entry=null,this.finish=function(){Br(Mr,_r)}}var Nt=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:tr.nextTick,er;pr.WritableState=fr;var rr=Object.create(requireUtil());rr.inherits=inherits_browserExports;var ir={deprecate:requireBrowser$a()},nr=requireStreamBrowser(),sr=requireSafeBuffer().Buffer,ar=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function lr(_r){return sr.from(_r)}function cr(_r){return sr.isBuffer(_r)||_r instanceof ar}var dr=requireDestroy();rr.inherits(pr,nr);function ur(){}function fr(_r,Mr){er=er||require_stream_duplex(),_r=_r||{};var Tr=Mr instanceof er;this.objectMode=!!_r.objectMode,Tr&&(this.objectMode=this.objectMode||!!_r.writableObjectMode);var Er=_r.highWaterMark,Pr=_r.writableHighWaterMark,Rr=this.objectMode?16:16*1024;Er||Er===0?this.highWaterMark=Er:Tr&&(Pr||Pr===0)?this.highWaterMark=Pr:this.highWaterMark=Rr,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Lr=_r.decodeStrings===!1;this.decodeStrings=!Lr,this.defaultEncoding=_r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Hr){Ir(Mr,Hr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ot(this)}fr.prototype.getBuffer=function(){for(var Mr=this.bufferedRequest,Tr=[];Mr;)Tr.push(Mr),Mr=Mr.next;return Tr},function(){try{Object.defineProperty(fr.prototype,"buffer",{get:ir.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var hr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(hr=Function.prototype[Symbol.hasInstance],Object.defineProperty(pr,Symbol.hasInstance,{value:function(_r){return hr.call(this,_r)?!0:this!==pr?!1:_r&&_r._writableState instanceof fr}})):hr=function(_r){return _r instanceof this};function pr(_r){if(er=er||require_stream_duplex(),!hr.call(pr,this)&&!(this instanceof er))return new pr(_r);this._writableState=new fr(_r,this),this.writable=!0,_r&&(typeof _r.write=="function"&&(this._write=_r.write),typeof _r.writev=="function"&&(this._writev=_r.writev),typeof _r.destroy=="function"&&(this._destroy=_r.destroy),typeof _r.final=="function"&&(this._final=_r.final)),nr.call(this)}pr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function gr(_r,Mr){var Tr=new Error("write after end");_r.emit("error",Tr),tr.nextTick(Mr,Tr)}function br(_r,Mr,Tr,Er){var Pr=!0,Rr=!1;return Tr===null?Rr=new TypeError("May not write null values to stream"):typeof Tr!="string"&&Tr!==void 0&&!Mr.objectMode&&(Rr=new TypeError("Invalid non-string/buffer chunk")),Rr&&(_r.emit("error",Rr),tr.nextTick(Er,Rr),Pr=!1),Pr}pr.prototype.write=function(_r,Mr,Tr){var Er=this._writableState,Pr=!1,Rr=!Er.objectMode&&cr(_r);return Rr&&!sr.isBuffer(_r)&&(_r=lr(_r)),typeof Mr=="function"&&(Tr=Mr,Mr=null),Rr?Mr="buffer":Mr||(Mr=Er.defaultEncoding),typeof Tr!="function"&&(Tr=ur),Er.ended?gr(this,Tr):(Rr||br(this,Er,_r,Tr))&&(Er.pendingcb++,Pr=kr(this,Er,Rr,_r,Mr,Tr)),Pr},pr.prototype.cork=function(){var _r=this._writableState;_r.corked++},pr.prototype.uncork=function(){var _r=this._writableState;_r.corked&&(_r.corked--,!_r.writing&&!_r.corked&&!_r.bufferProcessing&&_r.bufferedRequest&&Wr(this,_r))},pr.prototype.setDefaultEncoding=function(Mr){if(typeof Mr=="string"&&(Mr=Mr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Mr+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Mr);return this._writableState.defaultEncoding=Mr,this};function vr(_r,Mr,Tr){return!_r.objectMode&&_r.decodeStrings!==!1&&typeof Mr=="string"&&(Mr=sr.from(Mr,Tr)),Mr}Object.defineProperty(pr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function kr(_r,Mr,Tr,Er,Pr,Rr){if(!Tr){var Lr=vr(Mr,Er,Pr);Er!==Lr&&(Tr=!0,Pr="buffer",Er=Lr)}var Hr=Mr.objectMode?1:Er.length;Mr.length+=Hr;var Gr=Mr.length<Mr.highWaterMark;if(Gr||(Mr.needDrain=!0),Mr.writing||Mr.corked){var Ur=Mr.lastBufferedRequest;Mr.lastBufferedRequest={chunk:Er,encoding:Pr,isBuf:Tr,callback:Rr,next:null},Ur?Ur.next=Mr.lastBufferedRequest:Mr.bufferedRequest=Mr.lastBufferedRequest,Mr.bufferedRequestCount+=1}else Sr(_r,Mr,!1,Hr,Er,Pr,Rr);return Gr}function Sr(_r,Mr,Tr,Er,Pr,Rr,Lr){Mr.writelen=Er,Mr.writecb=Lr,Mr.writing=!0,Mr.sync=!0,Tr?_r._writev(Pr,Mr.onwrite):_r._write(Pr,Rr,Mr.onwrite),Mr.sync=!1}function Cr(_r,Mr,Tr,Er,Pr){--Mr.pendingcb,Tr?(tr.nextTick(Pr,Er),tr.nextTick(xr,_r,Mr),_r._writableState.errorEmitted=!0,_r.emit("error",Er)):(Pr(Er),_r._writableState.errorEmitted=!0,_r.emit("error",Er),xr(_r,Mr))}function Ar(_r){_r.writing=!1,_r.writecb=null,_r.length-=_r.writelen,_r.writelen=0}function Ir(_r,Mr){var Tr=_r._writableState,Er=Tr.sync,Pr=Tr.writecb;if(Ar(Tr),Mr)Cr(_r,Tr,Er,Mr,Pr);else{var Rr=jr(Tr);!Rr&&!Tr.corked&&!Tr.bufferProcessing&&Tr.bufferedRequest&&Wr(_r,Tr),Er?Nt(qr,_r,Tr,Rr,Pr):qr(_r,Tr,Rr,Pr)}}function qr(_r,Mr,Tr,Er){Tr||Qr(_r,Mr),Mr.pendingcb--,Er(),xr(_r,Mr)}function Qr(_r,Mr){Mr.length===0&&Mr.needDrain&&(Mr.needDrain=!1,_r.emit("drain"))}function Wr(_r,Mr){Mr.bufferProcessing=!0;var Tr=Mr.bufferedRequest;if(_r._writev&&Tr&&Tr.next){var Er=Mr.bufferedRequestCount,Pr=new Array(Er),Rr=Mr.corkedRequestsFree;Rr.entry=Tr;for(var Lr=0,Hr=!0;Tr;)Pr[Lr]=Tr,Tr.isBuf||(Hr=!1),Tr=Tr.next,Lr+=1;Pr.allBuffers=Hr,Sr(_r,Mr,!0,Mr.length,Pr,"",Rr.finish),Mr.pendingcb++,Mr.lastBufferedRequest=null,Rr.next?(Mr.corkedRequestsFree=Rr.next,Rr.next=null):Mr.corkedRequestsFree=new Ot(Mr),Mr.bufferedRequestCount=0}else{for(;Tr;){var Gr=Tr.chunk,Ur=Tr.encoding,Nr=Tr.callback,Fr=Mr.objectMode?1:Gr.length;if(Sr(_r,Mr,!1,Fr,Gr,Ur,Nr),Tr=Tr.next,Mr.bufferedRequestCount--,Mr.writing)break}Tr===null&&(Mr.lastBufferedRequest=null)}Mr.bufferedRequest=Tr,Mr.bufferProcessing=!1}pr.prototype._write=function(_r,Mr,Tr){Tr(new Error("_write() is not implemented"))},pr.prototype._writev=null,pr.prototype.end=function(_r,Mr,Tr){var Er=this._writableState;typeof _r=="function"?(Tr=_r,_r=null,Mr=null):typeof Mr=="function"&&(Tr=Mr,Mr=null),_r!=null&&this.write(_r,Mr),Er.corked&&(Er.corked=1,this.uncork()),Er.ending||wr(this,Er,Tr)};function jr(_r){return _r.ending&&_r.length===0&&_r.bufferedRequest===null&&!_r.finished&&!_r.writing}function Or(_r,Mr){_r._final(function(Tr){Mr.pendingcb--,Tr&&_r.emit("error",Tr),Mr.prefinished=!0,_r.emit("prefinish"),xr(_r,Mr)})}function yr(_r,Mr){!Mr.prefinished&&!Mr.finalCalled&&(typeof _r._final=="function"?(Mr.pendingcb++,Mr.finalCalled=!0,tr.nextTick(Or,_r,Mr)):(Mr.prefinished=!0,_r.emit("prefinish")))}function xr(_r,Mr){var Tr=jr(Mr);return Tr&&(yr(_r,Mr),Mr.pendingcb===0&&(Mr.finished=!0,_r.emit("finish"))),Tr}function wr(_r,Mr,Tr){Mr.ending=!0,xr(_r,Mr),Tr&&(Mr.finished?tr.nextTick(Tr):_r.once("finish",Tr)),Mr.ended=!0,_r.writable=!1}function Br(_r,Mr,Tr){var Er=_r.entry;for(_r.entry=null;Er;){var Pr=Er.callback;Mr.pendingcb--,Pr(Tr),Er=Er.next}Mr.corkedRequestsFree.next=_r}return Object.defineProperty(pr.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_r){this._writableState&&(this._writableState.destroyed=_r)}}),pr.prototype.destroy=dr.destroy,pr.prototype._undestroy=dr.undestroy,pr.prototype._destroy=function(_r,Mr){this.end(),Mr(_r)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var tr=requireProcessNextickArgs(),Ot=Object.keys||function(dr){var ur=[];for(var fr in dr)ur.push(fr);return ur};_stream_duplex=ar;var Nt=Object.create(requireUtil());Nt.inherits=inherits_browserExports;var er=require_stream_readable(),rr=require_stream_writable();Nt.inherits(ar,er);for(var ir=Ot(rr.prototype),nr=0;nr<ir.length;nr++){var sr=ir[nr];ar.prototype[sr]||(ar.prototype[sr]=rr.prototype[sr])}function ar(dr){if(!(this instanceof ar))return new ar(dr);er.call(this,dr),rr.call(this,dr),dr&&dr.readable===!1&&(this.readable=!1),dr&&dr.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,dr&&dr.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",lr)}Object.defineProperty(ar.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function lr(){this.allowHalfOpen||this._writableState.ended||tr.nextTick(cr,this)}function cr(dr){dr.end()}return Object.defineProperty(ar.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(dr){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=dr,this._writableState.destroyed=dr)}}),ar.prototype._destroy=function(dr,ur){this.push(null),this.end(),tr.nextTick(ur,dr)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var tr=requireProcessNextickArgs();_stream_readable=vr;var Ot=requireIsarray(),Nt;vr.ReadableState=br,requireEvents().EventEmitter;var er=function(Nr,Fr){return Nr.listeners(Fr).length},rr=requireStreamBrowser(),ir=requireSafeBuffer().Buffer,nr=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function sr(Nr){return ir.from(Nr)}function ar(Nr){return ir.isBuffer(Nr)||Nr instanceof nr}var lr=Object.create(requireUtil());lr.inherits=inherits_browserExports;var cr=requireUtil$1(),dr=void 0;cr&&cr.debuglog?dr=cr.debuglog("stream"):dr=function(){};var ur=requireBufferList(),fr=requireDestroy(),hr;lr.inherits(vr,rr);var pr=["error","close","destroy","pause","resume"];function gr(Nr,Fr,Xr){if(typeof Nr.prependListener=="function")return Nr.prependListener(Fr,Xr);!Nr._events||!Nr._events[Fr]?Nr.on(Fr,Xr):Ot(Nr._events[Fr])?Nr._events[Fr].unshift(Xr):Nr._events[Fr]=[Xr,Nr._events[Fr]]}function br(Nr,Fr){Nt=Nt||require_stream_duplex(),Nr=Nr||{};var Xr=Fr instanceof Nt;this.objectMode=!!Nr.objectMode,Xr&&(this.objectMode=this.objectMode||!!Nr.readableObjectMode);var Jr=Nr.highWaterMark,Vr=Nr.readableHighWaterMark,Zr=this.objectMode?16:16*1024;Jr||Jr===0?this.highWaterMark=Jr:Xr&&(Vr||Vr===0)?this.highWaterMark=Vr:this.highWaterMark=Zr,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ur,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Nr.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Nr.encoding&&(hr||(hr=requireString_decoder().StringDecoder),this.decoder=new hr(Nr.encoding),this.encoding=Nr.encoding)}function vr(Nr){if(Nt=Nt||require_stream_duplex(),!(this instanceof vr))return new vr(Nr);this._readableState=new br(Nr,this),this.readable=!0,Nr&&(typeof Nr.read=="function"&&(this._read=Nr.read),typeof Nr.destroy=="function"&&(this._destroy=Nr.destroy)),rr.call(this)}Object.defineProperty(vr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Nr){this._readableState&&(this._readableState.destroyed=Nr)}}),vr.prototype.destroy=fr.destroy,vr.prototype._undestroy=fr.undestroy,vr.prototype._destroy=function(Nr,Fr){this.push(null),Fr(Nr)},vr.prototype.push=function(Nr,Fr){var Xr=this._readableState,Jr;return Xr.objectMode?Jr=!0:typeof Nr=="string"&&(Fr=Fr||Xr.defaultEncoding,Fr!==Xr.encoding&&(Nr=ir.from(Nr,Fr),Fr=""),Jr=!0),kr(this,Nr,Fr,!1,Jr)},vr.prototype.unshift=function(Nr){return kr(this,Nr,null,!0,!1)};function kr(Nr,Fr,Xr,Jr,Vr){var Zr=Nr._readableState;if(Fr===null)Zr.reading=!1,Wr(Nr,Zr);else{var Kr;Vr||(Kr=Cr(Zr,Fr)),Kr?Nr.emit("error",Kr):Zr.objectMode||Fr&&Fr.length>0?(typeof Fr!="string"&&!Zr.objectMode&&Object.getPrototypeOf(Fr)!==ir.prototype&&(Fr=sr(Fr)),Jr?Zr.endEmitted?Nr.emit("error",new Error("stream.unshift() after end event")):Sr(Nr,Zr,Fr,!0):Zr.ended?Nr.emit("error",new Error("stream.push() after EOF")):(Zr.reading=!1,Zr.decoder&&!Xr?(Fr=Zr.decoder.write(Fr),Zr.objectMode||Fr.length!==0?Sr(Nr,Zr,Fr,!1):yr(Nr,Zr)):Sr(Nr,Zr,Fr,!1))):Jr||(Zr.reading=!1)}return Ar(Zr)}function Sr(Nr,Fr,Xr,Jr){Fr.flowing&&Fr.length===0&&!Fr.sync?(Nr.emit("data",Xr),Nr.read(0)):(Fr.length+=Fr.objectMode?1:Xr.length,Jr?Fr.buffer.unshift(Xr):Fr.buffer.push(Xr),Fr.needReadable&&jr(Nr)),yr(Nr,Fr)}function Cr(Nr,Fr){var Xr;return!ar(Fr)&&typeof Fr!="string"&&Fr!==void 0&&!Nr.objectMode&&(Xr=new TypeError("Invalid non-string/buffer chunk")),Xr}function Ar(Nr){return!Nr.ended&&(Nr.needReadable||Nr.length<Nr.highWaterMark||Nr.length===0)}vr.prototype.isPaused=function(){return this._readableState.flowing===!1},vr.prototype.setEncoding=function(Nr){return hr||(hr=requireString_decoder().StringDecoder),this._readableState.decoder=new hr(Nr),this._readableState.encoding=Nr,this};var Ir=8388608;function qr(Nr){return Nr>=Ir?Nr=Ir:(Nr--,Nr|=Nr>>>1,Nr|=Nr>>>2,Nr|=Nr>>>4,Nr|=Nr>>>8,Nr|=Nr>>>16,Nr++),Nr}function Qr(Nr,Fr){return Nr<=0||Fr.length===0&&Fr.ended?0:Fr.objectMode?1:Nr!==Nr?Fr.flowing&&Fr.length?Fr.buffer.head.data.length:Fr.length:(Nr>Fr.highWaterMark&&(Fr.highWaterMark=qr(Nr)),Nr<=Fr.length?Nr:Fr.ended?Fr.length:(Fr.needReadable=!0,0))}vr.prototype.read=function(Nr){dr("read",Nr),Nr=parseInt(Nr,10);var Fr=this._readableState,Xr=Nr;if(Nr!==0&&(Fr.emittedReadable=!1),Nr===0&&Fr.needReadable&&(Fr.length>=Fr.highWaterMark||Fr.ended))return dr("read: emitReadable",Fr.length,Fr.ended),Fr.length===0&&Fr.ended?Hr(this):jr(this),null;if(Nr=Qr(Nr,Fr),Nr===0&&Fr.ended)return Fr.length===0&&Hr(this),null;var Jr=Fr.needReadable;dr("need readable",Jr),(Fr.length===0||Fr.length-Nr<Fr.highWaterMark)&&(Jr=!0,dr("length less than watermark",Jr)),Fr.ended||Fr.reading?(Jr=!1,dr("reading or ended",Jr)):Jr&&(dr("do read"),Fr.reading=!0,Fr.sync=!0,Fr.length===0&&(Fr.needReadable=!0),this._read(Fr.highWaterMark),Fr.sync=!1,Fr.reading||(Nr=Qr(Xr,Fr)));var Vr;return Nr>0?Vr=Er(Nr,Fr):Vr=null,Vr===null?(Fr.needReadable=!0,Nr=0):Fr.length-=Nr,Fr.length===0&&(Fr.ended||(Fr.needReadable=!0),Xr!==Nr&&Fr.ended&&Hr(this)),Vr!==null&&this.emit("data",Vr),Vr};function Wr(Nr,Fr){if(!Fr.ended){if(Fr.decoder){var Xr=Fr.decoder.end();Xr&&Xr.length&&(Fr.buffer.push(Xr),Fr.length+=Fr.objectMode?1:Xr.length)}Fr.ended=!0,jr(Nr)}}function jr(Nr){var Fr=Nr._readableState;Fr.needReadable=!1,Fr.emittedReadable||(dr("emitReadable",Fr.flowing),Fr.emittedReadable=!0,Fr.sync?tr.nextTick(Or,Nr):Or(Nr))}function Or(Nr){dr("emit readable"),Nr.emit("readable"),Tr(Nr)}function yr(Nr,Fr){Fr.readingMore||(Fr.readingMore=!0,tr.nextTick(xr,Nr,Fr))}function xr(Nr,Fr){for(var Xr=Fr.length;!Fr.reading&&!Fr.flowing&&!Fr.ended&&Fr.length<Fr.highWaterMark&&(dr("maybeReadMore read 0"),Nr.read(0),Xr!==Fr.length);)Xr=Fr.length;Fr.readingMore=!1}vr.prototype._read=function(Nr){this.emit("error",new Error("_read() is not implemented"))},vr.prototype.pipe=function(Nr,Fr){var Xr=this,Jr=this._readableState;switch(Jr.pipesCount){case 0:Jr.pipes=Nr;break;case 1:Jr.pipes=[Jr.pipes,Nr];break;default:Jr.pipes.push(Nr);break}Jr.pipesCount+=1,dr("pipe count=%d opts=%j",Jr.pipesCount,Fr);var Vr=(!Fr||Fr.end!==!1)&&Nr!==process$1.stdout&&Nr!==process$1.stderr,Zr=Vr?Ci:Vi;Jr.endEmitted?tr.nextTick(Zr):Xr.once("end",Zr),Nr.on("unpipe",Kr);function Kr(Ni,rn){dr("onunpipe"),Ni===Xr&&rn&&rn.hasUnpiped===!1&&(rn.hasUnpiped=!0,Ii())}function Ci(){dr("onend"),Nr.end()}var Mi=wr(Xr);Nr.on("drain",Mi);var Ti=!1;function Ii(){dr("cleanup"),Nr.removeListener("close",Di),Nr.removeListener("finish",Fi),Nr.removeListener("drain",Mi),Nr.removeListener("error",zi),Nr.removeListener("unpipe",Kr),Xr.removeListener("end",Ci),Xr.removeListener("end",Vi),Xr.removeListener("data",Si),Ti=!0,Jr.awaitDrain&&(!Nr._writableState||Nr._writableState.needDrain)&&Mi()}var ji=!1;Xr.on("data",Si);function Si(Ni){dr("ondata"),ji=!1;var rn=Nr.write(Ni);rn===!1&&!ji&&((Jr.pipesCount===1&&Jr.pipes===Nr||Jr.pipesCount>1&&Ur(Jr.pipes,Nr)!==-1)&&!Ti&&(dr("false write response, pause",Jr.awaitDrain),Jr.awaitDrain++,ji=!0),Xr.pause())}function zi(Ni){dr("onerror",Ni),Vi(),Nr.removeListener("error",zi),er(Nr,"error")===0&&Nr.emit("error",Ni)}gr(Nr,"error",zi);function Di(){Nr.removeListener("finish",Fi),Vi()}Nr.once("close",Di);function Fi(){dr("onfinish"),Nr.removeListener("close",Di),Vi()}Nr.once("finish",Fi);function Vi(){dr("unpipe"),Xr.unpipe(Nr)}return Nr.emit("pipe",Xr),Jr.flowing||(dr("pipe resume"),Xr.resume()),Nr};function wr(Nr){return function(){var Fr=Nr._readableState;dr("pipeOnDrain",Fr.awaitDrain),Fr.awaitDrain&&Fr.awaitDrain--,Fr.awaitDrain===0&&er(Nr,"data")&&(Fr.flowing=!0,Tr(Nr))}}vr.prototype.unpipe=function(Nr){var Fr=this._readableState,Xr={hasUnpiped:!1};if(Fr.pipesCount===0)return this;if(Fr.pipesCount===1)return Nr&&Nr!==Fr.pipes?this:(Nr||(Nr=Fr.pipes),Fr.pipes=null,Fr.pipesCount=0,Fr.flowing=!1,Nr&&Nr.emit("unpipe",this,Xr),this);if(!Nr){var Jr=Fr.pipes,Vr=Fr.pipesCount;Fr.pipes=null,Fr.pipesCount=0,Fr.flowing=!1;for(var Zr=0;Zr<Vr;Zr++)Jr[Zr].emit("unpipe",this,{hasUnpiped:!1});return this}var Kr=Ur(Fr.pipes,Nr);return Kr===-1?this:(Fr.pipes.splice(Kr,1),Fr.pipesCount-=1,Fr.pipesCount===1&&(Fr.pipes=Fr.pipes[0]),Nr.emit("unpipe",this,Xr),this)},vr.prototype.on=function(Nr,Fr){var Xr=rr.prototype.on.call(this,Nr,Fr);if(Nr==="data")this._readableState.flowing!==!1&&this.resume();else if(Nr==="readable"){var Jr=this._readableState;!Jr.endEmitted&&!Jr.readableListening&&(Jr.readableListening=Jr.needReadable=!0,Jr.emittedReadable=!1,Jr.reading?Jr.length&&jr(this):tr.nextTick(Br,this))}return Xr},vr.prototype.addListener=vr.prototype.on;function Br(Nr){dr("readable nexttick read 0"),Nr.read(0)}vr.prototype.resume=function(){var Nr=this._readableState;return Nr.flowing||(dr("resume"),Nr.flowing=!0,_r(this,Nr)),this};function _r(Nr,Fr){Fr.resumeScheduled||(Fr.resumeScheduled=!0,tr.nextTick(Mr,Nr,Fr))}function Mr(Nr,Fr){Fr.reading||(dr("resume read 0"),Nr.read(0)),Fr.resumeScheduled=!1,Fr.awaitDrain=0,Nr.emit("resume"),Tr(Nr),Fr.flowing&&!Fr.reading&&Nr.read(0)}vr.prototype.pause=function(){return dr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(dr("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Tr(Nr){var Fr=Nr._readableState;for(dr("flow",Fr.flowing);Fr.flowing&&Nr.read()!==null;);}vr.prototype.wrap=function(Nr){var Fr=this,Xr=this._readableState,Jr=!1;Nr.on("end",function(){if(dr("wrapped end"),Xr.decoder&&!Xr.ended){var Kr=Xr.decoder.end();Kr&&Kr.length&&Fr.push(Kr)}Fr.push(null)}),Nr.on("data",function(Kr){if(dr("wrapped data"),Xr.decoder&&(Kr=Xr.decoder.write(Kr)),!(Xr.objectMode&&Kr==null)&&!(!Xr.objectMode&&(!Kr||!Kr.length))){var Ci=Fr.push(Kr);Ci||(Jr=!0,Nr.pause())}});for(var Vr in Nr)this[Vr]===void 0&&typeof Nr[Vr]=="function"&&(this[Vr]=function(Kr){return function(){return Nr[Kr].apply(Nr,arguments)}}(Vr));for(var Zr=0;Zr<pr.length;Zr++)Nr.on(pr[Zr],this.emit.bind(this,pr[Zr]));return this._read=function(Kr){dr("wrapped _read",Kr),Jr&&(Jr=!1,Nr.resume())},this},Object.defineProperty(vr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),vr._fromList=Er;function Er(Nr,Fr){if(Fr.length===0)return null;var Xr;return Fr.objectMode?Xr=Fr.buffer.shift():!Nr||Nr>=Fr.length?(Fr.decoder?Xr=Fr.buffer.join(""):Fr.buffer.length===1?Xr=Fr.buffer.head.data:Xr=Fr.buffer.concat(Fr.length),Fr.buffer.clear()):Xr=Pr(Nr,Fr.buffer,Fr.decoder),Xr}function Pr(Nr,Fr,Xr){var Jr;return Nr<Fr.head.data.length?(Jr=Fr.head.data.slice(0,Nr),Fr.head.data=Fr.head.data.slice(Nr)):Nr===Fr.head.data.length?Jr=Fr.shift():Jr=Xr?Rr(Nr,Fr):Lr(Nr,Fr),Jr}function Rr(Nr,Fr){var Xr=Fr.head,Jr=1,Vr=Xr.data;for(Nr-=Vr.length;Xr=Xr.next;){var Zr=Xr.data,Kr=Nr>Zr.length?Zr.length:Nr;if(Kr===Zr.length?Vr+=Zr:Vr+=Zr.slice(0,Nr),Nr-=Kr,Nr===0){Kr===Zr.length?(++Jr,Xr.next?Fr.head=Xr.next:Fr.head=Fr.tail=null):(Fr.head=Xr,Xr.data=Zr.slice(Kr));break}++Jr}return Fr.length-=Jr,Vr}function Lr(Nr,Fr){var Xr=ir.allocUnsafe(Nr),Jr=Fr.head,Vr=1;for(Jr.data.copy(Xr),Nr-=Jr.data.length;Jr=Jr.next;){var Zr=Jr.data,Kr=Nr>Zr.length?Zr.length:Nr;if(Zr.copy(Xr,Xr.length-Nr,0,Kr),Nr-=Kr,Nr===0){Kr===Zr.length?(++Vr,Jr.next?Fr.head=Jr.next:Fr.head=Fr.tail=null):(Fr.head=Jr,Jr.data=Zr.slice(Kr));break}++Vr}return Fr.length-=Vr,Xr}function Hr(Nr){var Fr=Nr._readableState;if(Fr.length>0)throw new Error('"endReadable()" called on non-empty stream');Fr.endEmitted||(Fr.ended=!0,tr.nextTick(Gr,Fr,Nr))}function Gr(Nr,Fr){!Nr.endEmitted&&Nr.length===0&&(Nr.endEmitted=!0,Fr.readable=!1,Fr.emit("end"))}function Ur(Nr,Fr){for(var Xr=0,Jr=Nr.length;Xr<Jr;Xr++)if(Nr[Xr]===Fr)return Xr;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=er;var tr=require_stream_duplex(),Ot=Object.create(requireUtil());Ot.inherits=inherits_browserExports,Ot.inherits(er,tr);function Nt(nr,sr){var ar=this._transformState;ar.transforming=!1;var lr=ar.writecb;if(!lr)return this.emit("error",new Error("write callback called multiple times"));ar.writechunk=null,ar.writecb=null,sr!=null&&this.push(sr),lr(nr);var cr=this._readableState;cr.reading=!1,(cr.needReadable||cr.length<cr.highWaterMark)&&this._read(cr.highWaterMark)}function er(nr){if(!(this instanceof er))return new er(nr);tr.call(this,nr),this._transformState={afterTransform:Nt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,nr&&(typeof nr.transform=="function"&&(this._transform=nr.transform),typeof nr.flush=="function"&&(this._flush=nr.flush)),this.on("prefinish",rr)}function rr(){var nr=this;typeof this._flush=="function"?this._flush(function(sr,ar){ir(nr,sr,ar)}):ir(this,null,null)}er.prototype.push=function(nr,sr){return this._transformState.needTransform=!1,tr.prototype.push.call(this,nr,sr)},er.prototype._transform=function(nr,sr,ar){throw new Error("_transform() is not implemented")},er.prototype._write=function(nr,sr,ar){var lr=this._transformState;if(lr.writecb=ar,lr.writechunk=nr,lr.writeencoding=sr,!lr.transforming){var cr=this._readableState;(lr.needTransform||cr.needReadable||cr.length<cr.highWaterMark)&&this._read(cr.highWaterMark)}},er.prototype._read=function(nr){var sr=this._transformState;sr.writechunk!==null&&sr.writecb&&!sr.transforming?(sr.transforming=!0,this._transform(sr.writechunk,sr.writeencoding,sr.afterTransform)):sr.needTransform=!0},er.prototype._destroy=function(nr,sr){var ar=this;tr.prototype._destroy.call(this,nr,function(lr){sr(lr),ar.emit("close")})};function ir(nr,sr,ar){if(sr)return nr.emit("error",sr);if(ar!=null&&nr.push(ar),nr._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(nr._transformState.transforming)throw new Error("Calling transform done when still transforming");return nr.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=Nt;var tr=require_stream_transform(),Ot=Object.create(requireUtil());Ot.inherits=inherits_browserExports,Ot.inherits(Nt,tr);function Nt(er){if(!(this instanceof Nt))return new Nt(er);tr.call(this,er)}return Nt.prototype._transform=function(er,rr,ir){ir(null,er)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(tr,Ot){Ot=tr.exports=require_stream_readable(),Ot.Stream=Ot,Ot.Readable=Ot,Ot.Writable=require_stream_writable(),Ot.Duplex=require_stream_duplex(),Ot.Transform=require_stream_transform(),Ot.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(tr){(function(Ot,Nt){function er(yr,xr){if(!yr)throw new Error(xr||"Assertion failed")}function rr(yr,xr){yr.super_=xr;var wr=function(){};wr.prototype=xr.prototype,yr.prototype=new wr,yr.prototype.constructor=yr}function ir(yr,xr,wr){if(ir.isBN(yr))return yr;this.negative=0,this.words=null,this.length=0,this.red=null,yr!==null&&((xr==="le"||xr==="be")&&(wr=xr,xr=10),this._init(yr||0,xr||10,wr||"be"))}typeof Ot=="object"?Ot.exports=ir:Nt.BN=ir,ir.BN=ir,ir.wordSize=26;var nr;try{typeof window<"u"&&typeof window.Buffer<"u"?nr=window.Buffer:nr=require$$1$3.Buffer}catch{}ir.isBN=function(xr){return xr instanceof ir?!0:xr!==null&&typeof xr=="object"&&xr.constructor.wordSize===ir.wordSize&&Array.isArray(xr.words)},ir.max=function(xr,wr){return xr.cmp(wr)>0?xr:wr},ir.min=function(xr,wr){return xr.cmp(wr)<0?xr:wr},ir.prototype._init=function(xr,wr,Br){if(typeof xr=="number")return this._initNumber(xr,wr,Br);if(typeof xr=="object")return this._initArray(xr,wr,Br);wr==="hex"&&(wr=16),er(wr===(wr|0)&&wr>=2&&wr<=36),xr=xr.toString().replace(/\s+/g,"");var _r=0;xr[0]==="-"&&(_r++,this.negative=1),_r<xr.length&&(wr===16?this._parseHex(xr,_r,Br):(this._parseBase(xr,wr,_r),Br==="le"&&this._initArray(this.toArray(),wr,Br)))},ir.prototype._initNumber=function(xr,wr,Br){xr<0&&(this.negative=1,xr=-xr),xr<67108864?(this.words=[xr&67108863],this.length=1):xr<4503599627370496?(this.words=[xr&67108863,xr/67108864&67108863],this.length=2):(er(xr<9007199254740992),this.words=[xr&67108863,xr/67108864&67108863,1],this.length=3),Br==="le"&&this._initArray(this.toArray(),wr,Br)},ir.prototype._initArray=function(xr,wr,Br){if(er(typeof xr.length=="number"),xr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(xr.length/3),this.words=new Array(this.length);for(var _r=0;_r<this.length;_r++)this.words[_r]=0;var Mr,Tr,Er=0;if(Br==="be")for(_r=xr.length-1,Mr=0;_r>=0;_r-=3)Tr=xr[_r]|xr[_r-1]<<8|xr[_r-2]<<16,this.words[Mr]|=Tr<<Er&67108863,this.words[Mr+1]=Tr>>>26-Er&67108863,Er+=24,Er>=26&&(Er-=26,Mr++);else if(Br==="le")for(_r=0,Mr=0;_r<xr.length;_r+=3)Tr=xr[_r]|xr[_r+1]<<8|xr[_r+2]<<16,this.words[Mr]|=Tr<<Er&67108863,this.words[Mr+1]=Tr>>>26-Er&67108863,Er+=24,Er>=26&&(Er-=26,Mr++);return this._strip()};function sr(yr,xr){var wr=yr.charCodeAt(xr);if(wr>=48&&wr<=57)return wr-48;if(wr>=65&&wr<=70)return wr-55;if(wr>=97&&wr<=102)return wr-87;er(!1,"Invalid character in "+yr)}function ar(yr,xr,wr){var Br=sr(yr,wr);return wr-1>=xr&&(Br|=sr(yr,wr-1)<<4),Br}ir.prototype._parseHex=function(xr,wr,Br){this.length=Math.ceil((xr.length-wr)/6),this.words=new Array(this.length);for(var _r=0;_r<this.length;_r++)this.words[_r]=0;var Mr=0,Tr=0,Er;if(Br==="be")for(_r=xr.length-1;_r>=wr;_r-=2)Er=ar(xr,wr,_r)<<Mr,this.words[Tr]|=Er&67108863,Mr>=18?(Mr-=18,Tr+=1,this.words[Tr]|=Er>>>26):Mr+=8;else{var Pr=xr.length-wr;for(_r=Pr%2===0?wr+1:wr;_r<xr.length;_r+=2)Er=ar(xr,wr,_r)<<Mr,this.words[Tr]|=Er&67108863,Mr>=18?(Mr-=18,Tr+=1,this.words[Tr]|=Er>>>26):Mr+=8}this._strip()};function lr(yr,xr,wr,Br){for(var _r=0,Mr=0,Tr=Math.min(yr.length,wr),Er=xr;Er<Tr;Er++){var Pr=yr.charCodeAt(Er)-48;_r*=Br,Pr>=49?Mr=Pr-49+10:Pr>=17?Mr=Pr-17+10:Mr=Pr,er(Pr>=0&&Mr<Br,"Invalid character"),_r+=Mr}return _r}ir.prototype._parseBase=function(xr,wr,Br){this.words=[0],this.length=1;for(var _r=0,Mr=1;Mr<=67108863;Mr*=wr)_r++;_r--,Mr=Mr/wr|0;for(var Tr=xr.length-Br,Er=Tr%_r,Pr=Math.min(Tr,Tr-Er)+Br,Rr=0,Lr=Br;Lr<Pr;Lr+=_r)Rr=lr(xr,Lr,Lr+_r,wr),this.imuln(Mr),this.words[0]+Rr<67108864?this.words[0]+=Rr:this._iaddn(Rr);if(Er!==0){var Hr=1;for(Rr=lr(xr,Lr,xr.length,wr),Lr=0;Lr<Er;Lr++)Hr*=wr;this.imuln(Hr),this.words[0]+Rr<67108864?this.words[0]+=Rr:this._iaddn(Rr)}this._strip()},ir.prototype.copy=function(xr){xr.words=new Array(this.length);for(var wr=0;wr<this.length;wr++)xr.words[wr]=this.words[wr];xr.length=this.length,xr.negative=this.negative,xr.red=this.red};function cr(yr,xr){yr.words=xr.words,yr.length=xr.length,yr.negative=xr.negative,yr.red=xr.red}if(ir.prototype._move=function(xr){cr(xr,this)},ir.prototype.clone=function(){var xr=new ir(null);return this.copy(xr),xr},ir.prototype._expand=function(xr){for(;this.length<xr;)this.words[this.length++]=0;return this},ir.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ir.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ir.prototype[Symbol.for("nodejs.util.inspect.custom")]=dr}catch{ir.prototype.inspect=dr}else ir.prototype.inspect=dr;function dr(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ur=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],fr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],hr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ir.prototype.toString=function(xr,wr){xr=xr||10,wr=wr|0||1;var Br;if(xr===16||xr==="hex"){Br="";for(var _r=0,Mr=0,Tr=0;Tr<this.length;Tr++){var Er=this.words[Tr],Pr=((Er<<_r|Mr)&16777215).toString(16);Mr=Er>>>24-_r&16777215,_r+=2,_r>=26&&(_r-=26,Tr--),Mr!==0||Tr!==this.length-1?Br=ur[6-Pr.length]+Pr+Br:Br=Pr+Br}for(Mr!==0&&(Br=Mr.toString(16)+Br);Br.length%wr!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}if(xr===(xr|0)&&xr>=2&&xr<=36){var Rr=fr[xr],Lr=hr[xr];Br="";var Hr=this.clone();for(Hr.negative=0;!Hr.isZero();){var Gr=Hr.modrn(Lr).toString(xr);Hr=Hr.idivn(Lr),Hr.isZero()?Br=Gr+Br:Br=ur[Rr-Gr.length]+Gr+Br}for(this.isZero()&&(Br="0"+Br);Br.length%wr!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}er(!1,"Base should be between 2 and 36")},ir.prototype.toNumber=function(){var xr=this.words[0];return this.length===2?xr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?xr+=4503599627370496+this.words[1]*67108864:this.length>2&&er(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-xr:xr},ir.prototype.toJSON=function(){return this.toString(16,2)},nr&&(ir.prototype.toBuffer=function(xr,wr){return this.toArrayLike(nr,xr,wr)}),ir.prototype.toArray=function(xr,wr){return this.toArrayLike(Array,xr,wr)};var pr=function(xr,wr){return xr.allocUnsafe?xr.allocUnsafe(wr):new xr(wr)};ir.prototype.toArrayLike=function(xr,wr,Br){this._strip();var _r=this.byteLength(),Mr=Br||Math.max(1,_r);er(_r<=Mr,"byte array longer than desired length"),er(Mr>0,"Requested array length <= 0");var Tr=pr(xr,Mr),Er=wr==="le"?"LE":"BE";return this["_toArrayLike"+Er](Tr,_r),Tr},ir.prototype._toArrayLikeLE=function(xr,wr){for(var Br=0,_r=0,Mr=0,Tr=0;Mr<this.length;Mr++){var Er=this.words[Mr]<<Tr|_r;xr[Br++]=Er&255,Br<xr.length&&(xr[Br++]=Er>>8&255),Br<xr.length&&(xr[Br++]=Er>>16&255),Tr===6?(Br<xr.length&&(xr[Br++]=Er>>24&255),_r=0,Tr=0):(_r=Er>>>24,Tr+=2)}if(Br<xr.length)for(xr[Br++]=_r;Br<xr.length;)xr[Br++]=0},ir.prototype._toArrayLikeBE=function(xr,wr){for(var Br=xr.length-1,_r=0,Mr=0,Tr=0;Mr<this.length;Mr++){var Er=this.words[Mr]<<Tr|_r;xr[Br--]=Er&255,Br>=0&&(xr[Br--]=Er>>8&255),Br>=0&&(xr[Br--]=Er>>16&255),Tr===6?(Br>=0&&(xr[Br--]=Er>>24&255),_r=0,Tr=0):(_r=Er>>>24,Tr+=2)}if(Br>=0)for(xr[Br--]=_r;Br>=0;)xr[Br--]=0},Math.clz32?ir.prototype._countBits=function(xr){return 32-Math.clz32(xr)}:ir.prototype._countBits=function(xr){var wr=xr,Br=0;return wr>=4096&&(Br+=13,wr>>>=13),wr>=64&&(Br+=7,wr>>>=7),wr>=8&&(Br+=4,wr>>>=4),wr>=2&&(Br+=2,wr>>>=2),Br+wr},ir.prototype._zeroBits=function(xr){if(xr===0)return 26;var wr=xr,Br=0;return wr&8191||(Br+=13,wr>>>=13),wr&127||(Br+=7,wr>>>=7),wr&15||(Br+=4,wr>>>=4),wr&3||(Br+=2,wr>>>=2),wr&1||Br++,Br},ir.prototype.bitLength=function(){var xr=this.words[this.length-1],wr=this._countBits(xr);return(this.length-1)*26+wr};function gr(yr){for(var xr=new Array(yr.bitLength()),wr=0;wr<xr.length;wr++){var Br=wr/26|0,_r=wr%26;xr[wr]=yr.words[Br]>>>_r&1}return xr}ir.prototype.zeroBits=function(){if(this.isZero())return 0;for(var xr=0,wr=0;wr<this.length;wr++){var Br=this._zeroBits(this.words[wr]);if(xr+=Br,Br!==26)break}return xr},ir.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ir.prototype.toTwos=function(xr){return this.negative!==0?this.abs().inotn(xr).iaddn(1):this.clone()},ir.prototype.fromTwos=function(xr){return this.testn(xr-1)?this.notn(xr).iaddn(1).ineg():this.clone()},ir.prototype.isNeg=function(){return this.negative!==0},ir.prototype.neg=function(){return this.clone().ineg()},ir.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ir.prototype.iuor=function(xr){for(;this.length<xr.length;)this.words[this.length++]=0;for(var wr=0;wr<xr.length;wr++)this.words[wr]=this.words[wr]|xr.words[wr];return this._strip()},ir.prototype.ior=function(xr){return er((this.negative|xr.negative)===0),this.iuor(xr)},ir.prototype.or=function(xr){return this.length>xr.length?this.clone().ior(xr):xr.clone().ior(this)},ir.prototype.uor=function(xr){return this.length>xr.length?this.clone().iuor(xr):xr.clone().iuor(this)},ir.prototype.iuand=function(xr){var wr;this.length>xr.length?wr=xr:wr=this;for(var Br=0;Br<wr.length;Br++)this.words[Br]=this.words[Br]&xr.words[Br];return this.length=wr.length,this._strip()},ir.prototype.iand=function(xr){return er((this.negative|xr.negative)===0),this.iuand(xr)},ir.prototype.and=function(xr){return this.length>xr.length?this.clone().iand(xr):xr.clone().iand(this)},ir.prototype.uand=function(xr){return this.length>xr.length?this.clone().iuand(xr):xr.clone().iuand(this)},ir.prototype.iuxor=function(xr){var wr,Br;this.length>xr.length?(wr=this,Br=xr):(wr=xr,Br=this);for(var _r=0;_r<Br.length;_r++)this.words[_r]=wr.words[_r]^Br.words[_r];if(this!==wr)for(;_r<wr.length;_r++)this.words[_r]=wr.words[_r];return this.length=wr.length,this._strip()},ir.prototype.ixor=function(xr){return er((this.negative|xr.negative)===0),this.iuxor(xr)},ir.prototype.xor=function(xr){return this.length>xr.length?this.clone().ixor(xr):xr.clone().ixor(this)},ir.prototype.uxor=function(xr){return this.length>xr.length?this.clone().iuxor(xr):xr.clone().iuxor(this)},ir.prototype.inotn=function(xr){er(typeof xr=="number"&&xr>=0);var wr=Math.ceil(xr/26)|0,Br=xr%26;this._expand(wr),Br>0&&wr--;for(var _r=0;_r<wr;_r++)this.words[_r]=~this.words[_r]&67108863;return Br>0&&(this.words[_r]=~this.words[_r]&67108863>>26-Br),this._strip()},ir.prototype.notn=function(xr){return this.clone().inotn(xr)},ir.prototype.setn=function(xr,wr){er(typeof xr=="number"&&xr>=0);var Br=xr/26|0,_r=xr%26;return this._expand(Br+1),wr?this.words[Br]=this.words[Br]|1<<_r:this.words[Br]=this.words[Br]&~(1<<_r),this._strip()},ir.prototype.iadd=function(xr){var wr;if(this.negative!==0&&xr.negative===0)return this.negative=0,wr=this.isub(xr),this.negative^=1,this._normSign();if(this.negative===0&&xr.negative!==0)return xr.negative=0,wr=this.isub(xr),xr.negative=1,wr._normSign();var Br,_r;this.length>xr.length?(Br=this,_r=xr):(Br=xr,_r=this);for(var Mr=0,Tr=0;Tr<_r.length;Tr++)wr=(Br.words[Tr]|0)+(_r.words[Tr]|0)+Mr,this.words[Tr]=wr&67108863,Mr=wr>>>26;for(;Mr!==0&&Tr<Br.length;Tr++)wr=(Br.words[Tr]|0)+Mr,this.words[Tr]=wr&67108863,Mr=wr>>>26;if(this.length=Br.length,Mr!==0)this.words[this.length]=Mr,this.length++;else if(Br!==this)for(;Tr<Br.length;Tr++)this.words[Tr]=Br.words[Tr];return this},ir.prototype.add=function(xr){var wr;return xr.negative!==0&&this.negative===0?(xr.negative=0,wr=this.sub(xr),xr.negative^=1,wr):xr.negative===0&&this.negative!==0?(this.negative=0,wr=xr.sub(this),this.negative=1,wr):this.length>xr.length?this.clone().iadd(xr):xr.clone().iadd(this)},ir.prototype.isub=function(xr){if(xr.negative!==0){xr.negative=0;var wr=this.iadd(xr);return xr.negative=1,wr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(xr),this.negative=1,this._normSign();var Br=this.cmp(xr);if(Br===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _r,Mr;Br>0?(_r=this,Mr=xr):(_r=xr,Mr=this);for(var Tr=0,Er=0;Er<Mr.length;Er++)wr=(_r.words[Er]|0)-(Mr.words[Er]|0)+Tr,Tr=wr>>26,this.words[Er]=wr&67108863;for(;Tr!==0&&Er<_r.length;Er++)wr=(_r.words[Er]|0)+Tr,Tr=wr>>26,this.words[Er]=wr&67108863;if(Tr===0&&Er<_r.length&&_r!==this)for(;Er<_r.length;Er++)this.words[Er]=_r.words[Er];return this.length=Math.max(this.length,Er),_r!==this&&(this.negative=1),this._strip()},ir.prototype.sub=function(xr){return this.clone().isub(xr)};function br(yr,xr,wr){wr.negative=xr.negative^yr.negative;var Br=yr.length+xr.length|0;wr.length=Br,Br=Br-1|0;var _r=yr.words[0]|0,Mr=xr.words[0]|0,Tr=_r*Mr,Er=Tr&67108863,Pr=Tr/67108864|0;wr.words[0]=Er;for(var Rr=1;Rr<Br;Rr++){for(var Lr=Pr>>>26,Hr=Pr&67108863,Gr=Math.min(Rr,xr.length-1),Ur=Math.max(0,Rr-yr.length+1);Ur<=Gr;Ur++){var Nr=Rr-Ur|0;_r=yr.words[Nr]|0,Mr=xr.words[Ur]|0,Tr=_r*Mr+Hr,Lr+=Tr/67108864|0,Hr=Tr&67108863}wr.words[Rr]=Hr|0,Pr=Lr|0}return Pr!==0?wr.words[Rr]=Pr|0:wr.length--,wr._strip()}var vr=function(xr,wr,Br){var _r=xr.words,Mr=wr.words,Tr=Br.words,Er=0,Pr,Rr,Lr,Hr=_r[0]|0,Gr=Hr&8191,Ur=Hr>>>13,Nr=_r[1]|0,Fr=Nr&8191,Xr=Nr>>>13,Jr=_r[2]|0,Vr=Jr&8191,Zr=Jr>>>13,Kr=_r[3]|0,Ci=Kr&8191,Mi=Kr>>>13,Ti=_r[4]|0,Ii=Ti&8191,ji=Ti>>>13,Si=_r[5]|0,zi=Si&8191,Di=Si>>>13,Fi=_r[6]|0,Vi=Fi&8191,Ni=Fi>>>13,rn=_r[7]|0,ln=rn&8191,qi=rn>>>13,fn=_r[8]|0,Sn=fn&8191,Xi=fn>>>13,yn=_r[9]|0,kn=yn&8191,nn=yn>>>13,jn=Mr[0]|0,Tn=jn&8191,cn=jn>>>13,Dn=Mr[1]|0,Wi=Dn&8191,tn=Dn>>>13,Bn=Mr[2]|0,Mn=Bn&8191,Yi=Bn>>>13,Cn=Mr[3]|0,wn=Cn&8191,on=Cn>>>13,Pi=Mr[4]|0,Pn=Pi&8191,Hi=Pi>>>13,En=Mr[5]|0,An=En&8191,Ji=En>>>13,sn=Mr[6]|0,xn=sn&8191,Ui=sn>>>13,vn=Mr[7]|0,hn=vn&8191,an=vn>>>13,Ln=Mr[8]|0,In=Ln&8191,Qi=Ln>>>13,_n=Mr[9]|0,Nn=_n&8191,On=_n>>>13;Br.negative=xr.negative^wr.negative,Br.length=19,Pr=Math.imul(Gr,Tn),Rr=Math.imul(Gr,cn),Rr=Rr+Math.imul(Ur,Tn)|0,Lr=Math.imul(Ur,cn);var es=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(es>>>26)|0,es&=67108863,Pr=Math.imul(Fr,Tn),Rr=Math.imul(Fr,cn),Rr=Rr+Math.imul(Xr,Tn)|0,Lr=Math.imul(Xr,cn),Pr=Pr+Math.imul(Gr,Wi)|0,Rr=Rr+Math.imul(Gr,tn)|0,Rr=Rr+Math.imul(Ur,Wi)|0,Lr=Lr+Math.imul(Ur,tn)|0;var Zn=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,Pr=Math.imul(Vr,Tn),Rr=Math.imul(Vr,cn),Rr=Rr+Math.imul(Zr,Tn)|0,Lr=Math.imul(Zr,cn),Pr=Pr+Math.imul(Fr,Wi)|0,Rr=Rr+Math.imul(Fr,tn)|0,Rr=Rr+Math.imul(Xr,Wi)|0,Lr=Lr+Math.imul(Xr,tn)|0,Pr=Pr+Math.imul(Gr,Mn)|0,Rr=Rr+Math.imul(Gr,Yi)|0,Rr=Rr+Math.imul(Ur,Mn)|0,Lr=Lr+Math.imul(Ur,Yi)|0;var Qn=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,Pr=Math.imul(Ci,Tn),Rr=Math.imul(Ci,cn),Rr=Rr+Math.imul(Mi,Tn)|0,Lr=Math.imul(Mi,cn),Pr=Pr+Math.imul(Vr,Wi)|0,Rr=Rr+Math.imul(Vr,tn)|0,Rr=Rr+Math.imul(Zr,Wi)|0,Lr=Lr+Math.imul(Zr,tn)|0,Pr=Pr+Math.imul(Fr,Mn)|0,Rr=Rr+Math.imul(Fr,Yi)|0,Rr=Rr+Math.imul(Xr,Mn)|0,Lr=Lr+Math.imul(Xr,Yi)|0,Pr=Pr+Math.imul(Gr,wn)|0,Rr=Rr+Math.imul(Gr,on)|0,Rr=Rr+Math.imul(Ur,wn)|0,Lr=Lr+Math.imul(Ur,on)|0;var Kn=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,Pr=Math.imul(Ii,Tn),Rr=Math.imul(Ii,cn),Rr=Rr+Math.imul(ji,Tn)|0,Lr=Math.imul(ji,cn),Pr=Pr+Math.imul(Ci,Wi)|0,Rr=Rr+Math.imul(Ci,tn)|0,Rr=Rr+Math.imul(Mi,Wi)|0,Lr=Lr+Math.imul(Mi,tn)|0,Pr=Pr+Math.imul(Vr,Mn)|0,Rr=Rr+Math.imul(Vr,Yi)|0,Rr=Rr+Math.imul(Zr,Mn)|0,Lr=Lr+Math.imul(Zr,Yi)|0,Pr=Pr+Math.imul(Fr,wn)|0,Rr=Rr+Math.imul(Fr,on)|0,Rr=Rr+Math.imul(Xr,wn)|0,Lr=Lr+Math.imul(Xr,on)|0,Pr=Pr+Math.imul(Gr,Pn)|0,Rr=Rr+Math.imul(Gr,Hi)|0,Rr=Rr+Math.imul(Ur,Pn)|0,Lr=Lr+Math.imul(Ur,Hi)|0;var ts=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(ts>>>26)|0,ts&=67108863,Pr=Math.imul(zi,Tn),Rr=Math.imul(zi,cn),Rr=Rr+Math.imul(Di,Tn)|0,Lr=Math.imul(Di,cn),Pr=Pr+Math.imul(Ii,Wi)|0,Rr=Rr+Math.imul(Ii,tn)|0,Rr=Rr+Math.imul(ji,Wi)|0,Lr=Lr+Math.imul(ji,tn)|0,Pr=Pr+Math.imul(Ci,Mn)|0,Rr=Rr+Math.imul(Ci,Yi)|0,Rr=Rr+Math.imul(Mi,Mn)|0,Lr=Lr+Math.imul(Mi,Yi)|0,Pr=Pr+Math.imul(Vr,wn)|0,Rr=Rr+Math.imul(Vr,on)|0,Rr=Rr+Math.imul(Zr,wn)|0,Lr=Lr+Math.imul(Zr,on)|0,Pr=Pr+Math.imul(Fr,Pn)|0,Rr=Rr+Math.imul(Fr,Hi)|0,Rr=Rr+Math.imul(Xr,Pn)|0,Lr=Lr+Math.imul(Xr,Hi)|0,Pr=Pr+Math.imul(Gr,An)|0,Rr=Rr+Math.imul(Gr,Ji)|0,Rr=Rr+Math.imul(Ur,An)|0,Lr=Lr+Math.imul(Ur,Ji)|0;var ss=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(ss>>>26)|0,ss&=67108863,Pr=Math.imul(Vi,Tn),Rr=Math.imul(Vi,cn),Rr=Rr+Math.imul(Ni,Tn)|0,Lr=Math.imul(Ni,cn),Pr=Pr+Math.imul(zi,Wi)|0,Rr=Rr+Math.imul(zi,tn)|0,Rr=Rr+Math.imul(Di,Wi)|0,Lr=Lr+Math.imul(Di,tn)|0,Pr=Pr+Math.imul(Ii,Mn)|0,Rr=Rr+Math.imul(Ii,Yi)|0,Rr=Rr+Math.imul(ji,Mn)|0,Lr=Lr+Math.imul(ji,Yi)|0,Pr=Pr+Math.imul(Ci,wn)|0,Rr=Rr+Math.imul(Ci,on)|0,Rr=Rr+Math.imul(Mi,wn)|0,Lr=Lr+Math.imul(Mi,on)|0,Pr=Pr+Math.imul(Vr,Pn)|0,Rr=Rr+Math.imul(Vr,Hi)|0,Rr=Rr+Math.imul(Zr,Pn)|0,Lr=Lr+Math.imul(Zr,Hi)|0,Pr=Pr+Math.imul(Fr,An)|0,Rr=Rr+Math.imul(Fr,Ji)|0,Rr=Rr+Math.imul(Xr,An)|0,Lr=Lr+Math.imul(Xr,Ji)|0,Pr=Pr+Math.imul(Gr,xn)|0,Rr=Rr+Math.imul(Gr,Ui)|0,Rr=Rr+Math.imul(Ur,xn)|0,Lr=Lr+Math.imul(Ur,Ui)|0;var as=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(as>>>26)|0,as&=67108863,Pr=Math.imul(ln,Tn),Rr=Math.imul(ln,cn),Rr=Rr+Math.imul(qi,Tn)|0,Lr=Math.imul(qi,cn),Pr=Pr+Math.imul(Vi,Wi)|0,Rr=Rr+Math.imul(Vi,tn)|0,Rr=Rr+Math.imul(Ni,Wi)|0,Lr=Lr+Math.imul(Ni,tn)|0,Pr=Pr+Math.imul(zi,Mn)|0,Rr=Rr+Math.imul(zi,Yi)|0,Rr=Rr+Math.imul(Di,Mn)|0,Lr=Lr+Math.imul(Di,Yi)|0,Pr=Pr+Math.imul(Ii,wn)|0,Rr=Rr+Math.imul(Ii,on)|0,Rr=Rr+Math.imul(ji,wn)|0,Lr=Lr+Math.imul(ji,on)|0,Pr=Pr+Math.imul(Ci,Pn)|0,Rr=Rr+Math.imul(Ci,Hi)|0,Rr=Rr+Math.imul(Mi,Pn)|0,Lr=Lr+Math.imul(Mi,Hi)|0,Pr=Pr+Math.imul(Vr,An)|0,Rr=Rr+Math.imul(Vr,Ji)|0,Rr=Rr+Math.imul(Zr,An)|0,Lr=Lr+Math.imul(Zr,Ji)|0,Pr=Pr+Math.imul(Fr,xn)|0,Rr=Rr+Math.imul(Fr,Ui)|0,Rr=Rr+Math.imul(Xr,xn)|0,Lr=Lr+Math.imul(Xr,Ui)|0,Pr=Pr+Math.imul(Gr,hn)|0,Rr=Rr+Math.imul(Gr,an)|0,Rr=Rr+Math.imul(Ur,hn)|0,Lr=Lr+Math.imul(Ur,an)|0;var Fn=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,Pr=Math.imul(Sn,Tn),Rr=Math.imul(Sn,cn),Rr=Rr+Math.imul(Xi,Tn)|0,Lr=Math.imul(Xi,cn),Pr=Pr+Math.imul(ln,Wi)|0,Rr=Rr+Math.imul(ln,tn)|0,Rr=Rr+Math.imul(qi,Wi)|0,Lr=Lr+Math.imul(qi,tn)|0,Pr=Pr+Math.imul(Vi,Mn)|0,Rr=Rr+Math.imul(Vi,Yi)|0,Rr=Rr+Math.imul(Ni,Mn)|0,Lr=Lr+Math.imul(Ni,Yi)|0,Pr=Pr+Math.imul(zi,wn)|0,Rr=Rr+Math.imul(zi,on)|0,Rr=Rr+Math.imul(Di,wn)|0,Lr=Lr+Math.imul(Di,on)|0,Pr=Pr+Math.imul(Ii,Pn)|0,Rr=Rr+Math.imul(Ii,Hi)|0,Rr=Rr+Math.imul(ji,Pn)|0,Lr=Lr+Math.imul(ji,Hi)|0,Pr=Pr+Math.imul(Ci,An)|0,Rr=Rr+Math.imul(Ci,Ji)|0,Rr=Rr+Math.imul(Mi,An)|0,Lr=Lr+Math.imul(Mi,Ji)|0,Pr=Pr+Math.imul(Vr,xn)|0,Rr=Rr+Math.imul(Vr,Ui)|0,Rr=Rr+Math.imul(Zr,xn)|0,Lr=Lr+Math.imul(Zr,Ui)|0,Pr=Pr+Math.imul(Fr,hn)|0,Rr=Rr+Math.imul(Fr,an)|0,Rr=Rr+Math.imul(Xr,hn)|0,Lr=Lr+Math.imul(Xr,an)|0,Pr=Pr+Math.imul(Gr,In)|0,Rr=Rr+Math.imul(Gr,Qi)|0,Rr=Rr+Math.imul(Ur,In)|0,Lr=Lr+Math.imul(Ur,Qi)|0;var zn=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(zn>>>26)|0,zn&=67108863,Pr=Math.imul(kn,Tn),Rr=Math.imul(kn,cn),Rr=Rr+Math.imul(nn,Tn)|0,Lr=Math.imul(nn,cn),Pr=Pr+Math.imul(Sn,Wi)|0,Rr=Rr+Math.imul(Sn,tn)|0,Rr=Rr+Math.imul(Xi,Wi)|0,Lr=Lr+Math.imul(Xi,tn)|0,Pr=Pr+Math.imul(ln,Mn)|0,Rr=Rr+Math.imul(ln,Yi)|0,Rr=Rr+Math.imul(qi,Mn)|0,Lr=Lr+Math.imul(qi,Yi)|0,Pr=Pr+Math.imul(Vi,wn)|0,Rr=Rr+Math.imul(Vi,on)|0,Rr=Rr+Math.imul(Ni,wn)|0,Lr=Lr+Math.imul(Ni,on)|0,Pr=Pr+Math.imul(zi,Pn)|0,Rr=Rr+Math.imul(zi,Hi)|0,Rr=Rr+Math.imul(Di,Pn)|0,Lr=Lr+Math.imul(Di,Hi)|0,Pr=Pr+Math.imul(Ii,An)|0,Rr=Rr+Math.imul(Ii,Ji)|0,Rr=Rr+Math.imul(ji,An)|0,Lr=Lr+Math.imul(ji,Ji)|0,Pr=Pr+Math.imul(Ci,xn)|0,Rr=Rr+Math.imul(Ci,Ui)|0,Rr=Rr+Math.imul(Mi,xn)|0,Lr=Lr+Math.imul(Mi,Ui)|0,Pr=Pr+Math.imul(Vr,hn)|0,Rr=Rr+Math.imul(Vr,an)|0,Rr=Rr+Math.imul(Zr,hn)|0,Lr=Lr+Math.imul(Zr,an)|0,Pr=Pr+Math.imul(Fr,In)|0,Rr=Rr+Math.imul(Fr,Qi)|0,Rr=Rr+Math.imul(Xr,In)|0,Lr=Lr+Math.imul(Xr,Qi)|0,Pr=Pr+Math.imul(Gr,Nn)|0,Rr=Rr+Math.imul(Gr,On)|0,Rr=Rr+Math.imul(Ur,Nn)|0,Lr=Lr+Math.imul(Ur,On)|0;var ls=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(ls>>>26)|0,ls&=67108863,Pr=Math.imul(kn,Wi),Rr=Math.imul(kn,tn),Rr=Rr+Math.imul(nn,Wi)|0,Lr=Math.imul(nn,tn),Pr=Pr+Math.imul(Sn,Mn)|0,Rr=Rr+Math.imul(Sn,Yi)|0,Rr=Rr+Math.imul(Xi,Mn)|0,Lr=Lr+Math.imul(Xi,Yi)|0,Pr=Pr+Math.imul(ln,wn)|0,Rr=Rr+Math.imul(ln,on)|0,Rr=Rr+Math.imul(qi,wn)|0,Lr=Lr+Math.imul(qi,on)|0,Pr=Pr+Math.imul(Vi,Pn)|0,Rr=Rr+Math.imul(Vi,Hi)|0,Rr=Rr+Math.imul(Ni,Pn)|0,Lr=Lr+Math.imul(Ni,Hi)|0,Pr=Pr+Math.imul(zi,An)|0,Rr=Rr+Math.imul(zi,Ji)|0,Rr=Rr+Math.imul(Di,An)|0,Lr=Lr+Math.imul(Di,Ji)|0,Pr=Pr+Math.imul(Ii,xn)|0,Rr=Rr+Math.imul(Ii,Ui)|0,Rr=Rr+Math.imul(ji,xn)|0,Lr=Lr+Math.imul(ji,Ui)|0,Pr=Pr+Math.imul(Ci,hn)|0,Rr=Rr+Math.imul(Ci,an)|0,Rr=Rr+Math.imul(Mi,hn)|0,Lr=Lr+Math.imul(Mi,an)|0,Pr=Pr+Math.imul(Vr,In)|0,Rr=Rr+Math.imul(Vr,Qi)|0,Rr=Rr+Math.imul(Zr,In)|0,Lr=Lr+Math.imul(Zr,Qi)|0,Pr=Pr+Math.imul(Fr,Nn)|0,Rr=Rr+Math.imul(Fr,On)|0,Rr=Rr+Math.imul(Xr,Nn)|0,Lr=Lr+Math.imul(Xr,On)|0;var Jn=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,Pr=Math.imul(kn,Mn),Rr=Math.imul(kn,Yi),Rr=Rr+Math.imul(nn,Mn)|0,Lr=Math.imul(nn,Yi),Pr=Pr+Math.imul(Sn,wn)|0,Rr=Rr+Math.imul(Sn,on)|0,Rr=Rr+Math.imul(Xi,wn)|0,Lr=Lr+Math.imul(Xi,on)|0,Pr=Pr+Math.imul(ln,Pn)|0,Rr=Rr+Math.imul(ln,Hi)|0,Rr=Rr+Math.imul(qi,Pn)|0,Lr=Lr+Math.imul(qi,Hi)|0,Pr=Pr+Math.imul(Vi,An)|0,Rr=Rr+Math.imul(Vi,Ji)|0,Rr=Rr+Math.imul(Ni,An)|0,Lr=Lr+Math.imul(Ni,Ji)|0,Pr=Pr+Math.imul(zi,xn)|0,Rr=Rr+Math.imul(zi,Ui)|0,Rr=Rr+Math.imul(Di,xn)|0,Lr=Lr+Math.imul(Di,Ui)|0,Pr=Pr+Math.imul(Ii,hn)|0,Rr=Rr+Math.imul(Ii,an)|0,Rr=Rr+Math.imul(ji,hn)|0,Lr=Lr+Math.imul(ji,an)|0,Pr=Pr+Math.imul(Ci,In)|0,Rr=Rr+Math.imul(Ci,Qi)|0,Rr=Rr+Math.imul(Mi,In)|0,Lr=Lr+Math.imul(Mi,Qi)|0,Pr=Pr+Math.imul(Vr,Nn)|0,Rr=Rr+Math.imul(Vr,On)|0,Rr=Rr+Math.imul(Zr,Nn)|0,Lr=Lr+Math.imul(Zr,On)|0;var cs=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(cs>>>26)|0,cs&=67108863,Pr=Math.imul(kn,wn),Rr=Math.imul(kn,on),Rr=Rr+Math.imul(nn,wn)|0,Lr=Math.imul(nn,on),Pr=Pr+Math.imul(Sn,Pn)|0,Rr=Rr+Math.imul(Sn,Hi)|0,Rr=Rr+Math.imul(Xi,Pn)|0,Lr=Lr+Math.imul(Xi,Hi)|0,Pr=Pr+Math.imul(ln,An)|0,Rr=Rr+Math.imul(ln,Ji)|0,Rr=Rr+Math.imul(qi,An)|0,Lr=Lr+Math.imul(qi,Ji)|0,Pr=Pr+Math.imul(Vi,xn)|0,Rr=Rr+Math.imul(Vi,Ui)|0,Rr=Rr+Math.imul(Ni,xn)|0,Lr=Lr+Math.imul(Ni,Ui)|0,Pr=Pr+Math.imul(zi,hn)|0,Rr=Rr+Math.imul(zi,an)|0,Rr=Rr+Math.imul(Di,hn)|0,Lr=Lr+Math.imul(Di,an)|0,Pr=Pr+Math.imul(Ii,In)|0,Rr=Rr+Math.imul(Ii,Qi)|0,Rr=Rr+Math.imul(ji,In)|0,Lr=Lr+Math.imul(ji,Qi)|0,Pr=Pr+Math.imul(Ci,Nn)|0,Rr=Rr+Math.imul(Ci,On)|0,Rr=Rr+Math.imul(Mi,Nn)|0,Lr=Lr+Math.imul(Mi,On)|0;var Xn=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,Pr=Math.imul(kn,Pn),Rr=Math.imul(kn,Hi),Rr=Rr+Math.imul(nn,Pn)|0,Lr=Math.imul(nn,Hi),Pr=Pr+Math.imul(Sn,An)|0,Rr=Rr+Math.imul(Sn,Ji)|0,Rr=Rr+Math.imul(Xi,An)|0,Lr=Lr+Math.imul(Xi,Ji)|0,Pr=Pr+Math.imul(ln,xn)|0,Rr=Rr+Math.imul(ln,Ui)|0,Rr=Rr+Math.imul(qi,xn)|0,Lr=Lr+Math.imul(qi,Ui)|0,Pr=Pr+Math.imul(Vi,hn)|0,Rr=Rr+Math.imul(Vi,an)|0,Rr=Rr+Math.imul(Ni,hn)|0,Lr=Lr+Math.imul(Ni,an)|0,Pr=Pr+Math.imul(zi,In)|0,Rr=Rr+Math.imul(zi,Qi)|0,Rr=Rr+Math.imul(Di,In)|0,Lr=Lr+Math.imul(Di,Qi)|0,Pr=Pr+Math.imul(Ii,Nn)|0,Rr=Rr+Math.imul(Ii,On)|0,Rr=Rr+Math.imul(ji,Nn)|0,Lr=Lr+Math.imul(ji,On)|0;var rs=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(rs>>>26)|0,rs&=67108863,Pr=Math.imul(kn,An),Rr=Math.imul(kn,Ji),Rr=Rr+Math.imul(nn,An)|0,Lr=Math.imul(nn,Ji),Pr=Pr+Math.imul(Sn,xn)|0,Rr=Rr+Math.imul(Sn,Ui)|0,Rr=Rr+Math.imul(Xi,xn)|0,Lr=Lr+Math.imul(Xi,Ui)|0,Pr=Pr+Math.imul(ln,hn)|0,Rr=Rr+Math.imul(ln,an)|0,Rr=Rr+Math.imul(qi,hn)|0,Lr=Lr+Math.imul(qi,an)|0,Pr=Pr+Math.imul(Vi,In)|0,Rr=Rr+Math.imul(Vi,Qi)|0,Rr=Rr+Math.imul(Ni,In)|0,Lr=Lr+Math.imul(Ni,Qi)|0,Pr=Pr+Math.imul(zi,Nn)|0,Rr=Rr+Math.imul(zi,On)|0,Rr=Rr+Math.imul(Di,Nn)|0,Lr=Lr+Math.imul(Di,On)|0;var ds=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(ds>>>26)|0,ds&=67108863,Pr=Math.imul(kn,xn),Rr=Math.imul(kn,Ui),Rr=Rr+Math.imul(nn,xn)|0,Lr=Math.imul(nn,Ui),Pr=Pr+Math.imul(Sn,hn)|0,Rr=Rr+Math.imul(Sn,an)|0,Rr=Rr+Math.imul(Xi,hn)|0,Lr=Lr+Math.imul(Xi,an)|0,Pr=Pr+Math.imul(ln,In)|0,Rr=Rr+Math.imul(ln,Qi)|0,Rr=Rr+Math.imul(qi,In)|0,Lr=Lr+Math.imul(qi,Qi)|0,Pr=Pr+Math.imul(Vi,Nn)|0,Rr=Rr+Math.imul(Vi,On)|0,Rr=Rr+Math.imul(Ni,Nn)|0,Lr=Lr+Math.imul(Ni,On)|0;var us=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(us>>>26)|0,us&=67108863,Pr=Math.imul(kn,hn),Rr=Math.imul(kn,an),Rr=Rr+Math.imul(nn,hn)|0,Lr=Math.imul(nn,an),Pr=Pr+Math.imul(Sn,In)|0,Rr=Rr+Math.imul(Sn,Qi)|0,Rr=Rr+Math.imul(Xi,In)|0,Lr=Lr+Math.imul(Xi,Qi)|0,Pr=Pr+Math.imul(ln,Nn)|0,Rr=Rr+Math.imul(ln,On)|0,Rr=Rr+Math.imul(qi,Nn)|0,Lr=Lr+Math.imul(qi,On)|0;var Vn=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,Pr=Math.imul(kn,In),Rr=Math.imul(kn,Qi),Rr=Rr+Math.imul(nn,In)|0,Lr=Math.imul(nn,Qi),Pr=Pr+Math.imul(Sn,Nn)|0,Rr=Rr+Math.imul(Sn,On)|0,Rr=Rr+Math.imul(Xi,Nn)|0,Lr=Lr+Math.imul(Xi,On)|0;var Es=(Er+Pr|0)+((Rr&8191)<<13)|0;Er=(Lr+(Rr>>>13)|0)+(Es>>>26)|0,Es&=67108863,Pr=Math.imul(kn,Nn),Rr=Math.imul(kn,On),Rr=Rr+Math.imul(nn,Nn)|0,Lr=Math.imul(nn,On);var ws=(Er+Pr|0)+((Rr&8191)<<13)|0;return Er=(Lr+(Rr>>>13)|0)+(ws>>>26)|0,ws&=67108863,Tr[0]=es,Tr[1]=Zn,Tr[2]=Qn,Tr[3]=Kn,Tr[4]=ts,Tr[5]=ss,Tr[6]=as,Tr[7]=Fn,Tr[8]=zn,Tr[9]=ls,Tr[10]=Jn,Tr[11]=cs,Tr[12]=Xn,Tr[13]=rs,Tr[14]=ds,Tr[15]=us,Tr[16]=Vn,Tr[17]=Es,Tr[18]=ws,Er!==0&&(Tr[19]=Er,Br.length++),Br};Math.imul||(vr=br);function kr(yr,xr,wr){wr.negative=xr.negative^yr.negative,wr.length=yr.length+xr.length;for(var Br=0,_r=0,Mr=0;Mr<wr.length-1;Mr++){var Tr=_r;_r=0;for(var Er=Br&67108863,Pr=Math.min(Mr,xr.length-1),Rr=Math.max(0,Mr-yr.length+1);Rr<=Pr;Rr++){var Lr=Mr-Rr,Hr=yr.words[Lr]|0,Gr=xr.words[Rr]|0,Ur=Hr*Gr,Nr=Ur&67108863;Tr=Tr+(Ur/67108864|0)|0,Nr=Nr+Er|0,Er=Nr&67108863,Tr=Tr+(Nr>>>26)|0,_r+=Tr>>>26,Tr&=67108863}wr.words[Mr]=Er,Br=Tr,Tr=_r}return Br!==0?wr.words[Mr]=Br:wr.length--,wr._strip()}function Sr(yr,xr,wr){return kr(yr,xr,wr)}ir.prototype.mulTo=function(xr,wr){var Br,_r=this.length+xr.length;return this.length===10&&xr.length===10?Br=vr(this,xr,wr):_r<63?Br=br(this,xr,wr):_r<1024?Br=kr(this,xr,wr):Br=Sr(this,xr,wr),Br},ir.prototype.mul=function(xr){var wr=new ir(null);return wr.words=new Array(this.length+xr.length),this.mulTo(xr,wr)},ir.prototype.mulf=function(xr){var wr=new ir(null);return wr.words=new Array(this.length+xr.length),Sr(this,xr,wr)},ir.prototype.imul=function(xr){return this.clone().mulTo(xr,this)},ir.prototype.imuln=function(xr){var wr=xr<0;wr&&(xr=-xr),er(typeof xr=="number"),er(xr<67108864);for(var Br=0,_r=0;_r<this.length;_r++){var Mr=(this.words[_r]|0)*xr,Tr=(Mr&67108863)+(Br&67108863);Br>>=26,Br+=Mr/67108864|0,Br+=Tr>>>26,this.words[_r]=Tr&67108863}return Br!==0&&(this.words[_r]=Br,this.length++),wr?this.ineg():this},ir.prototype.muln=function(xr){return this.clone().imuln(xr)},ir.prototype.sqr=function(){return this.mul(this)},ir.prototype.isqr=function(){return this.imul(this.clone())},ir.prototype.pow=function(xr){var wr=gr(xr);if(wr.length===0)return new ir(1);for(var Br=this,_r=0;_r<wr.length&&wr[_r]===0;_r++,Br=Br.sqr());if(++_r<wr.length)for(var Mr=Br.sqr();_r<wr.length;_r++,Mr=Mr.sqr())wr[_r]!==0&&(Br=Br.mul(Mr));return Br},ir.prototype.iushln=function(xr){er(typeof xr=="number"&&xr>=0);var wr=xr%26,Br=(xr-wr)/26,_r=67108863>>>26-wr<<26-wr,Mr;if(wr!==0){var Tr=0;for(Mr=0;Mr<this.length;Mr++){var Er=this.words[Mr]&_r,Pr=(this.words[Mr]|0)-Er<<wr;this.words[Mr]=Pr|Tr,Tr=Er>>>26-wr}Tr&&(this.words[Mr]=Tr,this.length++)}if(Br!==0){for(Mr=this.length-1;Mr>=0;Mr--)this.words[Mr+Br]=this.words[Mr];for(Mr=0;Mr<Br;Mr++)this.words[Mr]=0;this.length+=Br}return this._strip()},ir.prototype.ishln=function(xr){return er(this.negative===0),this.iushln(xr)},ir.prototype.iushrn=function(xr,wr,Br){er(typeof xr=="number"&&xr>=0);var _r;wr?_r=(wr-wr%26)/26:_r=0;var Mr=xr%26,Tr=Math.min((xr-Mr)/26,this.length),Er=67108863^67108863>>>Mr<<Mr,Pr=Br;if(_r-=Tr,_r=Math.max(0,_r),Pr){for(var Rr=0;Rr<Tr;Rr++)Pr.words[Rr]=this.words[Rr];Pr.length=Tr}if(Tr!==0)if(this.length>Tr)for(this.length-=Tr,Rr=0;Rr<this.length;Rr++)this.words[Rr]=this.words[Rr+Tr];else this.words[0]=0,this.length=1;var Lr=0;for(Rr=this.length-1;Rr>=0&&(Lr!==0||Rr>=_r);Rr--){var Hr=this.words[Rr]|0;this.words[Rr]=Lr<<26-Mr|Hr>>>Mr,Lr=Hr&Er}return Pr&&Lr!==0&&(Pr.words[Pr.length++]=Lr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ir.prototype.ishrn=function(xr,wr,Br){return er(this.negative===0),this.iushrn(xr,wr,Br)},ir.prototype.shln=function(xr){return this.clone().ishln(xr)},ir.prototype.ushln=function(xr){return this.clone().iushln(xr)},ir.prototype.shrn=function(xr){return this.clone().ishrn(xr)},ir.prototype.ushrn=function(xr){return this.clone().iushrn(xr)},ir.prototype.testn=function(xr){er(typeof xr=="number"&&xr>=0);var wr=xr%26,Br=(xr-wr)/26,_r=1<<wr;if(this.length<=Br)return!1;var Mr=this.words[Br];return!!(Mr&_r)},ir.prototype.imaskn=function(xr){er(typeof xr=="number"&&xr>=0);var wr=xr%26,Br=(xr-wr)/26;if(er(this.negative===0,"imaskn works only with positive numbers"),this.length<=Br)return this;if(wr!==0&&Br++,this.length=Math.min(Br,this.length),wr!==0){var _r=67108863^67108863>>>wr<<wr;this.words[this.length-1]&=_r}return this._strip()},ir.prototype.maskn=function(xr){return this.clone().imaskn(xr)},ir.prototype.iaddn=function(xr){return er(typeof xr=="number"),er(xr<67108864),xr<0?this.isubn(-xr):this.negative!==0?this.length===1&&(this.words[0]|0)<=xr?(this.words[0]=xr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(xr),this.negative=1,this):this._iaddn(xr)},ir.prototype._iaddn=function(xr){this.words[0]+=xr;for(var wr=0;wr<this.length&&this.words[wr]>=67108864;wr++)this.words[wr]-=67108864,wr===this.length-1?this.words[wr+1]=1:this.words[wr+1]++;return this.length=Math.max(this.length,wr+1),this},ir.prototype.isubn=function(xr){if(er(typeof xr=="number"),er(xr<67108864),xr<0)return this.iaddn(-xr);if(this.negative!==0)return this.negative=0,this.iaddn(xr),this.negative=1,this;if(this.words[0]-=xr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var wr=0;wr<this.length&&this.words[wr]<0;wr++)this.words[wr]+=67108864,this.words[wr+1]-=1;return this._strip()},ir.prototype.addn=function(xr){return this.clone().iaddn(xr)},ir.prototype.subn=function(xr){return this.clone().isubn(xr)},ir.prototype.iabs=function(){return this.negative=0,this},ir.prototype.abs=function(){return this.clone().iabs()},ir.prototype._ishlnsubmul=function(xr,wr,Br){var _r=xr.length+Br,Mr;this._expand(_r);var Tr,Er=0;for(Mr=0;Mr<xr.length;Mr++){Tr=(this.words[Mr+Br]|0)+Er;var Pr=(xr.words[Mr]|0)*wr;Tr-=Pr&67108863,Er=(Tr>>26)-(Pr/67108864|0),this.words[Mr+Br]=Tr&67108863}for(;Mr<this.length-Br;Mr++)Tr=(this.words[Mr+Br]|0)+Er,Er=Tr>>26,this.words[Mr+Br]=Tr&67108863;if(Er===0)return this._strip();for(er(Er===-1),Er=0,Mr=0;Mr<this.length;Mr++)Tr=-(this.words[Mr]|0)+Er,Er=Tr>>26,this.words[Mr]=Tr&67108863;return this.negative=1,this._strip()},ir.prototype._wordDiv=function(xr,wr){var Br=this.length-xr.length,_r=this.clone(),Mr=xr,Tr=Mr.words[Mr.length-1]|0,Er=this._countBits(Tr);Br=26-Er,Br!==0&&(Mr=Mr.ushln(Br),_r.iushln(Br),Tr=Mr.words[Mr.length-1]|0);var Pr=_r.length-Mr.length,Rr;if(wr!=="mod"){Rr=new ir(null),Rr.length=Pr+1,Rr.words=new Array(Rr.length);for(var Lr=0;Lr<Rr.length;Lr++)Rr.words[Lr]=0}var Hr=_r.clone()._ishlnsubmul(Mr,1,Pr);Hr.negative===0&&(_r=Hr,Rr&&(Rr.words[Pr]=1));for(var Gr=Pr-1;Gr>=0;Gr--){var Ur=(_r.words[Mr.length+Gr]|0)*67108864+(_r.words[Mr.length+Gr-1]|0);for(Ur=Math.min(Ur/Tr|0,67108863),_r._ishlnsubmul(Mr,Ur,Gr);_r.negative!==0;)Ur--,_r.negative=0,_r._ishlnsubmul(Mr,1,Gr),_r.isZero()||(_r.negative^=1);Rr&&(Rr.words[Gr]=Ur)}return Rr&&Rr._strip(),_r._strip(),wr!=="div"&&Br!==0&&_r.iushrn(Br),{div:Rr||null,mod:_r}},ir.prototype.divmod=function(xr,wr,Br){if(er(!xr.isZero()),this.isZero())return{div:new ir(0),mod:new ir(0)};var _r,Mr,Tr;return this.negative!==0&&xr.negative===0?(Tr=this.neg().divmod(xr,wr),wr!=="mod"&&(_r=Tr.div.neg()),wr!=="div"&&(Mr=Tr.mod.neg(),Br&&Mr.negative!==0&&Mr.iadd(xr)),{div:_r,mod:Mr}):this.negative===0&&xr.negative!==0?(Tr=this.divmod(xr.neg(),wr),wr!=="mod"&&(_r=Tr.div.neg()),{div:_r,mod:Tr.mod}):this.negative&xr.negative?(Tr=this.neg().divmod(xr.neg(),wr),wr!=="div"&&(Mr=Tr.mod.neg(),Br&&Mr.negative!==0&&Mr.isub(xr)),{div:Tr.div,mod:Mr}):xr.length>this.length||this.cmp(xr)<0?{div:new ir(0),mod:this}:xr.length===1?wr==="div"?{div:this.divn(xr.words[0]),mod:null}:wr==="mod"?{div:null,mod:new ir(this.modrn(xr.words[0]))}:{div:this.divn(xr.words[0]),mod:new ir(this.modrn(xr.words[0]))}:this._wordDiv(xr,wr)},ir.prototype.div=function(xr){return this.divmod(xr,"div",!1).div},ir.prototype.mod=function(xr){return this.divmod(xr,"mod",!1).mod},ir.prototype.umod=function(xr){return this.divmod(xr,"mod",!0).mod},ir.prototype.divRound=function(xr){var wr=this.divmod(xr);if(wr.mod.isZero())return wr.div;var Br=wr.div.negative!==0?wr.mod.isub(xr):wr.mod,_r=xr.ushrn(1),Mr=xr.andln(1),Tr=Br.cmp(_r);return Tr<0||Mr===1&&Tr===0?wr.div:wr.div.negative!==0?wr.div.isubn(1):wr.div.iaddn(1)},ir.prototype.modrn=function(xr){var wr=xr<0;wr&&(xr=-xr),er(xr<=67108863);for(var Br=(1<<26)%xr,_r=0,Mr=this.length-1;Mr>=0;Mr--)_r=(Br*_r+(this.words[Mr]|0))%xr;return wr?-_r:_r},ir.prototype.modn=function(xr){return this.modrn(xr)},ir.prototype.idivn=function(xr){var wr=xr<0;wr&&(xr=-xr),er(xr<=67108863);for(var Br=0,_r=this.length-1;_r>=0;_r--){var Mr=(this.words[_r]|0)+Br*67108864;this.words[_r]=Mr/xr|0,Br=Mr%xr}return this._strip(),wr?this.ineg():this},ir.prototype.divn=function(xr){return this.clone().idivn(xr)},ir.prototype.egcd=function(xr){er(xr.negative===0),er(!xr.isZero());var wr=this,Br=xr.clone();wr.negative!==0?wr=wr.umod(xr):wr=wr.clone();for(var _r=new ir(1),Mr=new ir(0),Tr=new ir(0),Er=new ir(1),Pr=0;wr.isEven()&&Br.isEven();)wr.iushrn(1),Br.iushrn(1),++Pr;for(var Rr=Br.clone(),Lr=wr.clone();!wr.isZero();){for(var Hr=0,Gr=1;!(wr.words[0]&Gr)&&Hr<26;++Hr,Gr<<=1);if(Hr>0)for(wr.iushrn(Hr);Hr-- >0;)(_r.isOdd()||Mr.isOdd())&&(_r.iadd(Rr),Mr.isub(Lr)),_r.iushrn(1),Mr.iushrn(1);for(var Ur=0,Nr=1;!(Br.words[0]&Nr)&&Ur<26;++Ur,Nr<<=1);if(Ur>0)for(Br.iushrn(Ur);Ur-- >0;)(Tr.isOdd()||Er.isOdd())&&(Tr.iadd(Rr),Er.isub(Lr)),Tr.iushrn(1),Er.iushrn(1);wr.cmp(Br)>=0?(wr.isub(Br),_r.isub(Tr),Mr.isub(Er)):(Br.isub(wr),Tr.isub(_r),Er.isub(Mr))}return{a:Tr,b:Er,gcd:Br.iushln(Pr)}},ir.prototype._invmp=function(xr){er(xr.negative===0),er(!xr.isZero());var wr=this,Br=xr.clone();wr.negative!==0?wr=wr.umod(xr):wr=wr.clone();for(var _r=new ir(1),Mr=new ir(0),Tr=Br.clone();wr.cmpn(1)>0&&Br.cmpn(1)>0;){for(var Er=0,Pr=1;!(wr.words[0]&Pr)&&Er<26;++Er,Pr<<=1);if(Er>0)for(wr.iushrn(Er);Er-- >0;)_r.isOdd()&&_r.iadd(Tr),_r.iushrn(1);for(var Rr=0,Lr=1;!(Br.words[0]&Lr)&&Rr<26;++Rr,Lr<<=1);if(Rr>0)for(Br.iushrn(Rr);Rr-- >0;)Mr.isOdd()&&Mr.iadd(Tr),Mr.iushrn(1);wr.cmp(Br)>=0?(wr.isub(Br),_r.isub(Mr)):(Br.isub(wr),Mr.isub(_r))}var Hr;return wr.cmpn(1)===0?Hr=_r:Hr=Mr,Hr.cmpn(0)<0&&Hr.iadd(xr),Hr},ir.prototype.gcd=function(xr){if(this.isZero())return xr.abs();if(xr.isZero())return this.abs();var wr=this.clone(),Br=xr.clone();wr.negative=0,Br.negative=0;for(var _r=0;wr.isEven()&&Br.isEven();_r++)wr.iushrn(1),Br.iushrn(1);do{for(;wr.isEven();)wr.iushrn(1);for(;Br.isEven();)Br.iushrn(1);var Mr=wr.cmp(Br);if(Mr<0){var Tr=wr;wr=Br,Br=Tr}else if(Mr===0||Br.cmpn(1)===0)break;wr.isub(Br)}while(!0);return Br.iushln(_r)},ir.prototype.invm=function(xr){return this.egcd(xr).a.umod(xr)},ir.prototype.isEven=function(){return(this.words[0]&1)===0},ir.prototype.isOdd=function(){return(this.words[0]&1)===1},ir.prototype.andln=function(xr){return this.words[0]&xr},ir.prototype.bincn=function(xr){er(typeof xr=="number");var wr=xr%26,Br=(xr-wr)/26,_r=1<<wr;if(this.length<=Br)return this._expand(Br+1),this.words[Br]|=_r,this;for(var Mr=_r,Tr=Br;Mr!==0&&Tr<this.length;Tr++){var Er=this.words[Tr]|0;Er+=Mr,Mr=Er>>>26,Er&=67108863,this.words[Tr]=Er}return Mr!==0&&(this.words[Tr]=Mr,this.length++),this},ir.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ir.prototype.cmpn=function(xr){var wr=xr<0;if(this.negative!==0&&!wr)return-1;if(this.negative===0&&wr)return 1;this._strip();var Br;if(this.length>1)Br=1;else{wr&&(xr=-xr),er(xr<=67108863,"Number is too big");var _r=this.words[0]|0;Br=_r===xr?0:_r<xr?-1:1}return this.negative!==0?-Br|0:Br},ir.prototype.cmp=function(xr){if(this.negative!==0&&xr.negative===0)return-1;if(this.negative===0&&xr.negative!==0)return 1;var wr=this.ucmp(xr);return this.negative!==0?-wr|0:wr},ir.prototype.ucmp=function(xr){if(this.length>xr.length)return 1;if(this.length<xr.length)return-1;for(var wr=0,Br=this.length-1;Br>=0;Br--){var _r=this.words[Br]|0,Mr=xr.words[Br]|0;if(_r!==Mr){_r<Mr?wr=-1:_r>Mr&&(wr=1);break}}return wr},ir.prototype.gtn=function(xr){return this.cmpn(xr)===1},ir.prototype.gt=function(xr){return this.cmp(xr)===1},ir.prototype.gten=function(xr){return this.cmpn(xr)>=0},ir.prototype.gte=function(xr){return this.cmp(xr)>=0},ir.prototype.ltn=function(xr){return this.cmpn(xr)===-1},ir.prototype.lt=function(xr){return this.cmp(xr)===-1},ir.prototype.lten=function(xr){return this.cmpn(xr)<=0},ir.prototype.lte=function(xr){return this.cmp(xr)<=0},ir.prototype.eqn=function(xr){return this.cmpn(xr)===0},ir.prototype.eq=function(xr){return this.cmp(xr)===0},ir.red=function(xr){return new jr(xr)},ir.prototype.toRed=function(xr){return er(!this.red,"Already a number in reduction context"),er(this.negative===0,"red works only with positives"),xr.convertTo(this)._forceRed(xr)},ir.prototype.fromRed=function(){return er(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ir.prototype._forceRed=function(xr){return this.red=xr,this},ir.prototype.forceRed=function(xr){return er(!this.red,"Already a number in reduction context"),this._forceRed(xr)},ir.prototype.redAdd=function(xr){return er(this.red,"redAdd works only with red numbers"),this.red.add(this,xr)},ir.prototype.redIAdd=function(xr){return er(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,xr)},ir.prototype.redSub=function(xr){return er(this.red,"redSub works only with red numbers"),this.red.sub(this,xr)},ir.prototype.redISub=function(xr){return er(this.red,"redISub works only with red numbers"),this.red.isub(this,xr)},ir.prototype.redShl=function(xr){return er(this.red,"redShl works only with red numbers"),this.red.shl(this,xr)},ir.prototype.redMul=function(xr){return er(this.red,"redMul works only with red numbers"),this.red._verify2(this,xr),this.red.mul(this,xr)},ir.prototype.redIMul=function(xr){return er(this.red,"redMul works only with red numbers"),this.red._verify2(this,xr),this.red.imul(this,xr)},ir.prototype.redSqr=function(){return er(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ir.prototype.redISqr=function(){return er(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ir.prototype.redSqrt=function(){return er(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ir.prototype.redInvm=function(){return er(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ir.prototype.redNeg=function(){return er(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ir.prototype.redPow=function(xr){return er(this.red&&!xr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,xr)};var Cr={k256:null,p224:null,p192:null,p25519:null};function Ar(yr,xr){this.name=yr,this.p=new ir(xr,16),this.n=this.p.bitLength(),this.k=new ir(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ar.prototype._tmp=function(){var xr=new ir(null);return xr.words=new Array(Math.ceil(this.n/13)),xr},Ar.prototype.ireduce=function(xr){var wr=xr,Br;do this.split(wr,this.tmp),wr=this.imulK(wr),wr=wr.iadd(this.tmp),Br=wr.bitLength();while(Br>this.n);var _r=Br<this.n?-1:wr.ucmp(this.p);return _r===0?(wr.words[0]=0,wr.length=1):_r>0?wr.isub(this.p):wr.strip!==void 0?wr.strip():wr._strip(),wr},Ar.prototype.split=function(xr,wr){xr.iushrn(this.n,0,wr)},Ar.prototype.imulK=function(xr){return xr.imul(this.k)};function Ir(){Ar.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}rr(Ir,Ar),Ir.prototype.split=function(xr,wr){for(var Br=4194303,_r=Math.min(xr.length,9),Mr=0;Mr<_r;Mr++)wr.words[Mr]=xr.words[Mr];if(wr.length=_r,xr.length<=9){xr.words[0]=0,xr.length=1;return}var Tr=xr.words[9];for(wr.words[wr.length++]=Tr&Br,Mr=10;Mr<xr.length;Mr++){var Er=xr.words[Mr]|0;xr.words[Mr-10]=(Er&Br)<<4|Tr>>>22,Tr=Er}Tr>>>=22,xr.words[Mr-10]=Tr,Tr===0&&xr.length>10?xr.length-=10:xr.length-=9},Ir.prototype.imulK=function(xr){xr.words[xr.length]=0,xr.words[xr.length+1]=0,xr.length+=2;for(var wr=0,Br=0;Br<xr.length;Br++){var _r=xr.words[Br]|0;wr+=_r*977,xr.words[Br]=wr&67108863,wr=_r*64+(wr/67108864|0)}return xr.words[xr.length-1]===0&&(xr.length--,xr.words[xr.length-1]===0&&xr.length--),xr};function qr(){Ar.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}rr(qr,Ar);function Qr(){Ar.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}rr(Qr,Ar);function Wr(){Ar.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}rr(Wr,Ar),Wr.prototype.imulK=function(xr){for(var wr=0,Br=0;Br<xr.length;Br++){var _r=(xr.words[Br]|0)*19+wr,Mr=_r&67108863;_r>>>=26,xr.words[Br]=Mr,wr=_r}return wr!==0&&(xr.words[xr.length++]=wr),xr},ir._prime=function(xr){if(Cr[xr])return Cr[xr];var wr;if(xr==="k256")wr=new Ir;else if(xr==="p224")wr=new qr;else if(xr==="p192")wr=new Qr;else if(xr==="p25519")wr=new Wr;else throw new Error("Unknown prime "+xr);return Cr[xr]=wr,wr};function jr(yr){if(typeof yr=="string"){var xr=ir._prime(yr);this.m=xr.p,this.prime=xr}else er(yr.gtn(1),"modulus must be greater than 1"),this.m=yr,this.prime=null}jr.prototype._verify1=function(xr){er(xr.negative===0,"red works only with positives"),er(xr.red,"red works only with red numbers")},jr.prototype._verify2=function(xr,wr){er((xr.negative|wr.negative)===0,"red works only with positives"),er(xr.red&&xr.red===wr.red,"red works only with red numbers")},jr.prototype.imod=function(xr){return this.prime?this.prime.ireduce(xr)._forceRed(this):(cr(xr,xr.umod(this.m)._forceRed(this)),xr)},jr.prototype.neg=function(xr){return xr.isZero()?xr.clone():this.m.sub(xr)._forceRed(this)},jr.prototype.add=function(xr,wr){this._verify2(xr,wr);var Br=xr.add(wr);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br._forceRed(this)},jr.prototype.iadd=function(xr,wr){this._verify2(xr,wr);var Br=xr.iadd(wr);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br},jr.prototype.sub=function(xr,wr){this._verify2(xr,wr);var Br=xr.sub(wr);return Br.cmpn(0)<0&&Br.iadd(this.m),Br._forceRed(this)},jr.prototype.isub=function(xr,wr){this._verify2(xr,wr);var Br=xr.isub(wr);return Br.cmpn(0)<0&&Br.iadd(this.m),Br},jr.prototype.shl=function(xr,wr){return this._verify1(xr),this.imod(xr.ushln(wr))},jr.prototype.imul=function(xr,wr){return this._verify2(xr,wr),this.imod(xr.imul(wr))},jr.prototype.mul=function(xr,wr){return this._verify2(xr,wr),this.imod(xr.mul(wr))},jr.prototype.isqr=function(xr){return this.imul(xr,xr.clone())},jr.prototype.sqr=function(xr){return this.mul(xr,xr)},jr.prototype.sqrt=function(xr){if(xr.isZero())return xr.clone();var wr=this.m.andln(3);if(er(wr%2===1),wr===3){var Br=this.m.add(new ir(1)).iushrn(2);return this.pow(xr,Br)}for(var _r=this.m.subn(1),Mr=0;!_r.isZero()&&_r.andln(1)===0;)Mr++,_r.iushrn(1);er(!_r.isZero());var Tr=new ir(1).toRed(this),Er=Tr.redNeg(),Pr=this.m.subn(1).iushrn(1),Rr=this.m.bitLength();for(Rr=new ir(2*Rr*Rr).toRed(this);this.pow(Rr,Pr).cmp(Er)!==0;)Rr.redIAdd(Er);for(var Lr=this.pow(Rr,_r),Hr=this.pow(xr,_r.addn(1).iushrn(1)),Gr=this.pow(xr,_r),Ur=Mr;Gr.cmp(Tr)!==0;){for(var Nr=Gr,Fr=0;Nr.cmp(Tr)!==0;Fr++)Nr=Nr.redSqr();er(Fr<Ur);var Xr=this.pow(Lr,new ir(1).iushln(Ur-Fr-1));Hr=Hr.redMul(Xr),Lr=Xr.redSqr(),Gr=Gr.redMul(Lr),Ur=Fr}return Hr},jr.prototype.invm=function(xr){var wr=xr._invmp(this.m);return wr.negative!==0?(wr.negative=0,this.imod(wr).redNeg()):this.imod(wr)},jr.prototype.pow=function(xr,wr){if(wr.isZero())return new ir(1).toRed(this);if(wr.cmpn(1)===0)return xr.clone();var Br=4,_r=new Array(1<<Br);_r[0]=new ir(1).toRed(this),_r[1]=xr;for(var Mr=2;Mr<_r.length;Mr++)_r[Mr]=this.mul(_r[Mr-1],xr);var Tr=_r[0],Er=0,Pr=0,Rr=wr.bitLength()%26;for(Rr===0&&(Rr=26),Mr=wr.length-1;Mr>=0;Mr--){for(var Lr=wr.words[Mr],Hr=Rr-1;Hr>=0;Hr--){var Gr=Lr>>Hr&1;if(Tr!==_r[0]&&(Tr=this.sqr(Tr)),Gr===0&&Er===0){Pr=0;continue}Er<<=1,Er|=Gr,Pr++,!(Pr!==Br&&(Mr!==0||Hr!==0))&&(Tr=this.mul(Tr,_r[Er]),Pr=0,Er=0)}Rr=26}return Tr},jr.prototype.convertTo=function(xr){var wr=xr.umod(this.m);return wr===xr?wr.clone():wr},jr.prototype.convertFrom=function(xr){var wr=xr.clone();return wr.red=null,wr},ir.mont=function(xr){return new Or(xr)};function Or(yr){jr.call(this,yr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ir(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}rr(Or,jr),Or.prototype.convertTo=function(xr){return this.imod(xr.ushln(this.shift))},Or.prototype.convertFrom=function(xr){var wr=this.imod(xr.mul(this.rinv));return wr.red=null,wr},Or.prototype.imul=function(xr,wr){if(xr.isZero()||wr.isZero())return xr.words[0]=0,xr.length=1,xr;var Br=xr.imul(wr),_r=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Mr=Br.isub(_r).iushrn(this.shift),Tr=Mr;return Mr.cmp(this.m)>=0?Tr=Mr.isub(this.m):Mr.cmpn(0)<0&&(Tr=Mr.iadd(this.m)),Tr._forceRed(this)},Or.prototype.mul=function(xr,wr){if(xr.isZero()||wr.isZero())return new ir(0)._forceRed(this);var Br=xr.mul(wr),_r=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Mr=Br.isub(_r).iushrn(this.shift),Tr=Mr;return Mr.cmp(this.m)>=0?Tr=Mr.isub(this.m):Mr.cmpn(0)<0&&(Tr=Mr.iadd(this.m)),Tr._forceRed(this)},Or.prototype.invm=function(xr){var wr=this.imod(xr._invmp(this.m).mul(this.r2));return wr._forceRed(this)}})(tr,commonjsGlobal)}(bn)),bn.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var tr=requireBn(),Ot=requireBrowser$b();function Nt(ir){var nr=er(ir),sr=nr.toRed(tr.mont(ir.modulus)).redPow(new tr(ir.publicExponent)).fromRed();return{blinder:sr,unblinder:nr.invm(ir.modulus)}}function er(ir){var nr=ir.modulus.byteLength(),sr;do sr=new tr(Ot(nr));while(sr.cmp(ir.modulus)>=0||!sr.umod(ir.prime1)||!sr.umod(ir.prime2));return sr}function rr(ir,nr){var sr=Nt(nr),ar=nr.modulus.byteLength(),lr=new tr(ir).mul(sr.blinder).umod(nr.modulus),cr=lr.toRed(tr.mont(nr.prime1)),dr=lr.toRed(tr.mont(nr.prime2)),ur=nr.coefficient,fr=nr.prime1,hr=nr.prime2,pr=cr.redPow(nr.exponent1).fromRed(),gr=dr.redPow(nr.exponent2).fromRed(),br=pr.isub(gr).imul(ur).umod(fr).imul(hr);return gr.iadd(br).imul(sr.unblinder).umod(nr.modulus).toArrayLike(Buffer,"be",ar)}return rr.getr=er,browserifyRsa=rr,browserifyRsa}var elliptic={};const name="elliptic",version="6.5.5",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0={name,version,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$2={},utils$1={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(tr){var Ot=tr;function Nt(ir,nr){if(Array.isArray(ir))return ir.slice();if(!ir)return[];var sr=[];if(typeof ir!="string"){for(var ar=0;ar<ir.length;ar++)sr[ar]=ir[ar]|0;return sr}if(nr==="hex"){ir=ir.replace(/[^a-z0-9]+/ig,""),ir.length%2!==0&&(ir="0"+ir);for(var ar=0;ar<ir.length;ar+=2)sr.push(parseInt(ir[ar]+ir[ar+1],16))}else for(var ar=0;ar<ir.length;ar++){var lr=ir.charCodeAt(ar),cr=lr>>8,dr=lr&255;cr?sr.push(cr,dr):sr.push(dr)}return sr}Ot.toArray=Nt;function er(ir){return ir.length===1?"0"+ir:ir}Ot.zero2=er;function rr(ir){for(var nr="",sr=0;sr<ir.length;sr++)nr+=er(ir[sr].toString(16));return nr}Ot.toHex=rr,Ot.encode=function(nr,sr){return sr==="hex"?rr(nr):nr}}(utils$1)),utils$1}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(tr){var Ot=tr,Nt=requireBn$1(),er=requireMinimalisticAssert(),rr=requireUtils$2();Ot.assert=er,Ot.toArray=rr.toArray,Ot.zero2=rr.zero2,Ot.toHex=rr.toHex,Ot.encode=rr.encode;function ir(cr,dr,ur){var fr=new Array(Math.max(cr.bitLength(),ur)+1),hr;for(hr=0;hr<fr.length;hr+=1)fr[hr]=0;var pr=1<<dr+1,gr=cr.clone();for(hr=0;hr<fr.length;hr++){var br,vr=gr.andln(pr-1);gr.isOdd()?(vr>(pr>>1)-1?br=(pr>>1)-vr:br=vr,gr.isubn(br)):br=0,fr[hr]=br,gr.iushrn(1)}return fr}Ot.getNAF=ir;function nr(cr,dr){var ur=[[],[]];cr=cr.clone(),dr=dr.clone();for(var fr=0,hr=0,pr;cr.cmpn(-fr)>0||dr.cmpn(-hr)>0;){var gr=cr.andln(3)+fr&3,br=dr.andln(3)+hr&3;gr===3&&(gr=-1),br===3&&(br=-1);var vr;gr&1?(pr=cr.andln(7)+fr&7,(pr===3||pr===5)&&br===2?vr=-gr:vr=gr):vr=0,ur[0].push(vr);var kr;br&1?(pr=dr.andln(7)+hr&7,(pr===3||pr===5)&&gr===2?kr=-br:kr=br):kr=0,ur[1].push(kr),2*fr===vr+1&&(fr=1-fr),2*hr===kr+1&&(hr=1-hr),cr.iushrn(1),dr.iushrn(1)}return ur}Ot.getJSF=nr;function sr(cr,dr,ur){var fr="_"+dr;cr.prototype[dr]=function(){return this[fr]!==void 0?this[fr]:this[fr]=ur.call(this)}}Ot.cachedProperty=sr;function ar(cr){return typeof cr=="string"?Ot.toArray(cr,"hex"):cr}Ot.parseBytes=ar;function lr(cr){return new Nt(cr,"hex","le")}Ot.intFromLE=lr}(utils$2)),utils$2}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var tr=requireBn$1(),Ot=requireUtils$1(),Nt=Ot.getNAF,er=Ot.getJSF,rr=Ot.assert;function ir(sr,ar){this.type=sr,this.p=new tr(ar.p,16),this.red=ar.prime?tr.red(ar.prime):tr.mont(this.p),this.zero=new tr(0).toRed(this.red),this.one=new tr(1).toRed(this.red),this.two=new tr(2).toRed(this.red),this.n=ar.n&&new tr(ar.n,16),this.g=ar.g&&this.pointFromJSON(ar.g,ar.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var lr=this.n&&this.p.div(this.n);!lr||lr.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=ir,ir.prototype.point=function(){throw new Error("Not implemented")},ir.prototype.validate=function(){throw new Error("Not implemented")},ir.prototype._fixedNafMul=function(ar,lr){rr(ar.precomputed);var cr=ar._getDoubles(),dr=Nt(lr,1,this._bitLength),ur=(1<<cr.step+1)-(cr.step%2===0?2:1);ur/=3;var fr=[],hr,pr;for(hr=0;hr<dr.length;hr+=cr.step){pr=0;for(var gr=hr+cr.step-1;gr>=hr;gr--)pr=(pr<<1)+dr[gr];fr.push(pr)}for(var br=this.jpoint(null,null,null),vr=this.jpoint(null,null,null),kr=ur;kr>0;kr--){for(hr=0;hr<fr.length;hr++)pr=fr[hr],pr===kr?vr=vr.mixedAdd(cr.points[hr]):pr===-kr&&(vr=vr.mixedAdd(cr.points[hr].neg()));br=br.add(vr)}return br.toP()},ir.prototype._wnafMul=function(ar,lr){var cr=4,dr=ar._getNAFPoints(cr);cr=dr.wnd;for(var ur=dr.points,fr=Nt(lr,cr,this._bitLength),hr=this.jpoint(null,null,null),pr=fr.length-1;pr>=0;pr--){for(var gr=0;pr>=0&&fr[pr]===0;pr--)gr++;if(pr>=0&&gr++,hr=hr.dblp(gr),pr<0)break;var br=fr[pr];rr(br!==0),ar.type==="affine"?br>0?hr=hr.mixedAdd(ur[br-1>>1]):hr=hr.mixedAdd(ur[-br-1>>1].neg()):br>0?hr=hr.add(ur[br-1>>1]):hr=hr.add(ur[-br-1>>1].neg())}return ar.type==="affine"?hr.toP():hr},ir.prototype._wnafMulAdd=function(ar,lr,cr,dr,ur){var fr=this._wnafT1,hr=this._wnafT2,pr=this._wnafT3,gr=0,br,vr,kr;for(br=0;br<dr;br++){kr=lr[br];var Sr=kr._getNAFPoints(ar);fr[br]=Sr.wnd,hr[br]=Sr.points}for(br=dr-1;br>=1;br-=2){var Cr=br-1,Ar=br;if(fr[Cr]!==1||fr[Ar]!==1){pr[Cr]=Nt(cr[Cr],fr[Cr],this._bitLength),pr[Ar]=Nt(cr[Ar],fr[Ar],this._bitLength),gr=Math.max(pr[Cr].length,gr),gr=Math.max(pr[Ar].length,gr);continue}var Ir=[lr[Cr],null,null,lr[Ar]];lr[Cr].y.cmp(lr[Ar].y)===0?(Ir[1]=lr[Cr].add(lr[Ar]),Ir[2]=lr[Cr].toJ().mixedAdd(lr[Ar].neg())):lr[Cr].y.cmp(lr[Ar].y.redNeg())===0?(Ir[1]=lr[Cr].toJ().mixedAdd(lr[Ar]),Ir[2]=lr[Cr].add(lr[Ar].neg())):(Ir[1]=lr[Cr].toJ().mixedAdd(lr[Ar]),Ir[2]=lr[Cr].toJ().mixedAdd(lr[Ar].neg()));var qr=[-3,-1,-5,-7,0,7,5,1,3],Qr=er(cr[Cr],cr[Ar]);for(gr=Math.max(Qr[0].length,gr),pr[Cr]=new Array(gr),pr[Ar]=new Array(gr),vr=0;vr<gr;vr++){var Wr=Qr[0][vr]|0,jr=Qr[1][vr]|0;pr[Cr][vr]=qr[(Wr+1)*3+(jr+1)],pr[Ar][vr]=0,hr[Cr]=Ir}}var Or=this.jpoint(null,null,null),yr=this._wnafT4;for(br=gr;br>=0;br--){for(var xr=0;br>=0;){var wr=!0;for(vr=0;vr<dr;vr++)yr[vr]=pr[vr][br]|0,yr[vr]!==0&&(wr=!1);if(!wr)break;xr++,br--}if(br>=0&&xr++,Or=Or.dblp(xr),br<0)break;for(vr=0;vr<dr;vr++){var Br=yr[vr];Br!==0&&(Br>0?kr=hr[vr][Br-1>>1]:Br<0&&(kr=hr[vr][-Br-1>>1].neg()),kr.type==="affine"?Or=Or.mixedAdd(kr):Or=Or.add(kr))}}for(br=0;br<dr;br++)hr[br]=null;return ur?Or:Or.toP()};function nr(sr,ar){this.curve=sr,this.type=ar,this.precomputed=null}return ir.BasePoint=nr,nr.prototype.eq=function(){throw new Error("Not implemented")},nr.prototype.validate=function(){return this.curve.validate(this)},ir.prototype.decodePoint=function(ar,lr){ar=Ot.toArray(ar,lr);var cr=this.p.byteLength();if((ar[0]===4||ar[0]===6||ar[0]===7)&&ar.length-1===2*cr){ar[0]===6?rr(ar[ar.length-1]%2===0):ar[0]===7&&rr(ar[ar.length-1]%2===1);var dr=this.point(ar.slice(1,1+cr),ar.slice(1+cr,1+2*cr));return dr}else if((ar[0]===2||ar[0]===3)&&ar.length-1===cr)return this.pointFromX(ar.slice(1,1+cr),ar[0]===3);throw new Error("Unknown point format")},nr.prototype.encodeCompressed=function(ar){return this.encode(ar,!0)},nr.prototype._encode=function(ar){var lr=this.curve.p.byteLength(),cr=this.getX().toArray("be",lr);return ar?[this.getY().isEven()?2:3].concat(cr):[4].concat(cr,this.getY().toArray("be",lr))},nr.prototype.encode=function(ar,lr){return Ot.encode(this._encode(lr),ar)},nr.prototype.precompute=function(ar){if(this.precomputed)return this;var lr={doubles:null,naf:null,beta:null};return lr.naf=this._getNAFPoints(8),lr.doubles=this._getDoubles(4,ar),lr.beta=this._getBeta(),this.precomputed=lr,this},nr.prototype._hasDoubles=function(ar){if(!this.precomputed)return!1;var lr=this.precomputed.doubles;return lr?lr.points.length>=Math.ceil((ar.bitLength()+1)/lr.step):!1},nr.prototype._getDoubles=function(ar,lr){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var cr=[this],dr=this,ur=0;ur<lr;ur+=ar){for(var fr=0;fr<ar;fr++)dr=dr.dbl();cr.push(dr)}return{step:ar,points:cr}},nr.prototype._getNAFPoints=function(ar){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var lr=[this],cr=(1<<ar)-1,dr=cr===1?null:this.dbl(),ur=1;ur<cr;ur++)lr[ur]=lr[ur-1].add(dr);return{wnd:ar,points:lr}},nr.prototype._getBeta=function(){return null},nr.prototype.dblp=function(ar){for(var lr=this,cr=0;cr<ar;cr++)lr=lr.dbl();return lr},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var tr=requireUtils$1(),Ot=requireBn$1(),Nt=inherits_browserExports,er=requireBase$1(),rr=tr.assert;function ir(ar){er.call(this,"short",ar),this.a=new Ot(ar.a,16).toRed(this.red),this.b=new Ot(ar.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(ar),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Nt(ir,er),short=ir,ir.prototype._getEndomorphism=function(lr){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var cr,dr;if(lr.beta)cr=new Ot(lr.beta,16).toRed(this.red);else{var ur=this._getEndoRoots(this.p);cr=ur[0].cmp(ur[1])<0?ur[0]:ur[1],cr=cr.toRed(this.red)}if(lr.lambda)dr=new Ot(lr.lambda,16);else{var fr=this._getEndoRoots(this.n);this.g.mul(fr[0]).x.cmp(this.g.x.redMul(cr))===0?dr=fr[0]:(dr=fr[1],rr(this.g.mul(dr).x.cmp(this.g.x.redMul(cr))===0))}var hr;return lr.basis?hr=lr.basis.map(function(pr){return{a:new Ot(pr.a,16),b:new Ot(pr.b,16)}}):hr=this._getEndoBasis(dr),{beta:cr,lambda:dr,basis:hr}}},ir.prototype._getEndoRoots=function(lr){var cr=lr===this.p?this.red:Ot.mont(lr),dr=new Ot(2).toRed(cr).redInvm(),ur=dr.redNeg(),fr=new Ot(3).toRed(cr).redNeg().redSqrt().redMul(dr),hr=ur.redAdd(fr).fromRed(),pr=ur.redSub(fr).fromRed();return[hr,pr]},ir.prototype._getEndoBasis=function(lr){for(var cr=this.n.ushrn(Math.floor(this.n.bitLength()/2)),dr=lr,ur=this.n.clone(),fr=new Ot(1),hr=new Ot(0),pr=new Ot(0),gr=new Ot(1),br,vr,kr,Sr,Cr,Ar,Ir,qr=0,Qr,Wr;dr.cmpn(0)!==0;){var jr=ur.div(dr);Qr=ur.sub(jr.mul(dr)),Wr=pr.sub(jr.mul(fr));var Or=gr.sub(jr.mul(hr));if(!kr&&Qr.cmp(cr)<0)br=Ir.neg(),vr=fr,kr=Qr.neg(),Sr=Wr;else if(kr&&++qr===2)break;Ir=Qr,ur=dr,dr=Qr,pr=fr,fr=Wr,gr=hr,hr=Or}Cr=Qr.neg(),Ar=Wr;var yr=kr.sqr().add(Sr.sqr()),xr=Cr.sqr().add(Ar.sqr());return xr.cmp(yr)>=0&&(Cr=br,Ar=vr),kr.negative&&(kr=kr.neg(),Sr=Sr.neg()),Cr.negative&&(Cr=Cr.neg(),Ar=Ar.neg()),[{a:kr,b:Sr},{a:Cr,b:Ar}]},ir.prototype._endoSplit=function(lr){var cr=this.endo.basis,dr=cr[0],ur=cr[1],fr=ur.b.mul(lr).divRound(this.n),hr=dr.b.neg().mul(lr).divRound(this.n),pr=fr.mul(dr.a),gr=hr.mul(ur.a),br=fr.mul(dr.b),vr=hr.mul(ur.b),kr=lr.sub(pr).sub(gr),Sr=br.add(vr).neg();return{k1:kr,k2:Sr}},ir.prototype.pointFromX=function(lr,cr){lr=new Ot(lr,16),lr.red||(lr=lr.toRed(this.red));var dr=lr.redSqr().redMul(lr).redIAdd(lr.redMul(this.a)).redIAdd(this.b),ur=dr.redSqrt();if(ur.redSqr().redSub(dr).cmp(this.zero)!==0)throw new Error("invalid point");var fr=ur.fromRed().isOdd();return(cr&&!fr||!cr&&fr)&&(ur=ur.redNeg()),this.point(lr,ur)},ir.prototype.validate=function(lr){if(lr.inf)return!0;var cr=lr.x,dr=lr.y,ur=this.a.redMul(cr),fr=cr.redSqr().redMul(cr).redIAdd(ur).redIAdd(this.b);return dr.redSqr().redISub(fr).cmpn(0)===0},ir.prototype._endoWnafMulAdd=function(lr,cr,dr){for(var ur=this._endoWnafT1,fr=this._endoWnafT2,hr=0;hr<lr.length;hr++){var pr=this._endoSplit(cr[hr]),gr=lr[hr],br=gr._getBeta();pr.k1.negative&&(pr.k1.ineg(),gr=gr.neg(!0)),pr.k2.negative&&(pr.k2.ineg(),br=br.neg(!0)),ur[hr*2]=gr,ur[hr*2+1]=br,fr[hr*2]=pr.k1,fr[hr*2+1]=pr.k2}for(var vr=this._wnafMulAdd(1,ur,fr,hr*2,dr),kr=0;kr<hr*2;kr++)ur[kr]=null,fr[kr]=null;return vr};function nr(ar,lr,cr,dr){er.BasePoint.call(this,ar,"affine"),lr===null&&cr===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ot(lr,16),this.y=new Ot(cr,16),dr&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Nt(nr,er.BasePoint),ir.prototype.point=function(lr,cr,dr){return new nr(this,lr,cr,dr)},ir.prototype.pointFromJSON=function(lr,cr){return nr.fromJSON(this,lr,cr)},nr.prototype._getBeta=function(){if(this.curve.endo){var lr=this.precomputed;if(lr&&lr.beta)return lr.beta;var cr=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(lr){var dr=this.curve,ur=function(fr){return dr.point(fr.x.redMul(dr.endo.beta),fr.y)};lr.beta=cr,cr.precomputed={beta:null,naf:lr.naf&&{wnd:lr.naf.wnd,points:lr.naf.points.map(ur)},doubles:lr.doubles&&{step:lr.doubles.step,points:lr.doubles.points.map(ur)}}}return cr}},nr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},nr.fromJSON=function(lr,cr,dr){typeof cr=="string"&&(cr=JSON.parse(cr));var ur=lr.point(cr[0],cr[1],dr);if(!cr[2])return ur;function fr(pr){return lr.point(pr[0],pr[1],dr)}var hr=cr[2];return ur.precomputed={beta:null,doubles:hr.doubles&&{step:hr.doubles.step,points:[ur].concat(hr.doubles.points.map(fr))},naf:hr.naf&&{wnd:hr.naf.wnd,points:[ur].concat(hr.naf.points.map(fr))}},ur},nr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},nr.prototype.isInfinity=function(){return this.inf},nr.prototype.add=function(lr){if(this.inf)return lr;if(lr.inf)return this;if(this.eq(lr))return this.dbl();if(this.neg().eq(lr))return this.curve.point(null,null);if(this.x.cmp(lr.x)===0)return this.curve.point(null,null);var cr=this.y.redSub(lr.y);cr.cmpn(0)!==0&&(cr=cr.redMul(this.x.redSub(lr.x).redInvm()));var dr=cr.redSqr().redISub(this.x).redISub(lr.x),ur=cr.redMul(this.x.redSub(dr)).redISub(this.y);return this.curve.point(dr,ur)},nr.prototype.dbl=function(){if(this.inf)return this;var lr=this.y.redAdd(this.y);if(lr.cmpn(0)===0)return this.curve.point(null,null);var cr=this.curve.a,dr=this.x.redSqr(),ur=lr.redInvm(),fr=dr.redAdd(dr).redIAdd(dr).redIAdd(cr).redMul(ur),hr=fr.redSqr().redISub(this.x.redAdd(this.x)),pr=fr.redMul(this.x.redSub(hr)).redISub(this.y);return this.curve.point(hr,pr)},nr.prototype.getX=function(){return this.x.fromRed()},nr.prototype.getY=function(){return this.y.fromRed()},nr.prototype.mul=function(lr){return lr=new Ot(lr,16),this.isInfinity()?this:this._hasDoubles(lr)?this.curve._fixedNafMul(this,lr):this.curve.endo?this.curve._endoWnafMulAdd([this],[lr]):this.curve._wnafMul(this,lr)},nr.prototype.mulAdd=function(lr,cr,dr){var ur=[this,cr],fr=[lr,dr];return this.curve.endo?this.curve._endoWnafMulAdd(ur,fr):this.curve._wnafMulAdd(1,ur,fr,2)},nr.prototype.jmulAdd=function(lr,cr,dr){var ur=[this,cr],fr=[lr,dr];return this.curve.endo?this.curve._endoWnafMulAdd(ur,fr,!0):this.curve._wnafMulAdd(1,ur,fr,2,!0)},nr.prototype.eq=function(lr){return this===lr||this.inf===lr.inf&&(this.inf||this.x.cmp(lr.x)===0&&this.y.cmp(lr.y)===0)},nr.prototype.neg=function(lr){if(this.inf)return this;var cr=this.curve.point(this.x,this.y.redNeg());if(lr&&this.precomputed){var dr=this.precomputed,ur=function(fr){return fr.neg()};cr.precomputed={naf:dr.naf&&{wnd:dr.naf.wnd,points:dr.naf.points.map(ur)},doubles:dr.doubles&&{step:dr.doubles.step,points:dr.doubles.points.map(ur)}}}return cr},nr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var lr=this.curve.jpoint(this.x,this.y,this.curve.one);return lr};function sr(ar,lr,cr,dr){er.BasePoint.call(this,ar,"jacobian"),lr===null&&cr===null&&dr===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ot(0)):(this.x=new Ot(lr,16),this.y=new Ot(cr,16),this.z=new Ot(dr,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return Nt(sr,er.BasePoint),ir.prototype.jpoint=function(lr,cr,dr){return new sr(this,lr,cr,dr)},sr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var lr=this.z.redInvm(),cr=lr.redSqr(),dr=this.x.redMul(cr),ur=this.y.redMul(cr).redMul(lr);return this.curve.point(dr,ur)},sr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},sr.prototype.add=function(lr){if(this.isInfinity())return lr;if(lr.isInfinity())return this;var cr=lr.z.redSqr(),dr=this.z.redSqr(),ur=this.x.redMul(cr),fr=lr.x.redMul(dr),hr=this.y.redMul(cr.redMul(lr.z)),pr=lr.y.redMul(dr.redMul(this.z)),gr=ur.redSub(fr),br=hr.redSub(pr);if(gr.cmpn(0)===0)return br.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var vr=gr.redSqr(),kr=vr.redMul(gr),Sr=ur.redMul(vr),Cr=br.redSqr().redIAdd(kr).redISub(Sr).redISub(Sr),Ar=br.redMul(Sr.redISub(Cr)).redISub(hr.redMul(kr)),Ir=this.z.redMul(lr.z).redMul(gr);return this.curve.jpoint(Cr,Ar,Ir)},sr.prototype.mixedAdd=function(lr){if(this.isInfinity())return lr.toJ();if(lr.isInfinity())return this;var cr=this.z.redSqr(),dr=this.x,ur=lr.x.redMul(cr),fr=this.y,hr=lr.y.redMul(cr).redMul(this.z),pr=dr.redSub(ur),gr=fr.redSub(hr);if(pr.cmpn(0)===0)return gr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var br=pr.redSqr(),vr=br.redMul(pr),kr=dr.redMul(br),Sr=gr.redSqr().redIAdd(vr).redISub(kr).redISub(kr),Cr=gr.redMul(kr.redISub(Sr)).redISub(fr.redMul(vr)),Ar=this.z.redMul(pr);return this.curve.jpoint(Sr,Cr,Ar)},sr.prototype.dblp=function(lr){if(lr===0)return this;if(this.isInfinity())return this;if(!lr)return this.dbl();var cr;if(this.curve.zeroA||this.curve.threeA){var dr=this;for(cr=0;cr<lr;cr++)dr=dr.dbl();return dr}var ur=this.curve.a,fr=this.curve.tinv,hr=this.x,pr=this.y,gr=this.z,br=gr.redSqr().redSqr(),vr=pr.redAdd(pr);for(cr=0;cr<lr;cr++){var kr=hr.redSqr(),Sr=vr.redSqr(),Cr=Sr.redSqr(),Ar=kr.redAdd(kr).redIAdd(kr).redIAdd(ur.redMul(br)),Ir=hr.redMul(Sr),qr=Ar.redSqr().redISub(Ir.redAdd(Ir)),Qr=Ir.redISub(qr),Wr=Ar.redMul(Qr);Wr=Wr.redIAdd(Wr).redISub(Cr);var jr=vr.redMul(gr);cr+1<lr&&(br=br.redMul(Cr)),hr=qr,gr=jr,vr=Wr}return this.curve.jpoint(hr,vr.redMul(fr),gr)},sr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},sr.prototype._zeroDbl=function(){var lr,cr,dr;if(this.zOne){var ur=this.x.redSqr(),fr=this.y.redSqr(),hr=fr.redSqr(),pr=this.x.redAdd(fr).redSqr().redISub(ur).redISub(hr);pr=pr.redIAdd(pr);var gr=ur.redAdd(ur).redIAdd(ur),br=gr.redSqr().redISub(pr).redISub(pr),vr=hr.redIAdd(hr);vr=vr.redIAdd(vr),vr=vr.redIAdd(vr),lr=br,cr=gr.redMul(pr.redISub(br)).redISub(vr),dr=this.y.redAdd(this.y)}else{var kr=this.x.redSqr(),Sr=this.y.redSqr(),Cr=Sr.redSqr(),Ar=this.x.redAdd(Sr).redSqr().redISub(kr).redISub(Cr);Ar=Ar.redIAdd(Ar);var Ir=kr.redAdd(kr).redIAdd(kr),qr=Ir.redSqr(),Qr=Cr.redIAdd(Cr);Qr=Qr.redIAdd(Qr),Qr=Qr.redIAdd(Qr),lr=qr.redISub(Ar).redISub(Ar),cr=Ir.redMul(Ar.redISub(lr)).redISub(Qr),dr=this.y.redMul(this.z),dr=dr.redIAdd(dr)}return this.curve.jpoint(lr,cr,dr)},sr.prototype._threeDbl=function(){var lr,cr,dr;if(this.zOne){var ur=this.x.redSqr(),fr=this.y.redSqr(),hr=fr.redSqr(),pr=this.x.redAdd(fr).redSqr().redISub(ur).redISub(hr);pr=pr.redIAdd(pr);var gr=ur.redAdd(ur).redIAdd(ur).redIAdd(this.curve.a),br=gr.redSqr().redISub(pr).redISub(pr);lr=br;var vr=hr.redIAdd(hr);vr=vr.redIAdd(vr),vr=vr.redIAdd(vr),cr=gr.redMul(pr.redISub(br)).redISub(vr),dr=this.y.redAdd(this.y)}else{var kr=this.z.redSqr(),Sr=this.y.redSqr(),Cr=this.x.redMul(Sr),Ar=this.x.redSub(kr).redMul(this.x.redAdd(kr));Ar=Ar.redAdd(Ar).redIAdd(Ar);var Ir=Cr.redIAdd(Cr);Ir=Ir.redIAdd(Ir);var qr=Ir.redAdd(Ir);lr=Ar.redSqr().redISub(qr),dr=this.y.redAdd(this.z).redSqr().redISub(Sr).redISub(kr);var Qr=Sr.redSqr();Qr=Qr.redIAdd(Qr),Qr=Qr.redIAdd(Qr),Qr=Qr.redIAdd(Qr),cr=Ar.redMul(Ir.redISub(lr)).redISub(Qr)}return this.curve.jpoint(lr,cr,dr)},sr.prototype._dbl=function(){var lr=this.curve.a,cr=this.x,dr=this.y,ur=this.z,fr=ur.redSqr().redSqr(),hr=cr.redSqr(),pr=dr.redSqr(),gr=hr.redAdd(hr).redIAdd(hr).redIAdd(lr.redMul(fr)),br=cr.redAdd(cr);br=br.redIAdd(br);var vr=br.redMul(pr),kr=gr.redSqr().redISub(vr.redAdd(vr)),Sr=vr.redISub(kr),Cr=pr.redSqr();Cr=Cr.redIAdd(Cr),Cr=Cr.redIAdd(Cr),Cr=Cr.redIAdd(Cr);var Ar=gr.redMul(Sr).redISub(Cr),Ir=dr.redAdd(dr).redMul(ur);return this.curve.jpoint(kr,Ar,Ir)},sr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var lr=this.x.redSqr(),cr=this.y.redSqr(),dr=this.z.redSqr(),ur=cr.redSqr(),fr=lr.redAdd(lr).redIAdd(lr),hr=fr.redSqr(),pr=this.x.redAdd(cr).redSqr().redISub(lr).redISub(ur);pr=pr.redIAdd(pr),pr=pr.redAdd(pr).redIAdd(pr),pr=pr.redISub(hr);var gr=pr.redSqr(),br=ur.redIAdd(ur);br=br.redIAdd(br),br=br.redIAdd(br),br=br.redIAdd(br);var vr=fr.redIAdd(pr).redSqr().redISub(hr).redISub(gr).redISub(br),kr=cr.redMul(vr);kr=kr.redIAdd(kr),kr=kr.redIAdd(kr);var Sr=this.x.redMul(gr).redISub(kr);Sr=Sr.redIAdd(Sr),Sr=Sr.redIAdd(Sr);var Cr=this.y.redMul(vr.redMul(br.redISub(vr)).redISub(pr.redMul(gr)));Cr=Cr.redIAdd(Cr),Cr=Cr.redIAdd(Cr),Cr=Cr.redIAdd(Cr);var Ar=this.z.redAdd(pr).redSqr().redISub(dr).redISub(gr);return this.curve.jpoint(Sr,Cr,Ar)},sr.prototype.mul=function(lr,cr){return lr=new Ot(lr,cr),this.curve._wnafMul(this,lr)},sr.prototype.eq=function(lr){if(lr.type==="affine")return this.eq(lr.toJ());if(this===lr)return!0;var cr=this.z.redSqr(),dr=lr.z.redSqr();if(this.x.redMul(dr).redISub(lr.x.redMul(cr)).cmpn(0)!==0)return!1;var ur=cr.redMul(this.z),fr=dr.redMul(lr.z);return this.y.redMul(fr).redISub(lr.y.redMul(ur)).cmpn(0)===0},sr.prototype.eqXToP=function(lr){var cr=this.z.redSqr(),dr=lr.toRed(this.curve.red).redMul(cr);if(this.x.cmp(dr)===0)return!0;for(var ur=lr.clone(),fr=this.curve.redN.redMul(cr);;){if(ur.iadd(this.curve.n),ur.cmp(this.curve.p)>=0)return!1;if(dr.redIAdd(fr),this.x.cmp(dr)===0)return!0}},sr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},sr.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var tr=requireBn$1(),Ot=inherits_browserExports,Nt=requireBase$1(),er=requireUtils$1();function rr(nr){Nt.call(this,"mont",nr),this.a=new tr(nr.a,16).toRed(this.red),this.b=new tr(nr.b,16).toRed(this.red),this.i4=new tr(4).toRed(this.red).redInvm(),this.two=new tr(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Ot(rr,Nt),mont=rr,rr.prototype.validate=function(sr){var ar=sr.normalize().x,lr=ar.redSqr(),cr=lr.redMul(ar).redAdd(lr.redMul(this.a)).redAdd(ar),dr=cr.redSqrt();return dr.redSqr().cmp(cr)===0};function ir(nr,sr,ar){Nt.BasePoint.call(this,nr,"projective"),sr===null&&ar===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new tr(sr,16),this.z=new tr(ar,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return Ot(ir,Nt.BasePoint),rr.prototype.decodePoint=function(sr,ar){return this.point(er.toArray(sr,ar),1)},rr.prototype.point=function(sr,ar){return new ir(this,sr,ar)},rr.prototype.pointFromJSON=function(sr){return ir.fromJSON(this,sr)},ir.prototype.precompute=function(){},ir.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},ir.fromJSON=function(sr,ar){return new ir(sr,ar[0],ar[1]||sr.one)},ir.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},ir.prototype.isInfinity=function(){return this.z.cmpn(0)===0},ir.prototype.dbl=function(){var sr=this.x.redAdd(this.z),ar=sr.redSqr(),lr=this.x.redSub(this.z),cr=lr.redSqr(),dr=ar.redSub(cr),ur=ar.redMul(cr),fr=dr.redMul(cr.redAdd(this.curve.a24.redMul(dr)));return this.curve.point(ur,fr)},ir.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},ir.prototype.diffAdd=function(sr,ar){var lr=this.x.redAdd(this.z),cr=this.x.redSub(this.z),dr=sr.x.redAdd(sr.z),ur=sr.x.redSub(sr.z),fr=ur.redMul(lr),hr=dr.redMul(cr),pr=ar.z.redMul(fr.redAdd(hr).redSqr()),gr=ar.x.redMul(fr.redISub(hr).redSqr());return this.curve.point(pr,gr)},ir.prototype.mul=function(sr){for(var ar=sr.clone(),lr=this,cr=this.curve.point(null,null),dr=this,ur=[];ar.cmpn(0)!==0;ar.iushrn(1))ur.push(ar.andln(1));for(var fr=ur.length-1;fr>=0;fr--)ur[fr]===0?(lr=lr.diffAdd(cr,dr),cr=cr.dbl()):(cr=lr.diffAdd(cr,dr),lr=lr.dbl());return cr},ir.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},ir.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},ir.prototype.eq=function(sr){return this.getX().cmp(sr.getX())===0},ir.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},ir.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var tr=requireUtils$1(),Ot=requireBn$1(),Nt=inherits_browserExports,er=requireBase$1(),rr=tr.assert;function ir(sr){this.twisted=(sr.a|0)!==1,this.mOneA=this.twisted&&(sr.a|0)===-1,this.extended=this.mOneA,er.call(this,"edwards",sr),this.a=new Ot(sr.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ot(sr.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ot(sr.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),rr(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(sr.c|0)===1}Nt(ir,er),edwards=ir,ir.prototype._mulA=function(ar){return this.mOneA?ar.redNeg():this.a.redMul(ar)},ir.prototype._mulC=function(ar){return this.oneC?ar:this.c.redMul(ar)},ir.prototype.jpoint=function(ar,lr,cr,dr){return this.point(ar,lr,cr,dr)},ir.prototype.pointFromX=function(ar,lr){ar=new Ot(ar,16),ar.red||(ar=ar.toRed(this.red));var cr=ar.redSqr(),dr=this.c2.redSub(this.a.redMul(cr)),ur=this.one.redSub(this.c2.redMul(this.d).redMul(cr)),fr=dr.redMul(ur.redInvm()),hr=fr.redSqrt();if(hr.redSqr().redSub(fr).cmp(this.zero)!==0)throw new Error("invalid point");var pr=hr.fromRed().isOdd();return(lr&&!pr||!lr&&pr)&&(hr=hr.redNeg()),this.point(ar,hr)},ir.prototype.pointFromY=function(ar,lr){ar=new Ot(ar,16),ar.red||(ar=ar.toRed(this.red));var cr=ar.redSqr(),dr=cr.redSub(this.c2),ur=cr.redMul(this.d).redMul(this.c2).redSub(this.a),fr=dr.redMul(ur.redInvm());if(fr.cmp(this.zero)===0){if(lr)throw new Error("invalid point");return this.point(this.zero,ar)}var hr=fr.redSqrt();if(hr.redSqr().redSub(fr).cmp(this.zero)!==0)throw new Error("invalid point");return hr.fromRed().isOdd()!==lr&&(hr=hr.redNeg()),this.point(hr,ar)},ir.prototype.validate=function(ar){if(ar.isInfinity())return!0;ar.normalize();var lr=ar.x.redSqr(),cr=ar.y.redSqr(),dr=lr.redMul(this.a).redAdd(cr),ur=this.c2.redMul(this.one.redAdd(this.d.redMul(lr).redMul(cr)));return dr.cmp(ur)===0};function nr(sr,ar,lr,cr,dr){er.BasePoint.call(this,sr,"projective"),ar===null&&lr===null&&cr===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ot(ar,16),this.y=new Ot(lr,16),this.z=cr?new Ot(cr,16):this.curve.one,this.t=dr&&new Ot(dr,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return Nt(nr,er.BasePoint),ir.prototype.pointFromJSON=function(ar){return nr.fromJSON(this,ar)},ir.prototype.point=function(ar,lr,cr,dr){return new nr(this,ar,lr,cr,dr)},nr.fromJSON=function(ar,lr){return new nr(ar,lr[0],lr[1],lr[2])},nr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},nr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},nr.prototype._extDbl=function(){var ar=this.x.redSqr(),lr=this.y.redSqr(),cr=this.z.redSqr();cr=cr.redIAdd(cr);var dr=this.curve._mulA(ar),ur=this.x.redAdd(this.y).redSqr().redISub(ar).redISub(lr),fr=dr.redAdd(lr),hr=fr.redSub(cr),pr=dr.redSub(lr),gr=ur.redMul(hr),br=fr.redMul(pr),vr=ur.redMul(pr),kr=hr.redMul(fr);return this.curve.point(gr,br,kr,vr)},nr.prototype._projDbl=function(){var ar=this.x.redAdd(this.y).redSqr(),lr=this.x.redSqr(),cr=this.y.redSqr(),dr,ur,fr,hr,pr,gr;if(this.curve.twisted){hr=this.curve._mulA(lr);var br=hr.redAdd(cr);this.zOne?(dr=ar.redSub(lr).redSub(cr).redMul(br.redSub(this.curve.two)),ur=br.redMul(hr.redSub(cr)),fr=br.redSqr().redSub(br).redSub(br)):(pr=this.z.redSqr(),gr=br.redSub(pr).redISub(pr),dr=ar.redSub(lr).redISub(cr).redMul(gr),ur=br.redMul(hr.redSub(cr)),fr=br.redMul(gr))}else hr=lr.redAdd(cr),pr=this.curve._mulC(this.z).redSqr(),gr=hr.redSub(pr).redSub(pr),dr=this.curve._mulC(ar.redISub(hr)).redMul(gr),ur=this.curve._mulC(hr).redMul(lr.redISub(cr)),fr=hr.redMul(gr);return this.curve.point(dr,ur,fr)},nr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},nr.prototype._extAdd=function(ar){var lr=this.y.redSub(this.x).redMul(ar.y.redSub(ar.x)),cr=this.y.redAdd(this.x).redMul(ar.y.redAdd(ar.x)),dr=this.t.redMul(this.curve.dd).redMul(ar.t),ur=this.z.redMul(ar.z.redAdd(ar.z)),fr=cr.redSub(lr),hr=ur.redSub(dr),pr=ur.redAdd(dr),gr=cr.redAdd(lr),br=fr.redMul(hr),vr=pr.redMul(gr),kr=fr.redMul(gr),Sr=hr.redMul(pr);return this.curve.point(br,vr,Sr,kr)},nr.prototype._projAdd=function(ar){var lr=this.z.redMul(ar.z),cr=lr.redSqr(),dr=this.x.redMul(ar.x),ur=this.y.redMul(ar.y),fr=this.curve.d.redMul(dr).redMul(ur),hr=cr.redSub(fr),pr=cr.redAdd(fr),gr=this.x.redAdd(this.y).redMul(ar.x.redAdd(ar.y)).redISub(dr).redISub(ur),br=lr.redMul(hr).redMul(gr),vr,kr;return this.curve.twisted?(vr=lr.redMul(pr).redMul(ur.redSub(this.curve._mulA(dr))),kr=hr.redMul(pr)):(vr=lr.redMul(pr).redMul(ur.redSub(dr)),kr=this.curve._mulC(hr).redMul(pr)),this.curve.point(br,vr,kr)},nr.prototype.add=function(ar){return this.isInfinity()?ar:ar.isInfinity()?this:this.curve.extended?this._extAdd(ar):this._projAdd(ar)},nr.prototype.mul=function(ar){return this._hasDoubles(ar)?this.curve._fixedNafMul(this,ar):this.curve._wnafMul(this,ar)},nr.prototype.mulAdd=function(ar,lr,cr){return this.curve._wnafMulAdd(1,[this,lr],[ar,cr],2,!1)},nr.prototype.jmulAdd=function(ar,lr,cr){return this.curve._wnafMulAdd(1,[this,lr],[ar,cr],2,!0)},nr.prototype.normalize=function(){if(this.zOne)return this;var ar=this.z.redInvm();return this.x=this.x.redMul(ar),this.y=this.y.redMul(ar),this.t&&(this.t=this.t.redMul(ar)),this.z=this.curve.one,this.zOne=!0,this},nr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},nr.prototype.getX=function(){return this.normalize(),this.x.fromRed()},nr.prototype.getY=function(){return this.normalize(),this.y.fromRed()},nr.prototype.eq=function(ar){return this===ar||this.getX().cmp(ar.getX())===0&&this.getY().cmp(ar.getY())===0},nr.prototype.eqXToP=function(ar){var lr=ar.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(lr)===0)return!0;for(var cr=ar.clone(),dr=this.curve.redN.redMul(this.z);;){if(cr.iadd(this.curve.n),cr.cmp(this.curve.p)>=0)return!1;if(lr.redIAdd(dr),this.x.cmp(lr)===0)return!0}},nr.prototype.toP=nr.prototype.normalize,nr.prototype.mixedAdd=nr.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(tr){var Ot=tr;Ot.base=requireBase$1(),Ot.short=requireShort(),Ot.mont=requireMont(),Ot.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var tr=requireMinimalisticAssert(),Ot=inherits_browserExports;utils.inherits=Ot;function Nt(Or,yr){return(Or.charCodeAt(yr)&64512)!==55296||yr<0||yr+1>=Or.length?!1:(Or.charCodeAt(yr+1)&64512)===56320}function er(Or,yr){if(Array.isArray(Or))return Or.slice();if(!Or)return[];var xr=[];if(typeof Or=="string")if(yr){if(yr==="hex")for(Or=Or.replace(/[^a-z0-9]+/ig,""),Or.length%2!==0&&(Or="0"+Or),Br=0;Br<Or.length;Br+=2)xr.push(parseInt(Or[Br]+Or[Br+1],16))}else for(var wr=0,Br=0;Br<Or.length;Br++){var _r=Or.charCodeAt(Br);_r<128?xr[wr++]=_r:_r<2048?(xr[wr++]=_r>>6|192,xr[wr++]=_r&63|128):Nt(Or,Br)?(_r=65536+((_r&1023)<<10)+(Or.charCodeAt(++Br)&1023),xr[wr++]=_r>>18|240,xr[wr++]=_r>>12&63|128,xr[wr++]=_r>>6&63|128,xr[wr++]=_r&63|128):(xr[wr++]=_r>>12|224,xr[wr++]=_r>>6&63|128,xr[wr++]=_r&63|128)}else for(Br=0;Br<Or.length;Br++)xr[Br]=Or[Br]|0;return xr}utils.toArray=er;function rr(Or){for(var yr="",xr=0;xr<Or.length;xr++)yr+=sr(Or[xr].toString(16));return yr}utils.toHex=rr;function ir(Or){var yr=Or>>>24|Or>>>8&65280|Or<<8&16711680|(Or&255)<<24;return yr>>>0}utils.htonl=ir;function nr(Or,yr){for(var xr="",wr=0;wr<Or.length;wr++){var Br=Or[wr];yr==="little"&&(Br=ir(Br)),xr+=ar(Br.toString(16))}return xr}utils.toHex32=nr;function sr(Or){return Or.length===1?"0"+Or:Or}utils.zero2=sr;function ar(Or){return Or.length===7?"0"+Or:Or.length===6?"00"+Or:Or.length===5?"000"+Or:Or.length===4?"0000"+Or:Or.length===3?"00000"+Or:Or.length===2?"000000"+Or:Or.length===1?"0000000"+Or:Or}utils.zero8=ar;function lr(Or,yr,xr,wr){var Br=xr-yr;tr(Br%4===0);for(var _r=new Array(Br/4),Mr=0,Tr=yr;Mr<_r.length;Mr++,Tr+=4){var Er;wr==="big"?Er=Or[Tr]<<24|Or[Tr+1]<<16|Or[Tr+2]<<8|Or[Tr+3]:Er=Or[Tr+3]<<24|Or[Tr+2]<<16|Or[Tr+1]<<8|Or[Tr],_r[Mr]=Er>>>0}return _r}utils.join32=lr;function cr(Or,yr){for(var xr=new Array(Or.length*4),wr=0,Br=0;wr<Or.length;wr++,Br+=4){var _r=Or[wr];yr==="big"?(xr[Br]=_r>>>24,xr[Br+1]=_r>>>16&255,xr[Br+2]=_r>>>8&255,xr[Br+3]=_r&255):(xr[Br+3]=_r>>>24,xr[Br+2]=_r>>>16&255,xr[Br+1]=_r>>>8&255,xr[Br]=_r&255)}return xr}utils.split32=cr;function dr(Or,yr){return Or>>>yr|Or<<32-yr}utils.rotr32=dr;function ur(Or,yr){return Or<<yr|Or>>>32-yr}utils.rotl32=ur;function fr(Or,yr){return Or+yr>>>0}utils.sum32=fr;function hr(Or,yr,xr){return Or+yr+xr>>>0}utils.sum32_3=hr;function pr(Or,yr,xr,wr){return Or+yr+xr+wr>>>0}utils.sum32_4=pr;function gr(Or,yr,xr,wr,Br){return Or+yr+xr+wr+Br>>>0}utils.sum32_5=gr;function br(Or,yr,xr,wr){var Br=Or[yr],_r=Or[yr+1],Mr=wr+_r>>>0,Tr=(Mr<wr?1:0)+xr+Br;Or[yr]=Tr>>>0,Or[yr+1]=Mr}utils.sum64=br;function vr(Or,yr,xr,wr){var Br=yr+wr>>>0,_r=(Br<yr?1:0)+Or+xr;return _r>>>0}utils.sum64_hi=vr;function kr(Or,yr,xr,wr){var Br=yr+wr;return Br>>>0}utils.sum64_lo=kr;function Sr(Or,yr,xr,wr,Br,_r,Mr,Tr){var Er=0,Pr=yr;Pr=Pr+wr>>>0,Er+=Pr<yr?1:0,Pr=Pr+_r>>>0,Er+=Pr<_r?1:0,Pr=Pr+Tr>>>0,Er+=Pr<Tr?1:0;var Rr=Or+xr+Br+Mr+Er;return Rr>>>0}utils.sum64_4_hi=Sr;function Cr(Or,yr,xr,wr,Br,_r,Mr,Tr){var Er=yr+wr+_r+Tr;return Er>>>0}utils.sum64_4_lo=Cr;function Ar(Or,yr,xr,wr,Br,_r,Mr,Tr,Er,Pr){var Rr=0,Lr=yr;Lr=Lr+wr>>>0,Rr+=Lr<yr?1:0,Lr=Lr+_r>>>0,Rr+=Lr<_r?1:0,Lr=Lr+Tr>>>0,Rr+=Lr<Tr?1:0,Lr=Lr+Pr>>>0,Rr+=Lr<Pr?1:0;var Hr=Or+xr+Br+Mr+Er+Rr;return Hr>>>0}utils.sum64_5_hi=Ar;function Ir(Or,yr,xr,wr,Br,_r,Mr,Tr,Er,Pr){var Rr=yr+wr+_r+Tr+Pr;return Rr>>>0}utils.sum64_5_lo=Ir;function qr(Or,yr,xr){var wr=yr<<32-xr|Or>>>xr;return wr>>>0}utils.rotr64_hi=qr;function Qr(Or,yr,xr){var wr=Or<<32-xr|yr>>>xr;return wr>>>0}utils.rotr64_lo=Qr;function Wr(Or,yr,xr){return Or>>>xr}utils.shr64_hi=Wr;function jr(Or,yr,xr){var wr=Or<<32-xr|yr>>>xr;return wr>>>0}return utils.shr64_lo=jr,utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var tr=requireUtils(),Ot=requireMinimalisticAssert();function Nt(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=Nt,Nt.prototype.update=function(rr,ir){if(rr=tr.toArray(rr,ir),this.pending?this.pending=this.pending.concat(rr):this.pending=rr,this.pendingTotal+=rr.length,this.pending.length>=this._delta8){rr=this.pending;var nr=rr.length%this._delta8;this.pending=rr.slice(rr.length-nr,rr.length),this.pending.length===0&&(this.pending=null),rr=tr.join32(rr,0,rr.length-nr,this.endian);for(var sr=0;sr<rr.length;sr+=this._delta32)this._update(rr,sr,sr+this._delta32)}return this},Nt.prototype.digest=function(rr){return this.update(this._pad()),Ot(this.pending===null),this._digest(rr)},Nt.prototype._pad=function(){var rr=this.pendingTotal,ir=this._delta8,nr=ir-(rr+this.padLength)%ir,sr=new Array(nr+this.padLength);sr[0]=128;for(var ar=1;ar<nr;ar++)sr[ar]=0;if(rr<<=3,this.endian==="big"){for(var lr=8;lr<this.padLength;lr++)sr[ar++]=0;sr[ar++]=0,sr[ar++]=0,sr[ar++]=0,sr[ar++]=0,sr[ar++]=rr>>>24&255,sr[ar++]=rr>>>16&255,sr[ar++]=rr>>>8&255,sr[ar++]=rr&255}else for(sr[ar++]=rr&255,sr[ar++]=rr>>>8&255,sr[ar++]=rr>>>16&255,sr[ar++]=rr>>>24&255,sr[ar++]=0,sr[ar++]=0,sr[ar++]=0,sr[ar++]=0,lr=8;lr<this.padLength;lr++)sr[ar++]=0;return sr},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var tr=requireUtils(),Ot=tr.rotr32;function Nt(cr,dr,ur,fr){if(cr===0)return er(dr,ur,fr);if(cr===1||cr===3)return ir(dr,ur,fr);if(cr===2)return rr(dr,ur,fr)}common.ft_1=Nt;function er(cr,dr,ur){return cr&dr^~cr&ur}common.ch32=er;function rr(cr,dr,ur){return cr&dr^cr&ur^dr&ur}common.maj32=rr;function ir(cr,dr,ur){return cr^dr^ur}common.p32=ir;function nr(cr){return Ot(cr,2)^Ot(cr,13)^Ot(cr,22)}common.s0_256=nr;function sr(cr){return Ot(cr,6)^Ot(cr,11)^Ot(cr,25)}common.s1_256=sr;function ar(cr){return Ot(cr,7)^Ot(cr,18)^cr>>>3}common.g0_256=ar;function lr(cr){return Ot(cr,17)^Ot(cr,19)^cr>>>10}return common.g1_256=lr,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var tr=requireUtils(),Ot=requireCommon$1(),Nt=requireCommon(),er=tr.rotl32,rr=tr.sum32,ir=tr.sum32_5,nr=Nt.ft_1,sr=Ot.BlockHash,ar=[1518500249,1859775393,2400959708,3395469782];function lr(){if(!(this instanceof lr))return new lr;sr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return tr.inherits(lr,sr),_1=lr,lr.blockSize=512,lr.outSize=160,lr.hmacStrength=80,lr.padLength=64,lr.prototype._update=function(dr,ur){for(var fr=this.W,hr=0;hr<16;hr++)fr[hr]=dr[ur+hr];for(;hr<fr.length;hr++)fr[hr]=er(fr[hr-3]^fr[hr-8]^fr[hr-14]^fr[hr-16],1);var pr=this.h[0],gr=this.h[1],br=this.h[2],vr=this.h[3],kr=this.h[4];for(hr=0;hr<fr.length;hr++){var Sr=~~(hr/20),Cr=ir(er(pr,5),nr(Sr,gr,br,vr),kr,fr[hr],ar[Sr]);kr=vr,vr=br,br=er(gr,30),gr=pr,pr=Cr}this.h[0]=rr(this.h[0],pr),this.h[1]=rr(this.h[1],gr),this.h[2]=rr(this.h[2],br),this.h[3]=rr(this.h[3],vr),this.h[4]=rr(this.h[4],kr)},lr.prototype._digest=function(dr){return dr==="hex"?tr.toHex32(this.h,"big"):tr.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var tr=requireUtils(),Ot=requireCommon$1(),Nt=requireCommon(),er=requireMinimalisticAssert(),rr=tr.sum32,ir=tr.sum32_4,nr=tr.sum32_5,sr=Nt.ch32,ar=Nt.maj32,lr=Nt.s0_256,cr=Nt.s1_256,dr=Nt.g0_256,ur=Nt.g1_256,fr=Ot.BlockHash,hr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pr(){if(!(this instanceof pr))return new pr;fr.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=hr,this.W=new Array(64)}return tr.inherits(pr,fr),_256=pr,pr.blockSize=512,pr.outSize=256,pr.hmacStrength=192,pr.padLength=64,pr.prototype._update=function(br,vr){for(var kr=this.W,Sr=0;Sr<16;Sr++)kr[Sr]=br[vr+Sr];for(;Sr<kr.length;Sr++)kr[Sr]=ir(ur(kr[Sr-2]),kr[Sr-7],dr(kr[Sr-15]),kr[Sr-16]);var Cr=this.h[0],Ar=this.h[1],Ir=this.h[2],qr=this.h[3],Qr=this.h[4],Wr=this.h[5],jr=this.h[6],Or=this.h[7];for(er(this.k.length===kr.length),Sr=0;Sr<kr.length;Sr++){var yr=nr(Or,cr(Qr),sr(Qr,Wr,jr),this.k[Sr],kr[Sr]),xr=rr(lr(Cr),ar(Cr,Ar,Ir));Or=jr,jr=Wr,Wr=Qr,Qr=rr(qr,yr),qr=Ir,Ir=Ar,Ar=Cr,Cr=rr(yr,xr)}this.h[0]=rr(this.h[0],Cr),this.h[1]=rr(this.h[1],Ar),this.h[2]=rr(this.h[2],Ir),this.h[3]=rr(this.h[3],qr),this.h[4]=rr(this.h[4],Qr),this.h[5]=rr(this.h[5],Wr),this.h[6]=rr(this.h[6],jr),this.h[7]=rr(this.h[7],Or)},pr.prototype._digest=function(br){return br==="hex"?tr.toHex32(this.h,"big"):tr.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var tr=requireUtils(),Ot=require_256();function Nt(){if(!(this instanceof Nt))return new Nt;Ot.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return tr.inherits(Nt,Ot),_224=Nt,Nt.blockSize=512,Nt.outSize=224,Nt.hmacStrength=192,Nt.padLength=64,Nt.prototype._digest=function(rr){return rr==="hex"?tr.toHex32(this.h.slice(0,7),"big"):tr.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var tr=requireUtils(),Ot=requireCommon$1(),Nt=requireMinimalisticAssert(),er=tr.rotr64_hi,rr=tr.rotr64_lo,ir=tr.shr64_hi,nr=tr.shr64_lo,sr=tr.sum64,ar=tr.sum64_hi,lr=tr.sum64_lo,cr=tr.sum64_4_hi,dr=tr.sum64_4_lo,ur=tr.sum64_5_hi,fr=tr.sum64_5_lo,hr=Ot.BlockHash,pr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function gr(){if(!(this instanceof gr))return new gr;hr.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=pr,this.W=new Array(160)}tr.inherits(gr,hr),_512=gr,gr.blockSize=1024,gr.outSize=512,gr.hmacStrength=192,gr.padLength=128,gr.prototype._prepareBlock=function(xr,wr){for(var Br=this.W,_r=0;_r<32;_r++)Br[_r]=xr[wr+_r];for(;_r<Br.length;_r+=2){var Mr=jr(Br[_r-4],Br[_r-3]),Tr=Or(Br[_r-4],Br[_r-3]),Er=Br[_r-14],Pr=Br[_r-13],Rr=Qr(Br[_r-30],Br[_r-29]),Lr=Wr(Br[_r-30],Br[_r-29]),Hr=Br[_r-32],Gr=Br[_r-31];Br[_r]=cr(Mr,Tr,Er,Pr,Rr,Lr,Hr,Gr),Br[_r+1]=dr(Mr,Tr,Er,Pr,Rr,Lr,Hr,Gr)}},gr.prototype._update=function(xr,wr){this._prepareBlock(xr,wr);var Br=this.W,_r=this.h[0],Mr=this.h[1],Tr=this.h[2],Er=this.h[3],Pr=this.h[4],Rr=this.h[5],Lr=this.h[6],Hr=this.h[7],Gr=this.h[8],Ur=this.h[9],Nr=this.h[10],Fr=this.h[11],Xr=this.h[12],Jr=this.h[13],Vr=this.h[14],Zr=this.h[15];Nt(this.k.length===Br.length);for(var Kr=0;Kr<Br.length;Kr+=2){var Ci=Vr,Mi=Zr,Ti=Ir(Gr,Ur),Ii=qr(Gr,Ur),ji=br(Gr,Ur,Nr,Fr,Xr),Si=vr(Gr,Ur,Nr,Fr,Xr,Jr),zi=this.k[Kr],Di=this.k[Kr+1],Fi=Br[Kr],Vi=Br[Kr+1],Ni=ur(Ci,Mi,Ti,Ii,ji,Si,zi,Di,Fi,Vi),rn=fr(Ci,Mi,Ti,Ii,ji,Si,zi,Di,Fi,Vi);Ci=Cr(_r,Mr),Mi=Ar(_r,Mr),Ti=kr(_r,Mr,Tr,Er,Pr),Ii=Sr(_r,Mr,Tr,Er,Pr,Rr);var ln=ar(Ci,Mi,Ti,Ii),qi=lr(Ci,Mi,Ti,Ii);Vr=Xr,Zr=Jr,Xr=Nr,Jr=Fr,Nr=Gr,Fr=Ur,Gr=ar(Lr,Hr,Ni,rn),Ur=lr(Hr,Hr,Ni,rn),Lr=Pr,Hr=Rr,Pr=Tr,Rr=Er,Tr=_r,Er=Mr,_r=ar(Ni,rn,ln,qi),Mr=lr(Ni,rn,ln,qi)}sr(this.h,0,_r,Mr),sr(this.h,2,Tr,Er),sr(this.h,4,Pr,Rr),sr(this.h,6,Lr,Hr),sr(this.h,8,Gr,Ur),sr(this.h,10,Nr,Fr),sr(this.h,12,Xr,Jr),sr(this.h,14,Vr,Zr)},gr.prototype._digest=function(xr){return xr==="hex"?tr.toHex32(this.h,"big"):tr.split32(this.h,"big")};function br(yr,xr,wr,Br,_r){var Mr=yr&wr^~yr&_r;return Mr<0&&(Mr+=4294967296),Mr}function vr(yr,xr,wr,Br,_r,Mr){var Tr=xr&Br^~xr&Mr;return Tr<0&&(Tr+=4294967296),Tr}function kr(yr,xr,wr,Br,_r){var Mr=yr&wr^yr&_r^wr&_r;return Mr<0&&(Mr+=4294967296),Mr}function Sr(yr,xr,wr,Br,_r,Mr){var Tr=xr&Br^xr&Mr^Br&Mr;return Tr<0&&(Tr+=4294967296),Tr}function Cr(yr,xr){var wr=er(yr,xr,28),Br=er(xr,yr,2),_r=er(xr,yr,7),Mr=wr^Br^_r;return Mr<0&&(Mr+=4294967296),Mr}function Ar(yr,xr){var wr=rr(yr,xr,28),Br=rr(xr,yr,2),_r=rr(xr,yr,7),Mr=wr^Br^_r;return Mr<0&&(Mr+=4294967296),Mr}function Ir(yr,xr){var wr=er(yr,xr,14),Br=er(yr,xr,18),_r=er(xr,yr,9),Mr=wr^Br^_r;return Mr<0&&(Mr+=4294967296),Mr}function qr(yr,xr){var wr=rr(yr,xr,14),Br=rr(yr,xr,18),_r=rr(xr,yr,9),Mr=wr^Br^_r;return Mr<0&&(Mr+=4294967296),Mr}function Qr(yr,xr){var wr=er(yr,xr,1),Br=er(yr,xr,8),_r=ir(yr,xr,7),Mr=wr^Br^_r;return Mr<0&&(Mr+=4294967296),Mr}function Wr(yr,xr){var wr=rr(yr,xr,1),Br=rr(yr,xr,8),_r=nr(yr,xr,7),Mr=wr^Br^_r;return Mr<0&&(Mr+=4294967296),Mr}function jr(yr,xr){var wr=er(yr,xr,19),Br=er(xr,yr,29),_r=ir(yr,xr,6),Mr=wr^Br^_r;return Mr<0&&(Mr+=4294967296),Mr}function Or(yr,xr){var wr=rr(yr,xr,19),Br=rr(xr,yr,29),_r=nr(yr,xr,6),Mr=wr^Br^_r;return Mr<0&&(Mr+=4294967296),Mr}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var tr=requireUtils(),Ot=require_512();function Nt(){if(!(this instanceof Nt))return new Nt;Ot.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return tr.inherits(Nt,Ot),_384=Nt,Nt.blockSize=1024,Nt.outSize=384,Nt.hmacStrength=192,Nt.padLength=128,Nt.prototype._digest=function(rr){return rr==="hex"?tr.toHex32(this.h.slice(0,12),"big"):tr.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var tr=requireUtils(),Ot=requireCommon$1(),Nt=tr.rotl32,er=tr.sum32,rr=tr.sum32_3,ir=tr.sum32_4,nr=Ot.BlockHash;function sr(){if(!(this instanceof sr))return new sr;nr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}tr.inherits(sr,nr),ripemd.ripemd160=sr,sr.blockSize=512,sr.outSize=160,sr.hmacStrength=192,sr.padLength=64,sr.prototype._update=function(gr,br){for(var vr=this.h[0],kr=this.h[1],Sr=this.h[2],Cr=this.h[3],Ar=this.h[4],Ir=vr,qr=kr,Qr=Sr,Wr=Cr,jr=Ar,Or=0;Or<80;Or++){var yr=er(Nt(ir(vr,ar(Or,kr,Sr,Cr),gr[dr[Or]+br],lr(Or)),fr[Or]),Ar);vr=Ar,Ar=Cr,Cr=Nt(Sr,10),Sr=kr,kr=yr,yr=er(Nt(ir(Ir,ar(79-Or,qr,Qr,Wr),gr[ur[Or]+br],cr(Or)),hr[Or]),jr),Ir=jr,jr=Wr,Wr=Nt(Qr,10),Qr=qr,qr=yr}yr=rr(this.h[1],Sr,Wr),this.h[1]=rr(this.h[2],Cr,jr),this.h[2]=rr(this.h[3],Ar,Ir),this.h[3]=rr(this.h[4],vr,qr),this.h[4]=rr(this.h[0],kr,Qr),this.h[0]=yr},sr.prototype._digest=function(gr){return gr==="hex"?tr.toHex32(this.h,"little"):tr.split32(this.h,"little")};function ar(pr,gr,br,vr){return pr<=15?gr^br^vr:pr<=31?gr&br|~gr&vr:pr<=47?(gr|~br)^vr:pr<=63?gr&vr|br&~vr:gr^(br|~vr)}function lr(pr){return pr<=15?0:pr<=31?1518500249:pr<=47?1859775393:pr<=63?2400959708:2840853838}function cr(pr){return pr<=15?1352829926:pr<=31?1548603684:pr<=47?1836072691:pr<=63?2053994217:0}var dr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ur=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],fr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],hr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac$1,hasRequiredHmac$1;function requireHmac$1(){if(hasRequiredHmac$1)return hmac$1;hasRequiredHmac$1=1;var tr=requireUtils(),Ot=requireMinimalisticAssert();function Nt(er,rr,ir){if(!(this instanceof Nt))return new Nt(er,rr,ir);this.Hash=er,this.blockSize=er.blockSize/8,this.outSize=er.outSize/8,this.inner=null,this.outer=null,this._init(tr.toArray(rr,ir))}return hmac$1=Nt,Nt.prototype._init=function(rr){rr.length>this.blockSize&&(rr=new this.Hash().update(rr).digest()),Ot(rr.length<=this.blockSize);for(var ir=rr.length;ir<this.blockSize;ir++)rr.push(0);for(ir=0;ir<rr.length;ir++)rr[ir]^=54;for(this.inner=new this.Hash().update(rr),ir=0;ir<rr.length;ir++)rr[ir]^=106;this.outer=new this.Hash().update(rr)},Nt.prototype.update=function(rr,ir){return this.inner.update(rr,ir),this},Nt.prototype.digest=function(rr){return this.outer.update(this.inner.digest()),this.outer.digest(rr)},hmac$1}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(tr){var Ot=tr;Ot.utils=requireUtils(),Ot.common=requireCommon$1(),Ot.sha=requireSha(),Ot.ripemd=requireRipemd(),Ot.hmac=requireHmac$1(),Ot.sha1=Ot.sha.sha1,Ot.sha256=Ot.sha.sha256,Ot.sha224=Ot.sha.sha224,Ot.sha384=Ot.sha.sha384,Ot.sha512=Ot.sha.sha512,Ot.ripemd160=Ot.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(tr){var Ot=tr,Nt=requireHash(),er=requireCurve(),rr=requireUtils$1(),ir=rr.assert;function nr(lr){lr.type==="short"?this.curve=new er.short(lr):lr.type==="edwards"?this.curve=new er.edwards(lr):this.curve=new er.mont(lr),this.g=this.curve.g,this.n=this.curve.n,this.hash=lr.hash,ir(this.g.validate(),"Invalid curve"),ir(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Ot.PresetCurve=nr;function sr(lr,cr){Object.defineProperty(Ot,lr,{configurable:!0,enumerable:!0,get:function(){var dr=new nr(cr);return Object.defineProperty(Ot,lr,{configurable:!0,enumerable:!0,value:dr}),dr}})}sr("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Nt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),sr("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Nt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),sr("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Nt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),sr("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Nt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),sr("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Nt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),sr("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Nt.sha256,gRed:!1,g:["9"]}),sr("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Nt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var ar;try{ar=requireSecp256k1()}catch{ar=void 0}sr("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Nt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ar]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var tr=requireHash(),Ot=requireUtils$2(),Nt=requireMinimalisticAssert();function er(rr){if(!(this instanceof er))return new er(rr);this.hash=rr.hash,this.predResist=!!rr.predResist,this.outLen=this.hash.outSize,this.minEntropy=rr.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ir=Ot.toArray(rr.entropy,rr.entropyEnc||"hex"),nr=Ot.toArray(rr.nonce,rr.nonceEnc||"hex"),sr=Ot.toArray(rr.pers,rr.persEnc||"hex");Nt(ir.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ir,nr,sr)}return hmacDrbg=er,er.prototype._init=function(ir,nr,sr){var ar=ir.concat(nr).concat(sr);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var lr=0;lr<this.V.length;lr++)this.K[lr]=0,this.V[lr]=1;this._update(ar),this._reseed=1,this.reseedInterval=281474976710656},er.prototype._hmac=function(){return new tr.hmac(this.hash,this.K)},er.prototype._update=function(ir){var nr=this._hmac().update(this.V).update([0]);ir&&(nr=nr.update(ir)),this.K=nr.digest(),this.V=this._hmac().update(this.V).digest(),ir&&(this.K=this._hmac().update(this.V).update([1]).update(ir).digest(),this.V=this._hmac().update(this.V).digest())},er.prototype.reseed=function(ir,nr,sr,ar){typeof nr!="string"&&(ar=sr,sr=nr,nr=null),ir=Ot.toArray(ir,nr),sr=Ot.toArray(sr,ar),Nt(ir.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(ir.concat(sr||[])),this._reseed=1},er.prototype.generate=function(ir,nr,sr,ar){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof nr!="string"&&(ar=sr,sr=nr,nr=null),sr&&(sr=Ot.toArray(sr,ar||"hex"),this._update(sr));for(var lr=[];lr.length<ir;)this.V=this._hmac().update(this.V).digest(),lr=lr.concat(this.V);var cr=lr.slice(0,ir);return this._update(sr),this._reseed++,Ot.encode(cr,nr)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var tr=requireBn$1(),Ot=requireUtils$1(),Nt=Ot.assert;function er(rr,ir){this.ec=rr,this.priv=null,this.pub=null,ir.priv&&this._importPrivate(ir.priv,ir.privEnc),ir.pub&&this._importPublic(ir.pub,ir.pubEnc)}return key$1=er,er.fromPublic=function(ir,nr,sr){return nr instanceof er?nr:new er(ir,{pub:nr,pubEnc:sr})},er.fromPrivate=function(ir,nr,sr){return nr instanceof er?nr:new er(ir,{priv:nr,privEnc:sr})},er.prototype.validate=function(){var ir=this.getPublic();return ir.isInfinity()?{result:!1,reason:"Invalid public key"}:ir.validate()?ir.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},er.prototype.getPublic=function(ir,nr){return typeof ir=="string"&&(nr=ir,ir=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),nr?this.pub.encode(nr,ir):this.pub},er.prototype.getPrivate=function(ir){return ir==="hex"?this.priv.toString(16,2):this.priv},er.prototype._importPrivate=function(ir,nr){this.priv=new tr(ir,nr||16),this.priv=this.priv.umod(this.ec.curve.n)},er.prototype._importPublic=function(ir,nr){if(ir.x||ir.y){this.ec.curve.type==="mont"?Nt(ir.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Nt(ir.x&&ir.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(ir.x,ir.y);return}this.pub=this.ec.curve.decodePoint(ir,nr)},er.prototype.derive=function(ir){return ir.validate()||Nt(ir.validate(),"public point not validated"),ir.mul(this.priv).getX()},er.prototype.sign=function(ir,nr,sr){return this.ec.sign(ir,this,nr,sr)},er.prototype.verify=function(ir,nr){return this.ec.verify(ir,nr,this)},er.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var tr=requireBn$1(),Ot=requireUtils$1(),Nt=Ot.assert;function er(ar,lr){if(ar instanceof er)return ar;this._importDER(ar,lr)||(Nt(ar.r&&ar.s,"Signature without r or s"),this.r=new tr(ar.r,16),this.s=new tr(ar.s,16),ar.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=ar.recoveryParam)}signature$1=er;function rr(){this.place=0}function ir(ar,lr){var cr=ar[lr.place++];if(!(cr&128))return cr;var dr=cr&15;if(dr===0||dr>4)return!1;for(var ur=0,fr=0,hr=lr.place;fr<dr;fr++,hr++)ur<<=8,ur|=ar[hr],ur>>>=0;return ur<=127?!1:(lr.place=hr,ur)}function nr(ar){for(var lr=0,cr=ar.length-1;!ar[lr]&&!(ar[lr+1]&128)&&lr<cr;)lr++;return lr===0?ar:ar.slice(lr)}er.prototype._importDER=function(lr,cr){lr=Ot.toArray(lr,cr);var dr=new rr;if(lr[dr.place++]!==48)return!1;var ur=ir(lr,dr);if(ur===!1||ur+dr.place!==lr.length||lr[dr.place++]!==2)return!1;var fr=ir(lr,dr);if(fr===!1)return!1;var hr=lr.slice(dr.place,fr+dr.place);if(dr.place+=fr,lr[dr.place++]!==2)return!1;var pr=ir(lr,dr);if(pr===!1||lr.length!==pr+dr.place)return!1;var gr=lr.slice(dr.place,pr+dr.place);if(hr[0]===0)if(hr[1]&128)hr=hr.slice(1);else return!1;if(gr[0]===0)if(gr[1]&128)gr=gr.slice(1);else return!1;return this.r=new tr(hr),this.s=new tr(gr),this.recoveryParam=null,!0};function sr(ar,lr){if(lr<128){ar.push(lr);return}var cr=1+(Math.log(lr)/Math.LN2>>>3);for(ar.push(cr|128);--cr;)ar.push(lr>>>(cr<<3)&255);ar.push(lr)}return er.prototype.toDER=function(lr){var cr=this.r.toArray(),dr=this.s.toArray();for(cr[0]&128&&(cr=[0].concat(cr)),dr[0]&128&&(dr=[0].concat(dr)),cr=nr(cr),dr=nr(dr);!dr[0]&&!(dr[1]&128);)dr=dr.slice(1);var ur=[2];sr(ur,cr.length),ur=ur.concat(cr),ur.push(2),sr(ur,dr.length);var fr=ur.concat(dr),hr=[48];return sr(hr,fr.length),hr=hr.concat(fr),Ot.encode(hr,lr)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var tr=requireBn$1(),Ot=requireHmacDrbg(),Nt=requireUtils$1(),er=requireCurves(),rr=requireBrorand(),ir=Nt.assert,nr=requireKey$1(),sr=requireSignature$1();function ar(lr){if(!(this instanceof ar))return new ar(lr);typeof lr=="string"&&(ir(Object.prototype.hasOwnProperty.call(er,lr),"Unknown curve "+lr),lr=er[lr]),lr instanceof er.PresetCurve&&(lr={curve:lr}),this.curve=lr.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=lr.curve.g,this.g.precompute(lr.curve.n.bitLength()+1),this.hash=lr.hash||lr.curve.hash}return ec=ar,ar.prototype.keyPair=function(cr){return new nr(this,cr)},ar.prototype.keyFromPrivate=function(cr,dr){return nr.fromPrivate(this,cr,dr)},ar.prototype.keyFromPublic=function(cr,dr){return nr.fromPublic(this,cr,dr)},ar.prototype.genKeyPair=function(cr){cr||(cr={});for(var dr=new Ot({hash:this.hash,pers:cr.pers,persEnc:cr.persEnc||"utf8",entropy:cr.entropy||rr(this.hash.hmacStrength),entropyEnc:cr.entropy&&cr.entropyEnc||"utf8",nonce:this.n.toArray()}),ur=this.n.byteLength(),fr=this.n.sub(new tr(2));;){var hr=new tr(dr.generate(ur));if(!(hr.cmp(fr)>0))return hr.iaddn(1),this.keyFromPrivate(hr)}},ar.prototype._truncateToN=function(cr,dr){var ur=cr.byteLength()*8-this.n.bitLength();return ur>0&&(cr=cr.ushrn(ur)),!dr&&cr.cmp(this.n)>=0?cr.sub(this.n):cr},ar.prototype.sign=function(cr,dr,ur,fr){typeof ur=="object"&&(fr=ur,ur=null),fr||(fr={}),dr=this.keyFromPrivate(dr,ur),cr=this._truncateToN(new tr(cr,16));for(var hr=this.n.byteLength(),pr=dr.getPrivate().toArray("be",hr),gr=cr.toArray("be",hr),br=new Ot({hash:this.hash,entropy:pr,nonce:gr,pers:fr.pers,persEnc:fr.persEnc||"utf8"}),vr=this.n.sub(new tr(1)),kr=0;;kr++){var Sr=fr.k?fr.k(kr):new tr(br.generate(this.n.byteLength()));if(Sr=this._truncateToN(Sr,!0),!(Sr.cmpn(1)<=0||Sr.cmp(vr)>=0)){var Cr=this.g.mul(Sr);if(!Cr.isInfinity()){var Ar=Cr.getX(),Ir=Ar.umod(this.n);if(Ir.cmpn(0)!==0){var qr=Sr.invm(this.n).mul(Ir.mul(dr.getPrivate()).iadd(cr));if(qr=qr.umod(this.n),qr.cmpn(0)!==0){var Qr=(Cr.getY().isOdd()?1:0)|(Ar.cmp(Ir)!==0?2:0);return fr.canonical&&qr.cmp(this.nh)>0&&(qr=this.n.sub(qr),Qr^=1),new sr({r:Ir,s:qr,recoveryParam:Qr})}}}}}},ar.prototype.verify=function(cr,dr,ur,fr){cr=this._truncateToN(new tr(cr,16)),ur=this.keyFromPublic(ur,fr),dr=new sr(dr,"hex");var hr=dr.r,pr=dr.s;if(hr.cmpn(1)<0||hr.cmp(this.n)>=0||pr.cmpn(1)<0||pr.cmp(this.n)>=0)return!1;var gr=pr.invm(this.n),br=gr.mul(cr).umod(this.n),vr=gr.mul(hr).umod(this.n),kr;return this.curve._maxwellTrick?(kr=this.g.jmulAdd(br,ur.getPublic(),vr),kr.isInfinity()?!1:kr.eqXToP(hr)):(kr=this.g.mulAdd(br,ur.getPublic(),vr),kr.isInfinity()?!1:kr.getX().umod(this.n).cmp(hr)===0)},ar.prototype.recoverPubKey=function(lr,cr,dr,ur){ir((3&dr)===dr,"The recovery param is more than two bits"),cr=new sr(cr,ur);var fr=this.n,hr=new tr(lr),pr=cr.r,gr=cr.s,br=dr&1,vr=dr>>1;if(pr.cmp(this.curve.p.umod(this.curve.n))>=0&&vr)throw new Error("Unable to find sencond key candinate");vr?pr=this.curve.pointFromX(pr.add(this.curve.n),br):pr=this.curve.pointFromX(pr,br);var kr=cr.r.invm(fr),Sr=fr.sub(hr).mul(kr).umod(fr),Cr=gr.mul(kr).umod(fr);return this.g.mulAdd(Sr,pr,Cr)},ar.prototype.getKeyRecoveryParam=function(lr,cr,dr,ur){if(cr=new sr(cr,ur),cr.recoveryParam!==null)return cr.recoveryParam;for(var fr=0;fr<4;fr++){var hr;try{hr=this.recoverPubKey(lr,cr,fr)}catch{continue}if(hr.eq(dr))return fr}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var tr=requireUtils$1(),Ot=tr.assert,Nt=tr.parseBytes,er=tr.cachedProperty;function rr(ir,nr){this.eddsa=ir,this._secret=Nt(nr.secret),ir.isPoint(nr.pub)?this._pub=nr.pub:this._pubBytes=Nt(nr.pub)}return rr.fromPublic=function(nr,sr){return sr instanceof rr?sr:new rr(nr,{pub:sr})},rr.fromSecret=function(nr,sr){return sr instanceof rr?sr:new rr(nr,{secret:sr})},rr.prototype.secret=function(){return this._secret},er(rr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),er(rr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),er(rr,"privBytes",function(){var nr=this.eddsa,sr=this.hash(),ar=nr.encodingLength-1,lr=sr.slice(0,nr.encodingLength);return lr[0]&=248,lr[ar]&=127,lr[ar]|=64,lr}),er(rr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),er(rr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),er(rr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),rr.prototype.sign=function(nr){return Ot(this._secret,"KeyPair can only verify"),this.eddsa.sign(nr,this)},rr.prototype.verify=function(nr,sr){return this.eddsa.verify(nr,sr,this)},rr.prototype.getSecret=function(nr){return Ot(this._secret,"KeyPair is public only"),tr.encode(this.secret(),nr)},rr.prototype.getPublic=function(nr){return tr.encode(this.pubBytes(),nr)},key=rr,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var tr=requireBn$1(),Ot=requireUtils$1(),Nt=Ot.assert,er=Ot.cachedProperty,rr=Ot.parseBytes;function ir(nr,sr){this.eddsa=nr,typeof sr!="object"&&(sr=rr(sr)),Array.isArray(sr)&&(sr={R:sr.slice(0,nr.encodingLength),S:sr.slice(nr.encodingLength)}),Nt(sr.R&&sr.S,"Signature without R or S"),nr.isPoint(sr.R)&&(this._R=sr.R),sr.S instanceof tr&&(this._S=sr.S),this._Rencoded=Array.isArray(sr.R)?sr.R:sr.Rencoded,this._Sencoded=Array.isArray(sr.S)?sr.S:sr.Sencoded}return er(ir,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),er(ir,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),er(ir,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),er(ir,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),ir.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},ir.prototype.toHex=function(){return Ot.encode(this.toBytes(),"hex").toUpperCase()},signature=ir,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var tr=requireHash(),Ot=requireCurves(),Nt=requireUtils$1(),er=Nt.assert,rr=Nt.parseBytes,ir=requireKey(),nr=requireSignature();function sr(ar){if(er(ar==="ed25519","only tested with ed25519 so far"),!(this instanceof sr))return new sr(ar);ar=Ot[ar].curve,this.curve=ar,this.g=ar.g,this.g.precompute(ar.n.bitLength()+1),this.pointClass=ar.point().constructor,this.encodingLength=Math.ceil(ar.n.bitLength()/8),this.hash=tr.sha512}return eddsa=sr,sr.prototype.sign=function(lr,cr){lr=rr(lr);var dr=this.keyFromSecret(cr),ur=this.hashInt(dr.messagePrefix(),lr),fr=this.g.mul(ur),hr=this.encodePoint(fr),pr=this.hashInt(hr,dr.pubBytes(),lr).mul(dr.priv()),gr=ur.add(pr).umod(this.curve.n);return this.makeSignature({R:fr,S:gr,Rencoded:hr})},sr.prototype.verify=function(lr,cr,dr){lr=rr(lr),cr=this.makeSignature(cr);var ur=this.keyFromPublic(dr),fr=this.hashInt(cr.Rencoded(),ur.pubBytes(),lr),hr=this.g.mul(cr.S()),pr=cr.R().add(ur.pub().mul(fr));return pr.eq(hr)},sr.prototype.hashInt=function(){for(var lr=this.hash(),cr=0;cr<arguments.length;cr++)lr.update(arguments[cr]);return Nt.intFromLE(lr.digest()).umod(this.curve.n)},sr.prototype.keyFromPublic=function(lr){return ir.fromPublic(this,lr)},sr.prototype.keyFromSecret=function(lr){return ir.fromSecret(this,lr)},sr.prototype.makeSignature=function(lr){return lr instanceof nr?lr:new nr(this,lr)},sr.prototype.encodePoint=function(lr){var cr=lr.getY().toArray("le",this.encodingLength);return cr[this.encodingLength-1]|=lr.getX().isOdd()?128:0,cr},sr.prototype.decodePoint=function(lr){lr=Nt.parseBytes(lr);var cr=lr.length-1,dr=lr.slice(0,cr).concat(lr[cr]&-129),ur=(lr[cr]&128)!==0,fr=Nt.intFromLE(dr);return this.curve.pointFromY(fr,ur)},sr.prototype.encodeInt=function(lr){return lr.toArray("le",this.encodingLength)},sr.prototype.decodeInt=function(lr){return Nt.intFromLE(lr)},sr.prototype.isPoint=function(lr){return lr instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(tr){var Ot=tr;Ot.version=require$$0.version,Ot.utils=requireUtils$1(),Ot.rand=requireBrorand(),Ot.curve=requireCurve(),Ot.curves=requireCurves(),Ot.ec=requireEc(),Ot.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(tr,Ot){if(tr.indexOf)return tr.indexOf(Ot);for(var Nt=0;Nt<tr.length;Nt++)if(tr[Nt]===Ot)return Nt;return-1},Object_keys=function(tr){if(Object.keys)return Object.keys(tr);var Ot=[];for(var Nt in tr)Ot.push(Nt);return Ot},forEach=function(tr,Ot){if(tr.forEach)return tr.forEach(Ot);for(var Nt=0;Nt<tr.length;Nt++)Ot(tr[Nt],Nt,tr)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(tr,Ot,Nt){Object.defineProperty(tr,Ot,{writable:!0,enumerable:!1,configurable:!0,value:Nt})}}catch{return function(Ot,Nt,er){Ot[Nt]=er}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(Ot){if(!(this instanceof Script))return new Script(Ot);this.code=Ot};Script.prototype.runInContext=function(tr){if(!(tr instanceof Context))throw new TypeError("needs a 'context' argument.");var Ot=document.createElement("iframe");Ot.style||(Ot.style={}),Ot.style.display="none",document.body.appendChild(Ot);var Nt=Ot.contentWindow,er=Nt.eval,rr=Nt.execScript;!er&&rr&&(rr.call(Nt,"null"),er=Nt.eval),forEach(Object_keys(tr),function(sr){Nt[sr]=tr[sr]}),forEach(globals,function(sr){tr[sr]&&(Nt[sr]=tr[sr])});var ir=Object_keys(Nt),nr=er.call(Nt,this.code);return forEach(Object_keys(Nt),function(sr){(sr in tr||indexOf(ir,sr)===-1)&&(tr[sr]=Nt[sr])}),forEach(globals,function(sr){sr in tr||defineProp(tr,sr,Nt[sr])}),document.body.removeChild(Ot),nr},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(tr){var Ot=Script.createContext(tr),Nt=this.runInContext(Ot);return tr&&forEach(Object_keys(Ot),function(er){tr[er]=Ot[er]}),Nt},forEach(Object_keys(Script.prototype),function(tr){exports[tr]=Script[tr]=function(Ot){var Nt=Script(Ot);return Nt[tr].apply(Nt,[].slice.call(arguments,1))}}),exports.isContext=function(tr){return tr instanceof Context},exports.createScript=function(tr){return exports.Script(tr)},exports.createContext=Script.createContext=function(tr){var Ot=new Context;return typeof tr=="object"&&forEach(Object_keys(tr),function(Nt){Ot[Nt]=tr[Nt]}),Ot}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(tr){var Ot=requireAsn1$1(),Nt=inherits_browserExports,er=tr;er.define=function(nr,sr){return new rr(nr,sr)};function rr(ir,nr){this.name=ir,this.body=nr,this.decoders={},this.encoders={}}rr.prototype._createNamed=function(nr){var sr;try{sr=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{sr=function(lr){this._initNamed(lr)}}return Nt(sr,nr),sr.prototype._initNamed=function(lr){nr.call(this,lr)},new sr(this)},rr.prototype._getDecoder=function(nr){return nr=nr||"der",this.decoders.hasOwnProperty(nr)||(this.decoders[nr]=this._createNamed(Ot.decoders[nr])),this.decoders[nr]},rr.prototype.decode=function(nr,sr,ar){return this._getDecoder(sr).decode(nr,ar)},rr.prototype._getEncoder=function(nr){return nr=nr||"der",this.encoders.hasOwnProperty(nr)||(this.encoders[nr]=this._createNamed(Ot.encoders[nr])),this.encoders[nr]},rr.prototype.encode=function(nr,sr,ar){return this._getEncoder(sr).encode(nr,ar)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var tr=inherits_browserExports;function Ot(er){this._reporterState={obj:null,path:[],options:er||{},errors:[]}}reporter.Reporter=Ot,Ot.prototype.isError=function(rr){return rr instanceof Nt},Ot.prototype.save=function(){var rr=this._reporterState;return{obj:rr.obj,pathLen:rr.path.length}},Ot.prototype.restore=function(rr){var ir=this._reporterState;ir.obj=rr.obj,ir.path=ir.path.slice(0,rr.pathLen)},Ot.prototype.enterKey=function(rr){return this._reporterState.path.push(rr)},Ot.prototype.exitKey=function(rr){var ir=this._reporterState;ir.path=ir.path.slice(0,rr-1)},Ot.prototype.leaveKey=function(rr,ir,nr){var sr=this._reporterState;this.exitKey(rr),sr.obj!==null&&(sr.obj[ir]=nr)},Ot.prototype.path=function(){return this._reporterState.path.join("/")},Ot.prototype.enterObject=function(){var rr=this._reporterState,ir=rr.obj;return rr.obj={},ir},Ot.prototype.leaveObject=function(rr){var ir=this._reporterState,nr=ir.obj;return ir.obj=rr,nr},Ot.prototype.error=function(rr){var ir,nr=this._reporterState,sr=rr instanceof Nt;if(sr?ir=rr:ir=new Nt(nr.path.map(function(ar){return"["+JSON.stringify(ar)+"]"}).join(""),rr.message||rr,rr.stack),!nr.options.partial)throw ir;return sr||nr.errors.push(ir),ir},Ot.prototype.wrapResult=function(rr){var ir=this._reporterState;return ir.options.partial?{result:this.isError(rr)?null:rr,errors:ir.errors}:rr};function Nt(er,rr){this.path=er,this.rethrow(rr)}return tr(Nt,Error),Nt.prototype.rethrow=function(rr){if(this.message=rr+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Nt),!this.stack)try{throw new Error(this.message)}catch(ir){this.stack=ir.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var tr=inherits_browserExports,Ot=requireBase().Reporter,Nt=require$$1$3.Buffer;function er(ir,nr){if(Ot.call(this,nr),!Nt.isBuffer(ir)){this.error("Input not Buffer");return}this.base=ir,this.offset=0,this.length=ir.length}tr(er,Ot),buffer.DecoderBuffer=er,er.prototype.save=function(){return{offset:this.offset,reporter:Ot.prototype.save.call(this)}},er.prototype.restore=function(nr){var sr=new er(this.base);return sr.offset=nr.offset,sr.length=this.offset,this.offset=nr.offset,Ot.prototype.restore.call(this,nr.reporter),sr},er.prototype.isEmpty=function(){return this.offset===this.length},er.prototype.readUInt8=function(nr){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(nr||"DecoderBuffer overrun")},er.prototype.skip=function(nr,sr){if(!(this.offset+nr<=this.length))return this.error(sr||"DecoderBuffer overrun");var ar=new er(this.base);return ar._reporterState=this._reporterState,ar.offset=this.offset,ar.length=this.offset+nr,this.offset+=nr,ar},er.prototype.raw=function(nr){return this.base.slice(nr?nr.offset:this.offset,this.length)};function rr(ir,nr){if(Array.isArray(ir))this.length=0,this.value=ir.map(function(sr){return sr instanceof rr||(sr=new rr(sr,nr)),this.length+=sr.length,sr},this);else if(typeof ir=="number"){if(!(0<=ir&&ir<=255))return nr.error("non-byte EncoderBuffer value");this.value=ir,this.length=1}else if(typeof ir=="string")this.value=ir,this.length=Nt.byteLength(ir);else if(Nt.isBuffer(ir))this.value=ir,this.length=ir.length;else return nr.error("Unsupported type: "+typeof ir)}return buffer.EncoderBuffer=rr,rr.prototype.join=function(nr,sr){return nr||(nr=new Nt(this.length)),sr||(sr=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(ar){ar.join(nr,sr),sr+=ar.length}):(typeof this.value=="number"?nr[sr]=this.value:typeof this.value=="string"?nr.write(this.value,sr):Nt.isBuffer(this.value)&&this.value.copy(nr,sr),sr+=this.length)),nr},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var tr=requireBase().Reporter,Ot=requireBase().EncoderBuffer,Nt=requireBase().DecoderBuffer,er=requireMinimalisticAssert(),rr=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],ir=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(rr),nr=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function sr(lr,cr){var dr={};this._baseState=dr,dr.enc=lr,dr.parent=cr||null,dr.children=null,dr.tag=null,dr.args=null,dr.reverseArgs=null,dr.choice=null,dr.optional=!1,dr.any=!1,dr.obj=!1,dr.use=null,dr.useDecoder=null,dr.key=null,dr.default=null,dr.explicit=null,dr.implicit=null,dr.contains=null,dr.parent||(dr.children=[],this._wrap())}node=sr;var ar=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return sr.prototype.clone=function(){var cr=this._baseState,dr={};ar.forEach(function(fr){dr[fr]=cr[fr]});var ur=new this.constructor(dr.parent);return ur._baseState=dr,ur},sr.prototype._wrap=function(){var cr=this._baseState;ir.forEach(function(dr){this[dr]=function(){var fr=new this.constructor(this);return cr.children.push(fr),fr[dr].apply(fr,arguments)}},this)},sr.prototype._init=function(cr){var dr=this._baseState;er(dr.parent===null),cr.call(this),dr.children=dr.children.filter(function(ur){return ur._baseState.parent===this},this),er.equal(dr.children.length,1,"Root node can have only one child")},sr.prototype._useArgs=function(cr){var dr=this._baseState,ur=cr.filter(function(fr){return fr instanceof this.constructor},this);cr=cr.filter(function(fr){return!(fr instanceof this.constructor)},this),ur.length!==0&&(er(dr.children===null),dr.children=ur,ur.forEach(function(fr){fr._baseState.parent=this},this)),cr.length!==0&&(er(dr.args===null),dr.args=cr,dr.reverseArgs=cr.map(function(fr){if(typeof fr!="object"||fr.constructor!==Object)return fr;var hr={};return Object.keys(fr).forEach(function(pr){pr==(pr|0)&&(pr|=0);var gr=fr[pr];hr[gr]=pr}),hr}))},nr.forEach(function(lr){sr.prototype[lr]=function(){var dr=this._baseState;throw new Error(lr+" not implemented for encoding: "+dr.enc)}}),rr.forEach(function(lr){sr.prototype[lr]=function(){var dr=this._baseState,ur=Array.prototype.slice.call(arguments);return er(dr.tag===null),dr.tag=lr,this._useArgs(ur),this}}),sr.prototype.use=function(cr){er(cr);var dr=this._baseState;return er(dr.use===null),dr.use=cr,this},sr.prototype.optional=function(){var cr=this._baseState;return cr.optional=!0,this},sr.prototype.def=function(cr){var dr=this._baseState;return er(dr.default===null),dr.default=cr,dr.optional=!0,this},sr.prototype.explicit=function(cr){var dr=this._baseState;return er(dr.explicit===null&&dr.implicit===null),dr.explicit=cr,this},sr.prototype.implicit=function(cr){var dr=this._baseState;return er(dr.explicit===null&&dr.implicit===null),dr.implicit=cr,this},sr.prototype.obj=function(){var cr=this._baseState,dr=Array.prototype.slice.call(arguments);return cr.obj=!0,dr.length!==0&&this._useArgs(dr),this},sr.prototype.key=function(cr){var dr=this._baseState;return er(dr.key===null),dr.key=cr,this},sr.prototype.any=function(){var cr=this._baseState;return cr.any=!0,this},sr.prototype.choice=function(cr){var dr=this._baseState;return er(dr.choice===null),dr.choice=cr,this._useArgs(Object.keys(cr).map(function(ur){return cr[ur]})),this},sr.prototype.contains=function(cr){var dr=this._baseState;return er(dr.use===null),dr.contains=cr,this},sr.prototype._decode=function(cr,dr){var ur=this._baseState;if(ur.parent===null)return cr.wrapResult(ur.children[0]._decode(cr,dr));var fr=ur.default,hr=!0,pr=null;if(ur.key!==null&&(pr=cr.enterKey(ur.key)),ur.optional){var gr=null;if(ur.explicit!==null?gr=ur.explicit:ur.implicit!==null?gr=ur.implicit:ur.tag!==null&&(gr=ur.tag),gr===null&&!ur.any){var br=cr.save();try{ur.choice===null?this._decodeGeneric(ur.tag,cr,dr):this._decodeChoice(cr,dr),hr=!0}catch{hr=!1}cr.restore(br)}else if(hr=this._peekTag(cr,gr,ur.any),cr.isError(hr))return hr}var vr;if(ur.obj&&hr&&(vr=cr.enterObject()),hr){if(ur.explicit!==null){var kr=this._decodeTag(cr,ur.explicit);if(cr.isError(kr))return kr;cr=kr}var Sr=cr.offset;if(ur.use===null&&ur.choice===null){if(ur.any)var br=cr.save();var Cr=this._decodeTag(cr,ur.implicit!==null?ur.implicit:ur.tag,ur.any);if(cr.isError(Cr))return Cr;ur.any?fr=cr.raw(br):cr=Cr}if(dr&&dr.track&&ur.tag!==null&&dr.track(cr.path(),Sr,cr.length,"tagged"),dr&&dr.track&&ur.tag!==null&&dr.track(cr.path(),cr.offset,cr.length,"content"),ur.any?fr=fr:ur.choice===null?fr=this._decodeGeneric(ur.tag,cr,dr):fr=this._decodeChoice(cr,dr),cr.isError(fr))return fr;if(!ur.any&&ur.choice===null&&ur.children!==null&&ur.children.forEach(function(qr){qr._decode(cr,dr)}),ur.contains&&(ur.tag==="octstr"||ur.tag==="bitstr")){var Ar=new Nt(fr);fr=this._getUse(ur.contains,cr._reporterState.obj)._decode(Ar,dr)}}return ur.obj&&hr&&(fr=cr.leaveObject(vr)),ur.key!==null&&(fr!==null||hr===!0)?cr.leaveKey(pr,ur.key,fr):pr!==null&&cr.exitKey(pr),fr},sr.prototype._decodeGeneric=function(cr,dr,ur){var fr=this._baseState;return cr==="seq"||cr==="set"?null:cr==="seqof"||cr==="setof"?this._decodeList(dr,cr,fr.args[0],ur):/str$/.test(cr)?this._decodeStr(dr,cr,ur):cr==="objid"&&fr.args?this._decodeObjid(dr,fr.args[0],fr.args[1],ur):cr==="objid"?this._decodeObjid(dr,null,null,ur):cr==="gentime"||cr==="utctime"?this._decodeTime(dr,cr,ur):cr==="null_"?this._decodeNull(dr,ur):cr==="bool"?this._decodeBool(dr,ur):cr==="objDesc"?this._decodeStr(dr,cr,ur):cr==="int"||cr==="enum"?this._decodeInt(dr,fr.args&&fr.args[0],ur):fr.use!==null?this._getUse(fr.use,dr._reporterState.obj)._decode(dr,ur):dr.error("unknown tag: "+cr)},sr.prototype._getUse=function(cr,dr){var ur=this._baseState;return ur.useDecoder=this._use(cr,dr),er(ur.useDecoder._baseState.parent===null),ur.useDecoder=ur.useDecoder._baseState.children[0],ur.implicit!==ur.useDecoder._baseState.implicit&&(ur.useDecoder=ur.useDecoder.clone(),ur.useDecoder._baseState.implicit=ur.implicit),ur.useDecoder},sr.prototype._decodeChoice=function(cr,dr){var ur=this._baseState,fr=null,hr=!1;return Object.keys(ur.choice).some(function(pr){var gr=cr.save(),br=ur.choice[pr];try{var vr=br._decode(cr,dr);if(cr.isError(vr))return!1;fr={type:pr,value:vr},hr=!0}catch{return cr.restore(gr),!1}return!0},this),hr?fr:cr.error("Choice not matched")},sr.prototype._createEncoderBuffer=function(cr){return new Ot(cr,this.reporter)},sr.prototype._encode=function(cr,dr,ur){var fr=this._baseState;if(!(fr.default!==null&&fr.default===cr)){var hr=this._encodeValue(cr,dr,ur);if(hr!==void 0&&!this._skipDefault(hr,dr,ur))return hr}},sr.prototype._encodeValue=function(cr,dr,ur){var fr=this._baseState;if(fr.parent===null)return fr.children[0]._encode(cr,dr||new tr);var br=null;if(this.reporter=dr,fr.optional&&cr===void 0)if(fr.default!==null)cr=fr.default;else return;var hr=null,pr=!1;if(fr.any)br=this._createEncoderBuffer(cr);else if(fr.choice)br=this._encodeChoice(cr,dr);else if(fr.contains)hr=this._getUse(fr.contains,ur)._encode(cr,dr),pr=!0;else if(fr.children)hr=fr.children.map(function(Sr){if(Sr._baseState.tag==="null_")return Sr._encode(null,dr,cr);if(Sr._baseState.key===null)return dr.error("Child should have a key");var Cr=dr.enterKey(Sr._baseState.key);if(typeof cr!="object")return dr.error("Child expected, but input is not object");var Ar=Sr._encode(cr[Sr._baseState.key],dr,cr);return dr.leaveKey(Cr),Ar},this).filter(function(Sr){return Sr}),hr=this._createEncoderBuffer(hr);else if(fr.tag==="seqof"||fr.tag==="setof"){if(!(fr.args&&fr.args.length===1))return dr.error("Too many args for : "+fr.tag);if(!Array.isArray(cr))return dr.error("seqof/setof, but data is not Array");var gr=this.clone();gr._baseState.implicit=null,hr=this._createEncoderBuffer(cr.map(function(Sr){var Cr=this._baseState;return this._getUse(Cr.args[0],cr)._encode(Sr,dr)},gr))}else fr.use!==null?br=this._getUse(fr.use,ur)._encode(cr,dr):(hr=this._encodePrimitive(fr.tag,cr),pr=!0);var br;if(!fr.any&&fr.choice===null){var vr=fr.implicit!==null?fr.implicit:fr.tag,kr=fr.implicit===null?"universal":"context";vr===null?fr.use===null&&dr.error("Tag could be omitted only for .use()"):fr.use===null&&(br=this._encodeComposite(vr,pr,kr,hr))}return fr.explicit!==null&&(br=this._encodeComposite(fr.explicit,!1,"context",br)),br},sr.prototype._encodeChoice=function(cr,dr){var ur=this._baseState,fr=ur.choice[cr.type];return fr||er(!1,cr.type+" not found in "+JSON.stringify(Object.keys(ur.choice))),fr._encode(cr.value,dr)},sr.prototype._encodePrimitive=function(cr,dr){var ur=this._baseState;if(/str$/.test(cr))return this._encodeStr(dr,cr);if(cr==="objid"&&ur.args)return this._encodeObjid(dr,ur.reverseArgs[0],ur.args[1]);if(cr==="objid")return this._encodeObjid(dr,null,null);if(cr==="gentime"||cr==="utctime")return this._encodeTime(dr,cr);if(cr==="null_")return this._encodeNull();if(cr==="int"||cr==="enum")return this._encodeInt(dr,ur.args&&ur.reverseArgs[0]);if(cr==="bool")return this._encodeBool(dr);if(cr==="objDesc")return this._encodeStr(dr,cr);throw new Error("Unsupported tag: "+cr)},sr.prototype._isNumstr=function(cr){return/^[0-9 ]*$/.test(cr)},sr.prototype._isPrintstr=function(cr){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(cr)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(tr){var Ot=tr;Ot.Reporter=requireReporter().Reporter,Ot.DecoderBuffer=requireBuffer().DecoderBuffer,Ot.EncoderBuffer=requireBuffer().EncoderBuffer,Ot.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(tr){var Ot=requireConstants();tr.tagClass={0:"universal",1:"application",2:"context",3:"private"},tr.tagClassByName=Ot._reverse(tr.tagClass),tr.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},tr.tagByName=Ot._reverse(tr.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(tr){var Ot=tr;Ot._reverse=function(er){var rr={};return Object.keys(er).forEach(function(ir){(ir|0)==ir&&(ir=ir|0);var nr=er[ir];rr[nr]=ir}),rr},Ot.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var tr=inherits_browserExports,Ot=requireAsn1$1(),Nt=Ot.base,er=Ot.bignum,rr=Ot.constants.der;function ir(lr){this.enc="der",this.name=lr.name,this.entity=lr,this.tree=new nr,this.tree._init(lr.body)}der_1$1=ir,ir.prototype.decode=function(cr,dr){return cr instanceof Nt.DecoderBuffer||(cr=new Nt.DecoderBuffer(cr,dr)),this.tree._decode(cr,dr)};function nr(lr){Nt.Node.call(this,"der",lr)}tr(nr,Nt.Node),nr.prototype._peekTag=function(cr,dr,ur){if(cr.isEmpty())return!1;var fr=cr.save(),hr=sr(cr,'Failed to peek tag: "'+dr+'"');return cr.isError(hr)?hr:(cr.restore(fr),hr.tag===dr||hr.tagStr===dr||hr.tagStr+"of"===dr||ur)},nr.prototype._decodeTag=function(cr,dr,ur){var fr=sr(cr,'Failed to decode tag of "'+dr+'"');if(cr.isError(fr))return fr;var hr=ar(cr,fr.primitive,'Failed to get length of "'+dr+'"');if(cr.isError(hr))return hr;if(!ur&&fr.tag!==dr&&fr.tagStr!==dr&&fr.tagStr+"of"!==dr)return cr.error('Failed to match tag: "'+dr+'"');if(fr.primitive||hr!==null)return cr.skip(hr,'Failed to match body of: "'+dr+'"');var pr=cr.save(),gr=this._skipUntilEnd(cr,'Failed to skip indefinite length body: "'+this.tag+'"');return cr.isError(gr)?gr:(hr=cr.offset-pr.offset,cr.restore(pr),cr.skip(hr,'Failed to match body of: "'+dr+'"'))},nr.prototype._skipUntilEnd=function(cr,dr){for(;;){var ur=sr(cr,dr);if(cr.isError(ur))return ur;var fr=ar(cr,ur.primitive,dr);if(cr.isError(fr))return fr;var hr;if(ur.primitive||fr!==null?hr=cr.skip(fr):hr=this._skipUntilEnd(cr,dr),cr.isError(hr))return hr;if(ur.tagStr==="end")break}},nr.prototype._decodeList=function(cr,dr,ur,fr){for(var hr=[];!cr.isEmpty();){var pr=this._peekTag(cr,"end");if(cr.isError(pr))return pr;var gr=ur.decode(cr,"der",fr);if(cr.isError(gr)&&pr)break;hr.push(gr)}return hr},nr.prototype._decodeStr=function(cr,dr){if(dr==="bitstr"){var ur=cr.readUInt8();return cr.isError(ur)?ur:{unused:ur,data:cr.raw()}}else if(dr==="bmpstr"){var fr=cr.raw();if(fr.length%2===1)return cr.error("Decoding of string type: bmpstr length mismatch");for(var hr="",pr=0;pr<fr.length/2;pr++)hr+=String.fromCharCode(fr.readUInt16BE(pr*2));return hr}else if(dr==="numstr"){var gr=cr.raw().toString("ascii");return this._isNumstr(gr)?gr:cr.error("Decoding of string type: numstr unsupported characters")}else{if(dr==="octstr")return cr.raw();if(dr==="objDesc")return cr.raw();if(dr==="printstr"){var br=cr.raw().toString("ascii");return this._isPrintstr(br)?br:cr.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(dr)?cr.raw().toString():cr.error("Decoding of string type: "+dr+" unsupported")}},nr.prototype._decodeObjid=function(cr,dr,ur){for(var fr,hr=[],pr=0;!cr.isEmpty();){var gr=cr.readUInt8();pr<<=7,pr|=gr&127,gr&128||(hr.push(pr),pr=0)}gr&128&&hr.push(pr);var br=hr[0]/40|0,vr=hr[0]%40;if(ur?fr=hr:fr=[br,vr].concat(hr.slice(1)),dr){var kr=dr[fr.join(" ")];kr===void 0&&(kr=dr[fr.join(".")]),kr!==void 0&&(fr=kr)}return fr},nr.prototype._decodeTime=function(cr,dr){var ur=cr.raw().toString();if(dr==="gentime")var fr=ur.slice(0,4)|0,hr=ur.slice(4,6)|0,pr=ur.slice(6,8)|0,gr=ur.slice(8,10)|0,br=ur.slice(10,12)|0,vr=ur.slice(12,14)|0;else if(dr==="utctime"){var fr=ur.slice(0,2)|0,hr=ur.slice(2,4)|0,pr=ur.slice(4,6)|0,gr=ur.slice(6,8)|0,br=ur.slice(8,10)|0,vr=ur.slice(10,12)|0;fr<70?fr=2e3+fr:fr=1900+fr}else return cr.error("Decoding "+dr+" time is not supported yet");return Date.UTC(fr,hr-1,pr,gr,br,vr,0)},nr.prototype._decodeNull=function(cr){return null},nr.prototype._decodeBool=function(cr){var dr=cr.readUInt8();return cr.isError(dr)?dr:dr!==0},nr.prototype._decodeInt=function(cr,dr){var ur=cr.raw(),fr=new er(ur);return dr&&(fr=dr[fr.toString(10)]||fr),fr},nr.prototype._use=function(cr,dr){return typeof cr=="function"&&(cr=cr(dr)),cr._getDecoder("der").tree};function sr(lr,cr){var dr=lr.readUInt8(cr);if(lr.isError(dr))return dr;var ur=rr.tagClass[dr>>6],fr=(dr&32)===0;if((dr&31)===31){var hr=dr;for(dr=0;(hr&128)===128;){if(hr=lr.readUInt8(cr),lr.isError(hr))return hr;dr<<=7,dr|=hr&127}}else dr&=31;var pr=rr.tag[dr];return{cls:ur,primitive:fr,tag:dr,tagStr:pr}}function ar(lr,cr,dr){var ur=lr.readUInt8(dr);if(lr.isError(ur))return ur;if(!cr&&ur===128)return null;if(!(ur&128))return ur;var fr=ur&127;if(fr>4)return lr.error("length octect is too long");ur=0;for(var hr=0;hr<fr;hr++){ur<<=8;var pr=lr.readUInt8(dr);if(lr.isError(pr))return pr;ur|=pr}return ur}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var tr=inherits_browserExports,Ot=require$$1$3.Buffer,Nt=requireDer$1();function er(rr){Nt.call(this,rr),this.enc="pem"}return tr(er,Nt),pem$1=er,er.prototype.decode=function(ir,nr){for(var sr=ir.toString().split(/[\r\n]+/g),ar=nr.label.toUpperCase(),lr=/^-----(BEGIN|END) ([^-]+)-----$/,cr=-1,dr=-1,ur=0;ur<sr.length;ur++){var fr=sr[ur].match(lr);if(fr!==null&&fr[2]===ar)if(cr===-1){if(fr[1]!=="BEGIN")break;cr=ur}else{if(fr[1]!=="END")break;dr=ur;break}}if(cr===-1||dr===-1)throw new Error("PEM section not found for: "+ar);var hr=sr.slice(cr+1,dr).join("");hr.replace(/[^a-z0-9\+\/=]+/gi,"");var pr=new Ot(hr,"base64");return Nt.prototype.decode.call(this,pr,nr)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(tr){var Ot=tr;Ot.der=requireDer$1(),Ot.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var tr=inherits_browserExports,Ot=require$$1$3.Buffer,Nt=requireAsn1$1(),er=Nt.base,rr=Nt.constants.der;function ir(lr){this.enc="der",this.name=lr.name,this.entity=lr,this.tree=new nr,this.tree._init(lr.body)}der_1=ir,ir.prototype.encode=function(cr,dr){return this.tree._encode(cr,dr).join()};function nr(lr){er.Node.call(this,"der",lr)}tr(nr,er.Node),nr.prototype._encodeComposite=function(cr,dr,ur,fr){var hr=ar(cr,dr,ur,this.reporter);if(fr.length<128){var br=new Ot(2);return br[0]=hr,br[1]=fr.length,this._createEncoderBuffer([br,fr])}for(var pr=1,gr=fr.length;gr>=256;gr>>=8)pr++;var br=new Ot(2+pr);br[0]=hr,br[1]=128|pr;for(var gr=1+pr,vr=fr.length;vr>0;gr--,vr>>=8)br[gr]=vr&255;return this._createEncoderBuffer([br,fr])},nr.prototype._encodeStr=function(cr,dr){if(dr==="bitstr")return this._createEncoderBuffer([cr.unused|0,cr.data]);if(dr==="bmpstr"){for(var ur=new Ot(cr.length*2),fr=0;fr<cr.length;fr++)ur.writeUInt16BE(cr.charCodeAt(fr),fr*2);return this._createEncoderBuffer(ur)}else return dr==="numstr"?this._isNumstr(cr)?this._createEncoderBuffer(cr):this.reporter.error("Encoding of string type: numstr supports only digits and space"):dr==="printstr"?this._isPrintstr(cr)?this._createEncoderBuffer(cr):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(dr)?this._createEncoderBuffer(cr):dr==="objDesc"?this._createEncoderBuffer(cr):this.reporter.error("Encoding of string type: "+dr+" unsupported")},nr.prototype._encodeObjid=function(cr,dr,ur){if(typeof cr=="string"){if(!dr)return this.reporter.error("string objid given, but no values map found");if(!dr.hasOwnProperty(cr))return this.reporter.error("objid not found in values map");cr=dr[cr].split(/[\s\.]+/g);for(var fr=0;fr<cr.length;fr++)cr[fr]|=0}else if(Array.isArray(cr)){cr=cr.slice();for(var fr=0;fr<cr.length;fr++)cr[fr]|=0}if(!Array.isArray(cr))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(cr));if(!ur){if(cr[1]>=40)return this.reporter.error("Second objid identifier OOB");cr.splice(0,2,cr[0]*40+cr[1])}for(var hr=0,fr=0;fr<cr.length;fr++){var pr=cr[fr];for(hr++;pr>=128;pr>>=7)hr++}for(var gr=new Ot(hr),br=gr.length-1,fr=cr.length-1;fr>=0;fr--){var pr=cr[fr];for(gr[br--]=pr&127;(pr>>=7)>0;)gr[br--]=128|pr&127}return this._createEncoderBuffer(gr)};function sr(lr){return lr<10?"0"+lr:lr}nr.prototype._encodeTime=function(cr,dr){var ur,fr=new Date(cr);return dr==="gentime"?ur=[sr(fr.getFullYear()),sr(fr.getUTCMonth()+1),sr(fr.getUTCDate()),sr(fr.getUTCHours()),sr(fr.getUTCMinutes()),sr(fr.getUTCSeconds()),"Z"].join(""):dr==="utctime"?ur=[sr(fr.getFullYear()%100),sr(fr.getUTCMonth()+1),sr(fr.getUTCDate()),sr(fr.getUTCHours()),sr(fr.getUTCMinutes()),sr(fr.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+dr+" time is not supported yet"),this._encodeStr(ur,"octstr")},nr.prototype._encodeNull=function(){return this._createEncoderBuffer("")},nr.prototype._encodeInt=function(cr,dr){if(typeof cr=="string"){if(!dr)return this.reporter.error("String int or enum given, but no values map");if(!dr.hasOwnProperty(cr))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(cr));cr=dr[cr]}if(typeof cr!="number"&&!Ot.isBuffer(cr)){var ur=cr.toArray();!cr.sign&&ur[0]&128&&ur.unshift(0),cr=new Ot(ur)}if(Ot.isBuffer(cr)){var fr=cr.length;cr.length===0&&fr++;var pr=new Ot(fr);return cr.copy(pr),cr.length===0&&(pr[0]=0),this._createEncoderBuffer(pr)}if(cr<128)return this._createEncoderBuffer(cr);if(cr<256)return this._createEncoderBuffer([0,cr]);for(var fr=1,hr=cr;hr>=256;hr>>=8)fr++;for(var pr=new Array(fr),hr=pr.length-1;hr>=0;hr--)pr[hr]=cr&255,cr>>=8;return pr[0]&128&&pr.unshift(0),this._createEncoderBuffer(new Ot(pr))},nr.prototype._encodeBool=function(cr){return this._createEncoderBuffer(cr?255:0)},nr.prototype._use=function(cr,dr){return typeof cr=="function"&&(cr=cr(dr)),cr._getEncoder("der").tree},nr.prototype._skipDefault=function(cr,dr,ur){var fr=this._baseState,hr;if(fr.default===null)return!1;var pr=cr.join();if(fr.defaultBuffer===void 0&&(fr.defaultBuffer=this._encodeValue(fr.default,dr,ur).join()),pr.length!==fr.defaultBuffer.length)return!1;for(hr=0;hr<pr.length;hr++)if(pr[hr]!==fr.defaultBuffer[hr])return!1;return!0};function ar(lr,cr,dr,ur){var fr;if(lr==="seqof"?lr="seq":lr==="setof"&&(lr="set"),rr.tagByName.hasOwnProperty(lr))fr=rr.tagByName[lr];else if(typeof lr=="number"&&(lr|0)===lr)fr=lr;else return ur.error("Unknown tag: "+lr);return fr>=31?ur.error("Multi-octet tag encoding unsupported"):(cr||(fr|=32),fr|=rr.tagClassByName[dr||"universal"]<<6,fr)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var tr=inherits_browserExports,Ot=requireDer();function Nt(er){Ot.call(this,er),this.enc="pem"}return tr(Nt,Ot),pem=Nt,Nt.prototype.encode=function(rr,ir){for(var nr=Ot.prototype.encode.call(this,rr),sr=nr.toString("base64"),ar=["-----BEGIN "+ir.label+"-----"],lr=0;lr<sr.length;lr+=64)ar.push(sr.slice(lr,lr+64));return ar.push("-----END "+ir.label+"-----"),ar.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(tr){var Ot=tr;Ot.der=requireDer(),Ot.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(tr){var Ot=tr;Ot.bignum=requireBn$1(),Ot.define=requireApi().define,Ot.base=requireBase(),Ot.constants=requireConstants(),Ot.decoders=requireDecoders(),Ot.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var tr=requireAsn1$1(),Ot=tr.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Nt=tr.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),er=tr.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),rr=tr.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(er),this.key("subjectPublicKey").bitstr())}),ir=tr.define("RelativeDistinguishedName",function(){this.setof(Nt)}),nr=tr.define("RDNSequence",function(){this.seqof(ir)}),sr=tr.define("Name",function(){this.choice({rdnSequence:this.use(nr)})}),ar=tr.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Ot),this.key("notAfter").use(Ot))}),lr=tr.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),cr=tr.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(er),this.key("issuer").use(sr),this.key("validity").use(ar),this.key("subject").use(sr),this.key("subjectPublicKeyInfo").use(rr),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(lr).optional())}),dr=tr.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(cr),this.key("signatureAlgorithm").use(er),this.key("signatureValue").bitstr())});return certificate=dr,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var tr=requireAsn1$1();asn1$1.certificate=requireCertificate();var Ot=tr.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=Ot;var Nt=tr.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=Nt;var er=tr.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),rr=tr.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(er),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=rr;var ir=tr.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(er),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=ir;var nr=tr.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=nr;var sr=tr.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=sr,asn1$1.DSAparam=tr.define("DSAparam",function(){this.int()});var ar=tr.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),lr=tr.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ar),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=lr,asn1$1.signature=tr.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var tr=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Ot=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Nt=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,er=requireEvp_bytestokey(),rr=requireBrowser$6(),ir=safeBufferExports.Buffer;return fixProc=function(nr,sr){var ar=nr.toString(),lr=ar.match(tr),cr;if(lr){var ur="aes"+lr[1],fr=ir.from(lr[2],"hex"),hr=ir.from(lr[3].replace(/[\r\n]/g,""),"base64"),pr=er(sr,fr.slice(0,8),parseInt(lr[1],10)).key,gr=[],br=rr.createDecipheriv(ur,pr,fr);gr.push(br.update(hr)),gr.push(br.final()),cr=ir.concat(gr)}else{var dr=ar.match(Nt);cr=ir.from(dr[2].replace(/[\r\n]/g,""),"base64")}var vr=ar.match(Ot)[1];return{tag:vr,data:cr}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var tr=requireAsn1(),Ot=require$$1,Nt=requireFixProc(),er=requireBrowser$6(),rr=requireBrowser$7(),ir=safeBufferExports.Buffer;function nr(ar,lr){var cr=ar.algorithm.decrypt.kde.kdeparams.salt,dr=parseInt(ar.algorithm.decrypt.kde.kdeparams.iters.toString(),10),ur=Ot[ar.algorithm.decrypt.cipher.algo.join(".")],fr=ar.algorithm.decrypt.cipher.iv,hr=ar.subjectPrivateKey,pr=parseInt(ur.split("-")[1],10)/8,gr=rr.pbkdf2Sync(lr,cr,dr,pr,"sha1"),br=er.createDecipheriv(ur,gr,fr),vr=[];return vr.push(br.update(hr)),vr.push(br.final()),ir.concat(vr)}function sr(ar){var lr;typeof ar=="object"&&!ir.isBuffer(ar)&&(lr=ar.passphrase,ar=ar.key),typeof ar=="string"&&(ar=ir.from(ar));var cr=Nt(ar,lr),dr=cr.tag,ur=cr.data,fr,hr;switch(dr){case"CERTIFICATE":hr=tr.certificate.decode(ur,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(hr||(hr=tr.PublicKey.decode(ur,"der")),fr=hr.algorithm.algorithm.join("."),fr){case"1.2.840.113549.1.1.1":return tr.RSAPublicKey.decode(hr.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return hr.subjectPrivateKey=hr.subjectPublicKey,{type:"ec",data:hr};case"1.2.840.10040.4.1":return hr.algorithm.params.pub_key=tr.DSAparam.decode(hr.subjectPublicKey.data,"der"),{type:"dsa",data:hr.algorithm.params};default:throw new Error("unknown key id "+fr)}case"ENCRYPTED PRIVATE KEY":ur=tr.EncryptedPrivateKey.decode(ur,"der"),ur=nr(ur,lr);case"PRIVATE KEY":switch(hr=tr.PrivateKey.decode(ur,"der"),fr=hr.algorithm.algorithm.join("."),fr){case"1.2.840.113549.1.1.1":return tr.RSAPrivateKey.decode(hr.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:hr.algorithm.curve,privateKey:tr.ECPrivateKey.decode(hr.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return hr.algorithm.params.priv_key=tr.DSAparam.decode(hr.subjectPrivateKey,"der"),{type:"dsa",params:hr.algorithm.params};default:throw new Error("unknown key id "+fr)}case"RSA PUBLIC KEY":return tr.RSAPublicKey.decode(ur,"der");case"RSA PRIVATE KEY":return tr.RSAPrivateKey.decode(ur,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:tr.DSAPrivateKey.decode(ur,"der")};case"EC PRIVATE KEY":return ur=tr.ECPrivateKey.decode(ur,"der"),{curve:ur.parameters.value,privateKey:ur.privateKey};default:throw new Error("unknown key type "+dr)}}return sr.signature=tr.signature,parseAsn1=sr,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var tr=safeBufferExports.Buffer,Ot=requireBrowser$8(),Nt=requireBrowserifyRsa(),er=requireElliptic().ec,rr=requireBn(),ir=requireParseAsn1(),nr=require$$4,sr=1;function ar(br,vr,kr,Sr,Cr){var Ar=ir(vr);if(Ar.curve){if(Sr!=="ecdsa"&&Sr!=="ecdsa/rsa")throw new Error("wrong private key type");return lr(br,Ar)}else if(Ar.type==="dsa"){if(Sr!=="dsa")throw new Error("wrong private key type");return cr(br,Ar,kr)}if(Sr!=="rsa"&&Sr!=="ecdsa/rsa")throw new Error("wrong private key type");if(vr.padding!==void 0&&vr.padding!==sr)throw new Error("illegal or unsupported padding mode");br=tr.concat([Cr,br]);for(var Ir=Ar.modulus.byteLength(),qr=[0,1];br.length+qr.length+1<Ir;)qr.push(255);qr.push(0);for(var Qr=-1;++Qr<br.length;)qr.push(br[Qr]);var Wr=Nt(qr,Ar);return Wr}function lr(br,vr){var kr=nr[vr.curve.join(".")];if(!kr)throw new Error("unknown curve "+vr.curve.join("."));var Sr=new er(kr),Cr=Sr.keyFromPrivate(vr.privateKey),Ar=Cr.sign(br);return tr.from(Ar.toDER())}function cr(br,vr,kr){for(var Sr=vr.params.priv_key,Cr=vr.params.p,Ar=vr.params.q,Ir=vr.params.g,qr=new rr(0),Qr,Wr=fr(br,Ar).mod(Ar),jr=!1,Or=ur(Sr,Ar,br,kr);jr===!1;)Qr=pr(Ar,Or,kr),qr=gr(Ir,Qr,Cr,Ar),jr=Qr.invm(Ar).imul(Wr.add(Sr.mul(qr))).mod(Ar),jr.cmpn(0)===0&&(jr=!1,qr=new rr(0));return dr(qr,jr)}function dr(br,vr){br=br.toArray(),vr=vr.toArray(),br[0]&128&&(br=[0].concat(br)),vr[0]&128&&(vr=[0].concat(vr));var kr=br.length+vr.length+4,Sr=[48,kr,2,br.length];return Sr=Sr.concat(br,[2,vr.length],vr),tr.from(Sr)}function ur(br,vr,kr,Sr){if(br=tr.from(br.toArray()),br.length<vr.byteLength()){var Cr=tr.alloc(vr.byteLength()-br.length);br=tr.concat([Cr,br])}var Ar=kr.length,Ir=hr(kr,vr),qr=tr.alloc(Ar);qr.fill(1);var Qr=tr.alloc(Ar);return Qr=Ot(Sr,Qr).update(qr).update(tr.from([0])).update(br).update(Ir).digest(),qr=Ot(Sr,Qr).update(qr).digest(),Qr=Ot(Sr,Qr).update(qr).update(tr.from([1])).update(br).update(Ir).digest(),qr=Ot(Sr,Qr).update(qr).digest(),{k:Qr,v:qr}}function fr(br,vr){var kr=new rr(br),Sr=(br.length<<3)-vr.bitLength();return Sr>0&&kr.ishrn(Sr),kr}function hr(br,vr){br=fr(br,vr),br=br.mod(vr);var kr=tr.from(br.toArray());if(kr.length<vr.byteLength()){var Sr=tr.alloc(vr.byteLength()-kr.length);kr=tr.concat([Sr,kr])}return kr}function pr(br,vr,kr){var Sr,Cr;do{for(Sr=tr.alloc(0);Sr.length*8<br.bitLength();)vr.v=Ot(kr,vr.k).update(vr.v).digest(),Sr=tr.concat([Sr,vr.v]);Cr=fr(Sr,br),vr.k=Ot(kr,vr.k).update(vr.v).update(tr.from([0])).digest(),vr.v=Ot(kr,vr.k).update(vr.v).digest()}while(Cr.cmp(br)!==-1);return Cr}function gr(br,vr,kr,Sr){return br.toRed(rr.mont(kr)).redPow(vr).fromRed().mod(Sr)}return sign.exports=ar,sign.exports.getKey=ur,sign.exports.makeKey=pr,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var tr=safeBufferExports.Buffer,Ot=requireBn(),Nt=requireElliptic().ec,er=requireParseAsn1(),rr=require$$4;function ir(lr,cr,dr,ur,fr){var hr=er(dr);if(hr.type==="ec"){if(ur!=="ecdsa"&&ur!=="ecdsa/rsa")throw new Error("wrong public key type");return nr(lr,cr,hr)}else if(hr.type==="dsa"){if(ur!=="dsa")throw new Error("wrong public key type");return sr(lr,cr,hr)}if(ur!=="rsa"&&ur!=="ecdsa/rsa")throw new Error("wrong public key type");cr=tr.concat([fr,cr]);for(var pr=hr.modulus.byteLength(),gr=[1],br=0;cr.length+gr.length+2<pr;)gr.push(255),br+=1;gr.push(0);for(var vr=-1;++vr<cr.length;)gr.push(cr[vr]);gr=tr.from(gr);var kr=Ot.mont(hr.modulus);lr=new Ot(lr).toRed(kr),lr=lr.redPow(new Ot(hr.publicExponent)),lr=tr.from(lr.fromRed().toArray());var Sr=br<8?1:0;for(pr=Math.min(lr.length,gr.length),lr.length!==gr.length&&(Sr=1),vr=-1;++vr<pr;)Sr|=lr[vr]^gr[vr];return Sr===0}function nr(lr,cr,dr){var ur=rr[dr.data.algorithm.curve.join(".")];if(!ur)throw new Error("unknown curve "+dr.data.algorithm.curve.join("."));var fr=new Nt(ur),hr=dr.data.subjectPrivateKey.data;return fr.verify(cr,lr,hr)}function sr(lr,cr,dr){var ur=dr.data.p,fr=dr.data.q,hr=dr.data.g,pr=dr.data.pub_key,gr=er.signature.decode(lr,"der"),br=gr.s,vr=gr.r;ar(br,fr),ar(vr,fr);var kr=Ot.mont(ur),Sr=br.invm(fr),Cr=hr.toRed(kr).redPow(new Ot(cr).mul(Sr).mod(fr)).fromRed().mul(pr.toRed(kr).redPow(vr.mul(Sr).mod(fr)).fromRed()).mod(ur).mod(fr);return Cr.cmp(vr)===0}function ar(lr,cr){if(lr.cmpn(0)<=0)throw new Error("invalid sig");if(lr.cmp(cr)>=0)throw new Error("invalid sig")}return verify_1=ir,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var tr=safeBufferExports.Buffer,Ot=requireBrowser$9(),Nt=requireReadableBrowser(),er=inherits_browserExports,rr=requireSign(),ir=requireVerify(),nr=require$$6;Object.keys(nr).forEach(function(dr){nr[dr].id=tr.from(nr[dr].id,"hex"),nr[dr.toLowerCase()]=nr[dr]});function sr(dr){Nt.Writable.call(this);var ur=nr[dr];if(!ur)throw new Error("Unknown message digest");this._hashType=ur.hash,this._hash=Ot(ur.hash),this._tag=ur.id,this._signType=ur.sign}er(sr,Nt.Writable),sr.prototype._write=function(ur,fr,hr){this._hash.update(ur),hr()},sr.prototype.update=function(ur,fr){return this._hash.update(typeof ur=="string"?tr.from(ur,fr):ur),this},sr.prototype.sign=function(ur,fr){this.end();var hr=this._hash.digest(),pr=rr(hr,ur,this._hashType,this._signType,this._tag);return fr?pr.toString(fr):pr};function ar(dr){Nt.Writable.call(this);var ur=nr[dr];if(!ur)throw new Error("Unknown message digest");this._hash=Ot(ur.hash),this._tag=ur.id,this._signType=ur.sign}er(ar,Nt.Writable),ar.prototype._write=function(ur,fr,hr){this._hash.update(ur),hr()},ar.prototype.update=function(ur,fr){return this._hash.update(typeof ur=="string"?tr.from(ur,fr):ur),this},ar.prototype.verify=function(ur,fr,hr){var pr=typeof fr=="string"?tr.from(fr,hr):fr;this.end();var gr=this._hash.digest();return ir(pr,gr,ur,this._signType,this._tag)};function lr(dr){return new sr(dr)}function cr(dr){return new ar(dr)}return browser$3={Sign:lr,Verify:cr,createSign:lr,createVerify:cr},browser$3}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var tr=requireElliptic(),Ot=requireBn$1();browser$2=function(nr){return new er(nr)};var Nt={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Nt.p224=Nt.secp224r1,Nt.p256=Nt.secp256r1=Nt.prime256v1,Nt.p192=Nt.secp192r1=Nt.prime192v1,Nt.p384=Nt.secp384r1,Nt.p521=Nt.secp521r1;function er(ir){this.curveType=Nt[ir],this.curveType||(this.curveType={name:ir}),this.curve=new tr.ec(this.curveType.name),this.keys=void 0}er.prototype.generateKeys=function(ir,nr){return this.keys=this.curve.genKeyPair(),this.getPublicKey(ir,nr)},er.prototype.computeSecret=function(ir,nr,sr){nr=nr||"utf8",Buffer.isBuffer(ir)||(ir=new Buffer(ir,nr));var ar=this.curve.keyFromPublic(ir).getPublic(),lr=ar.mul(this.keys.getPrivate()).getX();return rr(lr,sr,this.curveType.byteLength)},er.prototype.getPublicKey=function(ir,nr){var sr=this.keys.getPublic(nr==="compressed",!0);return nr==="hybrid"&&(sr[sr.length-1]%2?sr[0]=7:sr[0]=6),rr(sr,ir)},er.prototype.getPrivateKey=function(ir){return rr(this.keys.getPrivate(),ir)},er.prototype.setPublicKey=function(ir,nr){return nr=nr||"utf8",Buffer.isBuffer(ir)||(ir=new Buffer(ir,nr)),this.keys._importPublic(ir),this},er.prototype.setPrivateKey=function(ir,nr){nr=nr||"utf8",Buffer.isBuffer(ir)||(ir=new Buffer(ir,nr));var sr=new Ot(ir);return sr=sr.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(sr),this};function rr(ir,nr,sr){Array.isArray(ir)||(ir=ir.toArray());var ar=new Buffer(ir);if(sr&&ar.length<sr){var lr=new Buffer(sr-ar.length);lr.fill(0),ar=Buffer.concat([lr,ar])}return nr?ar.toString(nr):ar}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var tr=requireBrowser$9(),Ot=safeBufferExports.Buffer;mgf=function(er,rr){for(var ir=Ot.alloc(0),nr=0,sr;ir.length<rr;)sr=Nt(nr++),ir=Ot.concat([ir,tr("sha1").update(er).update(sr).digest()]);return ir.slice(0,rr)};function Nt(er){var rr=Ot.allocUnsafe(4);return rr.writeUInt32BE(er,0),rr}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(Ot,Nt){for(var er=Ot.length,rr=-1;++rr<er;)Ot[rr]^=Nt[rr];return Ot}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var tr=requireBn$1(),Ot=safeBufferExports.Buffer;function Nt(er,rr){return Ot.from(er.toRed(tr.mont(rr.modulus)).redPow(new tr(rr.publicExponent)).fromRed().toArray())}return withPublic_1=Nt,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var tr=requireParseAsn1(),Ot=requireBrowser$b(),Nt=requireBrowser$9(),er=requireMgf(),rr=requireXor(),ir=requireBn$1(),nr=requireWithPublic(),sr=requireBrowserifyRsa(),ar=safeBufferExports.Buffer;publicEncrypt=function(fr,hr,pr){var gr;fr.padding?gr=fr.padding:pr?gr=1:gr=4;var br=tr(fr),vr;if(gr===4)vr=lr(br,hr);else if(gr===1)vr=cr(br,hr,pr);else if(gr===3){if(vr=new ir(hr),vr.cmp(br.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return pr?sr(vr,br):nr(vr,br)};function lr(ur,fr){var hr=ur.modulus.byteLength(),pr=fr.length,gr=Nt("sha1").update(ar.alloc(0)).digest(),br=gr.length,vr=2*br;if(pr>hr-vr-2)throw new Error("message too long");var kr=ar.alloc(hr-pr-vr-2),Sr=hr-br-1,Cr=Ot(br),Ar=rr(ar.concat([gr,kr,ar.alloc(1,1),fr],Sr),er(Cr,Sr)),Ir=rr(Cr,er(Ar,br));return new ir(ar.concat([ar.alloc(1),Ir,Ar],hr))}function cr(ur,fr,hr){var pr=fr.length,gr=ur.modulus.byteLength();if(pr>gr-11)throw new Error("message too long");var br;return hr?br=ar.alloc(gr-pr-3,255):br=dr(gr-pr-3),new ir(ar.concat([ar.from([0,hr?1:2]),br,ar.alloc(1),fr],gr))}function dr(ur){for(var fr=ar.allocUnsafe(ur),hr=0,pr=Ot(ur*2),gr=0,br;hr<ur;)gr===pr.length&&(pr=Ot(ur*2),gr=0),br=pr[gr++],br&&(fr[hr++]=br);return fr}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var tr=requireParseAsn1(),Ot=requireMgf(),Nt=requireXor(),er=requireBn$1(),rr=requireBrowserifyRsa(),ir=requireBrowser$9(),nr=requireWithPublic(),sr=safeBufferExports.Buffer;privateDecrypt=function(ur,fr,hr){var pr;ur.padding?pr=ur.padding:hr?pr=1:pr=4;var gr=tr(ur),br=gr.modulus.byteLength();if(fr.length>br||new er(fr).cmp(gr.modulus)>=0)throw new Error("decryption error");var vr;hr?vr=nr(new er(fr),gr):vr=rr(fr,gr);var kr=sr.alloc(br-vr.length);if(vr=sr.concat([kr,vr],br),pr===4)return ar(gr,vr);if(pr===1)return lr(gr,vr,hr);if(pr===3)return vr;throw new Error("unknown padding")};function ar(dr,ur){var fr=dr.modulus.byteLength(),hr=ir("sha1").update(sr.alloc(0)).digest(),pr=hr.length;if(ur[0]!==0)throw new Error("decryption error");var gr=ur.slice(1,pr+1),br=ur.slice(pr+1),vr=Nt(gr,Ot(br,pr)),kr=Nt(br,Ot(vr,fr-pr-1));if(cr(hr,kr.slice(0,pr)))throw new Error("decryption error");for(var Sr=pr;kr[Sr]===0;)Sr++;if(kr[Sr++]!==1)throw new Error("decryption error");return kr.slice(Sr)}function lr(dr,ur,fr){for(var hr=ur.slice(0,2),pr=2,gr=0;ur[pr++]!==0;)if(pr>=ur.length){gr++;break}var br=ur.slice(2,pr-1);if((hr.toString("hex")!=="0002"&&!fr||hr.toString("hex")!=="0001"&&fr)&&gr++,br.length<8&&gr++,gr)throw new Error("decryption error");return ur.slice(pr)}function cr(dr,ur){dr=sr.from(dr),ur=sr.from(ur);var fr=0,hr=dr.length;dr.length!==ur.length&&(fr++,hr=Math.min(dr.length,ur.length));for(var pr=-1;++pr<hr;)fr+=dr[pr]^ur[pr];return fr}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(tr){tr.publicEncrypt=requirePublicEncrypt(),tr.privateDecrypt=requirePrivateDecrypt(),tr.privateEncrypt=function(Nt,er){return tr.publicEncrypt(Nt,er,!0)},tr.publicDecrypt=function(Nt,er){return tr.privateDecrypt(Nt,er,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function tr(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var Ot=safeBufferExports,Nt=requireBrowser$b(),er=Ot.Buffer,rr=Ot.kMaxLength,ir=commonjsGlobal.crypto||commonjsGlobal.msCrypto,nr=Math.pow(2,32)-1;function sr(ur,fr){if(typeof ur!="number"||ur!==ur)throw new TypeError("offset must be a number");if(ur>nr||ur<0)throw new TypeError("offset must be a uint32");if(ur>rr||ur>fr)throw new RangeError("offset out of range")}function ar(ur,fr,hr){if(typeof ur!="number"||ur!==ur)throw new TypeError("size must be a number");if(ur>nr||ur<0)throw new TypeError("size must be a uint32");if(ur+fr>hr||ur>rr)throw new RangeError("buffer too small")}ir&&ir.getRandomValues||!process$1.browser?(browser.randomFill=lr,browser.randomFillSync=dr):(browser.randomFill=tr,browser.randomFillSync=tr);function lr(ur,fr,hr,pr){if(!er.isBuffer(ur)&&!(ur instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof fr=="function")pr=fr,fr=0,hr=ur.length;else if(typeof hr=="function")pr=hr,hr=ur.length-fr;else if(typeof pr!="function")throw new TypeError('"cb" argument must be a function');return sr(fr,ur.length),ar(hr,fr,ur.length),cr(ur,fr,hr,pr)}function cr(ur,fr,hr,pr){if(process$1.browser){var gr=ur.buffer,br=new Uint8Array(gr,fr,hr);if(ir.getRandomValues(br),pr){process$1.nextTick(function(){pr(null,ur)});return}return ur}if(pr){Nt(hr,function(kr,Sr){if(kr)return pr(kr);Sr.copy(ur,fr),pr(null,ur)});return}var vr=Nt(hr);return vr.copy(ur,fr),ur}function dr(ur,fr,hr){if(typeof fr>"u"&&(fr=0),!er.isBuffer(ur)&&!(ur instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return sr(fr,ur.length),hr===void 0&&(hr=ur.length-fr),ar(hr,fr,ur.length),cr(ur,fr,hr)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var tr=requireAlgos(),Ot=Object.keys(tr),Nt=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Ot);cryptoBrowserify.getHashes=function(){return Nt};var er=requireBrowser$7();cryptoBrowserify.pbkdf2=er.pbkdf2,cryptoBrowserify.pbkdf2Sync=er.pbkdf2Sync;var rr=requireBrowser$5();cryptoBrowserify.Cipher=rr.Cipher,cryptoBrowserify.createCipher=rr.createCipher,cryptoBrowserify.Cipheriv=rr.Cipheriv,cryptoBrowserify.createCipheriv=rr.createCipheriv,cryptoBrowserify.Decipher=rr.Decipher,cryptoBrowserify.createDecipher=rr.createDecipher,cryptoBrowserify.Decipheriv=rr.Decipheriv,cryptoBrowserify.createDecipheriv=rr.createDecipheriv,cryptoBrowserify.getCiphers=rr.getCiphers,cryptoBrowserify.listCiphers=rr.listCiphers;var ir=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=ir.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=ir.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=ir.getDiffieHellman,cryptoBrowserify.createDiffieHellman=ir.createDiffieHellman,cryptoBrowserify.DiffieHellman=ir.DiffieHellman;var nr=requireBrowser$3();cryptoBrowserify.createSign=nr.createSign,cryptoBrowserify.Sign=nr.Sign,cryptoBrowserify.createVerify=nr.createVerify,cryptoBrowserify.Verify=nr.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var sr=requireBrowser$1();cryptoBrowserify.publicEncrypt=sr.publicEncrypt,cryptoBrowserify.privateEncrypt=sr.privateEncrypt,cryptoBrowserify.publicDecrypt=sr.publicDecrypt,cryptoBrowserify.privateDecrypt=sr.privateDecrypt;var ar=requireBrowser();return cryptoBrowserify.randomFill=ar.randomFill,cryptoBrowserify.randomFillSync=ar.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}(function(tr,Ot){var Nt=void 0,er=function(rr){return Nt||(Nt=new Promise(function(ir,nr){var sr=typeof rr<"u"?rr:{},ar=sr.onAbort;sr.onAbort=function($r){nr(new Error($r)),ar&&ar($r)},sr.postRun=sr.postRun||[],sr.postRun.push(function(){ir(sr)}),tr=void 0;var lr;lr||(lr=typeof sr<"u"?sr:{}),lr.onRuntimeInitialized=function(){function $r($i,Ai){switch(typeof Ai){case"boolean":rl($i,Ai?1:0);break;case"number":Ja($i,Ai);break;case"string":el($i,Ai,-1,-1);break;case"object":if(Ai===null)ga($i);else if(Ai.length!=null){var Zi=qs(Ai,Fs);tl($i,Zi,Ai.length,-1),zs(Zi)}else Us($i,"Wrong API use : tried to return a value of an unknown type ("+Ai+").",-1);break;default:ga($i)}}function Dr($i,Ai){for(var Zi=[],un=0;un<$i;un+=1){var mn=Ti(Ai+4*un,"i32"),qn=Va(mn);if(qn===1||qn===2)mn=Ka(mn);else if(qn===3)mn=Xa(mn);else if(qn===4){qn=mn,mn=Ga(qn),qn=Ya(qn);for(var bs=new Uint8Array(mn),hs=0;hs<mn;hs+=1)bs[hs]=Wr[qn+hs];mn=bs}else mn=null;Zi.push(mn)}return Zi}function zr($i,Ai){this.La=$i,this.db=Ai,this.Ja=1,this.fb=[]}function Yr($i,Ai){if(this.db=Ai,Ai=Sn($i)+1,this.Ya=Ws(Ai),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");Xi($i,jr,this.Ya,Ai),this.eb=this.Ya,this.Ua=this.ib=null}function Oi($i){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),$i!=null){var Ai=this.filename,Zi="/",un=Ai;if(Zi&&(Zi=typeof Zi=="string"?Zi:En(Zi),un=Ai?Fi(Zi+"/"+Ai):Zi),Ai=tn(!0,!0),un=Zn(un,(Ai!==void 0?Ai:438)&4095|32768,0),$i){if(typeof $i=="string"){Zi=Array($i.length);for(var mn=0,qn=$i.length;mn<qn;++mn)Zi[mn]=$i.charCodeAt(mn);$i=Zi}Jn(un,Ai|146),Zi=Xn(un,577),Vn(Zi,$i,0,$i.length,0),rs(Zi),Jn(un,Ai)}}this.handleError(dn(this.filename,_i)),this.db=Ti(_i,"i32"),ba(this.db),this.Za={},this.Na={}}var _i=Os(4),Ri=lr.cwrap,dn=Ri("sqlite3_open","number",["string","number"]),Rn=Ri("sqlite3_close_v2","number",["number"]),gn=Ri("sqlite3_exec","number",["number","string","number","number","number"]),Wn=Ri("sqlite3_changes","number",["number"]),Un=Ri("sqlite3_prepare_v2","number",["number","string","number","number","number"]),da=Ri("sqlite3_sql","string",["number"]),Pa=Ri("sqlite3_normalized_sql","string",["number"]),ua=Ri("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Aa=Ri("sqlite3_bind_text","number",["number","number","number","number","number"]),fa=Ri("sqlite3_bind_blob","number",["number","number","number","number","number"]),Ta=Ri("sqlite3_bind_double","number",["number","number","number"]),Ma=Ri("sqlite3_bind_int","number",["number","number","number"]),ja=Ri("sqlite3_bind_parameter_index","number",["number","string"]),Da=Ri("sqlite3_step","number",["number"]),La=Ri("sqlite3_errmsg","string",["number"]),Ia=Ri("sqlite3_column_count","number",["number"]),Na=Ri("sqlite3_data_count","number",["number"]),Fa=Ri("sqlite3_column_double","number",["number","number"]),ha=Ri("sqlite3_column_text","string",["number","number"]),qa=Ri("sqlite3_column_blob","number",["number","number"]),Qa=Ri("sqlite3_column_bytes","number",["number","number"]),Wa=Ri("sqlite3_column_type","number",["number","number"]),za=Ri("sqlite3_column_name","string",["number","number"]),Ha=Ri("sqlite3_reset","number",["number"]),Ua=Ri("sqlite3_clear_bindings","number",["number"]),Za=Ri("sqlite3_finalize","number",["number"]),pa=Ri("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Va=Ri("sqlite3_value_type","number",["number"]),Ga=Ri("sqlite3_value_bytes","number",["number"]),Xa=Ri("sqlite3_value_text","string",["number"]),Ya=Ri("sqlite3_value_blob","number",["number"]),Ka=Ri("sqlite3_value_double","number",["number"]),Ja=Ri("sqlite3_result_double","",["number","number"]),ga=Ri("sqlite3_result_null","",["number"]),el=Ri("sqlite3_result_text","",["number","string","number","number"]),tl=Ri("sqlite3_result_blob","",["number","number","number","number"]),rl=Ri("sqlite3_result_int","",["number","number"]),Us=Ri("sqlite3_result_error","",["number","string","number"]),ma=Ri("sqlite3_aggregate_context","number",["number","number"]),ba=Ri("RegisterExtensionFunctions","number",["number"]);zr.prototype.bind=function($i){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray($i)?this.wb($i):$i!=null&&typeof $i=="object"?this.xb($i):!0},zr.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var $i=Da(this.La);switch($i){case 100:return!0;case 101:return!1;default:throw this.db.handleError($i)}},zr.prototype.rb=function($i){return $i==null&&($i=this.Ja,this.Ja+=1),Fa(this.La,$i)},zr.prototype.Ab=function($i){if($i==null&&($i=this.Ja,this.Ja+=1),$i=ha(this.La,$i),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt($i)},zr.prototype.Bb=function($i){return $i==null&&($i=this.Ja,this.Ja+=1),ha(this.La,$i)},zr.prototype.getBlob=function($i){$i==null&&($i=this.Ja,this.Ja+=1);var Ai=Qa(this.La,$i);$i=qa(this.La,$i);for(var Zi=new Uint8Array(Ai),un=0;un<Ai;un+=1)Zi[un]=Wr[$i+un];return Zi},zr.prototype.get=function($i,Ai){Ai=Ai||{},$i!=null&&this.bind($i)&&this.step(),$i=[];for(var Zi=Na(this.La),un=0;un<Zi;un+=1)switch(Wa(this.La,un)){case 1:var mn=Ai.useBigInt?this.Ab(un):this.rb(un);$i.push(mn);break;case 2:$i.push(this.rb(un));break;case 3:$i.push(this.Bb(un));break;case 4:$i.push(this.getBlob(un));break;default:$i.push(null)}return $i},zr.prototype.getColumnNames=function(){for(var $i=[],Ai=Ia(this.La),Zi=0;Zi<Ai;Zi+=1)$i.push(za(this.La,Zi));return $i},zr.prototype.getAsObject=function($i,Ai){$i=this.get($i,Ai),Ai=this.getColumnNames();for(var Zi={},un=0;un<Ai.length;un+=1)Zi[Ai[un]]=$i[un];return Zi},zr.prototype.getSQL=function(){return da(this.La)},zr.prototype.getNormalizedSQL=function(){return Pa(this.La)},zr.prototype.run=function($i){return $i!=null&&this.bind($i),this.step(),this.reset()},zr.prototype.nb=function($i,Ai){Ai==null&&(Ai=this.Ja,this.Ja+=1),$i=yn($i);var Zi=qs($i,Fs);this.fb.push(Zi),this.db.handleError(Aa(this.La,Ai,Zi,$i.length-1,0))},zr.prototype.vb=function($i,Ai){Ai==null&&(Ai=this.Ja,this.Ja+=1);var Zi=qs($i,Fs);this.fb.push(Zi),this.db.handleError(fa(this.La,Ai,Zi,$i.length,0))},zr.prototype.mb=function($i,Ai){Ai==null&&(Ai=this.Ja,this.Ja+=1),this.db.handleError(($i===($i|0)?Ma:Ta)(this.La,Ai,$i))},zr.prototype.yb=function($i){$i==null&&($i=this.Ja,this.Ja+=1),fa(this.La,$i,0,0,0)},zr.prototype.ob=function($i,Ai){switch(Ai==null&&(Ai=this.Ja,this.Ja+=1),typeof $i){case"string":this.nb($i,Ai);return;case"number":this.mb($i,Ai);return;case"bigint":this.nb($i.toString(),Ai);return;case"boolean":this.mb($i+0,Ai);return;case"object":if($i===null){this.yb(Ai);return}if($i.length!=null){this.vb($i,Ai);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+$i+")."},zr.prototype.xb=function($i){var Ai=this;return Object.keys($i).forEach(function(Zi){var un=ja(Ai.La,Zi);un!==0&&Ai.ob($i[Zi],un)}),!0},zr.prototype.wb=function($i){for(var Ai=0;Ai<$i.length;Ai+=1)this.ob($i[Ai],Ai+1);return!0},zr.prototype.reset=function(){return this.freemem(),Ua(this.La)===0&&Ha(this.La)===0},zr.prototype.freemem=function(){for(var $i;($i=this.fb.pop())!==void 0;)zs($i)},zr.prototype.free=function(){this.freemem();var $i=Za(this.La)===0;return delete this.db.Za[this.La],this.La=0,$i},Yr.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var $i=Ts(),Ai=Os(4);Ii(_i),Ii(Ai);try{this.db.handleError(ua(this.db.db,this.eb,-1,_i,Ai)),this.eb=Ti(Ai,"i32");var Zi=Ti(_i,"i32");return Zi===0?(this.gb(),{done:!0}):(this.Ua=new zr(Zi,this.db),this.db.Za[Zi]=this.Ua,{value:this.Ua,done:!1})}catch(un){throw this.ib=zi(this.eb),this.gb(),un}finally{Ms($i)}},Yr.prototype.gb=function(){zs(this.Ya),this.Ya=null},Yr.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:zi(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(Yr.prototype[Symbol.iterator]=function(){return this}),Oi.prototype.run=function($i,Ai){if(!this.db)throw"Database closed";if(Ai){$i=this.prepare($i,Ai);try{$i.step()}finally{$i.free()}}else this.handleError(gn(this.db,$i,0,0,_i));return this},Oi.prototype.exec=function($i,Ai,Zi){if(!this.db)throw"Database closed";var un=Ts(),mn=null;try{var qn=Ys($i),bs=Os(4);for($i=[];Ti(qn,"i8")!==0;){Ii(_i),Ii(bs),this.handleError(ua(this.db,qn,-1,_i,bs));var hs=Ti(_i,"i32");if(qn=Ti(bs,"i32"),hs!==0){var ns=null;for(mn=new zr(hs,this),Ai!=null&&mn.bind(Ai);mn.step();)ns===null&&(ns={columns:mn.getColumnNames(),values:[]},$i.push(ns)),ns.values.push(mn.get(null,Zi));mn.free()}}return $i}catch(xs){throw mn&&mn.free(),xs}finally{Ms(un)}},Oi.prototype.each=function($i,Ai,Zi,un,mn){typeof Ai=="function"&&(un=Zi,Zi=Ai,Ai=void 0),$i=this.prepare($i,Ai);try{for(;$i.step();)Zi($i.getAsObject(null,mn))}finally{$i.free()}if(typeof un=="function")return un()},Oi.prototype.prepare=function($i,Ai){if(Ii(_i),this.handleError(Un(this.db,$i,-1,_i,0)),$i=Ti(_i,"i32"),$i===0)throw"Nothing to prepare";var Zi=new zr($i,this);return Ai!=null&&Zi.bind(Ai),this.Za[$i]=Zi},Oi.prototype.iterateStatements=function($i){return new Yr($i,this)},Oi.prototype.export=function(){Object.values(this.Za).forEach(function(Ai){Ai.free()}),Object.values(this.Na).forEach(Rs),this.Na={},this.handleError(Rn(this.db));var $i=Es(this.filename);return this.handleError(dn(this.filename,_i)),this.db=Ti(_i,"i32"),ba(this.db),$i},Oi.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function($i){$i.free()}),Object.values(this.Na).forEach(Rs),this.Na={},this.handleError(Rn(this.db)),as("/"+this.filename),this.db=null)},Oi.prototype.handleError=function($i){if($i===0)return null;throw $i=La(this.db),Error($i)},Oi.prototype.getRowsModified=function(){return Wn(this.db)},Oi.prototype.create_function=function($i,Ai){Object.prototype.hasOwnProperty.call(this.Na,$i)&&(Rs(this.Na[$i]),delete this.Na[$i]);var Zi=Qs(function(un,mn,qn){mn=Dr(mn,qn);try{var bs=Ai.apply(null,mn)}catch(hs){Us(un,hs,-1);return}$r(un,bs)},"viii");return this.Na[$i]=Zi,this.handleError(pa(this.db,$i,Ai.length,1,0,Zi,0,0,0)),this},Oi.prototype.create_aggregate=function($i,Ai){var Zi=Ai.init||function(){return null},un=Ai.finalize||function(ns){return ns},mn=Ai.step;if(!mn)throw"An aggregate function must have a step function in "+$i;var qn={};Object.hasOwnProperty.call(this.Na,$i)&&(Rs(this.Na[$i]),delete this.Na[$i]),Ai=$i+"__finalize",Object.hasOwnProperty.call(this.Na,Ai)&&(Rs(this.Na[Ai]),delete this.Na[Ai]);var bs=Qs(function(ns,xs,Js){var Cs=ma(ns,1);Object.hasOwnProperty.call(qn,Cs)||(qn[Cs]=Zi()),xs=Dr(xs,Js),xs=[qn[Cs]].concat(xs);try{qn[Cs]=mn.apply(null,xs)}catch(il){delete qn[Cs],Us(ns,il,-1)}},"viii"),hs=Qs(function(ns){var xs=ma(ns,1);try{var Js=un(qn[xs])}catch(Cs){delete qn[xs],Us(ns,Cs,-1);return}$r(ns,Js),delete qn[xs]},"vi");return this.Na[$i]=bs,this.Na[Ai]=hs,this.handleError(pa(this.db,$i,mn.length-1,1,0,0,bs,hs,0)),this},lr.Database=Oi};var cr=Object.assign({},lr),dr="./this.program",ur=typeof window=="object",fr=typeof importScripts=="function",hr=typeof process$1=="object"&&typeof process$1.versions=="object"&&typeof process$1.versions.node=="string",pr="",gr,br,vr;if(hr){var kr=require$$0$1,Sr=requirePathBrowserify();pr=fr?Sr.dirname(pr)+"/":__dirname+"/",gr=($r,Dr)=>($r=Ur($r)?new URL($r):Sr.normalize($r),kr.readFileSync($r,Dr?void 0:"utf8")),vr=$r=>($r=gr($r,!0),$r.buffer||($r=new Uint8Array($r)),$r),br=($r,Dr,zr,Yr=!0)=>{$r=Ur($r)?new URL($r):Sr.normalize($r),kr.readFile($r,Yr?void 0:"utf8",(Oi,_i)=>{Oi?zr(Oi):Dr(Yr?_i.buffer:_i)})},!lr.thisProgram&&1<process$1.argv.length&&(dr=process$1.argv[1].replace(/\\/g,"/")),process$1.argv.slice(2),tr.exports=lr,lr.inspect=()=>"[Emscripten Module object]"}else(ur||fr)&&(fr?pr=self.location.href:typeof document<"u"&&document.currentScript&&(pr=document.currentScript.src),pr=pr.indexOf("blob:")!==0?pr.substr(0,pr.replace(/[?#].*/,"").lastIndexOf("/")+1):"",gr=$r=>{var Dr=new XMLHttpRequest;return Dr.open("GET",$r,!1),Dr.send(null),Dr.responseText},fr&&(vr=$r=>{var Dr=new XMLHttpRequest;return Dr.open("GET",$r,!1),Dr.responseType="arraybuffer",Dr.send(null),new Uint8Array(Dr.response)}),br=($r,Dr,zr)=>{var Yr=new XMLHttpRequest;Yr.open("GET",$r,!0),Yr.responseType="arraybuffer",Yr.onload=()=>{Yr.status==200||Yr.status==0&&Yr.response?Dr(Yr.response):zr()},Yr.onerror=zr,Yr.send(null)});var Cr=lr.print||console.log.bind(console),Ar=lr.printErr||console.error.bind(console);Object.assign(lr,cr),cr=null,lr.thisProgram&&(dr=lr.thisProgram);var Ir;lr.wasmBinary&&(Ir=lr.wasmBinary),typeof WebAssembly!="object"&&Hr("no native wasm support detected");var qr,Qr=!1,Wr,jr,Or,yr,xr,wr,Br;function _r(){var $r=qr.buffer;lr.HEAP8=Wr=new Int8Array($r),lr.HEAP16=Or=new Int16Array($r),lr.HEAPU8=jr=new Uint8Array($r),lr.HEAPU16=new Uint16Array($r),lr.HEAP32=yr=new Int32Array($r),lr.HEAPU32=xr=new Uint32Array($r),lr.HEAPF32=wr=new Float32Array($r),lr.HEAPF64=Br=new Float64Array($r)}var Mr=[],Tr=[],Er=[];function Pr(){var $r=lr.preRun.shift();Mr.unshift($r)}var Rr=0,Lr=null;function Hr($r){var Dr;throw(Dr=lr.onAbort)==null||Dr.call(lr,$r),$r="Aborted("+$r+")",Ar($r),Qr=!0,new WebAssembly.RuntimeError($r+". Build with -sASSERTIONS for more info.")}var Gr=$r=>$r.startsWith("data:application/octet-stream;base64,"),Ur=$r=>$r.startsWith("file://"),Nr;if(Nr="sql-wasm.wasm",!Gr(Nr)){var Fr=Nr;Nr=lr.locateFile?lr.locateFile(Fr,pr):pr+Fr}function Xr($r){if($r==Nr&&Ir)return new Uint8Array(Ir);if(vr)return vr($r);throw"both async and sync fetching of the wasm failed"}function Jr($r){if(!Ir&&(ur||fr)){if(typeof fetch=="function"&&!Ur($r))return fetch($r,{credentials:"same-origin"}).then(Dr=>{if(!Dr.ok)throw"failed to load wasm binary file at '"+$r+"'";return Dr.arrayBuffer()}).catch(()=>Xr($r));if(br)return new Promise((Dr,zr)=>{br($r,Yr=>Dr(new Uint8Array(Yr)),zr)})}return Promise.resolve().then(()=>Xr($r))}function Vr($r,Dr,zr){return Jr($r).then(Yr=>WebAssembly.instantiate(Yr,Dr)).then(Yr=>Yr).then(zr,Yr=>{Ar(`failed to asynchronously prepare wasm: ${Yr}`),Hr(Yr)})}function Zr($r,Dr){var zr=Nr;Ir||typeof WebAssembly.instantiateStreaming!="function"||Gr(zr)||Ur(zr)||hr||typeof fetch!="function"?Vr(zr,$r,Dr):fetch(zr,{credentials:"same-origin"}).then(Yr=>WebAssembly.instantiateStreaming(Yr,$r).then(Dr,function(Oi){return Ar(`wasm streaming compile failed: ${Oi}`),Ar("falling back to ArrayBuffer instantiation"),Vr(zr,$r,Dr)}))}var Kr,Ci,Mi=$r=>{for(;0<$r.length;)$r.shift()(lr)};function Ti($r,Dr="i8"){switch(Dr.endsWith("*")&&(Dr="*"),Dr){case"i1":return Wr[$r>>0];case"i8":return Wr[$r>>0];case"i16":return Or[$r>>1];case"i32":return yr[$r>>2];case"i64":Hr("to do getValue(i64) use WASM_BIGINT");case"float":return wr[$r>>2];case"double":return Br[$r>>3];case"*":return xr[$r>>2];default:Hr(`invalid type for getValue: ${Dr}`)}}function Ii($r){var Dr="i32";switch(Dr.endsWith("*")&&(Dr="*"),Dr){case"i1":Wr[$r>>0]=0;break;case"i8":Wr[$r>>0]=0;break;case"i16":Or[$r>>1]=0;break;case"i32":yr[$r>>2]=0;break;case"i64":Hr("to do setValue(i64) use WASM_BIGINT");case"float":wr[$r>>2]=0;break;case"double":Br[$r>>3]=0;break;case"*":xr[$r>>2]=0;break;default:Hr(`invalid type for setValue: ${Dr}`)}}var ji=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Si=($r,Dr,zr)=>{var Yr=Dr+zr;for(zr=Dr;$r[zr]&&!(zr>=Yr);)++zr;if(16<zr-Dr&&$r.buffer&&ji)return ji.decode($r.subarray(Dr,zr));for(Yr="";Dr<zr;){var Oi=$r[Dr++];if(Oi&128){var _i=$r[Dr++]&63;if((Oi&224)==192)Yr+=String.fromCharCode((Oi&31)<<6|_i);else{var Ri=$r[Dr++]&63;Oi=(Oi&240)==224?(Oi&15)<<12|_i<<6|Ri:(Oi&7)<<18|_i<<12|Ri<<6|$r[Dr++]&63,65536>Oi?Yr+=String.fromCharCode(Oi):(Oi-=65536,Yr+=String.fromCharCode(55296|Oi>>10,56320|Oi&1023))}}else Yr+=String.fromCharCode(Oi)}return Yr},zi=($r,Dr)=>$r?Si(jr,$r,Dr):"",Di=($r,Dr)=>{for(var zr=0,Yr=$r.length-1;0<=Yr;Yr--){var Oi=$r[Yr];Oi==="."?$r.splice(Yr,1):Oi===".."?($r.splice(Yr,1),zr++):zr&&($r.splice(Yr,1),zr--)}if(Dr)for(;zr;zr--)$r.unshift("..");return $r},Fi=$r=>{var Dr=$r.charAt(0)==="/",zr=$r.substr(-1)==="/";return($r=Di($r.split("/").filter(Yr=>!!Yr),!Dr).join("/"))||Dr||($r="."),$r&&zr&&($r+="/"),(Dr?"/":"")+$r},Vi=$r=>{var Dr=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec($r).slice(1);return $r=Dr[0],Dr=Dr[1],!$r&&!Dr?".":(Dr&&(Dr=Dr.substr(0,Dr.length-1)),$r+Dr)},Ni=$r=>{if($r==="/")return"/";$r=Fi($r),$r=$r.replace(/\/$/,"");var Dr=$r.lastIndexOf("/");return Dr===-1?$r:$r.substr(Dr+1)},rn=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return zr=>crypto.getRandomValues(zr);if(hr)try{var $r=requireCryptoBrowserify();if($r.randomFillSync)return zr=>$r.randomFillSync(zr);var Dr=$r.randomBytes;return zr=>(zr.set(Dr(zr.byteLength)),zr)}catch{}Hr("initRandomDevice")},ln=$r=>(ln=rn())($r);function qi(){for(var $r="",Dr=!1,zr=arguments.length-1;-1<=zr&&!Dr;zr--){if(Dr=0<=zr?arguments[zr]:"/",typeof Dr!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!Dr)return"";$r=Dr+"/"+$r,Dr=Dr.charAt(0)==="/"}return $r=Di($r.split("/").filter(Yr=>!!Yr),!Dr).join("/"),(Dr?"/":"")+$r||"."}var fn=[],Sn=$r=>{for(var Dr=0,zr=0;zr<$r.length;++zr){var Yr=$r.charCodeAt(zr);127>=Yr?Dr++:2047>=Yr?Dr+=2:55296<=Yr&&57343>=Yr?(Dr+=4,++zr):Dr+=3}return Dr},Xi=($r,Dr,zr,Yr)=>{if(!(0<Yr))return 0;var Oi=zr;Yr=zr+Yr-1;for(var _i=0;_i<$r.length;++_i){var Ri=$r.charCodeAt(_i);if(55296<=Ri&&57343>=Ri){var dn=$r.charCodeAt(++_i);Ri=65536+((Ri&1023)<<10)|dn&1023}if(127>=Ri){if(zr>=Yr)break;Dr[zr++]=Ri}else{if(2047>=Ri){if(zr+1>=Yr)break;Dr[zr++]=192|Ri>>6}else{if(65535>=Ri){if(zr+2>=Yr)break;Dr[zr++]=224|Ri>>12}else{if(zr+3>=Yr)break;Dr[zr++]=240|Ri>>18,Dr[zr++]=128|Ri>>12&63}Dr[zr++]=128|Ri>>6&63}Dr[zr++]=128|Ri&63}}return Dr[zr]=0,zr-Oi};function yn($r,Dr){var zr=Array(Sn($r)+1);return $r=Xi($r,zr,0,zr.length),Dr&&(zr.length=$r),zr}var kn=[];function nn($r,Dr){kn[$r]={input:[],output:[],Xa:Dr},On($r,jn)}var jn={open($r){var Dr=kn[$r.node.rdev];if(!Dr)throw new Pi(43);$r.tty=Dr,$r.seekable=!1},close($r){$r.tty.Xa.fsync($r.tty)},fsync($r){$r.tty.Xa.fsync($r.tty)},read($r,Dr,zr,Yr){if(!$r.tty||!$r.tty.Xa.sb)throw new Pi(60);for(var Oi=0,_i=0;_i<Yr;_i++){try{var Ri=$r.tty.Xa.sb($r.tty)}catch{throw new Pi(29)}if(Ri===void 0&&Oi===0)throw new Pi(6);if(Ri==null)break;Oi++,Dr[zr+_i]=Ri}return Oi&&($r.node.timestamp=Date.now()),Oi},write($r,Dr,zr,Yr){if(!$r.tty||!$r.tty.Xa.jb)throw new Pi(60);try{for(var Oi=0;Oi<Yr;Oi++)$r.tty.Xa.jb($r.tty,Dr[zr+Oi])}catch{throw new Pi(29)}return Yr&&($r.node.timestamp=Date.now()),Oi}},Tn={sb(){e:{if(!fn.length){var $r=null;if(hr){var Dr=Buffer.alloc(256),zr=0,Yr=process$1.stdin.fd;try{zr=kr.readSync(Yr,Dr)}catch(Oi){if(Oi.toString().includes("EOF"))zr=0;else throw Oi}0<zr?$r=Dr.slice(0,zr).toString("utf-8"):$r=null}else typeof window<"u"&&typeof window.prompt=="function"?($r=window.prompt("Input: "),$r!==null&&($r+=`
`)):typeof readline=="function"&&($r=readline(),$r!==null&&($r+=`
`));if(!$r){$r=null;break e}fn=yn($r,!0)}$r=fn.shift()}return $r},jb($r,Dr){Dr===null||Dr===10?(Cr(Si($r.output,0)),$r.output=[]):Dr!=0&&$r.output.push(Dr)},fsync($r){$r.output&&0<$r.output.length&&(Cr(Si($r.output,0)),$r.output=[])},Mb(){return{Ib:25856,Kb:5,Hb:191,Jb:35387,Gb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Nb(){return 0},Ob(){return[24,80]}},cn={jb($r,Dr){Dr===null||Dr===10?(Ar(Si($r.output,0)),$r.output=[]):Dr!=0&&$r.output.push(Dr)},fsync($r){$r.output&&0<$r.output.length&&(Ar(Si($r.output,0)),$r.output=[])}};function Dn($r,Dr){var zr=$r.Ia?$r.Ia.length:0;zr>=Dr||(Dr=Math.max(Dr,zr*(1048576>zr?2:1.125)>>>0),zr!=0&&(Dr=Math.max(Dr,256)),zr=$r.Ia,$r.Ia=new Uint8Array(Dr),0<$r.Ma&&$r.Ia.set(zr.subarray(0,$r.Ma),0))}var Wi={Qa:null,Ra(){return Wi.createNode(null,"/",16895,0)},createNode($r,Dr,zr,Yr){if((zr&61440)===24576||(zr&61440)===4096)throw new Pi(63);return Wi.Qa||(Wi.Qa={dir:{node:{Pa:Wi.Ga.Pa,Oa:Wi.Ga.Oa,lookup:Wi.Ga.lookup,ab:Wi.Ga.ab,rename:Wi.Ga.rename,unlink:Wi.Ga.unlink,rmdir:Wi.Ga.rmdir,readdir:Wi.Ga.readdir,symlink:Wi.Ga.symlink},stream:{Ta:Wi.Ha.Ta}},file:{node:{Pa:Wi.Ga.Pa,Oa:Wi.Ga.Oa},stream:{Ta:Wi.Ha.Ta,read:Wi.Ha.read,write:Wi.Ha.write,lb:Wi.Ha.lb,bb:Wi.Ha.bb,cb:Wi.Ha.cb}},link:{node:{Pa:Wi.Ga.Pa,Oa:Wi.Ga.Oa,readlink:Wi.Ga.readlink},stream:{}},pb:{node:{Pa:Wi.Ga.Pa,Oa:Wi.Ga.Oa},stream:Nn}}),zr=xn($r,Dr,zr,Yr),Ui(zr.mode)?(zr.Ga=Wi.Qa.dir.node,zr.Ha=Wi.Qa.dir.stream,zr.Ia={}):(zr.mode&61440)===32768?(zr.Ga=Wi.Qa.file.node,zr.Ha=Wi.Qa.file.stream,zr.Ma=0,zr.Ia=null):(zr.mode&61440)===40960?(zr.Ga=Wi.Qa.link.node,zr.Ha=Wi.Qa.link.stream):(zr.mode&61440)===8192&&(zr.Ga=Wi.Qa.pb.node,zr.Ha=Wi.Qa.pb.stream),zr.timestamp=Date.now(),$r&&($r.Ia[Dr]=zr,$r.timestamp=zr.timestamp),zr},Lb($r){return $r.Ia?$r.Ia.subarray?$r.Ia.subarray(0,$r.Ma):new Uint8Array($r.Ia):new Uint8Array(0)},Ga:{Pa($r){var Dr={};return Dr.dev=($r.mode&61440)===8192?$r.id:1,Dr.ino=$r.id,Dr.mode=$r.mode,Dr.nlink=1,Dr.uid=0,Dr.gid=0,Dr.rdev=$r.rdev,Ui($r.mode)?Dr.size=4096:($r.mode&61440)===32768?Dr.size=$r.Ma:($r.mode&61440)===40960?Dr.size=$r.link.length:Dr.size=0,Dr.atime=new Date($r.timestamp),Dr.mtime=new Date($r.timestamp),Dr.ctime=new Date($r.timestamp),Dr.zb=4096,Dr.blocks=Math.ceil(Dr.size/Dr.zb),Dr},Oa($r,Dr){if(Dr.mode!==void 0&&($r.mode=Dr.mode),Dr.timestamp!==void 0&&($r.timestamp=Dr.timestamp),Dr.size!==void 0&&(Dr=Dr.size,$r.Ma!=Dr))if(Dr==0)$r.Ia=null,$r.Ma=0;else{var zr=$r.Ia;$r.Ia=new Uint8Array(Dr),zr&&$r.Ia.set(zr.subarray(0,Math.min(Dr,$r.Ma))),$r.Ma=Dr}},lookup(){throw Pn[44]},ab($r,Dr,zr,Yr){return Wi.createNode($r,Dr,zr,Yr)},rename($r,Dr,zr){if(Ui($r.mode)){try{var Yr=sn(Dr,zr)}catch{}if(Yr)for(var Oi in Yr.Ia)throw new Pi(55)}delete $r.parent.Ia[$r.name],$r.parent.timestamp=Date.now(),$r.name=zr,Dr.Ia[zr]=$r,Dr.timestamp=$r.parent.timestamp,$r.parent=Dr},unlink($r,Dr){delete $r.Ia[Dr],$r.timestamp=Date.now()},rmdir($r,Dr){var zr=sn($r,Dr),Yr;for(Yr in zr.Ia)throw new Pi(55);delete $r.Ia[Dr],$r.timestamp=Date.now()},readdir($r){var Dr=[".",".."],zr;for(zr of Object.keys($r.Ia))Dr.push(zr);return Dr},symlink($r,Dr,zr){return $r=Wi.createNode($r,Dr,41471,0),$r.link=zr,$r},readlink($r){if(($r.mode&61440)!==40960)throw new Pi(28);return $r.link}},Ha:{read($r,Dr,zr,Yr,Oi){var _i=$r.node.Ia;if(Oi>=$r.node.Ma)return 0;if($r=Math.min($r.node.Ma-Oi,Yr),8<$r&&_i.subarray)Dr.set(_i.subarray(Oi,Oi+$r),zr);else for(Yr=0;Yr<$r;Yr++)Dr[zr+Yr]=_i[Oi+Yr];return $r},write($r,Dr,zr,Yr,Oi,_i){if(Dr.buffer===Wr.buffer&&(_i=!1),!Yr)return 0;if($r=$r.node,$r.timestamp=Date.now(),Dr.subarray&&(!$r.Ia||$r.Ia.subarray)){if(_i)return $r.Ia=Dr.subarray(zr,zr+Yr),$r.Ma=Yr;if($r.Ma===0&&Oi===0)return $r.Ia=Dr.slice(zr,zr+Yr),$r.Ma=Yr;if(Oi+Yr<=$r.Ma)return $r.Ia.set(Dr.subarray(zr,zr+Yr),Oi),Yr}if(Dn($r,Oi+Yr),$r.Ia.subarray&&Dr.subarray)$r.Ia.set(Dr.subarray(zr,zr+Yr),Oi);else for(_i=0;_i<Yr;_i++)$r.Ia[Oi+_i]=Dr[zr+_i];return $r.Ma=Math.max($r.Ma,Oi+Yr),Yr},Ta($r,Dr,zr){if(zr===1?Dr+=$r.position:zr===2&&($r.node.mode&61440)===32768&&(Dr+=$r.node.Ma),0>Dr)throw new Pi(28);return Dr},lb($r,Dr,zr){Dn($r.node,Dr+zr),$r.node.Ma=Math.max($r.node.Ma,Dr+zr)},bb($r,Dr,zr,Yr,Oi){if(($r.node.mode&61440)!==32768)throw new Pi(43);if($r=$r.node.Ia,Oi&2||$r.buffer!==Wr.buffer){if((0<zr||zr+Dr<$r.length)&&($r.subarray?$r=$r.subarray(zr,zr+Dr):$r=Array.prototype.slice.call($r,zr,zr+Dr)),zr=!0,Dr=65536*Math.ceil(Dr/65536),(Oi=la(65536,Dr))?(jr.fill(0,Oi,Oi+Dr),Dr=Oi):Dr=0,!Dr)throw new Pi(48);Wr.set($r,Dr)}else zr=!1,Dr=$r.byteOffset;return{Db:Dr,ub:zr}},cb($r,Dr,zr,Yr){return Wi.Ha.write($r,Dr,0,Yr,zr,!1),0}}},tn=($r,Dr)=>{var zr=0;return $r&&(zr|=365),Dr&&(zr|=146),zr},Bn=null,Mn={},Yi=[],Cn=1,wn=null,on=!0,Pi=null,Pn={};function Hi($r,Dr={}){if($r=qi($r),!$r)return{path:"",node:null};if(Dr=Object.assign({qb:!0,kb:0},Dr),8<Dr.kb)throw new Pi(32);$r=$r.split("/").filter(Ri=>!!Ri);for(var zr=Bn,Yr="/",Oi=0;Oi<$r.length;Oi++){var _i=Oi===$r.length-1;if(_i&&Dr.parent)break;if(zr=sn(zr,$r[Oi]),Yr=Fi(Yr+"/"+$r[Oi]),zr.Va&&(!_i||_i&&Dr.qb)&&(zr=zr.Va.root),!_i||Dr.Sa){for(_i=0;(zr.mode&61440)===40960;)if(zr=Fn(Yr),Yr=qi(Vi(Yr),zr),zr=Hi(Yr,{kb:Dr.kb+1}).node,40<_i++)throw new Pi(32)}}return{path:Yr,node:zr}}function En($r){for(var Dr;;){if($r===$r.parent)return $r=$r.Ra.tb,Dr?$r[$r.length-1]!=="/"?`${$r}/${Dr}`:$r+Dr:$r;Dr=Dr?`${$r.name}/${Dr}`:$r.name,$r=$r.parent}}function An($r,Dr){for(var zr=0,Yr=0;Yr<Dr.length;Yr++)zr=(zr<<5)-zr+Dr.charCodeAt(Yr)|0;return($r+zr>>>0)%wn.length}function Ji($r){var Dr=An($r.parent.id,$r.name);if(wn[Dr]===$r)wn[Dr]=$r.Wa;else for(Dr=wn[Dr];Dr;){if(Dr.Wa===$r){Dr.Wa=$r.Wa;break}Dr=Dr.Wa}}function sn($r,Dr){var zr;if(zr=(zr=hn($r,"x"))?zr:$r.Ga.lookup?0:2)throw new Pi(zr,$r);for(zr=wn[An($r.id,Dr)];zr;zr=zr.Wa){var Yr=zr.name;if(zr.parent.id===$r.id&&Yr===Dr)return zr}return $r.Ga.lookup($r,Dr)}function xn($r,Dr,zr,Yr){return $r=new sa($r,Dr,zr,Yr),Dr=An($r.parent.id,$r.name),$r.Wa=wn[Dr],wn[Dr]=$r}function Ui($r){return($r&61440)===16384}function vn($r){var Dr=["r","w","rw"][$r&3];return $r&512&&(Dr+="w"),Dr}function hn($r,Dr){if(on)return 0;if(!Dr.includes("r")||$r.mode&292){if(Dr.includes("w")&&!($r.mode&146)||Dr.includes("x")&&!($r.mode&73))return 2}else return 2;return 0}function an($r,Dr){try{return sn($r,Dr),20}catch{}return hn($r,"wx")}function Ln($r,Dr,zr){try{var Yr=sn($r,Dr)}catch(Oi){return Oi.Ka}if($r=hn($r,"wx"))return $r;if(zr){if(!Ui(Yr.mode))return 54;if(Yr===Yr.parent||En(Yr)==="/")return 10}else if(Ui(Yr.mode))return 31;return 0}function In(){for(var $r=0;4096>=$r;$r++)if(!Yi[$r])return $r;throw new Pi(33)}function Qi($r){if($r=Yi[$r],!$r)throw new Pi(8);return $r}function _n($r,Dr=-1){return Gn||(Gn=function(){this.$a={}},Gn.prototype={},Object.defineProperties(Gn.prototype,{object:{get(){return this.node},set(zr){this.node=zr}},flags:{get(){return this.$a.flags},set(zr){this.$a.flags=zr}},position:{get(){return this.$a.position},set(zr){this.$a.position=zr}}})),$r=Object.assign(new Gn,$r),Dr==-1&&(Dr=In()),$r.fd=Dr,Yi[Dr]=$r}var Nn={open($r){var Dr,zr;$r.Ha=Mn[$r.node.rdev].Ha,(zr=(Dr=$r.Ha).open)==null||zr.call(Dr,$r)},Ta(){throw new Pi(70)}};function On($r,Dr){Mn[$r]={Ha:Dr}}function es($r,Dr){var zr=Dr==="/",Yr=!Dr;if(zr&&Bn)throw new Pi(10);if(!zr&&!Yr){var Oi=Hi(Dr,{qb:!1});if(Dr=Oi.path,Oi=Oi.node,Oi.Va)throw new Pi(10);if(!Ui(Oi.mode))throw new Pi(54)}Dr={type:$r,Pb:{},tb:Dr,Cb:[]},$r=$r.Ra(Dr),$r.Ra=Dr,Dr.root=$r,zr?Bn=$r:Oi&&(Oi.Va=Dr,Oi.Ra&&Oi.Ra.Cb.push(Dr))}function Zn($r,Dr,zr){var Yr=Hi($r,{parent:!0}).node;if($r=Ni($r),!$r||$r==="."||$r==="..")throw new Pi(28);var Oi=an(Yr,$r);if(Oi)throw new Pi(Oi);if(!Yr.Ga.ab)throw new Pi(63);return Yr.Ga.ab(Yr,$r,Dr,zr)}function Qn($r,Dr){return Zn($r,(Dr!==void 0?Dr:511)&1023|16384,0)}function Kn($r,Dr,zr){typeof zr>"u"&&(zr=Dr,Dr=438),Zn($r,Dr|8192,zr)}function ts($r,Dr){if(!qi($r))throw new Pi(44);var zr=Hi(Dr,{parent:!0}).node;if(!zr)throw new Pi(44);Dr=Ni(Dr);var Yr=an(zr,Dr);if(Yr)throw new Pi(Yr);if(!zr.Ga.symlink)throw new Pi(63);zr.Ga.symlink(zr,Dr,$r)}function ss($r){var Dr=Hi($r,{parent:!0}).node;$r=Ni($r);var zr=sn(Dr,$r),Yr=Ln(Dr,$r,!0);if(Yr)throw new Pi(Yr);if(!Dr.Ga.rmdir)throw new Pi(63);if(zr.Va)throw new Pi(10);Dr.Ga.rmdir(Dr,$r),Ji(zr)}function as($r){var Dr=Hi($r,{parent:!0}).node;if(!Dr)throw new Pi(44);$r=Ni($r);var zr=sn(Dr,$r),Yr=Ln(Dr,$r,!1);if(Yr)throw new Pi(Yr);if(!Dr.Ga.unlink)throw new Pi(63);if(zr.Va)throw new Pi(10);Dr.Ga.unlink(Dr,$r),Ji(zr)}function Fn($r){if($r=Hi($r).node,!$r)throw new Pi(44);if(!$r.Ga.readlink)throw new Pi(28);return qi(En($r.parent),$r.Ga.readlink($r))}function zn($r,Dr){if($r=Hi($r,{Sa:!Dr}).node,!$r)throw new Pi(44);if(!$r.Ga.Pa)throw new Pi(63);return $r.Ga.Pa($r)}function ls($r){return zn($r,!0)}function Jn($r,Dr){if($r=typeof $r=="string"?Hi($r,{Sa:!0}).node:$r,!$r.Ga.Oa)throw new Pi(63);$r.Ga.Oa($r,{mode:Dr&4095|$r.mode&-4096,timestamp:Date.now()})}function cs($r,Dr){if(0>Dr)throw new Pi(28);if($r=typeof $r=="string"?Hi($r,{Sa:!0}).node:$r,!$r.Ga.Oa)throw new Pi(63);if(Ui($r.mode))throw new Pi(31);if(($r.mode&61440)!==32768)throw new Pi(28);var zr=hn($r,"w");if(zr)throw new Pi(zr);$r.Ga.Oa($r,{size:Dr,timestamp:Date.now()})}function Xn($r,Dr,zr){if($r==="")throw new Pi(44);if(typeof Dr=="string"){var Yr={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[Dr];if(typeof Yr>"u")throw Error(`Unknown file open mode: ${Dr}`);Dr=Yr}if(zr=Dr&64?(typeof zr>"u"?438:zr)&4095|32768:0,typeof $r=="object")var Oi=$r;else{$r=Fi($r);try{Oi=Hi($r,{Sa:!(Dr&131072)}).node}catch{}}if(Yr=!1,Dr&64)if(Oi){if(Dr&128)throw new Pi(20)}else Oi=Zn($r,zr,0),Yr=!0;if(!Oi)throw new Pi(44);if((Oi.mode&61440)===8192&&(Dr&=-513),Dr&65536&&!Ui(Oi.mode))throw new Pi(54);if(!Yr&&(zr=Oi?(Oi.mode&61440)===40960?32:Ui(Oi.mode)&&(vn(Dr)!=="r"||Dr&512)?31:hn(Oi,vn(Dr)):44))throw new Pi(zr);return Dr&512&&!Yr&&cs(Oi,0),Dr&=-131713,Oi=_n({node:Oi,path:En(Oi),flags:Dr,seekable:!0,position:0,Ha:Oi.Ha,Fb:[],error:!1}),Oi.Ha.open&&Oi.Ha.open(Oi),!lr.logReadFiles||Dr&1||(en||(en={}),$r in en||(en[$r]=1)),Oi}function rs($r){if($r.fd===null)throw new Pi(8);$r.hb&&($r.hb=null);try{$r.Ha.close&&$r.Ha.close($r)}catch(Dr){throw Dr}finally{Yi[$r.fd]=null}$r.fd=null}function ds($r,Dr,zr){if($r.fd===null)throw new Pi(8);if(!$r.seekable||!$r.Ha.Ta)throw new Pi(70);if(zr!=0&&zr!=1&&zr!=2)throw new Pi(28);$r.position=$r.Ha.Ta($r,Dr,zr),$r.Fb=[]}function us($r,Dr,zr,Yr,Oi){if(0>Yr||0>Oi)throw new Pi(28);if($r.fd===null)throw new Pi(8);if(($r.flags&2097155)===1)throw new Pi(8);if(Ui($r.node.mode))throw new Pi(31);if(!$r.Ha.read)throw new Pi(28);var _i=typeof Oi<"u";if(!_i)Oi=$r.position;else if(!$r.seekable)throw new Pi(70);return Dr=$r.Ha.read($r,Dr,zr,Yr,Oi),_i||($r.position+=Dr),Dr}function Vn($r,Dr,zr,Yr,Oi){if(0>Yr||0>Oi)throw new Pi(28);if($r.fd===null)throw new Pi(8);if(!($r.flags&2097155))throw new Pi(8);if(Ui($r.node.mode))throw new Pi(31);if(!$r.Ha.write)throw new Pi(28);$r.seekable&&$r.flags&1024&&ds($r,0,2);var _i=typeof Oi<"u";if(!_i)Oi=$r.position;else if(!$r.seekable)throw new Pi(70);return Dr=$r.Ha.write($r,Dr,zr,Yr,Oi,void 0),_i||($r.position+=Dr),Dr}function Es($r){var Dr,zr=Xn($r,zr||0);$r=zn($r).size;var Yr=new Uint8Array($r);return us(zr,Yr,0,$r,0),Dr=Yr,rs(zr),Dr}function ws(){Pi||(Pi=function($r,Dr){this.name="ErrnoError",this.node=Dr,this.Eb=function(zr){this.Ka=zr},this.Eb($r),this.message="FS error"},Pi.prototype=Error(),Pi.prototype.constructor=Pi,[44].forEach($r=>{Pn[$r]=new Pi($r),Pn[$r].stack="<generic error, no stack>"}))}var Is;function Ki($r,Dr,zr){$r=Fi("/dev/"+$r);var Yr=tn(!!Dr,!!zr);$n||($n=64);var Oi=$n++<<8|0;On(Oi,{open(_i){_i.seekable=!1},close(){var _i;(_i=zr==null?void 0:zr.buffer)!=null&&_i.length&&zr(10)},read(_i,Ri,dn,Rn){for(var gn=0,Wn=0;Wn<Rn;Wn++){try{var Un=Dr()}catch{throw new Pi(29)}if(Un===void 0&&gn===0)throw new Pi(6);if(Un==null)break;gn++,Ri[dn+Wn]=Un}return gn&&(_i.node.timestamp=Date.now()),gn},write(_i,Ri,dn,Rn){for(var gn=0;gn<Rn;gn++)try{zr(Ri[dn+gn])}catch{throw new Pi(29)}return Rn&&(_i.node.timestamp=Date.now()),gn}}),Kn($r,Yr,Oi)}var $n,pn={},Gn,en;function gs($r,Dr,zr){if(Dr.charAt(0)==="/")return Dr;if($r=$r===-100?"/":Qi($r).path,Dr.length==0){if(!zr)throw new Pi(44);return $r}return Fi($r+"/"+Dr)}function ms($r,Dr,zr){try{var Yr=$r(Dr)}catch(_i){if(_i&&_i.node&&Fi(Dr)!==Fi(En(_i.node)))return-54;throw _i}yr[zr>>2]=Yr.dev,yr[zr+4>>2]=Yr.mode,xr[zr+8>>2]=Yr.nlink,yr[zr+12>>2]=Yr.uid,yr[zr+16>>2]=Yr.gid,yr[zr+20>>2]=Yr.rdev,Ci=[Yr.size>>>0,(Kr=Yr.size,1<=+Math.abs(Kr)?0<Kr?+Math.floor(Kr/4294967296)>>>0:~~+Math.ceil((Kr-+(~~Kr>>>0))/4294967296)>>>0:0)],yr[zr+24>>2]=Ci[0],yr[zr+28>>2]=Ci[1],yr[zr+32>>2]=4096,yr[zr+36>>2]=Yr.blocks,$r=Yr.atime.getTime(),Dr=Yr.mtime.getTime();var Oi=Yr.ctime.getTime();return Ci=[Math.floor($r/1e3)>>>0,(Kr=Math.floor($r/1e3),1<=+Math.abs(Kr)?0<Kr?+Math.floor(Kr/4294967296)>>>0:~~+Math.ceil((Kr-+(~~Kr>>>0))/4294967296)>>>0:0)],yr[zr+40>>2]=Ci[0],yr[zr+44>>2]=Ci[1],xr[zr+48>>2]=$r%1e3*1e3,Ci=[Math.floor(Dr/1e3)>>>0,(Kr=Math.floor(Dr/1e3),1<=+Math.abs(Kr)?0<Kr?+Math.floor(Kr/4294967296)>>>0:~~+Math.ceil((Kr-+(~~Kr>>>0))/4294967296)>>>0:0)],yr[zr+56>>2]=Ci[0],yr[zr+60>>2]=Ci[1],xr[zr+64>>2]=Dr%1e3*1e3,Ci=[Math.floor(Oi/1e3)>>>0,(Kr=Math.floor(Oi/1e3),1<=+Math.abs(Kr)?0<Kr?+Math.floor(Kr/4294967296)>>>0:~~+Math.ceil((Kr-+(~~Kr>>>0))/4294967296)>>>0:0)],yr[zr+72>>2]=Ci[0],yr[zr+76>>2]=Ci[1],xr[zr+80>>2]=Oi%1e3*1e3,Ci=[Yr.ino>>>0,(Kr=Yr.ino,1<=+Math.abs(Kr)?0<Kr?+Math.floor(Kr/4294967296)>>>0:~~+Math.ceil((Kr-+(~~Kr>>>0))/4294967296)>>>0:0)],yr[zr+88>>2]=Ci[0],yr[zr+92>>2]=Ci[1],0}var is=void 0;function Ns(){var $r=yr[+is>>2];return is+=4,$r}var As=($r,Dr)=>Dr+2097152>>>0<4194305-!!$r?($r>>>0)+4294967296*Dr:NaN,$a=[0,31,60,91,121,152,182,213,244,274,305,335],Ca=[0,31,59,90,120,151,181,212,243,273,304,334],na=$r=>{var Dr=Sn($r)+1,zr=Ws(Dr);return zr&&Xi($r,jr,zr,Dr),zr},Gs={},oa=()=>{if(!Xs){var $r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:dr||"./this.program"},Dr;for(Dr in Gs)Gs[Dr]===void 0?delete $r[Dr]:$r[Dr]=Gs[Dr];var zr=[];for(Dr in $r)zr.push(`${Dr}=${$r[Dr]}`);Xs=zr}return Xs},Xs,Ys=$r=>{var Dr=Sn($r)+1,zr=Os(Dr);return Xi($r,jr,zr,Dr),zr},Ra=($r,Dr,zr,Yr)=>{var Oi={string:gn=>{var Wn=0;return gn!=null&&gn!==0&&(Wn=Ys(gn)),Wn},array:gn=>{var Wn=Os(gn.length);return Wr.set(gn,Wn),Wn}};$r=lr["_"+$r];var _i=[],Ri=0;if(Yr)for(var dn=0;dn<Yr.length;dn++){var Rn=Oi[zr[dn]];Rn?(Ri===0&&(Ri=Ts()),_i[dn]=Rn(Yr[dn])):_i[dn]=Yr[dn]}return zr=$r.apply(null,_i),zr=function(gn){return Ri!==0&&Ms(Ri),Dr==="string"?gn?Si(jr,gn):"":Dr==="boolean"?!!gn:gn}(zr)},Fs=0,qs=($r,Dr)=>(Dr=Dr==1?Os($r.length):Ws($r.length),$r.subarray||$r.slice||($r=new Uint8Array($r)),jr.set($r,Dr),Dr),$s,Ks=[],ys,Rs=$r=>{$s.delete(ys.get($r)),ys.set($r,null),Ks.push($r)},Qs=($r,Dr)=>{if(!$s){$s=new WeakMap;var zr=ys.length;if($s)for(var Yr=0;Yr<0+zr;Yr++){var Oi=ys.get(Yr);Oi&&$s.set(Oi,Yr)}}if(zr=$s.get($r)||0)return zr;if(Ks.length)zr=Ks.pop();else{try{ys.grow(1)}catch(dn){throw dn instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":dn}zr=ys.length-1}try{ys.set(zr,$r)}catch(dn){if(!(dn instanceof TypeError))throw dn;if(typeof WebAssembly.Function=="function"){Yr=WebAssembly.Function,Oi={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var _i={parameters:[],results:Dr[0]=="v"?[]:[Oi[Dr[0]]]},Ri=1;Ri<Dr.length;++Ri)_i.parameters.push(Oi[Dr[Ri]]);Dr=new Yr(_i,$r)}else{for(Yr=[1],Oi=Dr.slice(0,1),Dr=Dr.slice(1),_i={i:127,p:127,j:126,f:125,d:124,e:111},Yr.push(96),Ri=Dr.length,128>Ri?Yr.push(Ri):Yr.push(Ri%128|128,Ri>>7),Ri=0;Ri<Dr.length;++Ri)Yr.push(_i[Dr[Ri]]);Oi=="v"?Yr.push(0):Yr.push(1,_i[Oi]),Dr=[0,97,115,109,1,0,0,0,1],Oi=Yr.length,128>Oi?Dr.push(Oi):Dr.push(Oi%128|128,Oi>>7),Dr.push.apply(Dr,Yr),Dr.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),Dr=new WebAssembly.Module(new Uint8Array(Dr)),Dr=new WebAssembly.Instance(Dr,{e:{f:$r}}).exports.f}ys.set(zr,Dr)}return $s.set($r,zr),zr};function sa($r,Dr,zr,Yr){$r||($r=this),this.parent=$r,this.Ra=$r.Ra,this.Va=null,this.id=Cn++,this.name=Dr,this.mode=zr,this.Ga={},this.Ha={},this.rdev=Yr}Object.defineProperties(sa.prototype,{read:{get:function(){return(this.mode&365)===365},set:function($r){$r?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function($r){$r?this.mode|=146:this.mode&=-147}}}),ws(),wn=Array(4096),es(Wi,"/"),Qn("/tmp"),Qn("/home"),Qn("/home/web_user"),function(){Qn("/dev"),On(259,{read:()=>0,write:(Yr,Oi,_i,Ri)=>Ri}),Kn("/dev/null",259),nn(1280,Tn),nn(1536,cn),Kn("/dev/tty",1280),Kn("/dev/tty1",1536);var $r=new Uint8Array(1024),Dr=0,zr=()=>(Dr===0&&(Dr=ln($r).byteLength),$r[--Dr]);Ki("random",zr),Ki("urandom",zr),Qn("/dev/shm"),Qn("/dev/shm/tmp")}(),function(){Qn("/proc");var $r=Qn("/proc/self");Qn("/proc/self/fd"),es({Ra(){var Dr=xn($r,"fd",16895,73);return Dr.Ga={lookup(zr,Yr){var Oi=Qi(+Yr);return zr={parent:null,Ra:{tb:"fake"},Ga:{readlink:()=>Oi.path}},zr.parent=zr}},Dr}},"/proc/self/fd")}();var Ba={a:($r,Dr,zr,Yr)=>{Hr(`Assertion failed: ${$r?Si(jr,$r):""}, at: `+[Dr?Dr?Si(jr,Dr):"":"unknown filename",zr,Yr?Yr?Si(jr,Yr):"":"unknown function"])},h:function($r,Dr){try{return $r=$r?Si(jr,$r):"",Jn($r,Dr),0}catch(zr){if(typeof pn>"u"||zr.name!=="ErrnoError")throw zr;return-zr.Ka}},H:function($r,Dr,zr){try{if(Dr=Dr?Si(jr,Dr):"",Dr=gs($r,Dr),zr&-8)return-28;var Yr=Hi(Dr,{Sa:!0}).node;return Yr?($r="",zr&4&&($r+="r"),zr&2&&($r+="w"),zr&1&&($r+="x"),$r&&hn(Yr,$r)?-2:0):-44}catch(Oi){if(typeof pn>"u"||Oi.name!=="ErrnoError")throw Oi;return-Oi.Ka}},i:function($r,Dr){try{var zr=Qi($r);return Jn(zr.node,Dr),0}catch(Yr){if(typeof pn>"u"||Yr.name!=="ErrnoError")throw Yr;return-Yr.Ka}},g:function($r){try{var Dr=Qi($r).node,zr=typeof Dr=="string"?Hi(Dr,{Sa:!0}).node:Dr;if(!zr.Ga.Oa)throw new Pi(63);return zr.Ga.Oa(zr,{timestamp:Date.now()}),0}catch(Yr){if(typeof pn>"u"||Yr.name!=="ErrnoError")throw Yr;return-Yr.Ka}},b:function($r,Dr,zr){is=zr;try{var Yr=Qi($r);switch(Dr){case 0:var Oi=Ns();if(0>Oi)return-28;for(;Yi[Oi];)Oi++;return _n(Yr,Oi).fd;case 1:case 2:return 0;case 3:return Yr.flags;case 4:return Oi=Ns(),Yr.flags|=Oi,0;case 5:return Oi=Ns(),Or[Oi+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return yr[aa()>>2]=28,-1;default:return-28}}catch(_i){if(typeof pn>"u"||_i.name!=="ErrnoError")throw _i;return-_i.Ka}},f:function($r,Dr){try{var zr=Qi($r);return ms(zn,zr.path,Dr)}catch(Yr){if(typeof pn>"u"||Yr.name!=="ErrnoError")throw Yr;return-Yr.Ka}},n:function($r,Dr,zr){Dr=As(Dr,zr);try{if(isNaN(Dr))return 61;var Yr=Qi($r);if(!(Yr.flags&2097155))throw new Pi(28);return cs(Yr.node,Dr),0}catch(Oi){if(typeof pn>"u"||Oi.name!=="ErrnoError")throw Oi;return-Oi.Ka}},C:function($r,Dr){try{if(Dr===0)return-28;var zr=Sn("/")+1;return Dr<zr?-68:(Xi("/",jr,$r,Dr),zr)}catch(Yr){if(typeof pn>"u"||Yr.name!=="ErrnoError")throw Yr;return-Yr.Ka}},F:function($r,Dr){try{return $r=$r?Si(jr,$r):"",ms(ls,$r,Dr)}catch(zr){if(typeof pn>"u"||zr.name!=="ErrnoError")throw zr;return-zr.Ka}},z:function($r,Dr,zr){try{return Dr=Dr?Si(jr,Dr):"",Dr=gs($r,Dr),Dr=Fi(Dr),Dr[Dr.length-1]==="/"&&(Dr=Dr.substr(0,Dr.length-1)),Qn(Dr,zr),0}catch(Yr){if(typeof pn>"u"||Yr.name!=="ErrnoError")throw Yr;return-Yr.Ka}},E:function($r,Dr,zr,Yr){try{Dr=Dr?Si(jr,Dr):"";var Oi=Yr&256;return Dr=gs($r,Dr,Yr&4096),ms(Oi?ls:zn,Dr,zr)}catch(_i){if(typeof pn>"u"||_i.name!=="ErrnoError")throw _i;return-_i.Ka}},y:function($r,Dr,zr,Yr){is=Yr;try{Dr=Dr?Si(jr,Dr):"",Dr=gs($r,Dr);var Oi=Yr?Ns():0;return Xn(Dr,zr,Oi).fd}catch(_i){if(typeof pn>"u"||_i.name!=="ErrnoError")throw _i;return-_i.Ka}},w:function($r,Dr,zr,Yr){try{if(Dr=Dr?Si(jr,Dr):"",Dr=gs($r,Dr),0>=Yr)return-28;var Oi=Fn(Dr),_i=Math.min(Yr,Sn(Oi)),Ri=Wr[zr+_i];return Xi(Oi,jr,zr,Yr+1),Wr[zr+_i]=Ri,_i}catch(dn){if(typeof pn>"u"||dn.name!=="ErrnoError")throw dn;return-dn.Ka}},v:function($r){try{return $r=$r?Si(jr,$r):"",ss($r),0}catch(Dr){if(typeof pn>"u"||Dr.name!=="ErrnoError")throw Dr;return-Dr.Ka}},G:function($r,Dr){try{return $r=$r?Si(jr,$r):"",ms(zn,$r,Dr)}catch(zr){if(typeof pn>"u"||zr.name!=="ErrnoError")throw zr;return-zr.Ka}},r:function($r,Dr,zr){try{return Dr=Dr?Si(jr,Dr):"",Dr=gs($r,Dr),zr===0?as(Dr):zr===512?ss(Dr):Hr("Invalid flags passed to unlinkat"),0}catch(Yr){if(typeof pn>"u"||Yr.name!=="ErrnoError")throw Yr;return-Yr.Ka}},q:function($r,Dr,zr){try{if(Dr=Dr?Si(jr,Dr):"",Dr=gs($r,Dr,!0),zr){var Yr=xr[zr>>2]+4294967296*yr[zr+4>>2],Oi=yr[zr+8>>2];_i=1e3*Yr+Oi/1e6,zr+=16,Yr=xr[zr>>2]+4294967296*yr[zr+4>>2],Oi=yr[zr+8>>2],Ri=1e3*Yr+Oi/1e6}else var _i=Date.now(),Ri=_i;$r=_i;var dn=Hi(Dr,{Sa:!0}).node;return dn.Ga.Oa(dn,{timestamp:Math.max($r,Ri)}),0}catch(Rn){if(typeof pn>"u"||Rn.name!=="ErrnoError")throw Rn;return-Rn.Ka}},l:function($r,Dr,zr){$r=new Date(1e3*As($r,Dr)),yr[zr>>2]=$r.getSeconds(),yr[zr+4>>2]=$r.getMinutes(),yr[zr+8>>2]=$r.getHours(),yr[zr+12>>2]=$r.getDate(),yr[zr+16>>2]=$r.getMonth(),yr[zr+20>>2]=$r.getFullYear()-1900,yr[zr+24>>2]=$r.getDay(),Dr=$r.getFullYear(),yr[zr+28>>2]=(Dr%4!==0||Dr%100===0&&Dr%400!==0?Ca:$a)[$r.getMonth()]+$r.getDate()-1|0,yr[zr+36>>2]=-(60*$r.getTimezoneOffset()),Dr=new Date($r.getFullYear(),6,1).getTimezoneOffset();var Yr=new Date($r.getFullYear(),0,1).getTimezoneOffset();yr[zr+32>>2]=(Dr!=Yr&&$r.getTimezoneOffset()==Math.min(Yr,Dr))|0},j:function($r,Dr,zr,Yr,Oi,_i,Ri,dn){Oi=As(Oi,_i);try{if(isNaN(Oi))return 61;var Rn=Qi(Yr);if(Dr&2&&!(zr&2)&&(Rn.flags&2097155)!==2)throw new Pi(2);if((Rn.flags&2097155)===1)throw new Pi(2);if(!Rn.Ha.bb)throw new Pi(43);var gn=Rn.Ha.bb(Rn,$r,Oi,Dr,zr),Wn=gn.Db;return yr[Ri>>2]=gn.ub,xr[dn>>2]=Wn,0}catch(Un){if(typeof pn>"u"||Un.name!=="ErrnoError")throw Un;return-Un.Ka}},k:function($r,Dr,zr,Yr,Oi,_i,Ri){_i=As(_i,Ri);try{if(isNaN(_i))return 61;var dn=Qi(Oi);if(zr&2){if((dn.node.mode&61440)!==32768)throw new Pi(43);if(!(Yr&2)){var Rn=jr.slice($r,$r+Dr);dn.Ha.cb&&dn.Ha.cb(dn,Rn,_i,Dr,Yr)}}}catch(gn){if(typeof pn>"u"||gn.name!=="ErrnoError")throw gn;return-gn.Ka}},s:($r,Dr,zr)=>{function Yr(Rn){return(Rn=Rn.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Rn[1]:"GMT"}var Oi=new Date().getFullYear(),_i=new Date(Oi,0,1),Ri=new Date(Oi,6,1);Oi=_i.getTimezoneOffset();var dn=Ri.getTimezoneOffset();xr[$r>>2]=60*Math.max(Oi,dn),yr[Dr>>2]=+(Oi!=dn),$r=Yr(_i),Dr=Yr(Ri),$r=na($r),Dr=na(Dr),dn<Oi?(xr[zr>>2]=$r,xr[zr+4>>2]=Dr):(xr[zr>>2]=Dr,xr[zr+4>>2]=$r)},d:()=>Date.now(),t:()=>2147483648,c:()=>performance.now(),o:$r=>{var Dr=jr.length;if($r>>>=0,2147483648<$r)return!1;for(var zr=1;4>=zr;zr*=2){var Yr=Dr*(1+.2/zr);Yr=Math.min(Yr,$r+100663296);var Oi=Math;Yr=Math.max($r,Yr);e:{Oi=(Oi.min.call(Oi,2147483648,Yr+(65536-Yr%65536)%65536)-qr.buffer.byteLength+65535)/65536;try{qr.grow(Oi),_r();var _i=1;break e}catch{}_i=void 0}if(_i)return!0}return!1},A:($r,Dr)=>{var zr=0;return oa().forEach((Yr,Oi)=>{var _i=Dr+zr;for(Oi=xr[$r+4*Oi>>2]=_i,_i=0;_i<Yr.length;++_i)Wr[Oi++>>0]=Yr.charCodeAt(_i);Wr[Oi>>0]=0,zr+=Yr.length+1}),0},B:($r,Dr)=>{var zr=oa();xr[$r>>2]=zr.length;var Yr=0;return zr.forEach(Oi=>Yr+=Oi.length+1),xr[Dr>>2]=Yr,0},e:function($r){try{var Dr=Qi($r);return rs(Dr),0}catch(zr){if(typeof pn>"u"||zr.name!=="ErrnoError")throw zr;return zr.Ka}},p:function($r,Dr){try{var zr=Qi($r);return Wr[Dr>>0]=zr.tty?2:Ui(zr.mode)?3:(zr.mode&61440)===40960?7:4,Or[Dr+2>>1]=0,Ci=[0,(Kr=0,1<=+Math.abs(Kr)?0<Kr?+Math.floor(Kr/4294967296)>>>0:~~+Math.ceil((Kr-+(~~Kr>>>0))/4294967296)>>>0:0)],yr[Dr+8>>2]=Ci[0],yr[Dr+12>>2]=Ci[1],Ci=[0,(Kr=0,1<=+Math.abs(Kr)?0<Kr?+Math.floor(Kr/4294967296)>>>0:~~+Math.ceil((Kr-+(~~Kr>>>0))/4294967296)>>>0:0)],yr[Dr+16>>2]=Ci[0],yr[Dr+20>>2]=Ci[1],0}catch(Yr){if(typeof pn>"u"||Yr.name!=="ErrnoError")throw Yr;return Yr.Ka}},x:function($r,Dr,zr,Yr){try{e:{var Oi=Qi($r);$r=Dr;for(var _i,Ri=Dr=0;Ri<zr;Ri++){var dn=xr[$r>>2],Rn=xr[$r+4>>2];$r+=8;var gn=us(Oi,Wr,dn,Rn,_i);if(0>gn){var Wn=-1;break e}if(Dr+=gn,gn<Rn)break;typeof _i<"u"&&(_i+=gn)}Wn=Dr}return xr[Yr>>2]=Wn,0}catch(Un){if(typeof pn>"u"||Un.name!=="ErrnoError")throw Un;return Un.Ka}},m:function($r,Dr,zr,Yr,Oi){Dr=As(Dr,zr);try{if(isNaN(Dr))return 61;var _i=Qi($r);return ds(_i,Dr,Yr),Ci=[_i.position>>>0,(Kr=_i.position,1<=+Math.abs(Kr)?0<Kr?+Math.floor(Kr/4294967296)>>>0:~~+Math.ceil((Kr-+(~~Kr>>>0))/4294967296)>>>0:0)],yr[Oi>>2]=Ci[0],yr[Oi+4>>2]=Ci[1],_i.hb&&Dr===0&&Yr===0&&(_i.hb=null),0}catch(Ri){if(typeof pn>"u"||Ri.name!=="ErrnoError")throw Ri;return Ri.Ka}},D:function($r){var zr;try{var Dr=Qi($r);return(zr=Dr.Ha)!=null&&zr.fsync?Dr.Ha.fsync(Dr):0}catch(Yr){if(typeof pn>"u"||Yr.name!=="ErrnoError")throw Yr;return Yr.Ka}},u:function($r,Dr,zr,Yr){try{e:{var Oi=Qi($r);$r=Dr;for(var _i,Ri=Dr=0;Ri<zr;Ri++){var dn=xr[$r>>2],Rn=xr[$r+4>>2];$r+=8;var gn=Vn(Oi,Wr,dn,Rn,_i);if(0>gn){var Wn=-1;break e}Dr+=gn,typeof _i<"u"&&(_i+=gn)}Wn=Dr}return xr[Yr>>2]=Wn,0}catch(Un){if(typeof pn>"u"||Un.name!=="ErrnoError")throw Un;return Un.Ka}}},Gi=function(){var zr;function $r(Yr){var Oi;return Gi=Yr.exports,qr=Gi.I,_r(),ys=Gi.Aa,Tr.unshift(Gi.J),Rr--,(Oi=lr.monitorRunDependencies)==null||Oi.call(lr,Rr),Rr==0&&Lr&&(Yr=Lr,Lr=null,Yr()),Gi}var Dr={a:Ba};if(Rr++,(zr=lr.monitorRunDependencies)==null||zr.call(lr,Rr),lr.instantiateWasm)try{return lr.instantiateWasm(Dr,$r)}catch(Yr){return Ar(`Module.instantiateWasm callback failed with error: ${Yr}`),!1}return Zr(Dr,function(Yr){$r(Yr.instance)}),{}}();lr._sqlite3_free=$r=>(lr._sqlite3_free=Gi.K)($r),lr._sqlite3_value_text=$r=>(lr._sqlite3_value_text=Gi.L)($r);var aa=()=>(aa=Gi.M)();lr._sqlite3_prepare_v2=($r,Dr,zr,Yr,Oi)=>(lr._sqlite3_prepare_v2=Gi.N)($r,Dr,zr,Yr,Oi),lr._sqlite3_step=$r=>(lr._sqlite3_step=Gi.O)($r),lr._sqlite3_reset=$r=>(lr._sqlite3_reset=Gi.P)($r),lr._sqlite3_exec=($r,Dr,zr,Yr,Oi)=>(lr._sqlite3_exec=Gi.Q)($r,Dr,zr,Yr,Oi),lr._sqlite3_finalize=$r=>(lr._sqlite3_finalize=Gi.R)($r),lr._sqlite3_column_name=($r,Dr)=>(lr._sqlite3_column_name=Gi.S)($r,Dr),lr._sqlite3_column_text=($r,Dr)=>(lr._sqlite3_column_text=Gi.T)($r,Dr),lr._sqlite3_column_type=($r,Dr)=>(lr._sqlite3_column_type=Gi.U)($r,Dr),lr._sqlite3_errmsg=$r=>(lr._sqlite3_errmsg=Gi.V)($r),lr._sqlite3_clear_bindings=$r=>(lr._sqlite3_clear_bindings=Gi.W)($r),lr._sqlite3_value_blob=$r=>(lr._sqlite3_value_blob=Gi.X)($r),lr._sqlite3_value_bytes=$r=>(lr._sqlite3_value_bytes=Gi.Y)($r),lr._sqlite3_value_double=$r=>(lr._sqlite3_value_double=Gi.Z)($r),lr._sqlite3_value_int=$r=>(lr._sqlite3_value_int=Gi._)($r),lr._sqlite3_value_type=$r=>(lr._sqlite3_value_type=Gi.$)($r),lr._sqlite3_result_blob=($r,Dr,zr,Yr)=>(lr._sqlite3_result_blob=Gi.aa)($r,Dr,zr,Yr),lr._sqlite3_result_double=($r,Dr)=>(lr._sqlite3_result_double=Gi.ba)($r,Dr),lr._sqlite3_result_error=($r,Dr,zr)=>(lr._sqlite3_result_error=Gi.ca)($r,Dr,zr),lr._sqlite3_result_int=($r,Dr)=>(lr._sqlite3_result_int=Gi.da)($r,Dr),lr._sqlite3_result_int64=($r,Dr,zr)=>(lr._sqlite3_result_int64=Gi.ea)($r,Dr,zr),lr._sqlite3_result_null=$r=>(lr._sqlite3_result_null=Gi.fa)($r),lr._sqlite3_result_text=($r,Dr,zr,Yr)=>(lr._sqlite3_result_text=Gi.ga)($r,Dr,zr,Yr),lr._sqlite3_aggregate_context=($r,Dr)=>(lr._sqlite3_aggregate_context=Gi.ha)($r,Dr),lr._sqlite3_column_count=$r=>(lr._sqlite3_column_count=Gi.ia)($r),lr._sqlite3_data_count=$r=>(lr._sqlite3_data_count=Gi.ja)($r),lr._sqlite3_column_blob=($r,Dr)=>(lr._sqlite3_column_blob=Gi.ka)($r,Dr),lr._sqlite3_column_bytes=($r,Dr)=>(lr._sqlite3_column_bytes=Gi.la)($r,Dr),lr._sqlite3_column_double=($r,Dr)=>(lr._sqlite3_column_double=Gi.ma)($r,Dr),lr._sqlite3_bind_blob=($r,Dr,zr,Yr,Oi)=>(lr._sqlite3_bind_blob=Gi.na)($r,Dr,zr,Yr,Oi),lr._sqlite3_bind_double=($r,Dr,zr)=>(lr._sqlite3_bind_double=Gi.oa)($r,Dr,zr),lr._sqlite3_bind_int=($r,Dr,zr)=>(lr._sqlite3_bind_int=Gi.pa)($r,Dr,zr),lr._sqlite3_bind_text=($r,Dr,zr,Yr,Oi)=>(lr._sqlite3_bind_text=Gi.qa)($r,Dr,zr,Yr,Oi),lr._sqlite3_bind_parameter_index=($r,Dr)=>(lr._sqlite3_bind_parameter_index=Gi.ra)($r,Dr),lr._sqlite3_sql=$r=>(lr._sqlite3_sql=Gi.sa)($r),lr._sqlite3_normalized_sql=$r=>(lr._sqlite3_normalized_sql=Gi.ta)($r),lr._sqlite3_changes=$r=>(lr._sqlite3_changes=Gi.ua)($r),lr._sqlite3_close_v2=$r=>(lr._sqlite3_close_v2=Gi.va)($r),lr._sqlite3_create_function_v2=($r,Dr,zr,Yr,Oi,_i,Ri,dn,Rn)=>(lr._sqlite3_create_function_v2=Gi.wa)($r,Dr,zr,Yr,Oi,_i,Ri,dn,Rn),lr._sqlite3_open=($r,Dr)=>(lr._sqlite3_open=Gi.xa)($r,Dr);var Ws=lr._malloc=$r=>(Ws=lr._malloc=Gi.ya)($r),zs=lr._free=$r=>(zs=lr._free=Gi.za)($r);lr._RegisterExtensionFunctions=$r=>(lr._RegisterExtensionFunctions=Gi.Ba)($r);var la=($r,Dr)=>(la=Gi.Ca)($r,Dr),Ts=()=>(Ts=Gi.Da)(),Ms=$r=>(Ms=Gi.Ea)($r),Os=$r=>(Os=Gi.Fa)($r);lr.stackAlloc=Os,lr.stackSave=Ts,lr.stackRestore=Ms,lr.cwrap=($r,Dr,zr,Yr)=>{var Oi=!zr||zr.every(_i=>_i==="number"||_i==="boolean");return Dr!=="string"&&Oi&&!Yr?lr["_"+$r]:function(){return Ra($r,Dr,zr,arguments)}},lr.addFunction=Qs,lr.removeFunction=Rs,lr.UTF8ToString=zi,lr.ALLOC_NORMAL=Fs,lr.allocate=qs,lr.allocateUTF8OnStack=Ys;var Hs;Lr=function $r(){Hs||ca(),Hs||(Lr=$r)};function ca(){function $r(){if(!Hs&&(Hs=!0,lr.calledRun=!0,!Qr)){if(lr.noFSInit||Is||(Is=!0,ws(),lr.stdin=lr.stdin,lr.stdout=lr.stdout,lr.stderr=lr.stderr,lr.stdin?Ki("stdin",lr.stdin):ts("/dev/tty","/dev/stdin"),lr.stdout?Ki("stdout",null,lr.stdout):ts("/dev/tty","/dev/stdout"),lr.stderr?Ki("stderr",null,lr.stderr):ts("/dev/tty1","/dev/stderr"),Xn("/dev/stdin",0),Xn("/dev/stdout",1),Xn("/dev/stderr",1)),on=!1,Mi(Tr),lr.onRuntimeInitialized&&lr.onRuntimeInitialized(),lr.postRun)for(typeof lr.postRun=="function"&&(lr.postRun=[lr.postRun]);lr.postRun.length;){var Dr=lr.postRun.shift();Er.unshift(Dr)}Mi(Er)}}if(!(0<Rr)){if(lr.preRun)for(typeof lr.preRun=="function"&&(lr.preRun=[lr.preRun]);lr.preRun.length;)Pr();Mi(Mr),0<Rr||(lr.setStatus?(lr.setStatus("Running..."),setTimeout(function(){setTimeout(function(){lr.setStatus("")},1),$r()},1)):$r())}}if(lr.preInit)for(typeof lr.preInit=="function"&&(lr.preInit=[lr.preInit]);0<lr.preInit.length;)lr.preInit.pop()();return ca(),sr}),Nt)};tr.exports=er,tr.exports.default=er})(sqlWasm);var sqlWasmExports=sqlWasm.exports;const initSqlJs=getDefaultExportFromCjs(sqlWasmExports),isBrowser=new Function("try {return this===window;}catch(e){ return false;}"),getWasmUrl=tr=>`/web/data/sql/${tr}`;class DrizzleBaseModelRw{constructor(Ot){Li(this,"wasmPath","web/data/sql/sql-wasm.wasm");Li(this,"pk","id");Li(this,"path",null);Li(this,"git",null);Li(this,"fs",null);Li(this,"schema",null);Li(this,"db",null);Li(this,"logger",null);Li(this,"ready",!1);Li(this,"dir",null);Li(this,"sqldb",null);Li(this,"searchFields",[]);this.git=Ot,this.fs=Ot.fs,this.dir=Ot.dir}getSearchFields(){const Ot=Object.keys(this.schema);if(this.searchFields.length===0)for(const Nt of Ot)this.schema[Nt].dataType==="string"&&this.searchFields.push(Nt);return this.searchFields}isValidOrder(Ot){if(!(typeof Ot=="object"&&Ot!==null))return!1;const er=Object.keys(this.schema),rr=Object.keys(Ot);if(rr.length>1&&console.log("Warning: order field > 1 left is unused"),rr.length>0){const[ir]=rr,nr=Ot[ir];return er.includes(ir)&&["asc","desc"].includes(nr)}return!1}isValidFilter(Ot){return typeof Ot=="object"&&Ot!==null}isValidSearch(Ot){if(!(typeof Ot=="object"&&Ot!==null))return!1;const er=typeof Ot.query=="string"&&Ot.query.length>0,ir=["single","all"].includes(Ot.type)?Ot.type:"all";let nr=!0;const sr=Object.keys(this.schema);return ir==="single"&&(nr=sr.includes(Ot.field)),er&&nr}isValidPage(Ot){return Ot&&Ot!==null}addQueryOrder(Ot){const Nt=Object.keys(Ot),[er]=Nt;return Ot[er]==="asc"?asc(this.schema[er]):desc(this.schema[er])}addQueryFilter(Ot){const Nt=Object.keys(this.schema),er=Object.keys(Ot);er.length>1&&console.log("Warning: filter field > 1 left is unused");let rr=[];for(const ir of er)Nt.includes(ir)?rr.push(eq(this.schema[ir],Ot[ir])):console.log(`invalid filter ${ir} not exists in [${Nt.join(",")}]`);return rr.length>0?and.apply(this,rr):null}addQuerySearch(Ot,Nt){const er=[];for(const rr of Ot)er.push(like(this.schema[rr],`%${Nt}%`));return er.length>0?or.apply(this,er):null}async count(Ot=null,Nt=null){let er=null;if(this.isValidFilter(Ot)){let rr=this.addQueryFilter(Ot);er=await this.db.select({count:count(this.schema.id)}).from(this.schema).where(rr);const[ir]=er;return ir?ir.count:0}return await this.countAll()}async countAll(){const Ot=await this.db.select({count:count()}).from(this.schema),[Nt]=Ot;return Nt?Nt.count:0}async commit(Ot=!1){const Nt=this.sqldb.export();console.log(`Write ${this.path}`),await this.git.commit([this.path]);try{await this.fs.writeFileSync(this.getDbPath(),Nt)}catch(er){console.log(`lfs:error cant write ${this.path}`,er)}Ot&&await this.git.push()}getDbPath(){return`${this.dir}/${this.path}`}getWasmPath(){return`${this.dir}/${this.wasmPath}`}async initOrm(){if(this.ready)return;const Ot=this.getDbPath(),Nt=this.getWasmPath();console.log(`orm:try to read ${Ot}`);try{const er=await this.fs.readFileSync(Ot),rr=await initSqlJs({locateFile:nr=>isBrowser()?getWasmUrl(nr):Nt});this.sqldb=new rr.Database(er);const ir=drizzle(this.sqldb,{schema});this.db=ir,this.ready=!0}catch(er){console.error(er)}}getAll(){return this.db.select().from(this.schema).all()}async getRecords(Ot){return await this.db.select().from(this.schema).orderBy(Ot)}async getRecords_withPage(Ot,Nt,er){return await this.db.select().from(this.schema).orderBy(Ot).limit(Nt).offset(er)}async getRecordsWithFilter(Ot,Nt){return await this.db.select().from(this.schema).where(Nt).orderBy(Ot)}async getRecordsWithFilter_withPage(Ot,Nt,er,rr){return await this.db.select().from(this.schema).where(rr).orderBy(Ot).limit(Nt).offset(er)}async getRecordsWithSearch(Ot,Nt,er,rr){let ir=[];if(Nt==="single")ir=await this.db.select().from(this.schema).where(like(this.schema[er],`%${rr}%`)).orderBy(Ot);else{const nr=this.getSearchFields(),sr=this.addQuerySearch(nr,rr);ir=await this.db.select().from(this.schema).where(sr).orderBy(Ot)}return ir}async getRecordsWithSearch_withPage(Ot,Nt,er,rr,ir,nr){let sr=[];if(rr==="single")sr=await this.db.select().from(this.schema).where(like(this.schema[ir],`%${nr}%`)).orderBy(Ot).limit(Nt).offset(er);else{const ar=this.getSearchFields(),lr=this.addQuerySearch(ar,nr);sr=await this.db.select().from(this.schema).where(lr).orderBy(Ot).limit(Nt).offset(er)}return sr}async getRecordsWithSearch_withFilter_withPage(Ot,Nt,er,rr,ir,nr,sr){let ar=[];if(ir==="single")ar=await this.db.select().from(this.schema).where(and(Nt,like(this.schema[nr],`%${sr}%`))).orderBy(Ot).limit(er).offset(rr);else{const lr=this.getSearchFields(),cr=this.addQuerySearch(lr,sr);ar=await this.db.select().from(this.schema).where(and(Nt,cr)).orderBy(Ot).limit(er).offset(rr)}return ar}async getRecordsWithSearch_with_filter(Ot,Nt,er,rr,ir){let nr=[];if(er==="single")nr=await this.db.select().from(this.schema).where(and(Nt,like(this.schema[rr],`%${ir}%`))).orderBy(Ot);else{const sr=this.getSearchFields(),ar=this.addQuerySearch(sr,ir);nr=await this.db.select().from(this.schema).where(and(Nt,ar)).orderBy(Ot)}return nr}async getRow(Ot){let Nt;if(typeof Ot=="object"&&Ot!==null){const rr=Ot;if(!this.isValidFilter(rr))return null;Nt=this.addQueryFilter(rr)}else Nt=this.addQueryFilter({[this.pk]:Ot});return this.db.select().from(this.schema).where(Nt).get(0)}getListParam(Ot,Nt,er,rr,ir){if(typeof Ot=="object"&&Ot!==null){const gr=Ot;Ot=gr.limit??5,Nt=gr.page??1,er=gr.order??null,rr=gr.filter??null,ir=gr.search??null}const nr=this.defaultOrder??{[this.pk]:"asc"},sr=this.addQueryOrder(this.isValidOrder(er)?er:nr),ar=this.isValidSearch(ir);let lr,cr,dr;ar&&(cr=ir.type,dr=ir.field,lr=ir.query);const ur=this.isValidFilter(rr),fr=ar,hr=this.isValidPage(Nt);return{limit:Ot,page:Nt,order:er,filter:rr,search:ir,orderBy:sr,validSearch:ar,searchType:cr,searchField:dr,searchQuery:lr,hasFilter:ur,hasSearch:fr,hasPage:hr,hasSearchAndFilter:ur&&fr}}async getCountWithSearch_withFilter_withPage(Ot,Nt,er,rr,ir,nr){if(rr==="single"){let sr=await this.db.select({pk:this.schema[this.pk]}).from(this.schema).where(and(like(this.schema[ir],`%${nr}%`)),Ot).limit(Nt).offset(er);return sr=[...sr],sr.length}else{const sr=this.getSearchFields(),ar=this.addQuerySearch(sr,nr);let lr=await this.db.select({pk:this.schema[this.pk]}).from(this.schema).where(and(ar,ar)).limit(Nt).offset(er);return lr=[...lr],lr.length}}async getCountWithSearch_with_filter(Ot,Nt,er,rr){let ir;Nt==="single"?ir=await this.db.select({count:count(this.schema.id)}).from(this.schema).where(and(like(this.schema[er],`%${rr}%`)),Ot):ir=await this.db.select({count:count(this.schema.id)}).from(this.schema).where(and(Ot,searchCondition));const[nr]=ir;return nr?nr.count:0}async getCountWithSearch_withPage(Ot,Nt,er,rr,ir){if(er==="single"){let nr=await this.db.select({pk:this.schema[this.pk]}).from(this.schema).where(like(this.schema[rr],`%${ir}%`)).limit(Ot).offset(Nt);return nr=[...nr],nr.length}else{const nr=this.getSearchFields(),sr=this.addQuerySearch(nr,ir);let ar=await this.db.select({pk:this.schema[this.pk]}).from(this.schema).where(sr).limit(Ot).offset(Nt);return ar=[...ar],ar.length}}async getCountWithSearch(Ot,Nt,er){let rr;Ot==="single"?rr=await this.db.select({count:count(this.schema.id)}).from(this.schema).where(like(this.schema[Nt],`%${er}%`)):rr=await this.db.select({count:count(this.schema.id)}).from(this.schema).where(searchCondition);const[ir]=rr;return ir?ir.count:0}async getCountWithFilter_withPage(Ot,Nt,er){let rr=await this.db.select({pk:this.schema[this.pk]}).from(this.schema).where(er).limit(Ot).offset(Nt);return rr=[...rr],rr.length}async getCountWithFilter(Ot){const Nt=await this.db.select({count:count(this.schema.id)}).from(this.schema).where(Ot),[er]=Nt;return er?er.count:0}async getCount_withPage(Ot,Nt){let er=await this.db.select({pk:this.schema[this.pk]}).from(this.schema).limit(Ot).offset(Nt);return er=[...er],er.length}async getState(Ot=5,Nt=null,er=null,rr=null){let{limit:ir,page:nr,order:sr,filter:ar,search:lr,orderBy:cr,validSearch:dr,searchType:ur,searchField:fr,searchQuery:hr,hasFilter:pr,hasSearch:gr,hasPage:br,hasSearchAndFilter:vr}=this.getListParam(Ot,Nt,null,er,rr);const kr=await this.countAll(),Sr=calculateTotalPages(kr,ir),Cr=calculateOffset(nr,ir);let Ar=0;if(vr){let Ir=this.addQueryFilter(ar);br?Ar=await this.getCountWithSearch_withFilter_withPage(Ir,ir,Cr,ur,fr,hr):Ar=await this.getCountWithSearch_with_filter(Ir,ur,fr,hr)}else if(gr)br?Ar=await this.getCountWithSearch_withPage(ir,Cr,ur,fr,hr):Ar=await this.getCountWithSearch(ur,fr,hr);else if(pr){let Ir=this.addQueryFilter(ar);br?Ar=await this.getCountWithFilter_withPage(ir,Cr,Ir):Ar=await this.getCountWithFilter(Ir)}else br?Ar=await this.getCount_withPage(ir,Cr):Ar=await this.countAll();return{limit:ir,totalPages:Sr,totalRecords:kr,recordCount:Ar}}async getList(Ot=5,Nt=1,er=null,rr=null,ir=null){let{limit:nr,page:sr,order:ar,filter:lr,search:cr,orderBy:dr,validSearch:ur,searchType:fr,searchField:hr,searchQuery:pr,hasFilter:gr,hasSearch:br,hasPage:vr,hasSearchAndFilter:kr}=this.getListParam(Ot,Nt,er,rr,ir);const Sr=await this.countAll(),Cr=calculateTotalPages(Sr,nr);let Ar=[];const Ir=calculateOffset(sr,nr);if(kr){let qr=this.addQueryFilter(lr);vr?Ar=await this.getRecordsWithSearch_withFilter_withPage(dr,qr,nr,Ir,fr,hr,pr):Ar=await this.getRecordsWithSearch_with_filter(dr,qr,fr,hr,pr)}else if(br)vr?Ar=await this.getRecordsWithSearch_withPage(dr,nr,Ir,fr,hr,pr):Ar=await this.getRecordsWithSearch(dr,fr,hr,pr);else if(gr){let qr=this.addQueryFilter(lr);vr?Ar=await this.getRecordsWithFilter_withPage(dr,nr,Ir,qr):Ar=await this.getRecordsWithFilter(dr,qr)}else vr?Ar=await this.getRecords_withPage(dr,nr,Ir):Ar=await this.getRecords(dr);return{limit:nr,totalPages:Cr,totalRecords:Sr,recordCount:Ar.length,records:Ar}}}class DrizzleModelRw extends DrizzleBaseModelRw{async update(Ot,Nt){return delete Nt[this.pk],await this.db.update(this.schema).set(Nt).where(eq(this.schema[this.pk],Ot))}async delete(Ot,Nt){return await this.db.delete(this.schema).where(eq(this.schema[this.pk],Ot))}async create(Ot){return await await this.db.insert(this.schema).values(Ot)}}const BASE_URL$2=CONFIG.BASE_URL;class MBeritaRw extends DrizzleModelRw{constructor(){super(...arguments);Li(this,"defaultOrder",{dateUpdated:"asc"});Li(this,"path","web/data/berita/berita.db");Li(this,"schema",BeritaSchema);Li(this,"compiler",{source:"baca-berita/index.html",outDir:"berita",prefix:"baca",slugField:"title"})}compile(Nt,er){if(!er)return null;Nt.setTitle(er.title),Nt.set("keywords",er.title.toLowerCase(),"name"),Nt.set("description",er.headline,"name"),Nt.set("id",er.id,"name");const rr=slugify(er[this.compiler.slugField]);return Nt.set("slug",rr,"name"),Nt.set("og:description",er.headline,"property"),Nt.set("og:title",er.title,"property"),Nt.set("og:URL",`${BASE_URL$2}/berita/baca/${er.id}/${rr}/`,"property"),Nt.set("og:image",`${BASE_URL$2}/assets/images/berita/covers/${er.cover}`,"property"),Nt.save()}async updateContentRows(Nt){const er=[],rr=[];er.push(sql`(case`);for(const nr of Nt)er.push(sql`when ${this.schema.id} = ${nr.id} then ${nr.content}`),rr.push(nr.id);er.push(sql`end)`);const ir=sql.join(er,sql.raw(" "));await this.db.update(this.schema).set({content:ir}).where(inArray(this.schema.id,rr))}}class MetaParser{constructor(Ot){Li(this,"source","");Li(this,"data",[]);Li(this,"title","");this.source=Ot,this.parse()}unquote(Ot){return Ot.replace(/^(\"|\')/,"").replace(/(\"|\')$/,"")}setTitle(Ot){this.title=Ot}matchLine(Ot,Nt){let er=null,rr=!1;for(const ir of Ot)if(er=Nt.match(ir),Array.isArray(er)&&(rr=er.length>1),rr)break;return er}lineToKeyValue(Ot){let Nt=null;const er=/(name|property)="(.*?)"/i,rr=/(name|property)='(.*?)'/i;let ir=this.matchLine([er,rr],Ot);if(ir){Nt||(Nt={});let[ar,lr,cr]=ir;cr=this.unquote(cr),Nt={kind:lr,key:cr}}const nr=/content="(.*?)"/i,sr=/content='(.*?)'/i;if(ir=this.matchLine([nr,sr],Ot),ir){Nt||(Nt={});let[ar,lr]=ir;Nt.content=this.unquote(lr)}return Nt}parseLine(Ot){Ot=Ot.replace(/^\</,"").replace(/\>$/,"").replace(/^meta/i,"").replace(/\s+/," ").trim();const Nt=this.lineToKeyValue(Ot);if(Nt){const{kind:er,key:rr,content:ir}=Nt;if(er&&rr&&ir)return Nt}return null}parse(){const Ot=/\<meta\s+(.*)?\>/gi,Nt=this.source.match(Ot);let er=0;for(const rr of Nt){let ir=this.parseLine(rr);if(ir){const nr=`META_TAG_${er}`;this.source=this.source.replace(rr,nr),ir.line=nr,this.data.push(ir)}er+=1}}set(Ot,Nt,er=null){const rr=this.data.length+2,ir=this.get(Ot,er);if(ir)ir.content=Nt;else{er=er??"name";const nr={kind:er,key:Ot,content:Nt,line:`META_TAG_${rr}`};this.data.push(nr)}}get(Ot,Nt=null){const er=this.data.filter(rr=>Nt?rr.key===Ot&&rr.kind===Nt:rr.key===Ot);return er.length>0?er.at(0):null}getData(){return this.data}save(){let Ot=this.source;for(const Nt of this.data){const{kind:er,key:rr,content:ir,line:nr}=Nt;let sr=`<meta ${er}="${rr}" content="${ir}">`;this.source.match(nr)?Ot=Ot.replace(nr,sr):Ot=Ot.replace(/<\/head>/,`
${sr}
</head>`)}return Ot=Ot.replace(/<title>(.*?)<\/title>/,`<title>${this.title}</title>`),Ot}}var cryptoJs={exports:{}},core={exports:{}},hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(tr,Ot){(function(Nt,er){tr.exports=er()})(commonjsGlobal,function(){var Nt=Nt||function(er,rr){var ir;if(typeof window<"u"&&window.crypto&&(ir=window.crypto),typeof self<"u"&&self.crypto&&(ir=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(ir=globalThis.crypto),!ir&&typeof window<"u"&&window.msCrypto&&(ir=window.msCrypto),!ir&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(ir=commonjsGlobal.crypto),!ir&&typeof commonjsRequire=="function")try{ir=requireCryptoBrowserify()}catch{}var nr=function(){if(ir){if(typeof ir.getRandomValues=="function")try{return ir.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof ir.randomBytes=="function")try{return ir.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},sr=Object.create||function(){function vr(){}return function(kr){var Sr;return vr.prototype=kr,Sr=new vr,vr.prototype=null,Sr}}(),ar={},lr=ar.lib={},cr=lr.Base=function(){return{extend:function(vr){var kr=sr(this);return vr&&kr.mixIn(vr),(!kr.hasOwnProperty("init")||this.init===kr.init)&&(kr.init=function(){kr.$super.init.apply(this,arguments)}),kr.init.prototype=kr,kr.$super=this,kr},create:function(){var vr=this.extend();return vr.init.apply(vr,arguments),vr},init:function(){},mixIn:function(vr){for(var kr in vr)vr.hasOwnProperty(kr)&&(this[kr]=vr[kr]);vr.hasOwnProperty("toString")&&(this.toString=vr.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),dr=lr.WordArray=cr.extend({init:function(vr,kr){vr=this.words=vr||[],kr!=rr?this.sigBytes=kr:this.sigBytes=vr.length*4},toString:function(vr){return(vr||fr).stringify(this)},concat:function(vr){var kr=this.words,Sr=vr.words,Cr=this.sigBytes,Ar=vr.sigBytes;if(this.clamp(),Cr%4)for(var Ir=0;Ir<Ar;Ir++){var qr=Sr[Ir>>>2]>>>24-Ir%4*8&255;kr[Cr+Ir>>>2]|=qr<<24-(Cr+Ir)%4*8}else for(var Qr=0;Qr<Ar;Qr+=4)kr[Cr+Qr>>>2]=Sr[Qr>>>2];return this.sigBytes+=Ar,this},clamp:function(){var vr=this.words,kr=this.sigBytes;vr[kr>>>2]&=4294967295<<32-kr%4*8,vr.length=er.ceil(kr/4)},clone:function(){var vr=cr.clone.call(this);return vr.words=this.words.slice(0),vr},random:function(vr){for(var kr=[],Sr=0;Sr<vr;Sr+=4)kr.push(nr());return new dr.init(kr,vr)}}),ur=ar.enc={},fr=ur.Hex={stringify:function(vr){for(var kr=vr.words,Sr=vr.sigBytes,Cr=[],Ar=0;Ar<Sr;Ar++){var Ir=kr[Ar>>>2]>>>24-Ar%4*8&255;Cr.push((Ir>>>4).toString(16)),Cr.push((Ir&15).toString(16))}return Cr.join("")},parse:function(vr){for(var kr=vr.length,Sr=[],Cr=0;Cr<kr;Cr+=2)Sr[Cr>>>3]|=parseInt(vr.substr(Cr,2),16)<<24-Cr%8*4;return new dr.init(Sr,kr/2)}},hr=ur.Latin1={stringify:function(vr){for(var kr=vr.words,Sr=vr.sigBytes,Cr=[],Ar=0;Ar<Sr;Ar++){var Ir=kr[Ar>>>2]>>>24-Ar%4*8&255;Cr.push(String.fromCharCode(Ir))}return Cr.join("")},parse:function(vr){for(var kr=vr.length,Sr=[],Cr=0;Cr<kr;Cr++)Sr[Cr>>>2]|=(vr.charCodeAt(Cr)&255)<<24-Cr%4*8;return new dr.init(Sr,kr)}},pr=ur.Utf8={stringify:function(vr){try{return decodeURIComponent(escape(hr.stringify(vr)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(vr){return hr.parse(unescape(encodeURIComponent(vr)))}},gr=lr.BufferedBlockAlgorithm=cr.extend({reset:function(){this._data=new dr.init,this._nDataBytes=0},_append:function(vr){typeof vr=="string"&&(vr=pr.parse(vr)),this._data.concat(vr),this._nDataBytes+=vr.sigBytes},_process:function(vr){var kr,Sr=this._data,Cr=Sr.words,Ar=Sr.sigBytes,Ir=this.blockSize,qr=Ir*4,Qr=Ar/qr;vr?Qr=er.ceil(Qr):Qr=er.max((Qr|0)-this._minBufferSize,0);var Wr=Qr*Ir,jr=er.min(Wr*4,Ar);if(Wr){for(var Or=0;Or<Wr;Or+=Ir)this._doProcessBlock(Cr,Or);kr=Cr.splice(0,Wr),Sr.sigBytes-=jr}return new dr.init(kr,jr)},clone:function(){var vr=cr.clone.call(this);return vr._data=this._data.clone(),vr},_minBufferSize:0});lr.Hasher=gr.extend({cfg:cr.extend(),init:function(vr){this.cfg=this.cfg.extend(vr),this.reset()},reset:function(){gr.reset.call(this),this._doReset()},update:function(vr){return this._append(vr),this._process(),this},finalize:function(vr){vr&&this._append(vr);var kr=this._doFinalize();return kr},blockSize:16,_createHelper:function(vr){return function(kr,Sr){return new vr.init(Sr).finalize(kr)}},_createHmacHelper:function(vr){return function(kr,Sr){return new br.HMAC.init(vr,Sr).finalize(kr)}}});var br=ar.algo={};return ar}(Math);return Nt})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(tr,Ot){(function(Nt,er){tr.exports=er(requireCore())})(commonjsGlobal,function(Nt){return function(er){var rr=Nt,ir=rr.lib,nr=ir.Base,sr=ir.WordArray,ar=rr.x64={};ar.Word=nr.extend({init:function(lr,cr){this.high=lr,this.low=cr}}),ar.WordArray=nr.extend({init:function(lr,cr){lr=this.words=lr||[],cr!=er?this.sigBytes=cr:this.sigBytes=lr.length*8},toX32:function(){for(var lr=this.words,cr=lr.length,dr=[],ur=0;ur<cr;ur++){var fr=lr[ur];dr.push(fr.high),dr.push(fr.low)}return sr.create(dr,this.sigBytes)},clone:function(){for(var lr=nr.clone.call(this),cr=lr.words=this.words.slice(0),dr=cr.length,ur=0;ur<dr;ur++)cr[ur]=cr[ur].clone();return lr}})}(),Nt})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(tr,Ot){(function(Nt,er){tr.exports=er(requireCore())})(commonjsGlobal,function(Nt){return function(){if(typeof ArrayBuffer=="function"){var er=Nt,rr=er.lib,ir=rr.WordArray,nr=ir.init,sr=ir.init=function(ar){if(ar instanceof ArrayBuffer&&(ar=new Uint8Array(ar)),(ar instanceof Int8Array||typeof Uint8ClampedArray<"u"&&ar instanceof Uint8ClampedArray||ar instanceof Int16Array||ar instanceof Uint16Array||ar instanceof Int32Array||ar instanceof Uint32Array||ar instanceof Float32Array||ar instanceof Float64Array)&&(ar=new Uint8Array(ar.buffer,ar.byteOffset,ar.byteLength)),ar instanceof Uint8Array){for(var lr=ar.byteLength,cr=[],dr=0;dr<lr;dr++)cr[dr>>>2]|=ar[dr]<<24-dr%4*8;nr.call(this,cr,lr)}else nr.apply(this,arguments)};sr.prototype=ir}}(),Nt.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(tr,Ot){(function(Nt,er){tr.exports=er(requireCore())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.WordArray,nr=er.enc;nr.Utf16=nr.Utf16BE={stringify:function(ar){for(var lr=ar.words,cr=ar.sigBytes,dr=[],ur=0;ur<cr;ur+=2){var fr=lr[ur>>>2]>>>16-ur%4*8&65535;dr.push(String.fromCharCode(fr))}return dr.join("")},parse:function(ar){for(var lr=ar.length,cr=[],dr=0;dr<lr;dr++)cr[dr>>>1]|=ar.charCodeAt(dr)<<16-dr%2*16;return ir.create(cr,lr*2)}},nr.Utf16LE={stringify:function(ar){for(var lr=ar.words,cr=ar.sigBytes,dr=[],ur=0;ur<cr;ur+=2){var fr=sr(lr[ur>>>2]>>>16-ur%4*8&65535);dr.push(String.fromCharCode(fr))}return dr.join("")},parse:function(ar){for(var lr=ar.length,cr=[],dr=0;dr<lr;dr++)cr[dr>>>1]|=sr(ar.charCodeAt(dr)<<16-dr%2*16);return ir.create(cr,lr*2)}};function sr(ar){return ar<<8&4278255360|ar>>>8&16711935}}(),Nt.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(tr,Ot){(function(Nt,er){tr.exports=er(requireCore())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.WordArray,nr=er.enc;nr.Base64={stringify:function(ar){var lr=ar.words,cr=ar.sigBytes,dr=this._map;ar.clamp();for(var ur=[],fr=0;fr<cr;fr+=3)for(var hr=lr[fr>>>2]>>>24-fr%4*8&255,pr=lr[fr+1>>>2]>>>24-(fr+1)%4*8&255,gr=lr[fr+2>>>2]>>>24-(fr+2)%4*8&255,br=hr<<16|pr<<8|gr,vr=0;vr<4&&fr+vr*.75<cr;vr++)ur.push(dr.charAt(br>>>6*(3-vr)&63));var kr=dr.charAt(64);if(kr)for(;ur.length%4;)ur.push(kr);return ur.join("")},parse:function(ar){var lr=ar.length,cr=this._map,dr=this._reverseMap;if(!dr){dr=this._reverseMap=[];for(var ur=0;ur<cr.length;ur++)dr[cr.charCodeAt(ur)]=ur}var fr=cr.charAt(64);if(fr){var hr=ar.indexOf(fr);hr!==-1&&(lr=hr)}return sr(ar,lr,dr)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function sr(ar,lr,cr){for(var dr=[],ur=0,fr=0;fr<lr;fr++)if(fr%4){var hr=cr[ar.charCodeAt(fr-1)]<<fr%4*2,pr=cr[ar.charCodeAt(fr)]>>>6-fr%4*2,gr=hr|pr;dr[ur>>>2]|=gr<<24-ur%4*8,ur++}return ir.create(dr,ur)}}(),Nt.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(tr,Ot){(function(Nt,er){tr.exports=er(requireCore())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.WordArray,nr=er.enc;nr.Base64url={stringify:function(ar,lr){lr===void 0&&(lr=!0);var cr=ar.words,dr=ar.sigBytes,ur=lr?this._safe_map:this._map;ar.clamp();for(var fr=[],hr=0;hr<dr;hr+=3)for(var pr=cr[hr>>>2]>>>24-hr%4*8&255,gr=cr[hr+1>>>2]>>>24-(hr+1)%4*8&255,br=cr[hr+2>>>2]>>>24-(hr+2)%4*8&255,vr=pr<<16|gr<<8|br,kr=0;kr<4&&hr+kr*.75<dr;kr++)fr.push(ur.charAt(vr>>>6*(3-kr)&63));var Sr=ur.charAt(64);if(Sr)for(;fr.length%4;)fr.push(Sr);return fr.join("")},parse:function(ar,lr){lr===void 0&&(lr=!0);var cr=ar.length,dr=lr?this._safe_map:this._map,ur=this._reverseMap;if(!ur){ur=this._reverseMap=[];for(var fr=0;fr<dr.length;fr++)ur[dr.charCodeAt(fr)]=fr}var hr=dr.charAt(64);if(hr){var pr=ar.indexOf(hr);pr!==-1&&(cr=pr)}return sr(ar,cr,ur)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function sr(ar,lr,cr){for(var dr=[],ur=0,fr=0;fr<lr;fr++)if(fr%4){var hr=cr[ar.charCodeAt(fr-1)]<<fr%4*2,pr=cr[ar.charCodeAt(fr)]>>>6-fr%4*2,gr=hr|pr;dr[ur>>>2]|=gr<<24-ur%4*8,ur++}return ir.create(dr,ur)}}(),Nt.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(tr,Ot){(function(Nt,er){tr.exports=er(requireCore())})(commonjsGlobal,function(Nt){return function(er){var rr=Nt,ir=rr.lib,nr=ir.WordArray,sr=ir.Hasher,ar=rr.algo,lr=[];(function(){for(var pr=0;pr<64;pr++)lr[pr]=er.abs(er.sin(pr+1))*4294967296|0})();var cr=ar.MD5=sr.extend({_doReset:function(){this._hash=new nr.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(pr,gr){for(var br=0;br<16;br++){var vr=gr+br,kr=pr[vr];pr[vr]=(kr<<8|kr>>>24)&16711935|(kr<<24|kr>>>8)&4278255360}var Sr=this._hash.words,Cr=pr[gr+0],Ar=pr[gr+1],Ir=pr[gr+2],qr=pr[gr+3],Qr=pr[gr+4],Wr=pr[gr+5],jr=pr[gr+6],Or=pr[gr+7],yr=pr[gr+8],xr=pr[gr+9],wr=pr[gr+10],Br=pr[gr+11],_r=pr[gr+12],Mr=pr[gr+13],Tr=pr[gr+14],Er=pr[gr+15],Pr=Sr[0],Rr=Sr[1],Lr=Sr[2],Hr=Sr[3];Pr=dr(Pr,Rr,Lr,Hr,Cr,7,lr[0]),Hr=dr(Hr,Pr,Rr,Lr,Ar,12,lr[1]),Lr=dr(Lr,Hr,Pr,Rr,Ir,17,lr[2]),Rr=dr(Rr,Lr,Hr,Pr,qr,22,lr[3]),Pr=dr(Pr,Rr,Lr,Hr,Qr,7,lr[4]),Hr=dr(Hr,Pr,Rr,Lr,Wr,12,lr[5]),Lr=dr(Lr,Hr,Pr,Rr,jr,17,lr[6]),Rr=dr(Rr,Lr,Hr,Pr,Or,22,lr[7]),Pr=dr(Pr,Rr,Lr,Hr,yr,7,lr[8]),Hr=dr(Hr,Pr,Rr,Lr,xr,12,lr[9]),Lr=dr(Lr,Hr,Pr,Rr,wr,17,lr[10]),Rr=dr(Rr,Lr,Hr,Pr,Br,22,lr[11]),Pr=dr(Pr,Rr,Lr,Hr,_r,7,lr[12]),Hr=dr(Hr,Pr,Rr,Lr,Mr,12,lr[13]),Lr=dr(Lr,Hr,Pr,Rr,Tr,17,lr[14]),Rr=dr(Rr,Lr,Hr,Pr,Er,22,lr[15]),Pr=ur(Pr,Rr,Lr,Hr,Ar,5,lr[16]),Hr=ur(Hr,Pr,Rr,Lr,jr,9,lr[17]),Lr=ur(Lr,Hr,Pr,Rr,Br,14,lr[18]),Rr=ur(Rr,Lr,Hr,Pr,Cr,20,lr[19]),Pr=ur(Pr,Rr,Lr,Hr,Wr,5,lr[20]),Hr=ur(Hr,Pr,Rr,Lr,wr,9,lr[21]),Lr=ur(Lr,Hr,Pr,Rr,Er,14,lr[22]),Rr=ur(Rr,Lr,Hr,Pr,Qr,20,lr[23]),Pr=ur(Pr,Rr,Lr,Hr,xr,5,lr[24]),Hr=ur(Hr,Pr,Rr,Lr,Tr,9,lr[25]),Lr=ur(Lr,Hr,Pr,Rr,qr,14,lr[26]),Rr=ur(Rr,Lr,Hr,Pr,yr,20,lr[27]),Pr=ur(Pr,Rr,Lr,Hr,Mr,5,lr[28]),Hr=ur(Hr,Pr,Rr,Lr,Ir,9,lr[29]),Lr=ur(Lr,Hr,Pr,Rr,Or,14,lr[30]),Rr=ur(Rr,Lr,Hr,Pr,_r,20,lr[31]),Pr=fr(Pr,Rr,Lr,Hr,Wr,4,lr[32]),Hr=fr(Hr,Pr,Rr,Lr,yr,11,lr[33]),Lr=fr(Lr,Hr,Pr,Rr,Br,16,lr[34]),Rr=fr(Rr,Lr,Hr,Pr,Tr,23,lr[35]),Pr=fr(Pr,Rr,Lr,Hr,Ar,4,lr[36]),Hr=fr(Hr,Pr,Rr,Lr,Qr,11,lr[37]),Lr=fr(Lr,Hr,Pr,Rr,Or,16,lr[38]),Rr=fr(Rr,Lr,Hr,Pr,wr,23,lr[39]),Pr=fr(Pr,Rr,Lr,Hr,Mr,4,lr[40]),Hr=fr(Hr,Pr,Rr,Lr,Cr,11,lr[41]),Lr=fr(Lr,Hr,Pr,Rr,qr,16,lr[42]),Rr=fr(Rr,Lr,Hr,Pr,jr,23,lr[43]),Pr=fr(Pr,Rr,Lr,Hr,xr,4,lr[44]),Hr=fr(Hr,Pr,Rr,Lr,_r,11,lr[45]),Lr=fr(Lr,Hr,Pr,Rr,Er,16,lr[46]),Rr=fr(Rr,Lr,Hr,Pr,Ir,23,lr[47]),Pr=hr(Pr,Rr,Lr,Hr,Cr,6,lr[48]),Hr=hr(Hr,Pr,Rr,Lr,Or,10,lr[49]),Lr=hr(Lr,Hr,Pr,Rr,Tr,15,lr[50]),Rr=hr(Rr,Lr,Hr,Pr,Wr,21,lr[51]),Pr=hr(Pr,Rr,Lr,Hr,_r,6,lr[52]),Hr=hr(Hr,Pr,Rr,Lr,qr,10,lr[53]),Lr=hr(Lr,Hr,Pr,Rr,wr,15,lr[54]),Rr=hr(Rr,Lr,Hr,Pr,Ar,21,lr[55]),Pr=hr(Pr,Rr,Lr,Hr,yr,6,lr[56]),Hr=hr(Hr,Pr,Rr,Lr,Er,10,lr[57]),Lr=hr(Lr,Hr,Pr,Rr,jr,15,lr[58]),Rr=hr(Rr,Lr,Hr,Pr,Mr,21,lr[59]),Pr=hr(Pr,Rr,Lr,Hr,Qr,6,lr[60]),Hr=hr(Hr,Pr,Rr,Lr,Br,10,lr[61]),Lr=hr(Lr,Hr,Pr,Rr,Ir,15,lr[62]),Rr=hr(Rr,Lr,Hr,Pr,xr,21,lr[63]),Sr[0]=Sr[0]+Pr|0,Sr[1]=Sr[1]+Rr|0,Sr[2]=Sr[2]+Lr|0,Sr[3]=Sr[3]+Hr|0},_doFinalize:function(){var pr=this._data,gr=pr.words,br=this._nDataBytes*8,vr=pr.sigBytes*8;gr[vr>>>5]|=128<<24-vr%32;var kr=er.floor(br/4294967296),Sr=br;gr[(vr+64>>>9<<4)+15]=(kr<<8|kr>>>24)&16711935|(kr<<24|kr>>>8)&4278255360,gr[(vr+64>>>9<<4)+14]=(Sr<<8|Sr>>>24)&16711935|(Sr<<24|Sr>>>8)&4278255360,pr.sigBytes=(gr.length+1)*4,this._process();for(var Cr=this._hash,Ar=Cr.words,Ir=0;Ir<4;Ir++){var qr=Ar[Ir];Ar[Ir]=(qr<<8|qr>>>24)&16711935|(qr<<24|qr>>>8)&4278255360}return Cr},clone:function(){var pr=sr.clone.call(this);return pr._hash=this._hash.clone(),pr}});function dr(pr,gr,br,vr,kr,Sr,Cr){var Ar=pr+(gr&br|~gr&vr)+kr+Cr;return(Ar<<Sr|Ar>>>32-Sr)+gr}function ur(pr,gr,br,vr,kr,Sr,Cr){var Ar=pr+(gr&vr|br&~vr)+kr+Cr;return(Ar<<Sr|Ar>>>32-Sr)+gr}function fr(pr,gr,br,vr,kr,Sr,Cr){var Ar=pr+(gr^br^vr)+kr+Cr;return(Ar<<Sr|Ar>>>32-Sr)+gr}function hr(pr,gr,br,vr,kr,Sr,Cr){var Ar=pr+(br^(gr|~vr))+kr+Cr;return(Ar<<Sr|Ar>>>32-Sr)+gr}rr.MD5=sr._createHelper(cr),rr.HmacMD5=sr._createHmacHelper(cr)}(Math),Nt.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(tr,Ot){(function(Nt,er){tr.exports=er(requireCore())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.WordArray,nr=rr.Hasher,sr=er.algo,ar=[],lr=sr.SHA1=nr.extend({_doReset:function(){this._hash=new ir.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(cr,dr){for(var ur=this._hash.words,fr=ur[0],hr=ur[1],pr=ur[2],gr=ur[3],br=ur[4],vr=0;vr<80;vr++){if(vr<16)ar[vr]=cr[dr+vr]|0;else{var kr=ar[vr-3]^ar[vr-8]^ar[vr-14]^ar[vr-16];ar[vr]=kr<<1|kr>>>31}var Sr=(fr<<5|fr>>>27)+br+ar[vr];vr<20?Sr+=(hr&pr|~hr&gr)+1518500249:vr<40?Sr+=(hr^pr^gr)+1859775393:vr<60?Sr+=(hr&pr|hr&gr|pr&gr)-1894007588:Sr+=(hr^pr^gr)-899497514,br=gr,gr=pr,pr=hr<<30|hr>>>2,hr=fr,fr=Sr}ur[0]=ur[0]+fr|0,ur[1]=ur[1]+hr|0,ur[2]=ur[2]+pr|0,ur[3]=ur[3]+gr|0,ur[4]=ur[4]+br|0},_doFinalize:function(){var cr=this._data,dr=cr.words,ur=this._nDataBytes*8,fr=cr.sigBytes*8;return dr[fr>>>5]|=128<<24-fr%32,dr[(fr+64>>>9<<4)+14]=Math.floor(ur/4294967296),dr[(fr+64>>>9<<4)+15]=ur,cr.sigBytes=dr.length*4,this._process(),this._hash},clone:function(){var cr=nr.clone.call(this);return cr._hash=this._hash.clone(),cr}});er.SHA1=nr._createHelper(lr),er.HmacSHA1=nr._createHmacHelper(lr)}(),Nt.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(tr,Ot){(function(Nt,er){tr.exports=er(requireCore())})(commonjsGlobal,function(Nt){return function(er){var rr=Nt,ir=rr.lib,nr=ir.WordArray,sr=ir.Hasher,ar=rr.algo,lr=[],cr=[];(function(){function fr(br){for(var vr=er.sqrt(br),kr=2;kr<=vr;kr++)if(!(br%kr))return!1;return!0}function hr(br){return(br-(br|0))*4294967296|0}for(var pr=2,gr=0;gr<64;)fr(pr)&&(gr<8&&(lr[gr]=hr(er.pow(pr,1/2))),cr[gr]=hr(er.pow(pr,1/3)),gr++),pr++})();var dr=[],ur=ar.SHA256=sr.extend({_doReset:function(){this._hash=new nr.init(lr.slice(0))},_doProcessBlock:function(fr,hr){for(var pr=this._hash.words,gr=pr[0],br=pr[1],vr=pr[2],kr=pr[3],Sr=pr[4],Cr=pr[5],Ar=pr[6],Ir=pr[7],qr=0;qr<64;qr++){if(qr<16)dr[qr]=fr[hr+qr]|0;else{var Qr=dr[qr-15],Wr=(Qr<<25|Qr>>>7)^(Qr<<14|Qr>>>18)^Qr>>>3,jr=dr[qr-2],Or=(jr<<15|jr>>>17)^(jr<<13|jr>>>19)^jr>>>10;dr[qr]=Wr+dr[qr-7]+Or+dr[qr-16]}var yr=Sr&Cr^~Sr&Ar,xr=gr&br^gr&vr^br&vr,wr=(gr<<30|gr>>>2)^(gr<<19|gr>>>13)^(gr<<10|gr>>>22),Br=(Sr<<26|Sr>>>6)^(Sr<<21|Sr>>>11)^(Sr<<7|Sr>>>25),_r=Ir+Br+yr+cr[qr]+dr[qr],Mr=wr+xr;Ir=Ar,Ar=Cr,Cr=Sr,Sr=kr+_r|0,kr=vr,vr=br,br=gr,gr=_r+Mr|0}pr[0]=pr[0]+gr|0,pr[1]=pr[1]+br|0,pr[2]=pr[2]+vr|0,pr[3]=pr[3]+kr|0,pr[4]=pr[4]+Sr|0,pr[5]=pr[5]+Cr|0,pr[6]=pr[6]+Ar|0,pr[7]=pr[7]+Ir|0},_doFinalize:function(){var fr=this._data,hr=fr.words,pr=this._nDataBytes*8,gr=fr.sigBytes*8;return hr[gr>>>5]|=128<<24-gr%32,hr[(gr+64>>>9<<4)+14]=er.floor(pr/4294967296),hr[(gr+64>>>9<<4)+15]=pr,fr.sigBytes=hr.length*4,this._process(),this._hash},clone:function(){var fr=sr.clone.call(this);return fr._hash=this._hash.clone(),fr}});rr.SHA256=sr._createHelper(ur),rr.HmacSHA256=sr._createHmacHelper(ur)}(Math),Nt.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireSha256())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.WordArray,nr=er.algo,sr=nr.SHA256,ar=nr.SHA224=sr.extend({_doReset:function(){this._hash=new ir.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var lr=sr._doFinalize.call(this);return lr.sigBytes-=4,lr}});er.SHA224=sr._createHelper(ar),er.HmacSHA224=sr._createHmacHelper(ar)}(),Nt.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireX64Core())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.Hasher,nr=er.x64,sr=nr.Word,ar=nr.WordArray,lr=er.algo;function cr(){return sr.create.apply(sr,arguments)}var dr=[cr(1116352408,3609767458),cr(1899447441,602891725),cr(3049323471,3964484399),cr(3921009573,2173295548),cr(961987163,4081628472),cr(1508970993,3053834265),cr(2453635748,2937671579),cr(2870763221,3664609560),cr(3624381080,2734883394),cr(310598401,1164996542),cr(607225278,1323610764),cr(1426881987,3590304994),cr(1925078388,4068182383),cr(2162078206,991336113),cr(2614888103,633803317),cr(3248222580,3479774868),cr(3835390401,2666613458),cr(4022224774,944711139),cr(264347078,2341262773),cr(604807628,2007800933),cr(770255983,1495990901),cr(1249150122,1856431235),cr(1555081692,3175218132),cr(1996064986,2198950837),cr(2554220882,3999719339),cr(2821834349,766784016),cr(2952996808,2566594879),cr(3210313671,3203337956),cr(3336571891,1034457026),cr(3584528711,2466948901),cr(113926993,3758326383),cr(338241895,168717936),cr(666307205,1188179964),cr(773529912,1546045734),cr(1294757372,1522805485),cr(1396182291,2643833823),cr(1695183700,2343527390),cr(1986661051,1014477480),cr(2177026350,1206759142),cr(2456956037,344077627),cr(2730485921,1290863460),cr(2820302411,3158454273),cr(3259730800,3505952657),cr(3345764771,106217008),cr(3516065817,3606008344),cr(3600352804,1432725776),cr(4094571909,1467031594),cr(275423344,851169720),cr(430227734,3100823752),cr(506948616,1363258195),cr(659060556,3750685593),cr(883997877,3785050280),cr(958139571,3318307427),cr(1322822218,3812723403),cr(1537002063,2003034995),cr(1747873779,3602036899),cr(1955562222,1575990012),cr(2024104815,1125592928),cr(2227730452,2716904306),cr(2361852424,442776044),cr(2428436474,593698344),cr(2756734187,3733110249),cr(3204031479,2999351573),cr(3329325298,3815920427),cr(3391569614,3928383900),cr(3515267271,566280711),cr(3940187606,3454069534),cr(4118630271,4000239992),cr(116418474,1914138554),cr(174292421,2731055270),cr(289380356,3203993006),cr(460393269,320620315),cr(685471733,587496836),cr(852142971,1086792851),cr(1017036298,365543100),cr(1126000580,2618297676),cr(1288033470,3409855158),cr(1501505948,4234509866),cr(1607167915,987167468),cr(1816402316,1246189591)],ur=[];(function(){for(var hr=0;hr<80;hr++)ur[hr]=cr()})();var fr=lr.SHA512=ir.extend({_doReset:function(){this._hash=new ar.init([new sr.init(1779033703,4089235720),new sr.init(3144134277,2227873595),new sr.init(1013904242,4271175723),new sr.init(2773480762,1595750129),new sr.init(1359893119,2917565137),new sr.init(2600822924,725511199),new sr.init(528734635,4215389547),new sr.init(1541459225,327033209)])},_doProcessBlock:function(hr,pr){for(var gr=this._hash.words,br=gr[0],vr=gr[1],kr=gr[2],Sr=gr[3],Cr=gr[4],Ar=gr[5],Ir=gr[6],qr=gr[7],Qr=br.high,Wr=br.low,jr=vr.high,Or=vr.low,yr=kr.high,xr=kr.low,wr=Sr.high,Br=Sr.low,_r=Cr.high,Mr=Cr.low,Tr=Ar.high,Er=Ar.low,Pr=Ir.high,Rr=Ir.low,Lr=qr.high,Hr=qr.low,Gr=Qr,Ur=Wr,Nr=jr,Fr=Or,Xr=yr,Jr=xr,Vr=wr,Zr=Br,Kr=_r,Ci=Mr,Mi=Tr,Ti=Er,Ii=Pr,ji=Rr,Si=Lr,zi=Hr,Di=0;Di<80;Di++){var Fi,Vi,Ni=ur[Di];if(Di<16)Vi=Ni.high=hr[pr+Di*2]|0,Fi=Ni.low=hr[pr+Di*2+1]|0;else{var rn=ur[Di-15],ln=rn.high,qi=rn.low,fn=(ln>>>1|qi<<31)^(ln>>>8|qi<<24)^ln>>>7,Sn=(qi>>>1|ln<<31)^(qi>>>8|ln<<24)^(qi>>>7|ln<<25),Xi=ur[Di-2],yn=Xi.high,kn=Xi.low,nn=(yn>>>19|kn<<13)^(yn<<3|kn>>>29)^yn>>>6,jn=(kn>>>19|yn<<13)^(kn<<3|yn>>>29)^(kn>>>6|yn<<26),Tn=ur[Di-7],cn=Tn.high,Dn=Tn.low,Wi=ur[Di-16],tn=Wi.high,Bn=Wi.low;Fi=Sn+Dn,Vi=fn+cn+(Fi>>>0<Sn>>>0?1:0),Fi=Fi+jn,Vi=Vi+nn+(Fi>>>0<jn>>>0?1:0),Fi=Fi+Bn,Vi=Vi+tn+(Fi>>>0<Bn>>>0?1:0),Ni.high=Vi,Ni.low=Fi}var Mn=Kr&Mi^~Kr&Ii,Yi=Ci&Ti^~Ci&ji,Cn=Gr&Nr^Gr&Xr^Nr&Xr,wn=Ur&Fr^Ur&Jr^Fr&Jr,on=(Gr>>>28|Ur<<4)^(Gr<<30|Ur>>>2)^(Gr<<25|Ur>>>7),Pi=(Ur>>>28|Gr<<4)^(Ur<<30|Gr>>>2)^(Ur<<25|Gr>>>7),Pn=(Kr>>>14|Ci<<18)^(Kr>>>18|Ci<<14)^(Kr<<23|Ci>>>9),Hi=(Ci>>>14|Kr<<18)^(Ci>>>18|Kr<<14)^(Ci<<23|Kr>>>9),En=dr[Di],An=En.high,Ji=En.low,sn=zi+Hi,xn=Si+Pn+(sn>>>0<zi>>>0?1:0),sn=sn+Yi,xn=xn+Mn+(sn>>>0<Yi>>>0?1:0),sn=sn+Ji,xn=xn+An+(sn>>>0<Ji>>>0?1:0),sn=sn+Fi,xn=xn+Vi+(sn>>>0<Fi>>>0?1:0),Ui=Pi+wn,vn=on+Cn+(Ui>>>0<Pi>>>0?1:0);Si=Ii,zi=ji,Ii=Mi,ji=Ti,Mi=Kr,Ti=Ci,Ci=Zr+sn|0,Kr=Vr+xn+(Ci>>>0<Zr>>>0?1:0)|0,Vr=Xr,Zr=Jr,Xr=Nr,Jr=Fr,Nr=Gr,Fr=Ur,Ur=sn+Ui|0,Gr=xn+vn+(Ur>>>0<sn>>>0?1:0)|0}Wr=br.low=Wr+Ur,br.high=Qr+Gr+(Wr>>>0<Ur>>>0?1:0),Or=vr.low=Or+Fr,vr.high=jr+Nr+(Or>>>0<Fr>>>0?1:0),xr=kr.low=xr+Jr,kr.high=yr+Xr+(xr>>>0<Jr>>>0?1:0),Br=Sr.low=Br+Zr,Sr.high=wr+Vr+(Br>>>0<Zr>>>0?1:0),Mr=Cr.low=Mr+Ci,Cr.high=_r+Kr+(Mr>>>0<Ci>>>0?1:0),Er=Ar.low=Er+Ti,Ar.high=Tr+Mi+(Er>>>0<Ti>>>0?1:0),Rr=Ir.low=Rr+ji,Ir.high=Pr+Ii+(Rr>>>0<ji>>>0?1:0),Hr=qr.low=Hr+zi,qr.high=Lr+Si+(Hr>>>0<zi>>>0?1:0)},_doFinalize:function(){var hr=this._data,pr=hr.words,gr=this._nDataBytes*8,br=hr.sigBytes*8;pr[br>>>5]|=128<<24-br%32,pr[(br+128>>>10<<5)+30]=Math.floor(gr/4294967296),pr[(br+128>>>10<<5)+31]=gr,hr.sigBytes=pr.length*4,this._process();var vr=this._hash.toX32();return vr},clone:function(){var hr=ir.clone.call(this);return hr._hash=this._hash.clone(),hr},blockSize:1024/32});er.SHA512=ir._createHelper(fr),er.HmacSHA512=ir._createHmacHelper(fr)}(),Nt.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.x64,ir=rr.Word,nr=rr.WordArray,sr=er.algo,ar=sr.SHA512,lr=sr.SHA384=ar.extend({_doReset:function(){this._hash=new nr.init([new ir.init(3418070365,3238371032),new ir.init(1654270250,914150663),new ir.init(2438529370,812702999),new ir.init(355462360,4144912697),new ir.init(1731405415,4290775857),new ir.init(2394180231,1750603025),new ir.init(3675008525,1694076839),new ir.init(1203062813,3204075428)])},_doFinalize:function(){var cr=ar._doFinalize.call(this);return cr.sigBytes-=16,cr}});er.SHA384=ar._createHelper(lr),er.HmacSHA384=ar._createHmacHelper(lr)}(),Nt.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireX64Core())})(commonjsGlobal,function(Nt){return function(er){var rr=Nt,ir=rr.lib,nr=ir.WordArray,sr=ir.Hasher,ar=rr.x64,lr=ar.Word,cr=rr.algo,dr=[],ur=[],fr=[];(function(){for(var gr=1,br=0,vr=0;vr<24;vr++){dr[gr+5*br]=(vr+1)*(vr+2)/2%64;var kr=br%5,Sr=(2*gr+3*br)%5;gr=kr,br=Sr}for(var gr=0;gr<5;gr++)for(var br=0;br<5;br++)ur[gr+5*br]=br+(2*gr+3*br)%5*5;for(var Cr=1,Ar=0;Ar<24;Ar++){for(var Ir=0,qr=0,Qr=0;Qr<7;Qr++){if(Cr&1){var Wr=(1<<Qr)-1;Wr<32?qr^=1<<Wr:Ir^=1<<Wr-32}Cr&128?Cr=Cr<<1^113:Cr<<=1}fr[Ar]=lr.create(Ir,qr)}})();var hr=[];(function(){for(var gr=0;gr<25;gr++)hr[gr]=lr.create()})();var pr=cr.SHA3=sr.extend({cfg:sr.cfg.extend({outputLength:512}),_doReset:function(){for(var gr=this._state=[],br=0;br<25;br++)gr[br]=new lr.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(gr,br){for(var vr=this._state,kr=this.blockSize/2,Sr=0;Sr<kr;Sr++){var Cr=gr[br+2*Sr],Ar=gr[br+2*Sr+1];Cr=(Cr<<8|Cr>>>24)&16711935|(Cr<<24|Cr>>>8)&4278255360,Ar=(Ar<<8|Ar>>>24)&16711935|(Ar<<24|Ar>>>8)&4278255360;var Ir=vr[Sr];Ir.high^=Ar,Ir.low^=Cr}for(var qr=0;qr<24;qr++){for(var Qr=0;Qr<5;Qr++){for(var Wr=0,jr=0,Or=0;Or<5;Or++){var Ir=vr[Qr+5*Or];Wr^=Ir.high,jr^=Ir.low}var yr=hr[Qr];yr.high=Wr,yr.low=jr}for(var Qr=0;Qr<5;Qr++)for(var xr=hr[(Qr+4)%5],wr=hr[(Qr+1)%5],Br=wr.high,_r=wr.low,Wr=xr.high^(Br<<1|_r>>>31),jr=xr.low^(_r<<1|Br>>>31),Or=0;Or<5;Or++){var Ir=vr[Qr+5*Or];Ir.high^=Wr,Ir.low^=jr}for(var Mr=1;Mr<25;Mr++){var Wr,jr,Ir=vr[Mr],Tr=Ir.high,Er=Ir.low,Pr=dr[Mr];Pr<32?(Wr=Tr<<Pr|Er>>>32-Pr,jr=Er<<Pr|Tr>>>32-Pr):(Wr=Er<<Pr-32|Tr>>>64-Pr,jr=Tr<<Pr-32|Er>>>64-Pr);var Rr=hr[ur[Mr]];Rr.high=Wr,Rr.low=jr}var Lr=hr[0],Hr=vr[0];Lr.high=Hr.high,Lr.low=Hr.low;for(var Qr=0;Qr<5;Qr++)for(var Or=0;Or<5;Or++){var Mr=Qr+5*Or,Ir=vr[Mr],Gr=hr[Mr],Ur=hr[(Qr+1)%5+5*Or],Nr=hr[(Qr+2)%5+5*Or];Ir.high=Gr.high^~Ur.high&Nr.high,Ir.low=Gr.low^~Ur.low&Nr.low}var Ir=vr[0],Fr=fr[qr];Ir.high^=Fr.high,Ir.low^=Fr.low}},_doFinalize:function(){var gr=this._data,br=gr.words;this._nDataBytes*8;var vr=gr.sigBytes*8,kr=this.blockSize*32;br[vr>>>5]|=1<<24-vr%32,br[(er.ceil((vr+1)/kr)*kr>>>5)-1]|=128,gr.sigBytes=br.length*4,this._process();for(var Sr=this._state,Cr=this.cfg.outputLength/8,Ar=Cr/8,Ir=[],qr=0;qr<Ar;qr++){var Qr=Sr[qr],Wr=Qr.high,jr=Qr.low;Wr=(Wr<<8|Wr>>>24)&16711935|(Wr<<24|Wr>>>8)&4278255360,jr=(jr<<8|jr>>>24)&16711935|(jr<<24|jr>>>8)&4278255360,Ir.push(jr),Ir.push(Wr)}return new nr.init(Ir,Cr)},clone:function(){for(var gr=sr.clone.call(this),br=gr._state=this._state.slice(0),vr=0;vr<25;vr++)br[vr]=br[vr].clone();return gr}});rr.SHA3=sr._createHelper(pr),rr.HmacSHA3=sr._createHmacHelper(pr)}(Math),Nt.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(tr,Ot){(function(Nt,er){tr.exports=er(requireCore())})(commonjsGlobal,function(Nt){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(er){var rr=Nt,ir=rr.lib,nr=ir.WordArray,sr=ir.Hasher,ar=rr.algo,lr=nr.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),cr=nr.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),dr=nr.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),ur=nr.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),fr=nr.create([0,1518500249,1859775393,2400959708,2840853838]),hr=nr.create([1352829926,1548603684,1836072691,2053994217,0]),pr=ar.RIPEMD160=sr.extend({_doReset:function(){this._hash=nr.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Ar,Ir){for(var qr=0;qr<16;qr++){var Qr=Ir+qr,Wr=Ar[Qr];Ar[Qr]=(Wr<<8|Wr>>>24)&16711935|(Wr<<24|Wr>>>8)&4278255360}var jr=this._hash.words,Or=fr.words,yr=hr.words,xr=lr.words,wr=cr.words,Br=dr.words,_r=ur.words,Mr,Tr,Er,Pr,Rr,Lr,Hr,Gr,Ur,Nr;Lr=Mr=jr[0],Hr=Tr=jr[1],Gr=Er=jr[2],Ur=Pr=jr[3],Nr=Rr=jr[4];for(var Fr,qr=0;qr<80;qr+=1)Fr=Mr+Ar[Ir+xr[qr]]|0,qr<16?Fr+=gr(Tr,Er,Pr)+Or[0]:qr<32?Fr+=br(Tr,Er,Pr)+Or[1]:qr<48?Fr+=vr(Tr,Er,Pr)+Or[2]:qr<64?Fr+=kr(Tr,Er,Pr)+Or[3]:Fr+=Sr(Tr,Er,Pr)+Or[4],Fr=Fr|0,Fr=Cr(Fr,Br[qr]),Fr=Fr+Rr|0,Mr=Rr,Rr=Pr,Pr=Cr(Er,10),Er=Tr,Tr=Fr,Fr=Lr+Ar[Ir+wr[qr]]|0,qr<16?Fr+=Sr(Hr,Gr,Ur)+yr[0]:qr<32?Fr+=kr(Hr,Gr,Ur)+yr[1]:qr<48?Fr+=vr(Hr,Gr,Ur)+yr[2]:qr<64?Fr+=br(Hr,Gr,Ur)+yr[3]:Fr+=gr(Hr,Gr,Ur)+yr[4],Fr=Fr|0,Fr=Cr(Fr,_r[qr]),Fr=Fr+Nr|0,Lr=Nr,Nr=Ur,Ur=Cr(Gr,10),Gr=Hr,Hr=Fr;Fr=jr[1]+Er+Ur|0,jr[1]=jr[2]+Pr+Nr|0,jr[2]=jr[3]+Rr+Lr|0,jr[3]=jr[4]+Mr+Hr|0,jr[4]=jr[0]+Tr+Gr|0,jr[0]=Fr},_doFinalize:function(){var Ar=this._data,Ir=Ar.words,qr=this._nDataBytes*8,Qr=Ar.sigBytes*8;Ir[Qr>>>5]|=128<<24-Qr%32,Ir[(Qr+64>>>9<<4)+14]=(qr<<8|qr>>>24)&16711935|(qr<<24|qr>>>8)&4278255360,Ar.sigBytes=(Ir.length+1)*4,this._process();for(var Wr=this._hash,jr=Wr.words,Or=0;Or<5;Or++){var yr=jr[Or];jr[Or]=(yr<<8|yr>>>24)&16711935|(yr<<24|yr>>>8)&4278255360}return Wr},clone:function(){var Ar=sr.clone.call(this);return Ar._hash=this._hash.clone(),Ar}});function gr(Ar,Ir,qr){return Ar^Ir^qr}function br(Ar,Ir,qr){return Ar&Ir|~Ar&qr}function vr(Ar,Ir,qr){return(Ar|~Ir)^qr}function kr(Ar,Ir,qr){return Ar&qr|Ir&~qr}function Sr(Ar,Ir,qr){return Ar^(Ir|~qr)}function Cr(Ar,Ir){return Ar<<Ir|Ar>>>32-Ir}rr.RIPEMD160=sr._createHelper(pr),rr.HmacRIPEMD160=sr._createHmacHelper(pr)}(),Nt.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(tr,Ot){(function(Nt,er){tr.exports=er(requireCore())})(commonjsGlobal,function(Nt){(function(){var er=Nt,rr=er.lib,ir=rr.Base,nr=er.enc,sr=nr.Utf8,ar=er.algo;ar.HMAC=ir.extend({init:function(lr,cr){lr=this._hasher=new lr.init,typeof cr=="string"&&(cr=sr.parse(cr));var dr=lr.blockSize,ur=dr*4;cr.sigBytes>ur&&(cr=lr.finalize(cr)),cr.clamp();for(var fr=this._oKey=cr.clone(),hr=this._iKey=cr.clone(),pr=fr.words,gr=hr.words,br=0;br<dr;br++)pr[br]^=1549556828,gr[br]^=909522486;fr.sigBytes=hr.sigBytes=ur,this.reset()},reset:function(){var lr=this._hasher;lr.reset(),lr.update(this._iKey)},update:function(lr){return this._hasher.update(lr),this},finalize:function(lr){var cr=this._hasher,dr=cr.finalize(lr);cr.reset();var ur=cr.finalize(this._oKey.clone().concat(dr));return ur}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.Base,nr=rr.WordArray,sr=er.algo,ar=sr.SHA256,lr=sr.HMAC,cr=sr.PBKDF2=ir.extend({cfg:ir.extend({keySize:128/32,hasher:ar,iterations:25e4}),init:function(dr){this.cfg=this.cfg.extend(dr)},compute:function(dr,ur){for(var fr=this.cfg,hr=lr.create(fr.hasher,dr),pr=nr.create(),gr=nr.create([1]),br=pr.words,vr=gr.words,kr=fr.keySize,Sr=fr.iterations;br.length<kr;){var Cr=hr.update(ur).finalize(gr);hr.reset();for(var Ar=Cr.words,Ir=Ar.length,qr=Cr,Qr=1;Qr<Sr;Qr++){qr=hr.finalize(qr),hr.reset();for(var Wr=qr.words,jr=0;jr<Ir;jr++)Ar[jr]^=Wr[jr]}pr.concat(Cr),vr[0]++}return pr.sigBytes=kr*4,pr}});er.PBKDF2=function(dr,ur,fr){return cr.create(fr).compute(dr,ur)}}(),Nt.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.Base,nr=rr.WordArray,sr=er.algo,ar=sr.MD5,lr=sr.EvpKDF=ir.extend({cfg:ir.extend({keySize:128/32,hasher:ar,iterations:1}),init:function(cr){this.cfg=this.cfg.extend(cr)},compute:function(cr,dr){for(var ur,fr=this.cfg,hr=fr.hasher.create(),pr=nr.create(),gr=pr.words,br=fr.keySize,vr=fr.iterations;gr.length<br;){ur&&hr.update(ur),ur=hr.update(cr).finalize(dr),hr.reset();for(var kr=1;kr<vr;kr++)ur=hr.finalize(ur),hr.reset();pr.concat(ur)}return pr.sigBytes=br*4,pr}});er.EvpKDF=function(cr,dr,ur){return lr.create(ur).compute(cr,dr)}}(),Nt.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireEvpkdf())})(commonjsGlobal,function(Nt){Nt.lib.Cipher||function(er){var rr=Nt,ir=rr.lib,nr=ir.Base,sr=ir.WordArray,ar=ir.BufferedBlockAlgorithm,lr=rr.enc;lr.Utf8;var cr=lr.Base64,dr=rr.algo,ur=dr.EvpKDF,fr=ir.Cipher=ar.extend({cfg:nr.extend(),createEncryptor:function(Wr,jr){return this.create(this._ENC_XFORM_MODE,Wr,jr)},createDecryptor:function(Wr,jr){return this.create(this._DEC_XFORM_MODE,Wr,jr)},init:function(Wr,jr,Or){this.cfg=this.cfg.extend(Or),this._xformMode=Wr,this._key=jr,this.reset()},reset:function(){ar.reset.call(this),this._doReset()},process:function(Wr){return this._append(Wr),this._process()},finalize:function(Wr){Wr&&this._append(Wr);var jr=this._doFinalize();return jr},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Wr(jr){return typeof jr=="string"?Qr:Ar}return function(jr){return{encrypt:function(Or,yr,xr){return Wr(yr).encrypt(jr,Or,yr,xr)},decrypt:function(Or,yr,xr){return Wr(yr).decrypt(jr,Or,yr,xr)}}}}()});ir.StreamCipher=fr.extend({_doFinalize:function(){var Wr=this._process(!0);return Wr},blockSize:1});var hr=rr.mode={},pr=ir.BlockCipherMode=nr.extend({createEncryptor:function(Wr,jr){return this.Encryptor.create(Wr,jr)},createDecryptor:function(Wr,jr){return this.Decryptor.create(Wr,jr)},init:function(Wr,jr){this._cipher=Wr,this._iv=jr}}),gr=hr.CBC=function(){var Wr=pr.extend();Wr.Encryptor=Wr.extend({processBlock:function(Or,yr){var xr=this._cipher,wr=xr.blockSize;jr.call(this,Or,yr,wr),xr.encryptBlock(Or,yr),this._prevBlock=Or.slice(yr,yr+wr)}}),Wr.Decryptor=Wr.extend({processBlock:function(Or,yr){var xr=this._cipher,wr=xr.blockSize,Br=Or.slice(yr,yr+wr);xr.decryptBlock(Or,yr),jr.call(this,Or,yr,wr),this._prevBlock=Br}});function jr(Or,yr,xr){var wr,Br=this._iv;Br?(wr=Br,this._iv=er):wr=this._prevBlock;for(var _r=0;_r<xr;_r++)Or[yr+_r]^=wr[_r]}return Wr}(),br=rr.pad={},vr=br.Pkcs7={pad:function(Wr,jr){for(var Or=jr*4,yr=Or-Wr.sigBytes%Or,xr=yr<<24|yr<<16|yr<<8|yr,wr=[],Br=0;Br<yr;Br+=4)wr.push(xr);var _r=sr.create(wr,yr);Wr.concat(_r)},unpad:function(Wr){var jr=Wr.words[Wr.sigBytes-1>>>2]&255;Wr.sigBytes-=jr}};ir.BlockCipher=fr.extend({cfg:fr.cfg.extend({mode:gr,padding:vr}),reset:function(){var Wr;fr.reset.call(this);var jr=this.cfg,Or=jr.iv,yr=jr.mode;this._xformMode==this._ENC_XFORM_MODE?Wr=yr.createEncryptor:(Wr=yr.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Wr?this._mode.init(this,Or&&Or.words):(this._mode=Wr.call(yr,this,Or&&Or.words),this._mode.__creator=Wr)},_doProcessBlock:function(Wr,jr){this._mode.processBlock(Wr,jr)},_doFinalize:function(){var Wr,jr=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(jr.pad(this._data,this.blockSize),Wr=this._process(!0)):(Wr=this._process(!0),jr.unpad(Wr)),Wr},blockSize:128/32});var kr=ir.CipherParams=nr.extend({init:function(Wr){this.mixIn(Wr)},toString:function(Wr){return(Wr||this.formatter).stringify(this)}}),Sr=rr.format={},Cr=Sr.OpenSSL={stringify:function(Wr){var jr,Or=Wr.ciphertext,yr=Wr.salt;return yr?jr=sr.create([1398893684,1701076831]).concat(yr).concat(Or):jr=Or,jr.toString(cr)},parse:function(Wr){var jr,Or=cr.parse(Wr),yr=Or.words;return yr[0]==1398893684&&yr[1]==1701076831&&(jr=sr.create(yr.slice(2,4)),yr.splice(0,4),Or.sigBytes-=16),kr.create({ciphertext:Or,salt:jr})}},Ar=ir.SerializableCipher=nr.extend({cfg:nr.extend({format:Cr}),encrypt:function(Wr,jr,Or,yr){yr=this.cfg.extend(yr);var xr=Wr.createEncryptor(Or,yr),wr=xr.finalize(jr),Br=xr.cfg;return kr.create({ciphertext:wr,key:Or,iv:Br.iv,algorithm:Wr,mode:Br.mode,padding:Br.padding,blockSize:Wr.blockSize,formatter:yr.format})},decrypt:function(Wr,jr,Or,yr){yr=this.cfg.extend(yr),jr=this._parse(jr,yr.format);var xr=Wr.createDecryptor(Or,yr).finalize(jr.ciphertext);return xr},_parse:function(Wr,jr){return typeof Wr=="string"?jr.parse(Wr,this):Wr}}),Ir=rr.kdf={},qr=Ir.OpenSSL={execute:function(Wr,jr,Or,yr,xr){if(yr||(yr=sr.random(64/8)),xr)var wr=ur.create({keySize:jr+Or,hasher:xr}).compute(Wr,yr);else var wr=ur.create({keySize:jr+Or}).compute(Wr,yr);var Br=sr.create(wr.words.slice(jr),Or*4);return wr.sigBytes=jr*4,kr.create({key:wr,iv:Br,salt:yr})}},Qr=ir.PasswordBasedCipher=Ar.extend({cfg:Ar.cfg.extend({kdf:qr}),encrypt:function(Wr,jr,Or,yr){yr=this.cfg.extend(yr);var xr=yr.kdf.execute(Or,Wr.keySize,Wr.ivSize,yr.salt,yr.hasher);yr.iv=xr.iv;var wr=Ar.encrypt.call(this,Wr,jr,xr.key,yr);return wr.mixIn(xr),wr},decrypt:function(Wr,jr,Or,yr){yr=this.cfg.extend(yr),jr=this._parse(jr,yr.format);var xr=yr.kdf.execute(Or,Wr.keySize,Wr.ivSize,jr.salt,yr.hasher);yr.iv=xr.iv;var wr=Ar.decrypt.call(this,Wr,jr,xr.key,yr);return wr}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireCipherCore())})(commonjsGlobal,function(Nt){return Nt.mode.CFB=function(){var er=Nt.lib.BlockCipherMode.extend();er.Encryptor=er.extend({processBlock:function(ir,nr){var sr=this._cipher,ar=sr.blockSize;rr.call(this,ir,nr,ar,sr),this._prevBlock=ir.slice(nr,nr+ar)}}),er.Decryptor=er.extend({processBlock:function(ir,nr){var sr=this._cipher,ar=sr.blockSize,lr=ir.slice(nr,nr+ar);rr.call(this,ir,nr,ar,sr),this._prevBlock=lr}});function rr(ir,nr,sr,ar){var lr,cr=this._iv;cr?(lr=cr.slice(0),this._iv=void 0):lr=this._prevBlock,ar.encryptBlock(lr,0);for(var dr=0;dr<sr;dr++)ir[nr+dr]^=lr[dr]}return er}(),Nt.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireCipherCore())})(commonjsGlobal,function(Nt){return Nt.mode.CTR=function(){var er=Nt.lib.BlockCipherMode.extend(),rr=er.Encryptor=er.extend({processBlock:function(ir,nr){var sr=this._cipher,ar=sr.blockSize,lr=this._iv,cr=this._counter;lr&&(cr=this._counter=lr.slice(0),this._iv=void 0);var dr=cr.slice(0);sr.encryptBlock(dr,0),cr[ar-1]=cr[ar-1]+1|0;for(var ur=0;ur<ar;ur++)ir[nr+ur]^=dr[ur]}});return er.Decryptor=rr,er}(),Nt.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireCipherCore())})(commonjsGlobal,function(Nt){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return Nt.mode.CTRGladman=function(){var er=Nt.lib.BlockCipherMode.extend();function rr(sr){if((sr>>24&255)===255){var ar=sr>>16&255,lr=sr>>8&255,cr=sr&255;ar===255?(ar=0,lr===255?(lr=0,cr===255?cr=0:++cr):++lr):++ar,sr=0,sr+=ar<<16,sr+=lr<<8,sr+=cr}else sr+=1<<24;return sr}function ir(sr){return(sr[0]=rr(sr[0]))===0&&(sr[1]=rr(sr[1])),sr}var nr=er.Encryptor=er.extend({processBlock:function(sr,ar){var lr=this._cipher,cr=lr.blockSize,dr=this._iv,ur=this._counter;dr&&(ur=this._counter=dr.slice(0),this._iv=void 0),ir(ur);var fr=ur.slice(0);lr.encryptBlock(fr,0);for(var hr=0;hr<cr;hr++)sr[ar+hr]^=fr[hr]}});return er.Decryptor=nr,er}(),Nt.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireCipherCore())})(commonjsGlobal,function(Nt){return Nt.mode.OFB=function(){var er=Nt.lib.BlockCipherMode.extend(),rr=er.Encryptor=er.extend({processBlock:function(ir,nr){var sr=this._cipher,ar=sr.blockSize,lr=this._iv,cr=this._keystream;lr&&(cr=this._keystream=lr.slice(0),this._iv=void 0),sr.encryptBlock(cr,0);for(var dr=0;dr<ar;dr++)ir[nr+dr]^=cr[dr]}});return er.Decryptor=rr,er}(),Nt.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireCipherCore())})(commonjsGlobal,function(Nt){return Nt.mode.ECB=function(){var er=Nt.lib.BlockCipherMode.extend();return er.Encryptor=er.extend({processBlock:function(rr,ir){this._cipher.encryptBlock(rr,ir)}}),er.Decryptor=er.extend({processBlock:function(rr,ir){this._cipher.decryptBlock(rr,ir)}}),er}(),Nt.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireCipherCore())})(commonjsGlobal,function(Nt){return Nt.pad.AnsiX923={pad:function(er,rr){var ir=er.sigBytes,nr=rr*4,sr=nr-ir%nr,ar=ir+sr-1;er.clamp(),er.words[ar>>>2]|=sr<<24-ar%4*8,er.sigBytes+=sr},unpad:function(er){var rr=er.words[er.sigBytes-1>>>2]&255;er.sigBytes-=rr}},Nt.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireCipherCore())})(commonjsGlobal,function(Nt){return Nt.pad.Iso10126={pad:function(er,rr){var ir=rr*4,nr=ir-er.sigBytes%ir;er.concat(Nt.lib.WordArray.random(nr-1)).concat(Nt.lib.WordArray.create([nr<<24],1))},unpad:function(er){var rr=er.words[er.sigBytes-1>>>2]&255;er.sigBytes-=rr}},Nt.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireCipherCore())})(commonjsGlobal,function(Nt){return Nt.pad.Iso97971={pad:function(er,rr){er.concat(Nt.lib.WordArray.create([2147483648],1)),Nt.pad.ZeroPadding.pad(er,rr)},unpad:function(er){Nt.pad.ZeroPadding.unpad(er),er.sigBytes--}},Nt.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireCipherCore())})(commonjsGlobal,function(Nt){return Nt.pad.ZeroPadding={pad:function(er,rr){var ir=rr*4;er.clamp(),er.sigBytes+=ir-(er.sigBytes%ir||ir)},unpad:function(er){for(var rr=er.words,ir=er.sigBytes-1,ir=er.sigBytes-1;ir>=0;ir--)if(rr[ir>>>2]>>>24-ir%4*8&255){er.sigBytes=ir+1;break}}},Nt.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireCipherCore())})(commonjsGlobal,function(Nt){return Nt.pad.NoPadding={pad:function(){},unpad:function(){}},Nt.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireCipherCore())})(commonjsGlobal,function(Nt){return function(er){var rr=Nt,ir=rr.lib,nr=ir.CipherParams,sr=rr.enc,ar=sr.Hex,lr=rr.format;lr.Hex={stringify:function(cr){return cr.ciphertext.toString(ar)},parse:function(cr){var dr=ar.parse(cr);return nr.create({ciphertext:dr})}}}(),Nt.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.BlockCipher,nr=er.algo,sr=[],ar=[],lr=[],cr=[],dr=[],ur=[],fr=[],hr=[],pr=[],gr=[];(function(){for(var kr=[],Sr=0;Sr<256;Sr++)Sr<128?kr[Sr]=Sr<<1:kr[Sr]=Sr<<1^283;for(var Cr=0,Ar=0,Sr=0;Sr<256;Sr++){var Ir=Ar^Ar<<1^Ar<<2^Ar<<3^Ar<<4;Ir=Ir>>>8^Ir&255^99,sr[Cr]=Ir,ar[Ir]=Cr;var qr=kr[Cr],Qr=kr[qr],Wr=kr[Qr],jr=kr[Ir]*257^Ir*16843008;lr[Cr]=jr<<24|jr>>>8,cr[Cr]=jr<<16|jr>>>16,dr[Cr]=jr<<8|jr>>>24,ur[Cr]=jr;var jr=Wr*16843009^Qr*65537^qr*257^Cr*16843008;fr[Ir]=jr<<24|jr>>>8,hr[Ir]=jr<<16|jr>>>16,pr[Ir]=jr<<8|jr>>>24,gr[Ir]=jr,Cr?(Cr=qr^kr[kr[kr[Wr^qr]]],Ar^=kr[kr[Ar]]):Cr=Ar=1}})();var br=[0,1,2,4,8,16,32,64,128,27,54],vr=nr.AES=ir.extend({_doReset:function(){var kr;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var Sr=this._keyPriorReset=this._key,Cr=Sr.words,Ar=Sr.sigBytes/4,Ir=this._nRounds=Ar+6,qr=(Ir+1)*4,Qr=this._keySchedule=[],Wr=0;Wr<qr;Wr++)Wr<Ar?Qr[Wr]=Cr[Wr]:(kr=Qr[Wr-1],Wr%Ar?Ar>6&&Wr%Ar==4&&(kr=sr[kr>>>24]<<24|sr[kr>>>16&255]<<16|sr[kr>>>8&255]<<8|sr[kr&255]):(kr=kr<<8|kr>>>24,kr=sr[kr>>>24]<<24|sr[kr>>>16&255]<<16|sr[kr>>>8&255]<<8|sr[kr&255],kr^=br[Wr/Ar|0]<<24),Qr[Wr]=Qr[Wr-Ar]^kr);for(var jr=this._invKeySchedule=[],Or=0;Or<qr;Or++){var Wr=qr-Or;if(Or%4)var kr=Qr[Wr];else var kr=Qr[Wr-4];Or<4||Wr<=4?jr[Or]=kr:jr[Or]=fr[sr[kr>>>24]]^hr[sr[kr>>>16&255]]^pr[sr[kr>>>8&255]]^gr[sr[kr&255]]}}},encryptBlock:function(kr,Sr){this._doCryptBlock(kr,Sr,this._keySchedule,lr,cr,dr,ur,sr)},decryptBlock:function(kr,Sr){var Cr=kr[Sr+1];kr[Sr+1]=kr[Sr+3],kr[Sr+3]=Cr,this._doCryptBlock(kr,Sr,this._invKeySchedule,fr,hr,pr,gr,ar);var Cr=kr[Sr+1];kr[Sr+1]=kr[Sr+3],kr[Sr+3]=Cr},_doCryptBlock:function(kr,Sr,Cr,Ar,Ir,qr,Qr,Wr){for(var jr=this._nRounds,Or=kr[Sr]^Cr[0],yr=kr[Sr+1]^Cr[1],xr=kr[Sr+2]^Cr[2],wr=kr[Sr+3]^Cr[3],Br=4,_r=1;_r<jr;_r++){var Mr=Ar[Or>>>24]^Ir[yr>>>16&255]^qr[xr>>>8&255]^Qr[wr&255]^Cr[Br++],Tr=Ar[yr>>>24]^Ir[xr>>>16&255]^qr[wr>>>8&255]^Qr[Or&255]^Cr[Br++],Er=Ar[xr>>>24]^Ir[wr>>>16&255]^qr[Or>>>8&255]^Qr[yr&255]^Cr[Br++],Pr=Ar[wr>>>24]^Ir[Or>>>16&255]^qr[yr>>>8&255]^Qr[xr&255]^Cr[Br++];Or=Mr,yr=Tr,xr=Er,wr=Pr}var Mr=(Wr[Or>>>24]<<24|Wr[yr>>>16&255]<<16|Wr[xr>>>8&255]<<8|Wr[wr&255])^Cr[Br++],Tr=(Wr[yr>>>24]<<24|Wr[xr>>>16&255]<<16|Wr[wr>>>8&255]<<8|Wr[Or&255])^Cr[Br++],Er=(Wr[xr>>>24]<<24|Wr[wr>>>16&255]<<16|Wr[Or>>>8&255]<<8|Wr[yr&255])^Cr[Br++],Pr=(Wr[wr>>>24]<<24|Wr[Or>>>16&255]<<16|Wr[yr>>>8&255]<<8|Wr[xr&255])^Cr[Br++];kr[Sr]=Mr,kr[Sr+1]=Tr,kr[Sr+2]=Er,kr[Sr+3]=Pr},keySize:256/32});er.AES=ir._createHelper(vr)}(),Nt.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.WordArray,nr=rr.BlockCipher,sr=er.algo,ar=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],lr=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],cr=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],dr=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],ur=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],fr=sr.DES=nr.extend({_doReset:function(){for(var br=this._key,vr=br.words,kr=[],Sr=0;Sr<56;Sr++){var Cr=ar[Sr]-1;kr[Sr]=vr[Cr>>>5]>>>31-Cr%32&1}for(var Ar=this._subKeys=[],Ir=0;Ir<16;Ir++){for(var qr=Ar[Ir]=[],Qr=cr[Ir],Sr=0;Sr<24;Sr++)qr[Sr/6|0]|=kr[(lr[Sr]-1+Qr)%28]<<31-Sr%6,qr[4+(Sr/6|0)]|=kr[28+(lr[Sr+24]-1+Qr)%28]<<31-Sr%6;qr[0]=qr[0]<<1|qr[0]>>>31;for(var Sr=1;Sr<7;Sr++)qr[Sr]=qr[Sr]>>>(Sr-1)*4+3;qr[7]=qr[7]<<5|qr[7]>>>27}for(var Wr=this._invSubKeys=[],Sr=0;Sr<16;Sr++)Wr[Sr]=Ar[15-Sr]},encryptBlock:function(br,vr){this._doCryptBlock(br,vr,this._subKeys)},decryptBlock:function(br,vr){this._doCryptBlock(br,vr,this._invSubKeys)},_doCryptBlock:function(br,vr,kr){this._lBlock=br[vr],this._rBlock=br[vr+1],hr.call(this,4,252645135),hr.call(this,16,65535),pr.call(this,2,858993459),pr.call(this,8,16711935),hr.call(this,1,1431655765);for(var Sr=0;Sr<16;Sr++){for(var Cr=kr[Sr],Ar=this._lBlock,Ir=this._rBlock,qr=0,Qr=0;Qr<8;Qr++)qr|=dr[Qr][((Ir^Cr[Qr])&ur[Qr])>>>0];this._lBlock=Ir,this._rBlock=Ar^qr}var Wr=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Wr,hr.call(this,1,1431655765),pr.call(this,8,16711935),pr.call(this,2,858993459),hr.call(this,16,65535),hr.call(this,4,252645135),br[vr]=this._lBlock,br[vr+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function hr(br,vr){var kr=(this._lBlock>>>br^this._rBlock)&vr;this._rBlock^=kr,this._lBlock^=kr<<br}function pr(br,vr){var kr=(this._rBlock>>>br^this._lBlock)&vr;this._lBlock^=kr,this._rBlock^=kr<<br}er.DES=nr._createHelper(fr);var gr=sr.TripleDES=nr.extend({_doReset:function(){var br=this._key,vr=br.words;if(vr.length!==2&&vr.length!==4&&vr.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var kr=vr.slice(0,2),Sr=vr.length<4?vr.slice(0,2):vr.slice(2,4),Cr=vr.length<6?vr.slice(0,2):vr.slice(4,6);this._des1=fr.createEncryptor(ir.create(kr)),this._des2=fr.createEncryptor(ir.create(Sr)),this._des3=fr.createEncryptor(ir.create(Cr))},encryptBlock:function(br,vr){this._des1.encryptBlock(br,vr),this._des2.decryptBlock(br,vr),this._des3.encryptBlock(br,vr)},decryptBlock:function(br,vr){this._des3.decryptBlock(br,vr),this._des2.encryptBlock(br,vr),this._des1.decryptBlock(br,vr)},keySize:192/32,ivSize:64/32,blockSize:64/32});er.TripleDES=nr._createHelper(gr)}(),Nt.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.StreamCipher,nr=er.algo,sr=nr.RC4=ir.extend({_doReset:function(){for(var cr=this._key,dr=cr.words,ur=cr.sigBytes,fr=this._S=[],hr=0;hr<256;hr++)fr[hr]=hr;for(var hr=0,pr=0;hr<256;hr++){var gr=hr%ur,br=dr[gr>>>2]>>>24-gr%4*8&255;pr=(pr+fr[hr]+br)%256;var vr=fr[hr];fr[hr]=fr[pr],fr[pr]=vr}this._i=this._j=0},_doProcessBlock:function(cr,dr){cr[dr]^=ar.call(this)},keySize:256/32,ivSize:0});function ar(){for(var cr=this._S,dr=this._i,ur=this._j,fr=0,hr=0;hr<4;hr++){dr=(dr+1)%256,ur=(ur+cr[dr])%256;var pr=cr[dr];cr[dr]=cr[ur],cr[ur]=pr,fr|=cr[(cr[dr]+cr[ur])%256]<<24-hr*8}return this._i=dr,this._j=ur,fr}er.RC4=ir._createHelper(sr);var lr=nr.RC4Drop=sr.extend({cfg:sr.cfg.extend({drop:192}),_doReset:function(){sr._doReset.call(this);for(var cr=this.cfg.drop;cr>0;cr--)ar.call(this)}});er.RC4Drop=ir._createHelper(lr)}(),Nt.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.StreamCipher,nr=er.algo,sr=[],ar=[],lr=[],cr=nr.Rabbit=ir.extend({_doReset:function(){for(var ur=this._key.words,fr=this.cfg.iv,hr=0;hr<4;hr++)ur[hr]=(ur[hr]<<8|ur[hr]>>>24)&16711935|(ur[hr]<<24|ur[hr]>>>8)&4278255360;var pr=this._X=[ur[0],ur[3]<<16|ur[2]>>>16,ur[1],ur[0]<<16|ur[3]>>>16,ur[2],ur[1]<<16|ur[0]>>>16,ur[3],ur[2]<<16|ur[1]>>>16],gr=this._C=[ur[2]<<16|ur[2]>>>16,ur[0]&4294901760|ur[1]&65535,ur[3]<<16|ur[3]>>>16,ur[1]&4294901760|ur[2]&65535,ur[0]<<16|ur[0]>>>16,ur[2]&4294901760|ur[3]&65535,ur[1]<<16|ur[1]>>>16,ur[3]&4294901760|ur[0]&65535];this._b=0;for(var hr=0;hr<4;hr++)dr.call(this);for(var hr=0;hr<8;hr++)gr[hr]^=pr[hr+4&7];if(fr){var br=fr.words,vr=br[0],kr=br[1],Sr=(vr<<8|vr>>>24)&16711935|(vr<<24|vr>>>8)&4278255360,Cr=(kr<<8|kr>>>24)&16711935|(kr<<24|kr>>>8)&4278255360,Ar=Sr>>>16|Cr&4294901760,Ir=Cr<<16|Sr&65535;gr[0]^=Sr,gr[1]^=Ar,gr[2]^=Cr,gr[3]^=Ir,gr[4]^=Sr,gr[5]^=Ar,gr[6]^=Cr,gr[7]^=Ir;for(var hr=0;hr<4;hr++)dr.call(this)}},_doProcessBlock:function(ur,fr){var hr=this._X;dr.call(this),sr[0]=hr[0]^hr[5]>>>16^hr[3]<<16,sr[1]=hr[2]^hr[7]>>>16^hr[5]<<16,sr[2]=hr[4]^hr[1]>>>16^hr[7]<<16,sr[3]=hr[6]^hr[3]>>>16^hr[1]<<16;for(var pr=0;pr<4;pr++)sr[pr]=(sr[pr]<<8|sr[pr]>>>24)&16711935|(sr[pr]<<24|sr[pr]>>>8)&4278255360,ur[fr+pr]^=sr[pr]},blockSize:128/32,ivSize:64/32});function dr(){for(var ur=this._X,fr=this._C,hr=0;hr<8;hr++)ar[hr]=fr[hr];fr[0]=fr[0]+1295307597+this._b|0,fr[1]=fr[1]+3545052371+(fr[0]>>>0<ar[0]>>>0?1:0)|0,fr[2]=fr[2]+886263092+(fr[1]>>>0<ar[1]>>>0?1:0)|0,fr[3]=fr[3]+1295307597+(fr[2]>>>0<ar[2]>>>0?1:0)|0,fr[4]=fr[4]+3545052371+(fr[3]>>>0<ar[3]>>>0?1:0)|0,fr[5]=fr[5]+886263092+(fr[4]>>>0<ar[4]>>>0?1:0)|0,fr[6]=fr[6]+1295307597+(fr[5]>>>0<ar[5]>>>0?1:0)|0,fr[7]=fr[7]+3545052371+(fr[6]>>>0<ar[6]>>>0?1:0)|0,this._b=fr[7]>>>0<ar[7]>>>0?1:0;for(var hr=0;hr<8;hr++){var pr=ur[hr]+fr[hr],gr=pr&65535,br=pr>>>16,vr=((gr*gr>>>17)+gr*br>>>15)+br*br,kr=((pr&4294901760)*pr|0)+((pr&65535)*pr|0);lr[hr]=vr^kr}ur[0]=lr[0]+(lr[7]<<16|lr[7]>>>16)+(lr[6]<<16|lr[6]>>>16)|0,ur[1]=lr[1]+(lr[0]<<8|lr[0]>>>24)+lr[7]|0,ur[2]=lr[2]+(lr[1]<<16|lr[1]>>>16)+(lr[0]<<16|lr[0]>>>16)|0,ur[3]=lr[3]+(lr[2]<<8|lr[2]>>>24)+lr[1]|0,ur[4]=lr[4]+(lr[3]<<16|lr[3]>>>16)+(lr[2]<<16|lr[2]>>>16)|0,ur[5]=lr[5]+(lr[4]<<8|lr[4]>>>24)+lr[3]|0,ur[6]=lr[6]+(lr[5]<<16|lr[5]>>>16)+(lr[4]<<16|lr[4]>>>16)|0,ur[7]=lr[7]+(lr[6]<<8|lr[6]>>>24)+lr[5]|0}er.Rabbit=ir._createHelper(cr)}(),Nt.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.StreamCipher,nr=er.algo,sr=[],ar=[],lr=[],cr=nr.RabbitLegacy=ir.extend({_doReset:function(){var ur=this._key.words,fr=this.cfg.iv,hr=this._X=[ur[0],ur[3]<<16|ur[2]>>>16,ur[1],ur[0]<<16|ur[3]>>>16,ur[2],ur[1]<<16|ur[0]>>>16,ur[3],ur[2]<<16|ur[1]>>>16],pr=this._C=[ur[2]<<16|ur[2]>>>16,ur[0]&4294901760|ur[1]&65535,ur[3]<<16|ur[3]>>>16,ur[1]&4294901760|ur[2]&65535,ur[0]<<16|ur[0]>>>16,ur[2]&4294901760|ur[3]&65535,ur[1]<<16|ur[1]>>>16,ur[3]&4294901760|ur[0]&65535];this._b=0;for(var gr=0;gr<4;gr++)dr.call(this);for(var gr=0;gr<8;gr++)pr[gr]^=hr[gr+4&7];if(fr){var br=fr.words,vr=br[0],kr=br[1],Sr=(vr<<8|vr>>>24)&16711935|(vr<<24|vr>>>8)&4278255360,Cr=(kr<<8|kr>>>24)&16711935|(kr<<24|kr>>>8)&4278255360,Ar=Sr>>>16|Cr&4294901760,Ir=Cr<<16|Sr&65535;pr[0]^=Sr,pr[1]^=Ar,pr[2]^=Cr,pr[3]^=Ir,pr[4]^=Sr,pr[5]^=Ar,pr[6]^=Cr,pr[7]^=Ir;for(var gr=0;gr<4;gr++)dr.call(this)}},_doProcessBlock:function(ur,fr){var hr=this._X;dr.call(this),sr[0]=hr[0]^hr[5]>>>16^hr[3]<<16,sr[1]=hr[2]^hr[7]>>>16^hr[5]<<16,sr[2]=hr[4]^hr[1]>>>16^hr[7]<<16,sr[3]=hr[6]^hr[3]>>>16^hr[1]<<16;for(var pr=0;pr<4;pr++)sr[pr]=(sr[pr]<<8|sr[pr]>>>24)&16711935|(sr[pr]<<24|sr[pr]>>>8)&4278255360,ur[fr+pr]^=sr[pr]},blockSize:128/32,ivSize:64/32});function dr(){for(var ur=this._X,fr=this._C,hr=0;hr<8;hr++)ar[hr]=fr[hr];fr[0]=fr[0]+1295307597+this._b|0,fr[1]=fr[1]+3545052371+(fr[0]>>>0<ar[0]>>>0?1:0)|0,fr[2]=fr[2]+886263092+(fr[1]>>>0<ar[1]>>>0?1:0)|0,fr[3]=fr[3]+1295307597+(fr[2]>>>0<ar[2]>>>0?1:0)|0,fr[4]=fr[4]+3545052371+(fr[3]>>>0<ar[3]>>>0?1:0)|0,fr[5]=fr[5]+886263092+(fr[4]>>>0<ar[4]>>>0?1:0)|0,fr[6]=fr[6]+1295307597+(fr[5]>>>0<ar[5]>>>0?1:0)|0,fr[7]=fr[7]+3545052371+(fr[6]>>>0<ar[6]>>>0?1:0)|0,this._b=fr[7]>>>0<ar[7]>>>0?1:0;for(var hr=0;hr<8;hr++){var pr=ur[hr]+fr[hr],gr=pr&65535,br=pr>>>16,vr=((gr*gr>>>17)+gr*br>>>15)+br*br,kr=((pr&4294901760)*pr|0)+((pr&65535)*pr|0);lr[hr]=vr^kr}ur[0]=lr[0]+(lr[7]<<16|lr[7]>>>16)+(lr[6]<<16|lr[6]>>>16)|0,ur[1]=lr[1]+(lr[0]<<8|lr[0]>>>24)+lr[7]|0,ur[2]=lr[2]+(lr[1]<<16|lr[1]>>>16)+(lr[0]<<16|lr[0]>>>16)|0,ur[3]=lr[3]+(lr[2]<<8|lr[2]>>>24)+lr[1]|0,ur[4]=lr[4]+(lr[3]<<16|lr[3]>>>16)+(lr[2]<<16|lr[2]>>>16)|0,ur[5]=lr[5]+(lr[4]<<8|lr[4]>>>24)+lr[3]|0,ur[6]=lr[6]+(lr[5]<<16|lr[5]>>>16)+(lr[4]<<16|lr[4]>>>16)|0,ur[7]=lr[7]+(lr[6]<<8|lr[6]>>>24)+lr[5]|0}er.RabbitLegacy=ir._createHelper(cr)}(),Nt.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(Nt){return function(){var er=Nt,rr=er.lib,ir=rr.BlockCipher,nr=er.algo;const sr=16,ar=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],lr=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var cr={pbox:[],sbox:[]};function dr(gr,br){let vr=br>>24&255,kr=br>>16&255,Sr=br>>8&255,Cr=br&255,Ar=gr.sbox[0][vr]+gr.sbox[1][kr];return Ar=Ar^gr.sbox[2][Sr],Ar=Ar+gr.sbox[3][Cr],Ar}function ur(gr,br,vr){let kr=br,Sr=vr,Cr;for(let Ar=0;Ar<sr;++Ar)kr=kr^gr.pbox[Ar],Sr=dr(gr,kr)^Sr,Cr=kr,kr=Sr,Sr=Cr;return Cr=kr,kr=Sr,Sr=Cr,Sr=Sr^gr.pbox[sr],kr=kr^gr.pbox[sr+1],{left:kr,right:Sr}}function fr(gr,br,vr){let kr=br,Sr=vr,Cr;for(let Ar=sr+1;Ar>1;--Ar)kr=kr^gr.pbox[Ar],Sr=dr(gr,kr)^Sr,Cr=kr,kr=Sr,Sr=Cr;return Cr=kr,kr=Sr,Sr=Cr,Sr=Sr^gr.pbox[1],kr=kr^gr.pbox[0],{left:kr,right:Sr}}function hr(gr,br,vr){for(let Ir=0;Ir<4;Ir++){gr.sbox[Ir]=[];for(let qr=0;qr<256;qr++)gr.sbox[Ir][qr]=lr[Ir][qr]}let kr=0;for(let Ir=0;Ir<sr+2;Ir++)gr.pbox[Ir]=ar[Ir]^br[kr],kr++,kr>=vr&&(kr=0);let Sr=0,Cr=0,Ar=0;for(let Ir=0;Ir<sr+2;Ir+=2)Ar=ur(gr,Sr,Cr),Sr=Ar.left,Cr=Ar.right,gr.pbox[Ir]=Sr,gr.pbox[Ir+1]=Cr;for(let Ir=0;Ir<4;Ir++)for(let qr=0;qr<256;qr+=2)Ar=ur(gr,Sr,Cr),Sr=Ar.left,Cr=Ar.right,gr.sbox[Ir][qr]=Sr,gr.sbox[Ir][qr+1]=Cr;return!0}var pr=nr.Blowfish=ir.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var gr=this._keyPriorReset=this._key,br=gr.words,vr=gr.sigBytes/4;hr(cr,br,vr)}},encryptBlock:function(gr,br){var vr=ur(cr,gr[br],gr[br+1]);gr[br]=vr.left,gr[br+1]=vr.right},decryptBlock:function(gr,br){var vr=fr(cr,gr[br],gr[br+1]);gr[br]=vr.left,gr[br+1]=vr.right},blockSize:64/32,keySize:128/32,ivSize:64/32});er.Blowfish=ir._createHelper(pr)}(),Nt.Blowfish})}(blowfish)),blowfish.exports}(function(tr,Ot){(function(Nt,er,rr){tr.exports=er(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal,function(Nt){return Nt})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const CryptoJS=getDefaultExportFromCjs(cryptoJsExports);function calculateChecksum(tr){return CryptoJS.SHA256(tr).toString()}class HTMLCompiler{constructor(Ot){Li(this,"model",null);Li(this,"source",null);Li(this,"outDir",null);Li(this,"git",null);Li(this,"baseDir",null);Li(this,"parser",null);Li(this,"errorHandler",null);Li(this,"prefix","baca");Li(this,"slugField","title");this.model=Ot,this.source=Ot.compiler.source,this.outDir=Ot.compiler.outDir,this.prefix=Ot.compiler.prefix,this.slugField=Ot.compiler.slugField}setBaseDir(Ot){this.baseDir=Ot}setTitle(Ot){}setErrorLogger(Ot=Nt=>Nt){this.errorHandler=Ot}compileTransform(Ot,Nt){return this.parser=new MetaParser(Ot),this.model.compile(this.parser,Nt)}async initOutputDir(Ot,Nt){const{fs:er,dir:rr}=this.model.git,ir=Ot.split("/");let nr=0,sr=[];const ar=!0;for(const lr of ir){const cr=nr>0?`${sr.join("/")}/${lr}`:lr;sr.push(lr);const dr=`${Nt}/${cr}`;if(!await er.existsSync(dr))try{console.log(`lfs: mkdir ${dr}`),await er.mkdirSync(dr)}catch(ur){const fr=`lfs error:cant mkdir ${dr}`;this.errorHandler(fr,ur),console.log(fr,ur)}await er.existsSync(dr)||(ar=!1),nr+=1}return ar}async getChecksum(Ot){let Nt=null;if(Ot){let{fs:er,dir:rr}=this.model.git;this.baseDir&&(rr=this.baseDir);const ir=`${rr}/${this.source}`;let nr=null;try{nr=(await er.readFileSync(ir,"utf-8")).toString();const sr=this.compileTransform(nr,Ot);Nt=calculateChecksum(sr)}catch(sr){const ar=`lfs error : cant read ${ir}`;this.errorHandler(ar,sr),console.log(ar,sr)}}return Nt}async compile(Ot){let Nt=null,er=null;if(Ot){let{fs:rr,dir:ir}=this.model.git;this.baseDir&&(ir=this.baseDir);const nr=slugify(Ot[this.slugField]),sr=`${ir}/${this.source}`,ar=`${this.outDir}/${this.prefix}/${Ot.id}/${nr}`;if(await this.initOutputDir(ar,ir)){er=`${ar}/index.html`;const cr=`${ir}/${er}`;console.log(`compiler starting compile ${er}`);let dr=null;try{dr=(await rr.readFileSync(sr,"utf-8")).toString()}catch(ur){const fr=`lfs error : cant read ${sr}`;this.errorHandler(fr,ur),console.log(fr,ur)}if(dr){const ur=this.compileTransform(dr,Ot);Nt=calculateChecksum(ur);try{console.log(`Write ${cr}`),await rr.writeFileSync(cr,ur)}catch(fr){const hr=`lfs error: cant write ${cr}`;console.log(hr,fr)}}else{const ur="compiler error: empty source";this.errorHandler(ur),console.log(ur)}}else{const cr=`compile error : cant initialize ${ar}`;this.errorHandler(cr),console.log(cr)}}return{checksum:Nt,targetGitPath:er}}}let MMetaBerita$1=class extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/pages/berita.json")}};class MBeritaBanner extends MBanner{constructor(){super(...arguments);Li(this,"path","web/data/berita/berita.json")}}function dateToSqlDateTime(tr=new Date){return hooks(tr).format("YYYY-DD-MM HH:mm:ss")}const git$3=createGit(),mBeritaBanner=new MBeritaBanner(git$3,bannerSchema),mMetaBerita=new MMetaBerita$1(git$3,metaSchema),mBeritaRw=new MBeritaRw(git$3),compiler$1=new HTMLCompiler(mBeritaRw),pageTitle$2="Berita",breadcrumbs$2=[{title:"Konten",path:"contents"},{title:"Berita",path:"content/berita"}],routePath$1="/contents/berita",BeritaContentPage=({subModule:tr})=>{const Ot=useLocation(),Nt=useDispatch(),er=useNavigate(),rr=useSelector(Gr=>Gr.content);useSelector(Gr=>Gr.setting);const{setLoading:ir,setLoadingMessage:nr,displayAlert:sr,displayToast:ar}=contentSlice.actions,[lr,cr]=reactExports.useState("banner"),[dr,ur]=reactExports.useState(!1),[fr,hr]=reactExports.useState(!1),pr=(Gr,Ur="Menyimpan Data")=>{Gr?(Nt(ir(!0)),Nt(nr(Ur))):Nt(ir(!1))},gr=(Gr,Ur,Nr)=>{Nt(sr([Gr,Ur,Nr]))},br=(Gr,Ur,Nr)=>{Nt(ar([Gr,Ur,Nr]))},vr=Gr=>{er(`${routePath$1}/${Gr}`)},[kr,Sr]=reactExports.useState([]),[Cr,Ar]=reactExports.useState(null),[Ir,qr]=reactExports.useState(!1),Qr=async()=>{pr(!0,"Memuat Berita"),Sr([]),await mBeritaRw.initOrm(),setTimeout(()=>{const Gr=mBeritaRw.getAll();Sr(Ur=>[...Gr]),pr(!1)},256)},Wr=async Gr=>{const Ur={...Gr};Ur.cover=await git$3.getFile64Data(`/assets/images/berita/covers/${Ur.cover}`),Ur.content=JSON.parse(Ur.content),Ur.readTime=getBlocksReadingTime(Ur.content),Ar(Nr=>({...Nr,...Ur})),qr(!0)},jr=async Gr=>{const Ur={};Ur.content=[],Ur.readTime=0,Ar(Nr=>({...Ur})),qr(!0)},Or=async Gr=>{let Ur;try{Ur=getFileInfo(Gr,!0)}catch{console.log("fileTransform error: getFileInfo failed")}if(Ur){const Nr=`assets/images/berita/covers/${Ur.name}`,Fr=git$3.basePath(Nr);try{await git$3.fs.writeFileSync(Fr,Ur.buffer),await git$3.add(Nr),await git$3.commit([Nr])}catch(Xr){console.log(`lfs: cant writeFile ${Nr}`,Xr)}}return Ur},yr=async Gr=>{const Ur=await compiler$1.getChecksum(Gr);return Gr.compiledHash===Ur},xr=async Gr=>{console.log({autoCommit:fr}),pr(!0,"Sedang Mengkompail");let Ur=await compiler$1.getChecksum(Gr);if(Ur&&Gr.compiledHash!==Ur){const Nr=await compiler$1.compile(Gr),Fr=Nr.targetGitPath;if(Nr.checksum&&Fr){Ur=Nr.checksum,await git$3.add(Fr),await git$3.commit([Fr]);const Xr=await mBeritaRw.getRow(Gr.id);Xr.compiledHash=Ur;try{await mBeritaRw.update(Gr.id,Xr),await mBeritaRw.commit(fr),br("info","Success","Compile Success")}catch(Jr){br("danger","Error Compile Failed",Jr.toString())}}else br("danger","error","Compile Failed")}console.log(Ur),pr(!1)},wr=async Gr=>{const{formData:Ur}=Gr;console.log(Ur),pr(!0);try{const Nr=await Or(Ur.cover);if(Nr){const{name:Fr}=Nr;Ur.cover=Fr}if(Ur.content=JSON.stringify(Ur.content),Ur.dateUpdated=dateToSqlDateTime(),Ur.id){const Fr=await mBeritaRw.getRow(Ur.id);Nr||(Ur.cover=Fr.cover),await mBeritaRw.update(Ur.id,Ur)}else Ur.dateCreated=dateToSqlDateTime(),await mBeritaRw.create(Ur);await mBeritaRw.commit(fr)}catch(Nr){Nt(sr(["danger","error",Nr.toString()]))}pr(!1),qr(!1),Qr()},[Br,_r]=reactExports.useState(mMetaBerita.defaultValue),[Mr,Tr]=reactExports.useState(!1),Er=async()=>{const Gr=await mMetaBerita.get();_r(Gr)},Pr=()=>{Tr(!0)},Rr=async Gr=>{pr(!0,"Saving Records");try{await git$3.push()}catch(Ur){Nt(sr(["danger","error",Ur.toString()]))}pr(!1)},Lr=async Gr=>{const{formData:Ur}=Gr;pr(!0);try{await mMetaBerita.update(Ur),await mMetaBerita.commit(fr)}catch(Nr){Nt(sr(["danger","error",Nr.toString()]))}pr(!1),Tr(!1),Er()},Hr=()=>{const Gr=[...kr];console.log(Gr);for(const Ur of Gr)Ur.compiledHash=null;Sr([]),setTimeout(()=>{Sr(Ur=>[...Gr]),br("info","info","compile status reseted")},256)};return reactExports.useEffect(()=>{const Ur=Ot.pathname.split("/").at(-1);cr(Ur),Ur==="berita"?Qr():Ur==="meta"?Er():Ur==="banner"&&ur(crc32id())},[Ot.key,cr,Ar,_r]),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:pageTitle$2,breadcrumbs:breadcrumbs$2,icon:jsxRuntimeExports.jsx(Send,{}),className:`${rr.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsx("div",{className:"card",children:jsxRuntimeExports.jsx("div",{className:"card-body",children:jsxRuntimeExports.jsxs(Tabs,{id:"content-profile-tab",activeKey:lr,onSelect:Gr=>vr(Gr),children:[jsxRuntimeExports.jsx(Tab,{eventKey:"banner",title:"Banner",children:lr==="banner"&&jsxRuntimeExports.jsx(BannerEditor,{showLoading:pr,page:"profile",model:mBeritaBanner,trigger:dr,schema:bannerSchema,uiSchema:bannerUiSchema,showAlert:gr})}),jsxRuntimeExports.jsx(Tab,{eventKey:"berita",title:"Berita",children:lr==="berita"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ir?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:`${Cr.id?"Edit":"Add"} Item Berita`,formData:Cr,schema:beritaSchema,uiSchema:beritaUiSchema,onSubmit:Gr=>wr(Gr),onCancel:Gr=>qr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"twx-text-2xl twx-text-center twx-py-4 twx-mb-8",children:"Daftar Berita"}),jsxRuntimeExports.jsx("div",{className:"twx-p-4 twx-flex twx-justify-between twx-items-center",children:jsxRuntimeExports.jsx(FormImpl.Check,{type:"checkbox",label:"Auto Commit",onChange:Gr=>{hr(Ur=>!Ur)}})}),jsxRuntimeExports.jsx(BeritaList,{git:git$3,className:"twx-border twx-border-slate-200 twx-border-solid",data:kr,onEditRow:Gr=>Wr(Gr),onCompileRow:Gr=>xr(Gr),validHash:yr}),jsxRuntimeExports.jsxs("div",{className:"twx-py-4 twx-flex twx-justify-between",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",className:"reload-berita-btn",onClick:Gr=>Qr(),children:[jsxRuntimeExports.jsx(RefreshCcw,{className:"feather-icon twx-mr-1"})," Reload"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Gr=>Hr(),children:[jsxRuntimeExports.jsx(RefreshCcw,{className:"feather-icon twx-mr-1"})," Reset Compile"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Gr=>Rr(),children:[jsxRuntimeExports.jsx(Save,{className:"feather-icon twx-mr-1"})," Commit"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Gr=>jr(),children:[jsxRuntimeExports.jsx(Plus,{className:"feather-icon"})," Add"]})]})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"meta",title:"Meta",children:lr==="meta"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Mr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Meta Page",formData:Br,schema:metaSchema,uiSchema:metaUiSchema,onSubmit:Gr=>Lr(Gr),onCancel:Gr=>Tr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Meta Page",schema:metaSchema,rowData:Br}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Gr=>Pr(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})})]})})})})})},type$1="object",required$1=["title","cover","headline","content"],properties$1={title:{title:"Nama Produk",type:"string"},cover:{title:"Gambar",type:"string",format:"data-url"},headline:{title:"Keterangan Singkat",type:"string"},content:{title:"Keterangan",type:"string"},tags:{title:"Tags",type:"string"},kategori:{title:"Kategori",type:"string"}},produkSchema={type:type$1,required:required$1,properties:properties$1},title={"ui:autofocus":!0},slug={},cover={"ui:options":{filePreview:!0}},headline={"ui:widget":"textarea"},content={"ui:widget":"block"},kategori={},produkUiSchema={title,slug,cover,headline,content,kategori},AsyncButton=({callback:tr,onClick:Ot,children:Nt})=>{const[er,rr]=reactExports.useState(!1),ir=async()=>{tr().then(nr=>rr(!nr))};return reactExports.useEffect(()=>{ir()},[rr]),er?jsxRuntimeExports.jsx(Button,{size:"sm xs",onClick:Ot,children:Nt}):null},ProdukList=({git:tr,className:Ot,data:Nt,onEditRow:er=sr=>sr,onCompileRow:rr=sr=>sr,validHash:ir=sr=>!0,onDeleteRow:nr=sr=>f})=>{const sr=[{name:"No",prop:"no",width:"50px",selector:(cr,dr)=>dr+1,cell:(cr,dr,ur,fr)=>`${dr+1}.`},{name:"Gambar",prop:"cover",width:"130px",selector:cr=>cr.cover,cell:cr=>jsxRuntimeExports.jsx(buildExports.LazyLoadImage,{className:"twx-max-w-[100px]",src:`/assets/images/produk/covers/${cr.cover}`})},{name:"Nama Produk",prop:"title",width:"270px",selector:cr=>cr.title},{name:"Keterangan",width:"300px",prop:"headline",selector:cr=>cr.headline},{name:"Action",width:"120px",prop:"action",selector:cr=>cr.action,cell:cr=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{size:"sm xs",onClick:dr=>er(cr),children:jsxRuntimeExports.jsx(Edit,{})}),jsxRuntimeExports.jsx(AsyncButton,{size:"sm xs",callback:async dr=>await ir(cr),onClick:dr=>rr(cr),children:jsxRuntimeExports.jsx(Archive,{})}),jsxRuntimeExports.jsx(Button,{size:"sm xs",variant:"danger",onClick:dr=>nr(cr),children:jsxRuntimeExports.jsx(Trash,{})})]})}],[ar,lr]=reactExports.useState([...sr]);return reactExports.useEffect(()=>{},[lr]),jsxRuntimeExports.jsx("div",{className:Ot,children:jsxRuntimeExports.jsx(Xe,{columns:ar,data:Nt,striped:!0,pagination:!0,fixedHeader:!0})})},BASE_URL$1=CONFIG.BASE_URL;class MProdukRw extends DrizzleModelRw{constructor(){super(...arguments);Li(this,"defaultOrder",{dateUpdated:"asc"});Li(this,"path","web/data/produk/produk.db");Li(this,"schema",ProdukSchema);Li(this,"compiler",{source:"lihat-produk/index.html",outDir:"produk",prefix:"lihat",slugField:"title"})}compile(Nt,er){if(!er)return null;Nt.setTitle(er.title),Nt.set("keywords",er.title.toLowerCase(),"name"),Nt.set("description",er.headline,"name"),Nt.set("id",er.id,"name");const rr=slugify(er[this.compiler.slugField]);return Nt.set("og:description",er.headline,"property"),Nt.set("og:title",er.title,"property"),Nt.set("og:URL",`${BASE_URL$1}/produk/lihat/${er.id}/${rr}/`,"property"),Nt.set("og:image",`${BASE_URL$1}/assets/images/produk/covers/${er.cover}`,"property"),Nt.save()}async updateContentRows(Nt){const er=[],rr=[];er.push(sql`(case`);for(const nr of Nt)er.push(sql`when ${this.schema.id} = ${nr.id} then ${nr.content}`),rr.push(nr.id);er.push(sql`end)`);const ir=sql.join(er,sql.raw(" "));await this.db.update(this.schema).set({content:ir}).where(inArray(this.schema.id,rr))}}class MMetaBerita extends DBGitSingle{constructor(){super(...arguments);Li(this,"path","web/data/pages/berita.json")}}class MProdukBanner extends MBanner{constructor(){super(...arguments);Li(this,"path","web/data/produk/produk.json")}}const git$2=createGit(),mProdukBanner=new MProdukBanner(git$2,bannerSchema),mMetaProduk=new MMetaBerita(git$2,metaSchema),mProdukRw=new MProdukRw(git$2),compiler=new HTMLCompiler(mProdukRw),pageTitle$1="Produk",breadcrumbs$1=[{title:"Konten",path:"contents"},{title:"Produk",path:"content/produk"}],routePath="/contents/produk",ProdukContentPage=({subModule:tr})=>{const Ot=useLocation(),Nt=useDispatch(),er=useNavigate(),rr=useSelector(Nr=>Nr.content);useSelector(Nr=>Nr.setting);const{setLoading:ir,setLoadingMessage:nr,displayAlert:sr,displayToast:ar}=contentSlice.actions,[lr,cr]=reactExports.useState("banner"),[dr,ur]=reactExports.useState(!1),[fr,hr]=reactExports.useState(!1),pr=(Nr,Fr="Menyimpan Data")=>{Nr?(Nt(ir(!0)),Nt(nr(Fr))):Nt(ir(!1))},gr=(Nr,Fr,Xr)=>{Nt(sr([Nr,Fr,Xr]))},br=(Nr,Fr,Xr)=>{Nt(ar([Nr,Fr,Xr]))},vr=Nr=>{er(`${routePath}/${Nr}`)},[kr,Sr]=reactExports.useState([]),[Cr,Ar]=reactExports.useState(null),[Ir,qr]=reactExports.useState(!1),Qr=async Nr=>{if(confirm(`Hapus produk "${Nr.title}"`)){console.log(Nr),pr(!0,"Menghapus Produk");try{const Fr=await mProdukRw.delete(Nr.id);console.log(Fr),br("info","hapus produk",`${Nr.title} berhasil dihapus`),wr()}catch(Fr){gr("error","hapus produk",`Gagal menghapus ${Nr.title} ${Fr.toString()}`)}}pr(!1)},Wr=async()=>{pr(!0,"Memuat Produk"),Sr([]),await mProdukRw.initOrm(),setTimeout(()=>{const Nr=mProdukRw.getAll();Sr(Fr=>[...Nr]),pr(!1)},256)},jr=async Nr=>{const Fr={...Nr};Fr.cover=await git$2.getFile64Data(`/assets/images/produk/covers/${Fr.cover}`),Fr.content=JSON.parse(Fr.content),Fr.readTime=getBlocksReadingTime(Fr.content),Ar(Xr=>({...Xr,...Fr})),qr(!0)},Or=async Nr=>{const Fr={};Fr.content=[],Fr.readTime=0,Ar(Xr=>({...Fr})),qr(!0)},yr=async Nr=>{let Fr;try{Fr=getFileInfo(Nr,!0)}catch{console.log("fileTransform error: getFileInfo failed")}if(Fr){const Xr=`assets/images/produk/covers/${Fr.name}`,Jr=git$2.basePath(Xr);try{await git$2.fs.writeFileSync(Jr,Fr.buffer),await git$2.add(Xr),await git$2.commit([Xr])}catch(Vr){console.log(`lfs: cant writeFile ${Xr}`,Vr)}}return Fr},xr=async Nr=>{const Fr=await compiler.getChecksum(Nr);return Nr.compiledHash===Fr},wr=()=>{console.log("reloading produk list"),setTimeout(()=>{document.querySelector("button.reload-produk-btn").click()},2e3)},Br=async Nr=>{console.log({autoCommit:fr}),pr(!0,"Sedang Mengkompail");let Fr=await compiler.getChecksum(Nr);if(Fr&&Nr.compiledHash!==Fr){const Xr=await compiler.compile(Nr),Jr=Xr.targetGitPath;if(Xr.checksum&&Jr){Fr=Xr.checksum,await git$2.add(Jr),await git$2.commit([Jr]);const Vr=await mProdukRw.getRow(Nr.id);Vr.compiledHash=Fr;try{await mProdukRw.update(Nr.id,Vr),await mProdukRw.commit(fr),br("info","Success","Compile Success")}catch(Zr){br("danger","Error Compile Failed",Zr.toString())}}else br("danger","error","Compile Failed")}console.log(Fr),pr(!1),wr()},_r=async Nr=>{const{formData:Fr}=Nr;console.log(Fr),pr(!0);try{const Xr=await yr(Fr.cover);if(Xr){const{name:Jr}=Xr;Fr.cover=Jr}if(Fr.content=JSON.stringify(Fr.content),Fr.dateUpdated=dateToSqlDateTime(),Fr.id){const Jr=await mProdukRw.getRow(Fr.id);Xr||(Fr.cover=Jr.cover),await mProdukRw.update(Fr.id,Fr)}else Fr.dateCreated=dateToSqlDateTime(),await mProdukRw.create(Fr);await mProdukRw.commit(fr)}catch(Xr){Nt(sr(["danger","error",Xr.toString()]))}pr(!1),qr(!1),Wr()},[Mr,Tr]=reactExports.useState(mMetaProduk.defaultValue),[Er,Pr]=reactExports.useState(!1),Rr=async()=>{const Nr=await mMetaProduk.get();Tr(Nr)},Lr=()=>{Pr(!0)},Hr=async Nr=>{const{formData:Fr}=Nr;pr(!0);try{await mMetaProduk.update(Fr),await mMetaProduk.commit(fr)}catch(Xr){Nt(sr(["danger","error",Xr.toString()]))}pr(!1),Pr(!1),Rr()},Gr=()=>{const Nr=[...kr];console.log(Nr);for(const Fr of Nr)Fr.compiledHash=null;Sr([]),setTimeout(()=>{Sr(Fr=>[...Nr]),br("info","info","compile status reseted"),pr(!1)},256)};reactExports.useEffect(()=>{const Fr=Ot.pathname.split("/").at(-1);cr(Fr),Fr==="produk"?Wr():Fr==="meta"?Rr():Fr==="banner"&&ur(crc32id())},[Ot.key,cr,Ar,Tr]);const Ur=async Nr=>{pr(!0,"Saving Records");try{await git$2.push()}catch(Fr){Nt(sr(["danger","error",Fr.toString()]))}pr(!1)};return jsxRuntimeExports.jsx(MainContentLayout,{pageTitle:pageTitle$1,breadcrumbs:breadcrumbs$1,icon:jsxRuntimeExports.jsx(ShoppingBag,{}),className:`${rr.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsx("div",{className:"card",children:jsxRuntimeExports.jsx("div",{className:"card-body",children:jsxRuntimeExports.jsxs(Tabs,{id:"content-profile-tab",activeKey:lr,onSelect:Nr=>vr(Nr),children:[jsxRuntimeExports.jsx(Tab,{eventKey:"banner",title:"Banner",children:lr==="banner"&&jsxRuntimeExports.jsx(BannerEditor,{showLoading:pr,page:"profile",model:mProdukBanner,trigger:dr,schema:bannerSchema,uiSchema:bannerUiSchema,showAlert:gr})}),jsxRuntimeExports.jsx(Tab,{eventKey:"produk",title:"Produk",children:lr==="produk"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ir?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:`${Cr.id?"Edit":"Add"} Item Produk`,formData:Cr,schema:produkSchema,uiSchema:produkUiSchema,onSubmit:Nr=>_r(Nr),onCancel:Nr=>qr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h4",{className:"twx-text-2xl twx-text-center twx-py-4 twx-mb-8",children:"Daftar Produk"}),jsxRuntimeExports.jsx("div",{className:"twx-p-4 twx-flex twx-justify-between twx-items-center",children:jsxRuntimeExports.jsx(FormImpl.Check,{checked:fr,type:"checkbox",label:"Auto Commit",onChange:Nr=>{hr(Fr=>!Fr)}})}),jsxRuntimeExports.jsx(ProdukList,{git:git$2,className:"twx-border twx-border-slate-200 twx-border-solid",data:kr,onEditRow:Nr=>jr(Nr),onCompileRow:Nr=>Br(Nr),onDeleteRow:Nr=>Qr(Nr),validHash:xr}),jsxRuntimeExports.jsxs("div",{className:"twx-py-4 twx-flex twx-justify-between",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",className:"reload-produk-btn",onClick:Nr=>Wr(),children:[jsxRuntimeExports.jsx(RefreshCcw,{className:"feather-icon twx-mr-1"})," Reload"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Nr=>Gr(),children:[jsxRuntimeExports.jsx(RefreshCcw,{className:"feather-icon twx-mr-1"})," Reset Compile"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Nr=>Ur(),children:[jsxRuntimeExports.jsx(Save,{className:"feather-icon twx-mr-1"})," Commit"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Nr=>Or(),children:[jsxRuntimeExports.jsx(Plus,{className:"feather-icon"})," Add"]})]})]})})}),jsxRuntimeExports.jsx(Tab,{eventKey:"meta",title:"Meta",children:lr==="meta"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Er?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit Meta Page",formData:Mr,schema:metaSchema,uiSchema:metaUiSchema,onSubmit:Nr=>Hr(Nr),onCancel:Nr=>Pr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Meta Page",schema:metaSchema,rowData:Mr}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Nr=>Lr(),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})})]})})})})})};createReactEditorJS();class MBlock extends DBGitFileList{costructor(Ot){this.git=Ot}initDefaultValue(){}}class MProfileBlock extends MBlock{constructor(){super(...arguments);Li(this,"path","web/data/content-blocks/profile")}}const git$1=createGit();new MProfileBlock(git$1);function useAuth$1(){return{isLoading:!1,user:{id:1e3}}}function decryptToken(tr){return base64.decode(tr)}function initNullBackend(tr){const Ot={name:"firebase",addAuthListener(Nt){},async getCurrentSetting(){return{corsProxyUrl:"http://localhost:8787",repoUrl:"http://localhost:3000/kanzululum-web.git",token:decryptToken("YWEwOWRjNDllNjExNDU1YjQ0NTQzM2RiNWY1NTA3YjNhMmIxN2RmMA==")}},getCurrentUser(){return{id:1e3}},async getCurrentUserInfo(){return{id:1e3,avatarUrl:"assets/images/faces/kintel.jpg",bio:"Just a simple man",email:"sutoyocutez@gmail.com",username:"kindtell"}},async signIn(Nt,er){console.log({email:Nt,password:er})},async signOut(){console.log("signOut")},async updateCurrentUserInfo(Nt){console.log("updateCurrentUserInfo",{updates:Nt})},useAuth(){return useAuth$1()}};tr.setProvider(Ot)}function loadBackend(tr){const Ot={provider:null,isEnable(){return tr.ENABLE_AUTH},getProvider(){return this.provider},setProvider(Nt){this.provider=Nt}};return initNullBackend(Ot),Ot}const type="object",required=["username","email","fullName","avatarUrl","bio"],properties={fullName:{title:"Nama Lengkap",type:"string"},username:{title:"Username",type:"string"},email:{title:"Email",type:"string",readOnly:!0},avatarUrl:{title:"Avatar",type:"string",format:"data-url"},bio:{title:"Bio",type:"string"}},userProfileSchema={type,required,properties},fullName={"ui:autofocus":!0},username={},email={"ui:readonly":!0},avatarUrl={"ui:options":{filePreview:!0}},bio={"ui:widget":"textarea"},userProfileUiSchema={fullName,username,email,avatarUrl,bio},setting$2=loadBackend(CONFIG),authProvider$2=setting$2.getProvider(),{getCurrentUserInfo:getCurrentUserInfo$1,updateCurrentUserInfo}=authProvider$2,git=createGit(),pageTitle="User Profile",breadcrumbs=[{title:"Konten",path:"contents"},{title:"User Profile",path:"content/user-profile"}],UserProfileContentPage=({})=>{const tr=useDispatch(),Ot=useSelector(hr=>hr.content),{setLoading:Nt,setLoadingMessage:er,displayAlert:rr}=contentSlice.actions,[ir,nr]=reactExports.useState(!1);reactExports.useRef(null);const[sr,ar]=reactExports.useState(null),lr=(hr,pr="Menyimpan Data")=>{hr?(tr(Nt(!0)),tr(er(pr))):tr(Nt(!1))},cr=(hr,pr,gr)=>{tr(rr([hr,pr,gr]))},dr=async hr=>{let pr;try{pr=getFileInfo(hr,!0)}catch{console.log("fileTransform error: getFileInfo failed")}if(pr){const gr=`assets/images/faces/${pr.name}`,br=git.basePath(gr);try{await git.fs.writeFileSync(br,pr.buffer),await git.add(gr),await git.commit([gr])}catch(vr){console.log(`lfs: cant writeFile ${gr}`,vr)}}return pr},ur=async()=>{let hr=await getCurrentUserInfo$1();try{hr.originalAvatarUrl=hr.avatarUrl;const pr=await git.getFile64Data(`/${hr.avatarUrl}`);hr.avatarUrl=pr}catch(pr){cr("danger","error",pr.toString())}ar(hr)},fr=async hr=>{const pr=hr.formData;lr(!0);try{const gr=await dr(pr.avatarUrl);if(gr){const{name:br}=gr;pr.avatarUrl=`assets/images/faces/${br}`}await updateCurrentUserInfo(pr),await git.push()}catch(gr){tr(rr(["danger","error",gr.toString()]))}lr(!1),nr(!1),ur()};return reactExports.useEffect(()=>{ur()},[ar]),reactExports.useEffect(()=>{}),jsxRuntimeExports.jsx(MainContentLayout,{pageTitle,breadcrumbs,className:`${Ot.isLoading?"content-is-loading":""}`,children:jsxRuntimeExports.jsx("div",{className:"col-12 grid-margin stretch-card",children:jsxRuntimeExports.jsx("div",{className:"card",children:jsxRuntimeExports.jsx("div",{className:"card-body",children:jsxRuntimeExports.jsx("div",{className:" twx-p-8",children:ir?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(JsonForm,{title:"Edit ShortProfile Details",formData:sr,schema:userProfileSchema,uiSchema:userProfileUiSchema,onSubmit:hr=>fr(hr),onCancel:hr=>nr(!1)})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RowDataDisplay,{title:"Short Profile Details",showImages:["avatarUrl"],rowData:sr,schema:userProfileSchema}),jsxRuntimeExports.jsx("div",{className:"twx-py-4 twx-flex twx-justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:hr=>nr(!0),children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-pencil-box-outline"})," Ubah"]})})]})})})})})})};async function loader({params:tr}){const{mod:Ot,sub:Nt,pk:er,fk:rr}=tr;return{mod:Ot,sub:Nt,pk:er,fk:rr}}const ContentPage=({})=>{const tr=useLoaderData(),{mod:Ot,sub:Nt,pk:er,fk:rr}=tr;if(Ot==="pages")return jsxRuntimeExports.jsx(PagesContentPage,{});if(Ot==="footer")return jsxRuntimeExports.jsx(FooterContentPage,{});if(Ot==="lembaga")return jsxRuntimeExports.jsx(LembagaContentPage,{});if(Ot==="kegiatan")return jsxRuntimeExports.jsx(KegiatanContentPage,{});if(Ot==="pendaftaran")return jsxRuntimeExports.jsx(PendaftaranContentPage,{subModule:Nt});if(Ot==="files")return jsxRuntimeExports.jsx(FilesContentPage,{subModule:Nt});if(Ot==="template")return jsxRuntimeExports.jsx(TemplateContentPage,{subModule:Nt});if(Ot==="profile")return jsxRuntimeExports.jsx(ProfileContentPage,{subModule:Nt});if(Ot==="kontak")return jsxRuntimeExports.jsx(KontakContentPage,{subModule:Nt});if(Ot==="galery")return jsxRuntimeExports.jsx(GaleryContentPage,{subModule:Nt});if(Ot==="berita")return jsxRuntimeExports.jsx(BeritaContentPage,{subModule:Nt});if(Ot==="produk")return jsxRuntimeExports.jsx(ProdukContentPage,{subModule:Nt});if(Ot==="user-profile")return jsxRuntimeExports.jsx(UserProfileContentPage,{subModule:Nt})};var voidElements={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const e=getDefaultExportFromCjs(voidElements);var t=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function n(tr){var Ot={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},Nt=tr.match(/<\/?([^\s]+?)[/\s>]/);if(Nt&&(Ot.name=Nt[1],(e[Nt[1]]||tr.charAt(tr.length-2)==="/")&&(Ot.voidElement=!0),Ot.name.startsWith("!--"))){var er=tr.indexOf("-->");return{type:"comment",comment:er!==-1?tr.slice(4,er):""}}for(var rr=new RegExp(t),ir=null;(ir=rr.exec(tr))!==null;)if(ir[0].trim())if(ir[1]){var nr=ir[1].trim(),sr=[nr,""];nr.indexOf("=")>-1&&(sr=nr.split("=")),Ot.attrs[sr[0]]=sr[1],rr.lastIndex--}else ir[2]&&(Ot.attrs[ir[2]]=ir[3].trim().substring(1,ir[3].length-1));return Ot}var r=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,i=/^\s*$/,s=Object.create(null);function a(tr,Ot){switch(Ot.type){case"text":return tr+Ot.content;case"tag":return tr+="<"+Ot.name+(Ot.attrs?function(Nt){var er=[];for(var rr in Nt)er.push(rr+'="'+Nt[rr]+'"');return er.length?" "+er.join(" "):""}(Ot.attrs):"")+(Ot.voidElement?"/>":">"),Ot.voidElement?tr:tr+Ot.children.reduce(a,"")+"</"+Ot.name+">";case"comment":return tr+"<!--"+Ot.comment+"-->"}}var c={parse:function(tr,Ot){Ot||(Ot={}),Ot.components||(Ot.components=s);var Nt,er=[],rr=[],ir=-1,nr=!1;if(tr.indexOf("<")!==0){var sr=tr.indexOf("<");er.push({type:"text",content:sr===-1?tr:tr.substring(0,sr)})}return tr.replace(r,function(ar,lr){if(nr){if(ar!=="</"+Nt.name+">")return;nr=!1}var cr,dr=ar.charAt(1)!=="/",ur=ar.startsWith("<!--"),fr=lr+ar.length,hr=tr.charAt(fr);if(ur){var pr=n(ar);return ir<0?(er.push(pr),er):((cr=rr[ir]).children.push(pr),er)}if(dr&&(ir++,(Nt=n(ar)).type==="tag"&&Ot.components[Nt.name]&&(Nt.type="component",nr=!0),Nt.voidElement||nr||!hr||hr==="<"||Nt.children.push({type:"text",content:tr.slice(fr,tr.indexOf("<",fr))}),ir===0&&er.push(Nt),(cr=rr[ir-1])&&cr.children.push(Nt),rr[ir]=Nt),(!dr||Nt.voidElement)&&(ir>-1&&(Nt.voidElement||Nt.name===ar.slice(2,-1))&&(ir--,Nt=ir===-1?er:rr[ir]),!nr&&hr!=="<"&&hr)){cr=ir===-1?er:rr[ir].children;var gr=tr.indexOf("<",fr),br=tr.slice(fr,gr===-1?void 0:gr);i.test(br)&&(br=" "),(gr>-1&&ir+cr.length>=0||br!==" ")&&cr.push({type:"text",content:br})}}),er},stringify:function(tr){return tr.reduce(function(Ot,Nt){return Ot+a("",Nt)},"")}};function warn(){if(console&&console.warn){for(var tr=arguments.length,Ot=new Array(tr),Nt=0;Nt<tr;Nt++)Ot[Nt]=arguments[Nt];typeof Ot[0]=="string"&&(Ot[0]=`react-i18next:: ${Ot[0]}`),console.warn(...Ot)}}const alreadyWarned={};function warnOnce(){for(var tr=arguments.length,Ot=new Array(tr),Nt=0;Nt<tr;Nt++)Ot[Nt]=arguments[Nt];typeof Ot[0]=="string"&&alreadyWarned[Ot[0]]||(typeof Ot[0]=="string"&&(alreadyWarned[Ot[0]]=new Date),warn(...Ot))}const matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=tr=>htmlEntities[tr],unescape$1=tr=>tr.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1};function getDefaults(){return defaultOptions}let i18nInstance;function getI18n(){return i18nInstance}function hasChildren(tr,Ot){if(!tr)return!1;const Nt=tr.props?tr.props.children:tr.children;return Ot?Nt.length>0:!!Nt}function getChildren(tr){if(!tr)return[];const Ot=tr.props?tr.props.children:tr.children;return tr.props&&tr.props.i18nIsDynamicList?getAsArray(Ot):Ot}function hasValidReactChildren(tr){return Object.prototype.toString.call(tr)!=="[object Array]"?!1:tr.every(Ot=>reactExports.isValidElement(Ot))}function getAsArray(tr){return Array.isArray(tr)?tr:[tr]}function mergeProps(tr,Ot){const Nt={...Ot};return Nt.props=Object.assign(tr.props,Ot.props),Nt}function nodesToString(tr,Ot){if(!tr)return"";let Nt="";const er=getAsArray(tr),rr=Ot.transSupportBasicHtmlNodes&&Ot.transKeepBasicHtmlNodesFor?Ot.transKeepBasicHtmlNodesFor:[];return er.forEach((ir,nr)=>{if(typeof ir=="string")Nt+=`${ir}`;else if(reactExports.isValidElement(ir)){const sr=Object.keys(ir.props).length,ar=rr.indexOf(ir.type)>-1,lr=ir.props.children;if(!lr&&ar&&sr===0)Nt+=`<${ir.type}/>`;else if(!lr&&(!ar||sr!==0))Nt+=`<${nr}></${nr}>`;else if(ir.props.i18nIsDynamicList)Nt+=`<${nr}></${nr}>`;else if(ar&&sr===1&&typeof lr=="string")Nt+=`<${ir.type}>${lr}</${ir.type}>`;else{const cr=nodesToString(lr,Ot);Nt+=`<${nr}>${cr}</${nr}>`}}else if(ir===null)warn("Trans: the passed in value is invalid - seems you passed in a null child.");else if(typeof ir=="object"){const{format:sr,...ar}=ir,lr=Object.keys(ar);if(lr.length===1){const cr=sr?`${lr[0]}, ${sr}`:lr[0];Nt+=`{{${cr}}}`}else warn("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",ir)}else warn("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",ir)}),Nt}function renderNodes(tr,Ot,Nt,er,rr,ir){if(Ot==="")return[];const nr=er.transKeepBasicHtmlNodesFor||[],sr=Ot&&new RegExp(nr.map(gr=>`<${gr}`).join("|")).test(Ot);if(!tr&&!sr&&!ir)return[Ot];const ar={};function lr(gr){getAsArray(gr).forEach(vr=>{typeof vr!="string"&&(hasChildren(vr)?lr(getChildren(vr)):typeof vr=="object"&&!reactExports.isValidElement(vr)&&Object.assign(ar,vr))})}lr(tr);const cr=c.parse(`<0>${Ot}</0>`),dr={...ar,...rr};function ur(gr,br,vr){const kr=getChildren(gr),Sr=hr(kr,br.children,vr);return hasValidReactChildren(kr)&&Sr.length===0||gr.props&&gr.props.i18nIsDynamicList?kr:Sr}function fr(gr,br,vr,kr,Sr){gr.dummy?(gr.children=br,vr.push(reactExports.cloneElement(gr,{key:kr},Sr?void 0:br))):vr.push(...reactExports.Children.map([gr],Cr=>{const Ar={...Cr.props};return delete Ar.i18nIsDynamicList,reactExports.createElement(Cr.type,{...Ar,key:kr,ref:Cr.ref},Sr?null:br)}))}function hr(gr,br,vr){const kr=getAsArray(gr);return getAsArray(br).reduce((Cr,Ar,Ir)=>{const qr=Ar.children&&Ar.children[0]&&Ar.children[0].content&&Nt.services.interpolator.interpolate(Ar.children[0].content,dr,Nt.language);if(Ar.type==="tag"){let Qr=kr[parseInt(Ar.name,10)];vr.length===1&&!Qr&&(Qr=vr[0][Ar.name]),Qr||(Qr={});const Wr=Object.keys(Ar.attrs).length!==0?mergeProps({props:Ar.attrs},Qr):Qr,jr=reactExports.isValidElement(Wr),Or=jr&&hasChildren(Ar,!0)&&!Ar.voidElement,yr=sr&&typeof Wr=="object"&&Wr.dummy&&!jr,xr=typeof tr=="object"&&tr!==null&&Object.hasOwnProperty.call(tr,Ar.name);if(typeof Wr=="string"){const wr=Nt.services.interpolator.interpolate(Wr,dr,Nt.language);Cr.push(wr)}else if(hasChildren(Wr)||Or){const wr=ur(Wr,Ar,vr);fr(Wr,wr,Cr,Ir)}else if(yr){const wr=hr(kr,Ar.children,vr);fr(Wr,wr,Cr,Ir)}else if(Number.isNaN(parseFloat(Ar.name)))if(xr){const wr=ur(Wr,Ar,vr);fr(Wr,wr,Cr,Ir,Ar.voidElement)}else if(er.transSupportBasicHtmlNodes&&nr.indexOf(Ar.name)>-1)if(Ar.voidElement)Cr.push(reactExports.createElement(Ar.name,{key:`${Ar.name}-${Ir}`}));else{const wr=hr(kr,Ar.children,vr);Cr.push(reactExports.createElement(Ar.name,{key:`${Ar.name}-${Ir}`},wr))}else if(Ar.voidElement)Cr.push(`<${Ar.name} />`);else{const wr=hr(kr,Ar.children,vr);Cr.push(`<${Ar.name}>${wr}</${Ar.name}>`)}else if(typeof Wr=="object"&&!jr){const wr=Ar.children[0]?qr:null;wr&&Cr.push(wr)}else fr(Wr,qr,Cr,Ir,Ar.children.length!==1||!qr)}else if(Ar.type==="text"){const Qr=er.transWrapTextNodes,Wr=ir?er.unescape(Nt.services.interpolator.interpolate(Ar.content,dr,Nt.language)):Nt.services.interpolator.interpolate(Ar.content,dr,Nt.language);Qr?Cr.push(reactExports.createElement(Qr,{key:`${Ar.name}-${Ir}`},Wr)):Cr.push(Wr)}return Cr},[])}const pr=hr([{dummy:!0,children:tr||[]}],cr,getAsArray(tr||[]));return getChildren(pr[0])}function Trans$1(tr){let{children:Ot,count:Nt,parent:er,i18nKey:rr,context:ir,tOptions:nr={},values:sr,defaults:ar,components:lr,ns:cr,i18n:dr,t:ur,shouldUnescape:fr,...hr}=tr;const pr=dr||getI18n();if(!pr)return warnOnce("You will need to pass in an i18next instance by using i18nextReactModule"),Ot;const gr=ur||pr.t.bind(pr)||(Or=>Or),br={...getDefaults(),...pr.options&&pr.options.react};let vr=cr||gr.ns||pr.options&&pr.options.defaultNS;vr=typeof vr=="string"?[vr]:vr||["translation"];const kr=nodesToString(Ot,br),Sr=ar||kr||br.transEmptyNodeValue||rr,{hashTransKey:Cr}=br,Ar=rr||(Cr?Cr(kr||Sr):kr||Sr);pr.options&&pr.options.interpolation&&pr.options.interpolation.defaultVariables&&(sr=sr&&Object.keys(sr).length>0?{...sr,...pr.options.interpolation.defaultVariables}:{...pr.options.interpolation.defaultVariables});const Ir=sr||Nt!==void 0||!Ot?nr.interpolation:{interpolation:{...nr.interpolation,prefix:"#$?",suffix:"?$#"}},qr={...nr,context:ir||nr.context,count:Nt,...sr,...Ir,defaultValue:Sr,ns:vr},Qr=Ar?gr(Ar,qr):Sr;lr&&Object.keys(lr).forEach(Or=>{const yr=lr[Or];if(typeof yr.type=="function"||!yr.props||!yr.props.children||Qr.indexOf(`${Or}/>`)<0&&Qr.indexOf(`${Or} />`)<0)return;function xr(){return reactExports.createElement(reactExports.Fragment,null,yr)}lr[Or]=reactExports.createElement(xr)});const Wr=renderNodes(lr||Ot,Qr,pr,br,qr,fr),jr=er!==void 0?er:br.defaultTransParent;return jr?reactExports.createElement(jr,hr,Wr):Wr}const I18nContext=reactExports.createContext();function Trans(tr){let{children:Ot,count:Nt,parent:er,i18nKey:rr,context:ir,tOptions:nr={},values:sr,defaults:ar,components:lr,ns:cr,i18n:dr,t:ur,shouldUnescape:fr,...hr}=tr;const{i18n:pr,defaultNS:gr}=reactExports.useContext(I18nContext)||{},br=dr||pr||getI18n(),vr=ur||br&&br.t.bind(br);return Trans$1({children:Ot,count:Nt,parent:er,i18nKey:rr,context:ir,tOptions:nr,values:sr,defaults:ar,components:lr,ns:cr||vr&&vr.ns||gr||br&&br.options&&br.options.defaultNS,i18n:br,t:ur,shouldUnescape:fr,...hr})}const GitDoctor=({logs:tr,task:Ot})=>{const[Nt,er]=reactExports.useState(!1),rr=useNavigate(),ir=useDispatch(),[nr,sr]=reactExports.useState(0);useSelector(pr=>pr.content),useSelector(pr=>pr.setting);const{setLoading:ar,setLoadingMessage:lr}=contentSlice.actions;settingSlice.actions;const cr=useLocation(),dr=createGit();dr.setOnDownloadProgress(pr=>{const{loaded:gr,total:br}=pr;gr&&sr(formatBytes(gr??0))});const ur=async pr=>{if(pr==="checkup"){const gr=await getCurrentSetting();if(!gr)return;const{repoUrl:br,token:vr,corsProxyUrl:kr}=gr;localStorage.repoUrl=br,localStorage.token=vr,localStorage.corsProxyUrl=kr,er(!0),await setTimeout(()=>{er(!1)},1e3)}else if(pr==="repair"){er(!0),ir(ar(!0,"Sedang Memperbarui database"));try{dr.setOnCloneProgressHandler(ir,ar,lr),await dr.fastForward(dr.onCloneCallback,gr=>{ir(ar(!1)),er(!1);let br=cr.pathname.replace(ROUTER_BASE$1,"");rr("/"),setTimeout(()=>{rr(br)},0)})}catch(gr){console.log("error",gr)}}};reactExports.useEffect(()=>{try{const pr=tr[Ot.lastId];pr&&ur(pr)}catch(pr){console.log(pr)}},[Ot,tr,er]);const fr=[jsxRuntimeExports.jsx(Cloud,{}),jsxRuntimeExports.jsx(CloudSnow,{}),jsxRuntimeExports.jsx(CloudDrizzle,{}),jsxRuntimeExports.jsx(CloudRain,{})];let hr="";try{hr=tr[Ot.lastId]}catch{}return Nt?jsxRuntimeExports.jsx("div",{className:"twx-p-2 twx-py-5 twx-opacity-[.8] twx-w-full twx-flex twx-items-center twx-top-0 twx-text-white twx-absolute",children:jsxRuntimeExports.jsx("div",{className:"twx-w-[250px] twx-flex twx-mx-auto twx-text-green-700 twx-px-2 twx-rounded-md",children:Nt?jsxRuntimeExports.jsx("div",{className:"twx-flex twx-items-center",children:jsxRuntimeExports.jsx(LoadingDot,{icons:fr,message:`${nr} ${hr}`})}):jsxRuntimeExports.jsx(Check,{})})}):null},setting$1=loadBackend(CONFIG),authProvider$1=setting$1.getProvider(),{getCurrentUserInfo,signOut}=authProvider$1,BASE_URL="https://www.ponpeskanzululumcirebon.com",Navbar=({})=>{const[tr,Ot]=reactExports.useState({username:"noname"}),Nt=crc32id(),[er,rr]=reactExports.useState({lastId:Nt}),[ir,nr]=reactExports.useState({[Nt]:"checkup"}),sr=()=>{const cr=crc32id(),dr={[cr]:"repair"};rr({lastId:cr}),nr(ur=>({...ur,...dr}))},ar=()=>{document.querySelector(".sidebar-offcanvas").classList.toggle("active")},lr=async()=>{const cr=await getCurrentUserInfo();Ot(dr=>({...dr,...cr}))};return reactExports.useEffect(()=>{lr()},[]),jsxRuntimeExports.jsxs("nav",{className:"navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row",children:[jsxRuntimeExports.jsxs("div",{className:"text-center navbar-brand-wrapper d-flex align-items-center",children:[jsxRuntimeExports.jsx("button",{className:"navbar-toggler align-self-center left-toggler",type:"button",onClick:()=>document.body.classList.toggle("sidebar-icon-only"),children:jsxRuntimeExports.jsx("span",{className:"mdi mdi-menu"})}),jsxRuntimeExports.jsx(Link,{className:"navbar-brand brand-logo mobile",to:"/",children:jsxRuntimeExports.jsx("img",{className:"",src:"/assets/images/logo/logo-dark.png",alt:"logo"})}),jsxRuntimeExports.jsx(Link,{className:"navbar-brand brand-logo",to:"/",children:jsxRuntimeExports.jsx("img",{className:"first",src:"/assets/images/logo/logo-dark.png",alt:"logo"})}),jsxRuntimeExports.jsx(Link,{className:"navbar-brand brand-logo-mini",to:"/",children:jsxRuntimeExports.jsx("img",{className:"second",src:"/assets/images/logo/logo-dark.png",alt:"logo"})})]}),jsxRuntimeExports.jsxs("div",{className:"navbar-menu-wrapper d-flex align-items-stretch",children:[jsxRuntimeExports.jsx("ul",{className:"navbar-nav navbar-nav-right",children:jsxRuntimeExports.jsx("li",{className:"nav-item nav-profile",children:jsxRuntimeExports.jsxs(Dropdown,{alignRight:!0,children:[jsxRuntimeExports.jsxs(Dropdown.Toggle,{className:"nav-link",children:[jsxRuntimeExports.jsxs("div",{className:"nav-profile-img",children:[tr&&tr.avatarUrl&&jsxRuntimeExports.jsx("img",{src:`${BASE_URL}/${tr.avatarUrl}`,alt:"user"}),jsxRuntimeExports.jsx("span",{className:"availability-status online"})]}),jsxRuntimeExports.jsx("div",{className:"nav-profile-text",children:jsxRuntimeExports.jsx("p",{className:"mb-1 text-black",children:jsxRuntimeExports.jsx(Trans,{children:tr.username})})})]}),jsxRuntimeExports.jsxs(Dropdown.Menu,{className:"navbar-dropdown",children:[jsxRuntimeExports.jsxs(Dropdown.Item,{href:"!#",onClick:cr=>cr.preventDefault(),children:[jsxRuntimeExports.jsx(User,{className:"mdi mdi-user mr-2 text-success"}),jsxRuntimeExports.jsx(Link,{to:"/contents/user-profile",children:"Ubah Profile"})]}),jsxRuntimeExports.jsxs(Dropdown.Item,{href:"!#",onClick:cr=>(sr(),cr.preventDefault()),children:[jsxRuntimeExports.jsx(RefreshCw,{className:"mdi mdi-cached mr-2 text-primary"}),jsxRuntimeExports.jsx(Trans,{children:"Sync Database"})]}),jsxRuntimeExports.jsxs(Dropdown.Item,{href:"!#",onClick:async cr=>(await signOut(),cr.preventDefault()),children:[jsxRuntimeExports.jsx(LogOut,{className:"mdi mdi-logout mr-2 text-primary"}),jsxRuntimeExports.jsx(Trans,{children:"Keluar"})]})]})]})})}),jsxRuntimeExports.jsx("button",{className:"navbar-toggler navbar-toggler-right d-lg-none align-self-center",type:"button",onClick:ar,children:jsxRuntimeExports.jsx("span",{className:"mdi mdi-menu"})})]}),jsxRuntimeExports.jsx(GitDoctor,{task:er,logs:ir})]})},withRouter=tr=>Nt=>{const er=useNavigate(),rr=useLocation();return jsxRuntimeExports.jsx(tr,{location:rr,history:er,...Nt})};class Sidebar extends reactExports.Component{constructor(){super(...arguments);Li(this,"state",{});Li(this,"contentMenus",[{title:"Profile",path:"contents/profile/banner",icon:jsxRuntimeExports.jsx(Trello,{})},{title:"Lembaga",path:"contents/lembaga/banner",icon:jsxRuntimeExports.jsx(Octagon,{})},{title:"Kegiatan",path:"contents/kegiatan/banner",icon:jsxRuntimeExports.jsx(Slack,{})},{title:"Pendaftaran",path:"contents/pendaftaran/banner",icon:jsxRuntimeExports.jsx(Wind,{})},{title:"Galeri",path:"contents/galery/banner",icon:jsxRuntimeExports.jsx(Image,{})},{title:"Berita",path:"contents/berita/banner",icon:jsxRuntimeExports.jsx(Send,{})},{title:"Produk",path:"contents/produk/banner",icon:jsxRuntimeExports.jsx(ShoppingBag,{})},{title:"Kontak",path:"contents/kontak/banner",icon:jsxRuntimeExports.jsx(PhoneCall,{})},{title:"Template",path:"contents/template/footer",icon:jsxRuntimeExports.jsx(Table,{})},{title:"Daftar File",path:"contents/files",icon:jsxRuntimeExports.jsx(Folder$2,{})}])}toggleMenuState(Nt){this.state[Nt]?this.setState({[Nt]:!1}):Object.keys(this.state).length===0?this.setState({[Nt]:!0}):(Object.keys(this.state).forEach(er=>{this.setState({[er]:!1})}),this.setState({[Nt]:!0}))}componentDidUpdate(Nt){this.props.location!==Nt.location&&this.onRouteChanged()}onRouteChanged(){document.querySelector("#sidebar").classList.remove("active"),Object.keys(this.state).forEach(er=>{this.setState({[er]:!1})}),[{path:"/apps",state:"appsMenuOpen"},{path:"/basic-ui",state:"basicUiMenuOpen"},{path:"/contents",state:"contentMenuOpen"},{path:"/advanced-ui",state:"advancedUiMenuOpen"},{path:"/form-elements",state:"formElementsMenuOpen"},{path:"/tables",state:"tablesMenuOpen"},{path:"/maps",state:"mapsMenuOpen"},{path:"/icons",state:"iconsMenuOpen"},{path:"/charts",state:"chartsMenuOpen"},{path:"/user-pages",state:"userPagesMenuOpen"},{path:"/error-pages",state:"errorPagesMenuOpen"},{path:"/general-pages",state:"generalPagesMenuOpen"},{path:"/ecommerce",state:"ecommercePagesMenuOpen"}].forEach(er=>{this.isPathActive(er.path)&&this.setState({[er.state]:!0})})}render(){return jsxRuntimeExports.jsx("nav",{className:"sidebar sidebar-offcanvas",id:"sidebar",children:jsxRuntimeExports.jsx("div",{className:"sidebar-wrapper nice-scrollbar ",children:jsxRuntimeExports.jsxs("ul",{className:"nav",children:[jsxRuntimeExports.jsx("li",{className:"nav-item nav-profile !twx-hidden",children:jsxRuntimeExports.jsxs("a",{href:"!#",className:"nav-link",onClick:Nt=>Nt.preventDefault(),children:[jsxRuntimeExports.jsxs("div",{className:"nav-profile-image",children:[jsxRuntimeExports.jsx("img",{src:"/assets/images/faces/face1.jpg",alt:"profile"}),jsxRuntimeExports.jsx("span",{className:"login-status online"})," "]}),jsxRuntimeExports.jsxs("div",{className:"nav-profile-text",children:[jsxRuntimeExports.jsx("span",{className:"font-weight-bold mb-2",children:jsxRuntimeExports.jsx(Trans,{children:"David Grey. H"})}),jsxRuntimeExports.jsx("span",{className:"text-secondary text-small",children:jsxRuntimeExports.jsx(Trans,{children:"Project Manager"})})]}),jsxRuntimeExports.jsx("i",{className:"mdi mdi-bookmark-check text-success nav-profile-badge"})]})}),jsxRuntimeExports.jsxs("li",{className:this.isPathActive("/contents")?"nav-item active":"nav-item",children:[jsxRuntimeExports.jsxs("div",{className:this.state.contentMenuOpen?"nav-link menu-expanded":"nav-link",onClick:()=>this.toggleMenuState("contentMenuOpen"),"data-toggle":"collapse",children:[jsxRuntimeExports.jsx(Grid,{className:"menu-icon twx-mr-2"}),jsxRuntimeExports.jsx("span",{className:"menu-title",children:jsxRuntimeExports.jsx(Trans,{children:"Konten"})}),jsxRuntimeExports.jsx("i",{className:"menu-arrow"})]}),jsxRuntimeExports.jsx(Collapse,{in:this.state.contentMenuOpen,children:jsxRuntimeExports.jsx("ul",{className:"nav flex-column sub-menu",children:this.contentMenus.map((Nt,er)=>jsxRuntimeExports.jsx("li",{className:"nav-item",children:jsxRuntimeExports.jsxs(Link,{className:this.isPathActive(`/${Nt.path}`)?"nav-link active":"nav-link",to:Nt.path,children:[jsxRuntimeExports.jsx("span",{className:"icon",children:Nt.icon}),jsxRuntimeExports.jsxs("span",{className:"title",children:[" ",Nt.title]})]})}))})})]})]})})})}isPathActive(Nt){return this.props.location.pathname.replace("purple/").startsWith(Nt)}componentDidMount(){this.onRouteChanged();const Nt=document.querySelector("body");document.querySelectorAll(".sidebar .nav-item").forEach(er=>{er.addEventListener("mouseover",function(){Nt.classList.contains("sidebar-icon-only")&&er.classList.add("hover-open")}),er.addEventListener("mouseout",function(){Nt.classList.contains("sidebar-icon-only")&&er.classList.remove("hover-open")})})}}const Sidebar$1=withRouter(Sidebar);class SettingsPanel extends reactExports.Component{constructor(Ot){super(Ot),this.state={todos:[{id:1,task:"Pick up kids from school",isCompleted:!1},{id:2,task:"Prepare for presentation",isCompleted:!0},{id:3,task:"Print Statements",isCompleted:!1},{id:4,task:"Create invoice",isCompleted:!1},{id:5,task:"Call John",isCompleted:!0},{id:6,task:"Meeting with Alisa",isCompleted:!1}],todosRtl:[{id:1,task:"التقاط الاطفال من المدرسة",isCompleted:!1},{id:2,task:"الاستعداد للعرض التقديمي الخاص بك",isCompleted:!0},{id:3,task:"طباعة البيانات",isCompleted:!1},{id:4,task:"انشاء الفواتير",isCompleted:!1},{id:5,task:"استدعاء جون",isCompleted:!0},{id:6,task:"مقابلة مع اليسا",isCompleted:!1}],inputValue:""},this.statusChangedHandler=this.statusChangedHandler.bind(this),this.addTodo=this.addTodo.bind(this),this.removeTodo=this.removeTodo.bind(this),this.inputChangeHandler=this.inputChangeHandler.bind(this)}statusChangedHandler(Ot,Nt){const er={...this.state.todos[Nt]};er.isCompleted=Ot.target.checked;const rr=[...this.state.todos];rr[Nt]=er,this.setState({todos:rr})}statusChangedHandlerRtl(Ot,Nt){const er={...this.state.todosRtl[Nt]};er.isCompleted=Ot.target.checked;const rr=[...this.state.todosRtl];rr[Nt]=er,this.setState({todosRtl:rr})}addTodo(Ot){Ot.preventDefault();const Nt=[...this.state.todos];Nt.unshift({id:Nt.length?Nt[Nt.length-1].id+1:1,task:this.state.inputValue,isCompleted:!1}),this.setState({todos:Nt,inputValue:""})}addTodoRtl(Ot){Ot.preventDefault();const Nt=[...this.state.todosRtl];Nt.unshift({id:Nt.length?Nt[Nt.length-1].id+1:1,task:this.state.inputValue,isCompleted:!1}),this.setState({todosRtl:Nt,inputValue:""})}removeTodo(Ot){const Nt=[...this.state.todos];Nt.splice(Ot,1),this.setState({todos:Nt})}removeTodoRtl(Ot){const Nt=[...this.state.todosRtl];Nt.splice(Ot,1),this.setState({todosRtl:Nt})}inputChangeHandler(Ot){this.setState({inputValue:Ot.target.value})}closeRightSidebar(){document.querySelector(".right-sidebar").classList.remove("open")}render(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{id:"right-sidebar",className:"settings-panel right-sidebar",children:[jsxRuntimeExports.jsx("i",{className:"settings-close mdi mdi-close",onClick:this.closeRightSidebar}),jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"TODOLIST",className:"bg-gradient-primary",id:"uncontrolled-tab-example",children:[jsxRuntimeExports.jsx(Tab,{eventKey:"TODOLIST",title:"TO DO LIST",className:"test-tab",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"row",children:jsxRuntimeExports.jsx("div",{className:"col-lg-12",children:jsxRuntimeExports.jsx("div",{className:"px-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"card-title",children:jsxRuntimeExports.jsx(Trans,{children:"Todo List"})}),jsxRuntimeExports.jsxs("form",{className:"add-items d-flex",onSubmit:this.addTodo,children:[jsxRuntimeExports.jsx("input",{type:"text",className:"form-control h-auto",placeholder:"What do you need to do today?",value:this.state.inputValue,onChange:this.inputChangeHandler,d:!0}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-gradient-primary font-weight-bold",children:jsxRuntimeExports.jsx(Trans,{children:"Add"})})]}),jsxRuntimeExports.jsxs("div",{className:"list-wrapper",children:[jsxRuntimeExports.jsx("ul",{className:"todo-list",children:this.state.todos.map((Ot,Nt)=>jsxRuntimeExports.jsx(ListItem,{isCompleted:Ot.isCompleted,changed:er=>this.statusChangedHandler(er,Nt),remove:()=>this.removeTodo(Nt),children:Ot.task},Ot.id))}),jsxRuntimeExports.jsx("ul",{className:"todo-list rtl-todo",children:this.state.todosRtl.map((Ot,Nt)=>jsxRuntimeExports.jsx(ListItem,{isCompleted:Ot.isCompleted,changed:er=>this.statusChangedHandler(er,Nt),remove:()=>this.removeTodoRtl(Nt),children:Ot.task},Ot.id))})]})]})})})}),jsxRuntimeExports.jsxs("div",{className:"events py-4 border-bottom px-3",children:[jsxRuntimeExports.jsxs("div",{className:"wrapper d-flex mb-2",children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-circle-outline text-primary mr-2"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(Trans,{children:"Feb"})," 11 2018"]})]}),jsxRuntimeExports.jsx("p",{className:"mb-0 font-weight-thin text-gray",children:jsxRuntimeExports.jsx(Trans,{children:"Creating component page"})}),jsxRuntimeExports.jsx("p",{className:"text-gray mb-0",children:jsxRuntimeExports.jsx(Trans,{children:"build a js based app"})})]}),jsxRuntimeExports.jsxs("div",{className:"events pt-4 px-3",children:[jsxRuntimeExports.jsxs("div",{className:"wrapper d-flex mb-2",children:[jsxRuntimeExports.jsx("i",{className:"mdi mdi-circle-outline text-primary mr-2"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(Trans,{children:"Feb"})," 7 2018"]})]}),jsxRuntimeExports.jsx("p",{className:"mb-0 font-weight-thin text-gray",children:jsxRuntimeExports.jsx(Trans,{children:"Meeting with Alisa"})}),jsxRuntimeExports.jsx("p",{className:"text-gray mb-0 ",children:jsxRuntimeExports.jsx(Trans,{children:"Call Sarah Graves"})})]})]})}),jsxRuntimeExports.jsx(Tab,{eventKey:"CHATS",title:"CHATS",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"d-flex align-items-center justify-content-between border-bottom",children:[jsxRuntimeExports.jsx("p",{className:"settings-heading border-top-0 mb-3 pl-3 pt-0 border-bottom-0 pb-0",children:jsxRuntimeExports.jsx(Trans,{children:"FRIENDS"})}),jsxRuntimeExports.jsx("small",{className:"settings-heading border-top-0 mb-3 pt-0 border-bottom-0 pb-0 pr-3 font-weight-normal",children:jsxRuntimeExports.jsx(Trans,{children:"See All"})})]}),jsxRuntimeExports.jsxs("ul",{className:"chat-list",children:[jsxRuntimeExports.jsxs("li",{className:"list active",children:[jsxRuntimeExports.jsxs("div",{className:"profile",children:[jsxRuntimeExports.jsx("img",{src:"../../assets/images/faces/face1.jpg",alt:"profile"}),jsxRuntimeExports.jsx("span",{className:"online"})]}),jsxRuntimeExports.jsxs("div",{className:"info",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"Thomas Douglas"})}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"Available"})})]}),jsxRuntimeExports.jsxs("small",{className:"text-muted my-auto",children:["19 ",jsxRuntimeExports.jsx(Trans,{children:"min"})]})]}),jsxRuntimeExports.jsxs("li",{className:"list",children:[jsxRuntimeExports.jsxs("div",{className:"profile",children:[jsxRuntimeExports.jsx("img",{src:"../../assets/images/faces/face2.jpg",alt:"profile"}),jsxRuntimeExports.jsx("span",{className:"offline"})]}),jsxRuntimeExports.jsxs("div",{className:"info",children:[jsxRuntimeExports.jsx("div",{className:"wrapper d-flex",children:jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"Catherine"})})}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"Away"})})]}),jsxRuntimeExports.jsx("div",{className:"badge badge-success badge-pill my-auto mx-2",children:"4"}),jsxRuntimeExports.jsxs("small",{className:"text-muted my-auto",children:["23 ",jsxRuntimeExports.jsx(Trans,{children:"min"})]})]}),jsxRuntimeExports.jsxs("li",{className:"list",children:[jsxRuntimeExports.jsxs("div",{className:"profile",children:[jsxRuntimeExports.jsx("img",{src:"../../assets/images/faces/face3.jpg",alt:"profile"}),jsxRuntimeExports.jsx("span",{className:"online"})]}),jsxRuntimeExports.jsxs("div",{className:"info",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"Daniel Russell"})}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"Available"})})]}),jsxRuntimeExports.jsxs("small",{className:"text-muted my-auto",children:["14 ",jsxRuntimeExports.jsx(Trans,{children:"min"})]})]}),jsxRuntimeExports.jsxs("li",{className:"list",children:[jsxRuntimeExports.jsxs("div",{className:"profile",children:[jsxRuntimeExports.jsx("img",{src:"../../assets/images/faces/face4.jpg",alt:"profile"}),jsxRuntimeExports.jsx("span",{className:"offline"})]}),jsxRuntimeExports.jsxs("div",{className:"info",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"James Richardson"})}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"Away"})})]}),jsxRuntimeExports.jsxs("small",{className:"text-muted my-auto",children:["2 ",jsxRuntimeExports.jsx(Trans,{children:"min"})]})]}),jsxRuntimeExports.jsxs("li",{className:"list",children:[jsxRuntimeExports.jsxs("div",{className:"profile",children:[jsxRuntimeExports.jsx("img",{src:"../../assets/images/faces/face5.jpg",alt:"profile"}),jsxRuntimeExports.jsx("span",{className:"online"})]}),jsxRuntimeExports.jsxs("div",{className:"info",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"Madeline Kennedy"})}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"Available"})})]}),jsxRuntimeExports.jsxs("small",{className:"text-muted my-auto",children:["5 ",jsxRuntimeExports.jsx(Trans,{children:"min"})]})]}),jsxRuntimeExports.jsxs("li",{className:"list",children:[jsxRuntimeExports.jsxs("div",{className:"profile",children:[jsxRuntimeExports.jsx("img",{src:"../../assets/images/faces/face6.jpg",alt:"profile"}),jsxRuntimeExports.jsx("span",{className:"online"})]}),jsxRuntimeExports.jsxs("div",{className:"info",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"Sarah Graves"})}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Trans,{children:"Available"})})]}),jsxRuntimeExports.jsxs("small",{className:"text-muted my-auto",children:["47 ",jsxRuntimeExports.jsx(Trans,{children:"min"})]})]})]})]})})]})]})})}}const ListItem=tr=>jsxRuntimeExports.jsxs("li",{className:tr.isCompleted?"completed":null,children:[jsxRuntimeExports.jsx("div",{className:"form-check",children:jsxRuntimeExports.jsxs("label",{htmlFor:"",className:"form-check-label",children:[jsxRuntimeExports.jsx("input",{className:"checkbox",type:"checkbox",checked:tr.isCompleted,onChange:tr.changed})," ",tr.children," ",jsxRuntimeExports.jsx("i",{className:"input-helper"})]})}),jsxRuntimeExports.jsx("i",{className:"remove mdi mdi-close-circle-outline",onClick:tr.remove})]});class Footer extends reactExports.Component{render(){return jsxRuntimeExports.jsx("footer",{className:"footer",children:jsxRuntimeExports.jsxs("div",{className:"d-sm-flex justify-content-center justify-content-sm-between py-2",children:[jsxRuntimeExports.jsx("span",{className:"text-muted text-center text-sm-left d-block d-sm-inline-block",children:"Copyright © 2024"}),jsxRuntimeExports.jsx("span",{className:"float-none float-sm-right d-block mt-1 mt-sm-0 text-center twx-text-green-700",children:"Ponpes Kanzululum  "})]})})}}const App=({isLogedIn:tr})=>{const Ot=useLocation(),[Nt,er]=reactExports.useState(!1);reactExports.useState(!0);const rr=useSelector(cr=>cr.content),ir=()=>{const cr=document.querySelector("body");Ot.pathname==="/layout/RtlLayout"?cr.classList.add("rtl"):cr.classList.remove("rtl"),window.scrollTo(0,0);const dr=["/user-pages/login-1","/user-pages/register-1","/user-pages/lockscreen","/error-pages/error-404","/error-pages/error-500","/general-pages/landing-page"];for(let ur=0;ur<dr.length;ur++)if(Ot.pathname===dr[ur]){er(!0),document.querySelector(".page-body-wrapper").classList.add("full-page-wrapper");break}else er(!1),document.querySelector(".page-body-wrapper").classList.remove("full-page-wrapper")};reactExports.useEffect(()=>{try{ir()}catch{}},[]);let nr=Nt?"":jsxRuntimeExports.jsx(Navbar,{}),sr=Nt?"":jsxRuntimeExports.jsx(Sidebar$1,{}),ar=Nt?"":jsxRuntimeExports.jsx(SettingsPanel,{}),lr=Nt?"":jsxRuntimeExports.jsx(Footer,{});return tr?jsxRuntimeExports.jsxs("div",{className:"container-scroller",children:[nr,jsxRuntimeExports.jsxs("div",{className:"container-fluid page-body-wrapper",children:[sr,jsxRuntimeExports.jsxs("div",{className:"main-panel",children:[jsxRuntimeExports.jsxs("div",{className:"content-wrapper",children:[rr.isLoading?jsxRuntimeExports.jsx(Spinner,{message:rr.loadingMessage}):null,jsxRuntimeExports.jsx(Outlet,{}),ar]}),lr]})]})]}):jsxRuntimeExports.jsx(Outlet,{})},PrivateRoutes=({isLoading:tr,isAuthed:Ot,isLogedIn:Nt})=>{const er=useLocation();return tr?"Loading ...":Nt||er.pathname==="/login"?jsxRuntimeExports.jsx(App,{isLogedIn:Nt}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})},Error404=reactExports.lazy(()=>__vitePreload(()=>import("./Error404-CLdvFoxr.js"),__vite__mapDeps([0,1,2]))),Error500=reactExports.lazy(()=>__vitePreload(()=>import("./Error500-Bp7gnC2_.js"),__vite__mapDeps([3,1,2]))),Login=reactExports.lazy(()=>__vitePreload(()=>import("./Login-lBQk8Jp9.js"),__vite__mapDeps([4,1,2,5,6,7,8]))),ROUTER_BASE=CONFIG.ROUTER_BASE,setting=loadBackend(CONFIG),authProvider=setting.getProvider(),{useAuth}=authProvider,Router=({})=>{const{isLoading:tr,user:Ot}=useAuth(),Nt=!!Ot,er=Nt,rr=createHashRouter(createRoutesFromChildren(jsxRuntimeExports.jsxs(Route,{path:"",element:jsxRuntimeExports.jsx(PrivateRoutes,{isLoading:tr,isAuthed:Nt,isLogedIn:er}),children:[jsxRuntimeExports.jsx(Route,{path:"contents",element:jsxRuntimeExports.jsx(ContentPage,{}),loader}),jsxRuntimeExports.jsx(Route,{path:"contents/:mod",element:jsxRuntimeExports.jsx(ContentPage,{}),loader}),jsxRuntimeExports.jsx(Route,{path:"contents/:mod/:sub",element:jsxRuntimeExports.jsx(ContentPage,{}),loader}),jsxRuntimeExports.jsx(Route,{path:"contents/:mod/:sub/:pk",element:jsxRuntimeExports.jsx(ContentPage,{}),loader}),jsxRuntimeExports.jsx(Route,{path:"login",element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Spinner,{}),children:jsxRuntimeExports.jsx(Login,{})})}),jsxRuntimeExports.jsx(Route,{path:"error-pages/error-404",element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Spinner,{}),children:jsxRuntimeExports.jsx(Error404,{})})}),jsxRuntimeExports.jsx(Route,{path:"error-pages/error-500",element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Spinner,{}),children:jsxRuntimeExports.jsx(Error500,{})})})]})),{basename:ROUTER_BASE});return jsxRuntimeExports.jsx(RouterProvider,{router:rr})};client$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsx(PersistGate,{loading:null,persistor,children:jsxRuntimeExports.jsx(Router,{})})}));export{Spinner as S,getCurrentSetting as g};
//# sourceMappingURL=purple-BexrtIPo.js.map
