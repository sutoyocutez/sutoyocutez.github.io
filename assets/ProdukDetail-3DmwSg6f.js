import{j as s,O as X,r as c,u as Z,b as ss,a as es,c as ts}from"./reachHideWarning-BuDFsbAY.js";import{C as as}from"./DrizzleModelRo-Bq2wLOAa.js";import{B as ls,U as cs,s as ns,g as rs}from"./slugify-qXYEE26i.js";import{S as is,F as os,M as ds,T as ms,W as xs,c as hs}from"./createDateFromSqlDateTime-Ce_kVnHV.js";import{h as gs}from"./moment-DknGAOAq.js";import{H as js}from"./mountApp-DEhJVxbY.js";const Us=async({params:e})=>{const{pageNumber:t,id:l,slug:r,kategori:o}=e;return{id:l,slug:r,pageNumber:t,kategori:o}},_s=({})=>s.jsx(as,{children:s.jsx(X,{})}),us="cls-0 container",Ns="cls-1 grid md:grid-cols-12 grid-cols-1 gap-6",M="cls-2 lg:col-span-8 md:col-span-6",K="cls-3 relative overflow-hidden rounded-md shadow dark:shadow-gray-800",R="cls-4 p-6",ps="cls-8 p-6 rounded-md shadow dark:shadow-gray-800 mt-8",bs="cls-9 text-lg font-semibold",ws="cls-10 mt-8",fs="cls-11 grid lg:grid-cols-12 lg:gap-6",U="cls-12 lg:col-span-6 mb-5",C="cls-13 text-left",T="cls-14 font-semibold",_="cls-15 mt-3 w-full py-2 px-3 h-10 bg-transparent dark:bg-slate-900 dark:text-slate-200 rounded outline-none border border-gray-100 dark:border-gray-800 focus:ring-0",ks="cls-16 grid grid-cols-1",vs="cls-17 mb-5",$s="cls-18 mt-3 w-full py-2 px-3 bg-transparent dark:bg-slate-900 dark:text-slate-200 rounded outline-none border border-gray-100 dark:border-gray-800 focus:ring-0 h-28",ys="cls-19 py-2 px-5 inline-block tracking-wide align-middle duration-500 text-base text-center bg-red-500 text-white rounded-md w-full",z="cls-20 lg:col-span-4 md:col-span-6",Ss="cls-21 sticky top-20",Fs="cls-22 text-lg font-medium bg-gray-50 dark:bg-slate-800 shadow dark:shadow-gray-800 rounded-md p-2 text-center",A="cls-23 text-center mt-8",I="cls-24 h-20 w-20 mx-auto rounded-full shadow mb-4",Y="cls-25 text-lg font-medium hover:text-red-500 transition-all duration-500 ease-in-out h5",H="cls-26 text-lg font-medium bg-gray-50 dark:bg-slate-800 shadow dark:shadow-gray-800 rounded-md p-2 text-center mt-8",O="cls-27 list-none text-center mt-8 space-x-0.5",i="cls-29 size-8 inline-flex items-center justify-center tracking-wide align-middle text-base border border-gray-100 dark:border-gray-800 rounded-md text-slate-400 hover:border-red-500 hover:text-white hover:bg-red-500",f="cls-30 size-4",n="twx-shadow twx-bg-slate-300 twx-opacity-80 twx-shadow twx-rounded-md",D=i,W=({})=>s.jsxs("div",{className:`${ps} hidden`,children:[s.jsx("h5",{className:bs,children:" Tinggalkan Komentar: "}),s.jsxs("form",{className:ws,children:[s.jsxs("div",{className:fs,children:[s.jsx("div",{className:U,children:s.jsxs("div",{className:C,children:[s.jsx("label",{htmlFor:"name",className:T,children:"Nama:"}),s.jsx("input",{name:"name",id:"name",type:"text",placeholder:"Name :",className:_})]})}),s.jsx("div",{className:U,children:s.jsxs("div",{className:C,children:[s.jsx("label",{htmlFor:"email",className:T,children:"Email:"}),s.jsx("input",{name:"email",id:"email",type:"email",placeholder:"Email :",className:_})]})})]}),s.jsx("div",{className:ks,children:s.jsx("div",{className:vs,children:s.jsxs("div",{className:C,children:[s.jsx("label",{htmlFor:"comments",className:T,children:"Komentar:"}),s.jsx("textarea",{name:"comments",id:"comments",placeholder:"Message :",className:$s})]})})}),s.jsx("button",{type:"submit",id:"submit",name:"send",className:ys,children:"Kirim"})]})]}),q=({produk:e,loading:t})=>s.jsx("div",{className:`${Ss} `,children:t?s.jsxs("div",{className:" twx-animate-pulse ",children:[s.jsx("h5",{className:` ${n} twx-h-6`,children:"  "}),s.jsxs("div",{className:A,children:[s.jsx("div",{className:`${I} ${n} !twx-mb-8`}),s.jsx("div",{className:`${Y} ${n} twx-h-6`})]}),s.jsx("h5",{className:`${H} ${n} twx-h-8`,children:"  "}),s.jsxs("ul",{className:O,children:[s.jsx("li",{className:`${i} ${n}`,children:" "}),s.jsx("li",{className:`${i} ${n}`}),s.jsx("li",{className:`${i} ${n}`,children:" "}),s.jsx("li",{className:`${i} ${n}`,children:" "}),s.jsx("li",{className:`${i} ${n}`,children:" "}),s.jsx("li",{className:`${i} ${n}`,children:" "}),s.jsx("li",{className:`${i} ${n}`})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h5",{className:Fs,children:" Kategori "}),s.jsxs("div",{className:A,children:[s.jsx(cs,{className:I}),s.jsx("a",{href:`/produk/#/kategori/${e.kategori}`,className:Y,children:e.kategori})]}),s.jsxs("h5",{className:`${H} twx-flex twx-items-center twx-justify-center`,children:[" ",s.jsx(is,{className:`${f} twx-mr-2`})," Bagikan "]}),s.jsxs("ul",{className:O,children:[s.jsxs("li",{className:i,children:[" ",s.jsxs("a",{target:"_blank",href:`https://www.facebook.com/sharer.php?u=${e.shareLink}`,className:D,children:[" ",s.jsx(os,{className:f})," "]})," "]}),s.jsxs("li",{className:i,children:[" ",s.jsxs("a",{target:"_blank",href:`mailto://?subject=${encodeURIComponent(e.title)}&amp;body=${encodeURIComponent(e.title)}%20${e.shareLink}`,className:D,children:[" ",s.jsx(ds,{className:f})," "]})," "]}),s.jsxs("li",{className:i,children:[" ",s.jsxs("a",{target:"_blank",href:`http://www.twitter.com/share?url=${e.shareLink}`,className:D,children:[" ",s.jsx(ms,{className:f})," "]})," "]}),s.jsxs("li",{className:i,children:[" ",s.jsxs("a",{target:"_blank",href:`https://wa.me/?text=${e.shareLink}`,className:D,children:[" ",s.jsx(xs,{className:f})," "]})," "]})]})]})}),Ds=({produk:e,loading:t,metaMode:l})=>s.jsx(s.Fragment,{children:s.jsx("div",{className:us,children:s.jsx("div",{className:Ns,children:t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`${M}  twx-animate-pulse`,children:[s.jsxs("div",{className:K,children:[s.jsx("div",{className:`twx-w-full twx-h-[300px] ${n}`}),s.jsx("div",{className:R,children:[...Array(10)].fill(1).map((r,o)=>s.jsx("p",{className:`twx-p-2 twx-my-2 ${n} twx-h-2`,children:" "},o))})]}),s.jsx(W,{})]}),s.jsx("div",{className:z,children:s.jsx(q,{produk:e,loading:t})})]}):e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:M,children:[s.jsxs("div",{className:K,children:[s.jsx("img",{className:"twx-w-full",src:`/assets/images/produk/covers/${e.cover}`,alt:e.title}),s.jsx("div",{className:R,children:s.jsx(ls,{data:e.content})})]}),s.jsx(W,{})]}),s.jsx("div",{className:z,children:s.jsx(q,{produk:e,metaMode:l})})]})})})}),Bs=({className:e,produk:t,loading:l,metaMode:r})=>s.jsx(s.Fragment,{children:s.jsx(Ds,{produk:t,loading:l,metaMode:r})}),Ps=({breadcrumbs:e,banner:t,produk:l})=>{const[r,o]=c.useState({});c.useEffect(()=>{t.image&&o(d=>({backgroundImage:`url('${t.image}')`}))},[t,o]);const h="cls-0 relative table w-full items-center py-36  bg-top bg-no-repeat bg-cover",k="cls-1 absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/80 to-slate-900",B="cls-2 container relative",P="cls-3 grid grid-cols-1 pb-8 text-center mt-10",v="cls-4 text-4xl leading-normal tracking-wider font-semibold text-white",$="cls-5 list-none mt-6",g="cls-6 inline-block text-white/50 mx-5",j="cls-7 text-white block",u="cls-8 block",N="cls-9 absolute text-center z-10 bottom-5 start-0 end-0 mx-3",E="cls-10 tracking-[0.5px] mb-0 inline-block",p="cls-11 inline-block uppercase text-[13px] font-bold duration-500 ease-in-out text-white/50 hover:text-white",y="cls-12 inline-block text-base text-white/50 mx-0.5 ltr:rotate-0 rtl:rotate-180",S="cls-13 mdi mdi-chevron-right",L="cls-14 inline-block uppercase text-[13px] font-bold duration-500 ease-in-out text-white",x=e.length-1;return l?s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:h,style:r,children:[s.jsx("div",{className:k,children:" "}),s.jsxs("div",{className:B,children:[s.jsxs("div",{className:P,children:[s.jsxs("h3",{className:v,children:[" ",t.title," "]}),s.jsxs("ul",{className:$,children:[s.jsxs("li",{className:g,children:["   ",s.jsx("span",{className:j,children:" Kategori : "}),"   ",s.jsxs("span",{className:u,children:[" ",l.kategori," "]})," "]}),s.jsxs("li",{className:g,children:["   ",s.jsx("span",{className:j,children:" Tanggal : "}),"   ",s.jsxs("span",{className:u,children:[" ",l.tanggal," "]})," "]}),s.jsxs("li",{className:g,children:["   ",s.jsx("span",{className:j,children:" Waktu : "}),"   ",s.jsxs("span",{className:u,children:[" ",l.readingTime," Menit Baca "]})," "]})]})]})," "]})," ",s.jsx("div",{className:N,children:s.jsx("ul",{className:E,children:e.map((d,m)=>{const F=m===x?{"aria-current":"page"}:{};return s.jsxs(s.Fragment,{children:[c.createElement("li",{...F,className:m===x?L:p,key:m},m<x?s.jsxs("a",{href:d.path,children:[" ",d.title," "]}):d.title),m<x?s.jsxs("li",{className:y,children:[" ",s.jsx("i",{className:S,children:" "})," "]}):null]})})})})]})," "]}):null},Es=({model:e,loadingModel:t,reload:l,metaMode:r})=>{const{id:o}=Z(),[h,k]=c.useState(o),[B,P]=c.useState({title:"",image:null}),[v,$]=c.useState(null),[g,j]=c.useState([]),[u,N]=c.useState(t),E=ss(),p=es(a=>a.meta.produk),y="https://www.ponpeskanzululumcirebon.com",[S,L]=c.useState(""),[x,d]=c.useState(`${y}/lihat/${o}/${S}`),[m,F]=c.useState(p["meta-description"]),J=async()=>{if(!h)return;N(!0);const a=await e.get(h),b=ns(a.title);L(b),d(`${y}/lihat/${o}/${b}`);try{a.content=JSON.parse(a.content),F(a.headline.substr(0,170))}catch{a.content=[]}a.readingTime=rs(a.content),a.tanggal=gs(hs(a.dateCreated)).format("DD/MM/YYYY");const Q=`${document.location.href}`;a.shareLink=encodeURIComponent(Q),$(w=>({...w,...a}));const V=[{title:"Home",path:"/"},{title:"Produk",path:"/produk"},{title:a.title,path:`#/baca/${o}/${S}`}];j(w=>[...V]),P(w=>({...w,title:a.title,image:`/assets/images/produk/covers/${a.cover}`})),N(!1)},G=()=>{const b=document.querySelector("meta[name=id]").getAttribute("content");b&&k(b)};return c.useEffect(()=>{E(ts())},[]),c.useEffect(()=>{e.ready&&J()},[h,$,l,N,d,F]),c.useEffect(()=>{r&&G()},[r,k]),s.jsxs(s.Fragment,{children:[p&&s.jsxs(js,{children:[s.jsx("title",{children:p.title}),s.jsx("meta",{name:"description",content:m}),s.jsx("link",{rel:"canonical",href:x})]}),s.jsx(Ps,{banner:B,breadcrumbs:g,produk:v}),s.jsx("section",{className:"relative md:py-24 py-16 overflow-hidden",children:s.jsx(Bs,{metaMode:r,className:"mt-12",produk:v,loading:u})})]})},zs=({model:e,reload:t,loadingModel:l,metaMode:r})=>s.jsx(s.Fragment,{children:s.jsx(Es,{metaMode:r,loadingModel:l,reload:t,model:e})});export{_s as B,zs as P,Us as l};
//# sourceMappingURL=ProdukDetail-3DmwSg6f.js.map
