{"version":3,"file":"berita-BuCA59J7.js","sources":["../../src/web/apps/berita/BeritaList.jsx","../../src/web/routers/BeritaRouter.jsx","../../src/web/pages/berita.jsx"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\"\r\nimport { fetchBerita } from \"@/global/store/features/beritaSlice\"\r\nimport { fetchMetaBerita } from \"@/global/store/features/metaSlice\"\r\n\r\nimport BeritaMainContent from \"@/web/templates/sections/BeritaMainContent\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useLoaderData } from \"react-router-dom\"\r\nimport { Helmet } from \"react-helmet-async\"\r\n\r\nconst BeritaList = ({ model, reload, loadingModel, byAuthor }) => {\r\n  const { author } = useLoaderData()\r\n\r\n  const beritaState = useSelector((state) => state.berita)\r\n  const dispatch = useDispatch()\r\n  const meta = useSelector((state) => state.meta.berita)\r\n  const BASE_URL = \"https://www.ponpeskanzululumcirebon.com\"\r\n  const [canonical, setCanonical] = useState(`${BASE_URL}/berita/`)\r\n  const [description, setDescription] = useState(meta[\"meta-description\"])\r\n\r\n  useEffect(() => {\r\n    // console.log(byKategori, kategori)\r\n    if (byAuthor && author) {\r\n      setCanonical(`${BASE_URL}/berita/#/penulis/${author}`)\r\n      setDescription(`${meta[\"meta-description\"]} Oleh ${author}`)\r\n    }\r\n  }, [byAuthor, author, setCanonical, setDescription])\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchBerita())\r\n    dispatch(fetchMetaBerita())\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <>\r\n      {meta && (\r\n        <Helmet>\r\n          <title>{meta.title}</title>\r\n          <meta name=\"description\" content={description} />\r\n          <link rel=\"canonical\" href={canonical} />\r\n        </Helmet>\r\n      )}\r\n      <BeritaMainContent\r\n        byAuthor={byAuthor}\r\n        beritaData={beritaState.data}\r\n        loadingModel={loadingModel}\r\n        reload={reload}\r\n        model={model}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default BeritaList\r\n","import React, { Component, Suspense, lazy, useState } from \"react\"\r\nimport {\r\n  createRoutesFromElements,\r\n  createBrowserRouter,\r\n  createHashRouter,\r\n  Route,\r\n  RouterProvider,\r\n} from \"react-router-dom\"\r\n\r\nimport {crc32id} from \"@/global/fn/crc32id\"\r\n\r\nimport {useEffect} from \"react\"\r\nimport {ROUTER_BASE} from \"@/config.json\"\r\n\r\nimport BeritaApp,{loader as beritaLoader} from \"@/web/apps/BeritaApp\"\r\nimport BeritaList from \"@/web/apps/berita/BeritaList\"\r\nimport BeritaDetail from \"@/web/apps/berita/BeritaDetail\"\r\nimport MBeritaRo from \"@/global/git/orm/ro/models/MBeritaRo\"\r\nconst mBeritaRo = new MBeritaRo()\r\n\r\nconst Router = ({}) => {\r\n  const [reload,setReload]=useState('')\r\n  const [loadingModel,setLoadingModel]=useState(false)\r\n\r\n  const initModel= async()=>{\r\n    setLoadingModel(true)\r\n    await mBeritaRo.initOrm()\r\n    setReload(crc32id())\r\n    setLoadingModel(false)\r\n  }\r\n  \r\n  useEffect(() => {\r\n    initModel()\r\n  }, [setReload,setLoadingModel])\r\n\r\n  // useEffect(()=>{\r\n  //   console.info('ROUTER')\r\n  // },[])\r\n  const router = createHashRouter(\r\n    createRoutesFromElements(\r\n      <Route path=\"\" element={<BeritaApp />}>\r\n        <Route index={true} element={<BeritaList model={mBeritaRo} loadingModel={loadingModel}  reload={reload}/>} loader={beritaLoader} />\r\n        <Route path=\"page/:pageNumber\" element={<BeritaList  model={mBeritaRo} loadingModel={loadingModel} reload={reload}/>} loader={beritaLoader} />\r\n        <Route path=\"penulis/:author/page/:pageNumber\" element={<BeritaList byAuthor={true} loadingModel={loadingModel} model={mBeritaRo} reload={reload}/>} loader={beritaLoader} />\r\n        <Route path=\"penulis/:author\" element={<BeritaList byAuthor={true} loadingModel={loadingModel} model={mBeritaRo} reload={reload}/>} loader={beritaLoader} />\r\n        <Route path=\"baca/:id/:slug\" element={<BeritaDetail  model={mBeritaRo} loadingModel={loadingModel} reload={reload}/>} loader={beritaLoader} />\r\n\r\n      </Route>,\r\n    ),\r\n    { basename: '/' },\r\n  )\r\n\r\n  return <RouterProvider router={router} />\r\n}\r\n\r\nexport default Router\r\n","\r\n\r\nimport \"@/global/css/tailwind.css\"\r\nimport BeritaRouter from \"../routers/BeritaRouter\"\r\nimport { mountApp } from \"@/global/fn/mountApp\"\r\n// import { RouterProvider } from \"react-router-dom\"\r\n// mountApp( <RouterProvider router={router} />)\r\nmountApp(<BeritaRouter />)"],"names":["BeritaList","model","reload","loadingModel","byAuthor","author","useLoaderData","beritaState","useSelector","state","dispatch","useDispatch","meta","BASE_URL","canonical","setCanonical","useState","description","setDescription","useEffect","fetchBerita","fetchMetaBerita","jsxs","Fragment","Helmet","jsx","BeritaMainContent","mBeritaRo","MBeritaRo","Router","setReload","setLoadingModel","initModel","crc32id","router","createHashRouter","createRoutesFromElements","Route","BeritaApp","beritaLoader","BeritaDetail","RouterProvider","mountApp","BeritaRouter"],"mappings":"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"}