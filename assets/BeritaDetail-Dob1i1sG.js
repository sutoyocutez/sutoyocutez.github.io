import{j as s,O as Z,r as c,u as ss,b as es,a as ts}from"./reachHideWarning-BuDFsbAY.js";import{C as as}from"./DrizzleModelRo-Bq2wLOAa.js";import{B as ls,U as cs,s as ns,g as rs}from"./slugify-qXYEE26i.js";import{S as is,F as os,M as ds,T as ms,W as xs,c as hs}from"./createDateFromSqlDateTime-Ce_kVnHV.js";import{h as us}from"./moment-DknGAOAq.js";import{H as js}from"./mountApp-DEhJVxbY.js";const As=async({params:e})=>{const{pageNumber:a,id:l,slug:r,author:o}=e;return{id:l,slug:r,pageNumber:a,author:o}},zs=({})=>s.jsx(as,{children:s.jsx(Z,{})}),gs="cls-0 container",ps="cls-1 grid md:grid-cols-12 grid-cols-1 gap-6",U="cls-2 lg:col-span-8 md:col-span-6",_="cls-3 relative overflow-hidden rounded-md shadow dark:shadow-gray-800",A="cls-4 p-6",Ns="cls-8 p-6 rounded-md shadow dark:shadow-gray-800 mt-8",bs="cls-9 text-lg font-semibold",ws="cls-10 mt-8",fs="cls-11 grid lg:grid-cols-12 lg:gap-6",z="cls-12 lg:col-span-6 mb-5",T="cls-13 text-left",M="cls-14 font-semibold",I="cls-15 mt-3 w-full py-2 px-3 h-10 bg-transparent dark:bg-slate-900 dark:text-slate-200 rounded outline-none border border-gray-100 dark:border-gray-800 focus:ring-0",ks="cls-16 grid grid-cols-1",vs="cls-17 mb-5",$s="cls-18 mt-3 w-full py-2 px-3 bg-transparent dark:bg-slate-900 dark:text-slate-200 rounded outline-none border border-gray-100 dark:border-gray-800 focus:ring-0 h-28",ys="cls-19 py-2 px-5 inline-block tracking-wide align-middle duration-500 text-base text-center bg-red-500 text-white rounded-md w-full",P="cls-20 lg:col-span-4 md:col-span-6",Bs="cls-21 sticky top-20",Ss="cls-22 text-lg font-medium bg-gray-50 dark:bg-slate-800 shadow dark:shadow-gray-800 rounded-md p-2 text-center",Y="cls-23 text-center mt-8",H="cls-24 h-20 w-20 mx-auto rounded-full shadow mb-4",K="cls-25 text-lg font-medium hover:text-red-500 transition-all duration-500 ease-in-out h5",O="cls-26 text-lg font-medium bg-gray-50 dark:bg-slate-800 shadow dark:shadow-gray-800 rounded-md p-2 text-center mt-8",W="cls-27 list-none text-center mt-8 space-x-0.5",i="cls-29 size-8 inline-flex items-center justify-center tracking-wide align-middle text-base border border-gray-100 dark:border-gray-800 rounded-md text-slate-400 hover:border-red-500 hover:text-white hover:bg-red-500",f="cls-30 size-4",n="twx-shadow twx-bg-slate-300 twx-opacity-80 twx-shadow twx-rounded-md",S=i,q=({})=>s.jsxs("div",{className:`${Ns} hidden`,children:[s.jsx("h5",{className:bs,children:" Tinggalkan Komentar: "}),s.jsxs("form",{className:ws,children:[s.jsxs("div",{className:fs,children:[s.jsx("div",{className:z,children:s.jsxs("div",{className:T,children:[s.jsx("label",{htmlFor:"name",className:M,children:"Nama:"}),s.jsx("input",{name:"name",id:"name",type:"text",placeholder:"Name :",className:I})]})}),s.jsx("div",{className:z,children:s.jsxs("div",{className:T,children:[s.jsx("label",{htmlFor:"email",className:M,children:"Email:"}),s.jsx("input",{name:"email",id:"email",type:"email",placeholder:"Email :",className:I})]})})]}),s.jsx("div",{className:ks,children:s.jsx("div",{className:vs,children:s.jsxs("div",{className:T,children:[s.jsx("label",{htmlFor:"comments",className:M,children:"Komentar:"}),s.jsx("textarea",{name:"comments",id:"comments",placeholder:"Message :",className:$s})]})})}),s.jsx("button",{type:"submit",id:"submit",name:"send",className:ys,children:"Kirim"})]})]}),J=({berita:e,loading:a,metaMode:l})=>s.jsx("div",{className:`${Bs} `,children:a?s.jsxs("div",{className:" twx-animate-pulse ",children:[s.jsx("h5",{className:` ${n} twx-h-6`,children:"  "}),s.jsxs("div",{className:Y,children:[s.jsx("div",{className:`${H} ${n} !twx-mb-8`}),s.jsx("div",{className:`${K} ${n} twx-h-6`})]}),s.jsx("h5",{className:`${O} ${n} twx-h-8`,children:"  "}),s.jsxs("ul",{className:W,children:[s.jsx("li",{className:`${i} ${n}`,children:" "}),s.jsx("li",{className:`${i} ${n}`}),s.jsx("li",{className:`${i} ${n}`,children:" "}),s.jsx("li",{className:`${i} ${n}`,children:" "}),s.jsx("li",{className:`${i} ${n}`,children:" "}),s.jsx("li",{className:`${i} ${n}`,children:" "}),s.jsx("li",{className:`${i} ${n}`})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h5",{className:Ss,children:" Penulis "}),s.jsxs("div",{className:Y,children:[s.jsx(cs,{className:H}),s.jsx("a",{href:`/berita/#/penulis/${e.author}`,className:K,children:e.author})]}),s.jsxs("h5",{className:`${O} twx-flex twx-items-center twx-justify-center`,children:[" ",s.jsx(is,{className:`${f} twx-mr-2`})," Bagikan "]}),s.jsxs("ul",{className:W,children:[s.jsxs("li",{className:i,children:[" ",s.jsxs("a",{target:"_blank",href:`https://www.facebook.com/sharer.php?u=${e.shareLink}`,className:S,children:[" ",s.jsx(os,{className:f})," "]})," "]}),s.jsxs("li",{className:i,children:[" ",s.jsxs("a",{target:"_blank",href:`mailto://?subject=${encodeURIComponent(e.title)}&amp;body=${encodeURIComponent(e.title)}%20${e.shareLink}`,className:S,children:[" ",s.jsx(ds,{className:f})," "]})," "]}),s.jsxs("li",{className:i,children:[" ",s.jsxs("a",{target:"_blank",href:`http://www.twitter.com/share?url=${e.shareLink}`,className:S,children:[" ",s.jsx(ms,{className:f})," "]})," "]}),s.jsxs("li",{className:i,children:[" ",s.jsxs("a",{target:"_blank",href:`https://wa.me/?text=${e.shareLink}`,className:S,children:[" ",s.jsx(xs,{className:f})," "]})," "]})]})]})}),Ds=({berita:e,loading:a,metaMode:l})=>s.jsx(s.Fragment,{children:s.jsx("div",{className:gs,children:s.jsx("div",{className:ps,children:a?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`${U}  twx-animate-pulse`,children:[s.jsxs("div",{className:_,children:[s.jsx("div",{className:`twx-w-full twx-h-[300px] ${n}`}),s.jsx("div",{className:A,children:[...Array(10)].fill(1).map((r,o)=>s.jsx("p",{className:`twx-p-2 twx-my-2 ${n} twx-h-2`,children:" "},o))})]}),s.jsx(q,{})]}),s.jsx("div",{className:P,children:s.jsx(J,{berita:e,loading:a})})]}):e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:U,children:[s.jsxs("div",{className:_,children:[s.jsx("img",{className:"twx-w-full",src:`/assets/images/berita/covers/${e.cover}`,alt:e.title}),s.jsx("div",{className:A,children:s.jsx(ls,{data:e.content})})]}),s.jsx(q,{})]}),s.jsx("div",{className:P,children:s.jsx(J,{berita:e,metaMode:l})})]})})})}),Fs=({className:e,berita:a,loading:l,metaMode:r})=>s.jsx(s.Fragment,{children:s.jsx(Ds,{berita:a,loading:l,metaMode:r})}),Es=({breadcrumbs:e,banner:a,berita:l})=>{const[r,o]=c.useState({});c.useEffect(()=>{a.image&&o(x=>({backgroundImage:`url('${a.image}')`}))},[a,o]);const h="cls-0 relative table w-full items-center py-36  bg-top bg-no-repeat bg-cover",k="cls-1 absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/80 to-slate-900",D="cls-2 container relative",F="cls-3 grid grid-cols-1 pb-8 text-center mt-10",v="cls-4 text-4xl leading-normal tracking-wider font-semibold text-white",$="cls-5 list-none mt-6",u="cls-6 inline-block text-white/50 mx-5",j="cls-7 text-white block",g="cls-8 block",p="cls-9 absolute text-center z-10 bottom-5 start-0 end-0 mx-3",N="cls-10 tracking-[0.5px] mb-0 inline-block",y="cls-11 inline-block uppercase text-[13px] font-bold duration-500 ease-in-out text-white/50 hover:text-white",B="cls-12 inline-block text-base text-white/50 mx-0.5 ltr:rotate-0 rtl:rotate-180",E="cls-13 mdi mdi-chevron-right",L="cls-14 inline-block uppercase text-[13px] font-bold duration-500 ease-in-out text-white",m=e.length-1;return l?s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:h,style:r,children:[s.jsx("div",{className:k,children:" "}),s.jsxs("div",{className:D,children:[s.jsxs("div",{className:F,children:[s.jsxs("h1",{className:v,children:[" ",a.title," "]}),s.jsxs("ul",{className:$,children:[s.jsxs("li",{className:u,children:[" ",s.jsx("span",{className:j,children:" Penulis : "})," ",s.jsxs("span",{className:g,children:[" ",l.author," "]})," "]}),s.jsxs("li",{className:u,children:[" ",s.jsx("span",{className:j,children:" Tanggal : "})," ",s.jsxs("span",{className:g,children:[" ",l.tanggal," "]})," "]}),s.jsxs("li",{className:u,children:[" ",s.jsx("span",{className:j,children:" Waktu : "})," ",s.jsxs("span",{className:g,children:[" ",l.readingTime," Menit Baca "]})," "]})]})]})," "]})," ",s.jsx("div",{className:p,children:s.jsx("ul",{className:N,children:e.map((x,d)=>{const C=d===m?{"aria-current":"page"}:{};return s.jsxs(s.Fragment,{children:[c.createElement("li",{...C,className:d===m?L:y,key:d},d<m?s.jsxs("a",{href:x.path,children:[" ",x.title," "]}):x.title),d<m?s.jsxs("li",{className:B,children:[" ",s.jsx("i",{className:E,children:" "})," "]}):null]})})})})]})," "]}):null},Ls=({model:e,loadingModel:a,reload:l,metaMode:r})=>{const{id:o}=ss(),[h,k]=c.useState(o),[D,F]=c.useState({title:"",image:null}),[v,$]=c.useState(null),[u,j]=c.useState([]),[g,p]=c.useState(a);es();const N=ts(t=>t.meta.berita),y="https://www.ponpeskanzululumcirebon.com",[B,E]=c.useState(""),[L,m]=c.useState(N.title),[x,d]=c.useState(`${y}/baca/${o}/${B}`),[C,R]=c.useState(N["meta-description"]),G=async()=>{if(!h)return;p(!0);const t=await e.get(h),b=ns(t.title);E(b),m(t.title),d(`${y}/baca/${o}/${b}`),R(t.headline.substr(0,170));try{t.content=JSON.parse(t.content)}catch{t.content=[]}t.readingTime=rs(t.content),t.tanggal=us(hs(t.dateCreated)).format("DD/MM/YYYY");const V=`${document.location.href}`;t.shareLink=encodeURIComponent(V),$(w=>({...w,...t}));const X=[{title:"Home",path:"/"},{title:"Berita",path:"/berita"},{title:t.title,path:`#/baca/${o}/${B}`}];j(w=>[...X]),F(w=>({...w,title:t.title,image:`/assets/images/berita/covers/${t.cover}`})),p(!1)},Q=()=>{const b=document.querySelector("meta[name=id]").getAttribute("content");b&&k(b)};return c.useEffect(()=>{e.ready&&G()},[h,$,l,p,d,R]),c.useEffect(()=>{r&&Q()},[r,k]),c.useEffect(()=>{},[]),s.jsxs(s.Fragment,{children:[N&&s.jsxs(js,{children:[s.jsx("title",{children:L}),s.jsx("meta",{name:"description",content:C}),s.jsx("link",{rel:"canonical",href:x})]}),s.jsx(Es,{banner:D,breadcrumbs:u,berita:v}),s.jsx("section",{className:"relative md:py-24 py-16 overflow-hidden",children:s.jsx(Fs,{metaMode:r,className:"mt-12",berita:v,loading:g})})]})},Is=({model:e,reload:a,loadingModel:l,metaMode:r})=>s.jsx(Ls,{metaMode:r,loadingModel:l,reload:a,model:e});export{zs as B,Is as a,As as l};
//# sourceMappingURL=BeritaDetail-Dob1i1sG.js.map
